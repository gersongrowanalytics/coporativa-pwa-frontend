{"version":3,"sources":["../node_modules/antd/es/switch/index.js","../node_modules/antd/es/carousel/index.js","../node_modules/@ant-design/icons-svg/es/asn/DoubleLeftOutlined.js","../node_modules/@ant-design/icons/es/icons/DoubleLeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/DoubleRightOutlined.js","../node_modules/@ant-design/icons/es/icons/DoubleRightOutlined.js","../node_modules/antd/es/pagination/MiniSelect.js","../node_modules/antd/es/pagination/Pagination.js","../node_modules/antd/es/pagination/index.js","../node_modules/antd/es/table/hooks/usePagination.js","../node_modules/antd/es/radio/context.js","../node_modules/antd/es/radio/radio.js","../node_modules/antd/es/radio/group.js","../node_modules/antd/es/_util/getDataOrAriaProps.js","../node_modules/antd/es/radio/radioButton.js","../node_modules/antd/es/radio/index.js","../node_modules/antd/es/table/hooks/useSelection.js","../node_modules/@ant-design/icons-svg/es/asn/CaretDownOutlined.js","../node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/CaretUpOutlined.js","../node_modules/@ant-design/icons/es/icons/CaretUpOutlined.js","../node_modules/antd/es/table/util.js","../node_modules/antd/es/table/hooks/useSorter.js","../node_modules/@ant-design/icons-svg/es/asn/FilterFilled.js","../node_modules/@ant-design/icons/es/icons/FilterFilled.js","../node_modules/antd/es/table/hooks/useFilter/FilterWrapper.js","../node_modules/antd/es/table/hooks/useFilter/FilterDropdown.js","../node_modules/antd/es/_util/hooks/useSyncState.js","../node_modules/antd/es/table/hooks/useFilter/index.js","../node_modules/antd/es/table/hooks/useTitleColumns.js","../node_modules/antd/es/table/ExpandIcon.js","../node_modules/antd/es/_util/getScroll.js","../node_modules/antd/es/_util/easings.js","../node_modules/antd/es/_util/scrollTo.js","../node_modules/antd/es/locale/en_US.js","../node_modules/antd/es/table/Column.js","../node_modules/antd/es/table/ColumnGroup.js","../node_modules/antd/es/table/Table.js","../node_modules/antd/es/table/hooks/useLazyKVMap.js","../node_modules/antd/es/table/index.js","../node_modules/antd/es/card/Grid.js","../node_modules/antd/es/card/Meta.js","../node_modules/@ant-design/icons-svg/es/asn/PlusOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusOutlined.js","../node_modules/antd/es/tabs/index.js","../node_modules/antd/es/card/index.js","../node_modules/@ant-design/icons-svg/es/asn/EyeTwoTone.js","../node_modules/@ant-design/icons/es/icons/EyeTwoTone.js","../node_modules/axios/lib/utils.js","../node_modules/axios/index.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/antd/es/spin/index.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/lodash.once/index.js","../node_modules/invariant/browser.js","../../source/constants.js","../../source/ParseError.js","../../../source/tools/semver-compare.js","../../source/metadata.js","../../../../source/helpers/extension/createExtensionPattern.js","../../../source/helpers/isViablePhoneNumber.js","../../../../source/helpers/extension/extractExtension.js","../../../source/helpers/parseDigits.js","../../source/parseIncompletePhoneNumber.js","../../../source/helpers/checkNumberLength.js","../../../source/helpers/mergeArrays.js","../../source/isPossibleNumber_.js","../../../source/helpers/matchesEntirely.js","../../../source/helpers/getNumberType.js","../../../source/helpers/applyInternationalSeparatorStyle.js","../../../source/helpers/formatNationalNumberUsingFormat.js","../../../source/helpers/getIddPrefix.js","../../source/format_.js","../../../source/helpers/RFC3966.js","../../source/PhoneNumber.js","../../source/validate_.js","../../../source/helpers/stripIddPrefix.js","../../../source/helpers/extractNationalNumberFromPossiblyIncompleteNumber.js","../../../source/helpers/extractNationalNumber.js","../../../source/helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js","../../../source/helpers/extractCountryCallingCode.js","../../../source/helpers/getCountryByCallingCode.js","../../source/parse_.js","../../source/parsePhoneNumber_.js","../../source/parsePhoneNumber.js","../../source/parsePhoneNumberFromString_.js","../../source/parsePhoneNumberFromString.js","../../source/getCountries.js","../../source/PropTypes.js","../../source/helpers.js","../../source/closeBraces.js","../../source/format.js","../../source/templateFormatter.js","../../source/dom.js","../../source/inputControl.js","../../source/parse.js","../../source/edit.js","../../../source/react/Input.js","../../source/AsYouTypeState.js","../../source/AsYouTypeFormatter.util.js","../../source/AsYouTypeFormatter.complete.js","../../source/AsYouTypeFormatter.js","../../source/AsYouTypeParser.js","../../source/AsYouType.js","../../../source/helpers/inputValuePrefix.js","../../source/InputSmart.js","../../source/InputBasic.js","../../source/formatIncompletePhoneNumber.js","../../source/unicode.js","../../source/CountrySelect.js","../../source/Flag.js","../../source/InternationalIcon.js","../../../source/helpers/countries.js","../../source/CountryIcon.js","../../../source/helpers/getInternationalPhoneNumberPrefix.js","../../../source/helpers/phoneInputHelpers.js","../../source/PhoneInputWithCountry.js","../../../source/helpers/getPhoneInputWithCountryStateUpdateFromNewProps.js","../../source/PhoneInputWithCountryDefault.js","../node_modules/react-phone-number-input/min/index.js","../node_modules/merge-class-names/dist/esm/index.js","../node_modules/get-user-locale/dist/esm/index.js","../node_modules/@wojtekmaj/date-utils/dist/esm/index.js","../node_modules/react-calendar/dist/esm/shared/const.js","../node_modules/react-calendar/dist/esm/shared/dateFormatter.js","../node_modules/react-calendar/dist/esm/shared/dates.js","../node_modules/react-calendar/dist/esm/shared/propTypes.js","../node_modules/react-calendar/dist/esm/Calendar/Navigation.js","../node_modules/react-calendar/dist/esm/Flex.js","../node_modules/react-calendar/dist/esm/shared/utils.js","../node_modules/react-calendar/dist/esm/TileGroup.js","../node_modules/react-calendar/dist/esm/Tile.js","../node_modules/react-calendar/dist/esm/CenturyView/Decade.js","../node_modules/react-calendar/dist/esm/CenturyView/Decades.js","../node_modules/react-calendar/dist/esm/CenturyView.js","../node_modules/react-calendar/dist/esm/DecadeView/Year.js","../node_modules/react-calendar/dist/esm/DecadeView/Years.js","../node_modules/react-calendar/dist/esm/DecadeView.js","../node_modules/react-calendar/dist/esm/YearView/Month.js","../node_modules/react-calendar/dist/esm/YearView/Months.js","../node_modules/react-calendar/dist/esm/YearView.js","../node_modules/react-calendar/dist/esm/MonthView/Day.js","../node_modules/react-calendar/dist/esm/MonthView/Days.js","../node_modules/react-calendar/dist/esm/MonthView/Weekdays.js","../node_modules/react-calendar/dist/esm/MonthView/WeekNumber.js","../node_modules/react-calendar/dist/esm/MonthView/WeekNumbers.js","../node_modules/react-calendar/dist/esm/MonthView.js","../node_modules/react-calendar/dist/esm/Calendar.js","../node_modules/react-calendar/dist/esm/index.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","../node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Switch","React","_a","ref","_classNames","customizePrefixCls","prefixCls","customizeSize","size","loading","_a$className","className","disabled","props","devWarning","_React$useContext","ConfigContext","getPrefixCls","direction","SizeContext","loadingIcon","concat","LoadingOutlined","classes","classNames","_defineProperty","Wave","insertExtraNode","RcSwitch","_extends","__ANT_SWITCH","displayName","Carousel","_a$dots","dots","_a$arrows","arrows","_a$draggable","draggable","_a$dotPosition","dotPosition","slickRef","goTo","slide","dontAnimate","arguments","undefined","current","slickGoTo","autoPlay","innerSlider","prev","slickPrev","next","slickNext","prevCount","count","children","initialSlide","newProps","effect","fade","dotsClass","vertical","enableDots","dsClass","SlickCarousel","DoubleLeftOutlined","AntdIcon","_objectSpread","icon","DoubleLeftOutlinedSvg","DoubleRightOutlined","DoubleRightOutlinedSvg","MiniSelect","Select","Option","Pagination","customizeSelectPrefixCls","selectPrefixCls","customLocale","locale","restProps","xs","useBreakpoint","renderPagination","contextLocale","isSmall","responsive","extendedClassName","mini","RcPagination","ellipsis","prevIcon","type","tabIndex","LeftOutlined","nextIcon","RightOutlined","jumpPrevIcon","jumpNextIcon","_ref","_ref2","getIconsProps","selectComponentClass","LocaleReceiver","componentName","defaultLocale","enUS","usePagination","total","pagination","onChange","_typeof","_a$total","paginationTotal","paginationObj","_useState","useState","defaultCurrent","pageSize","defaultPageSize","_useState2","_slicedToArray","innerPagination","setInnerPagination","mergedPagination","result","_len","list","Array","_key","forEach","obj","keys","key","val","extendsObject","maxPage","Math","ceil","refreshPagination","RadioGroupContext","RadioGroupContextProvider","Provider","InternalRadio","context","innerRef","mergedRef","composeRef","style","radioProps","name","_b","checked","value","wrapperClassString","onMouseEnter","onMouseLeave","RcCheckbox","Radio","defaultProps","RadioGroup","_useMergedState","useMergedState","defaultValue","_useMergedState2","setValue","ev","lastValue","target","_props$className","options","optionType","_props$buttonStyle","buttonStyle","id","groupPrefixCls","childrenToRender","optionsPrefixCls","map","option","label","mergedSize","classString","reduce","substr","getDataOrAriaProps","renderGroup","RadioButton","radioGroupContext","Button","Group","SELECTION_ALL","SELECTION_INVERT","SELECTION_NONE","getFixedType","column","fixed","flattenData","data","childrenColumnName","record","push","_toConsumableArray","useSelection","rowSelection","config","preserveSelectedRowKeys","selectedRowKeys","defaultSelectedRowKeys","getCheckboxProps","onSelectionChange","onSelect","onSelectAll","onSelectInvert","onSelectNone","onSelectMultiple","selectionColWidth","columnWidth","selectionType","selections","customizeRenderCell","renderCell","hideSelectAll","_ref$checkStrictly","checkStrictly","pageData","getRecordByKey","getRowKey","expandType","tableLocale","expandIconColumnIndex","getPopupContainer","mergedSelectedKeys","setMergedSelectedKeys","preserveRecordsRef","Map","updatePreserveRecordsCache","useCallback","newCache","has","get","set","keyEntities","useMemo","convertDataToEntities","externalGetKey","childrenPropName","flattedData","checkboxPropsMap","index","checkboxProps","isCheckboxDisabled","r","_useMemo2","_conductCheck","conductCheck","checkedKeys","halfCheckedKeys","_useMemo3","derivedSelectedKeys","derivedHalfSelectedKeys","derivedSelectedKeySet","slice","Set","derivedHalfSelectedKeySet","lastSelectedKey","setLastSelectedKey","setSelectedKeys","availableKeys","records","triggerSingleSelection","selected","event","rows","k","mergedSelections","selection","text","selectionAll","selectInvert","keySet","add","from","selectNone","columns","title","recordKeys","filter","checkedCurrentAll","every","checkedCurrentSome","some","customizeSelections","menu","Menu","onSelectionClick","Item","onClick","Dropdown","overlay","DownOutlined","allDisabledData","allDisabled","allDisabledAndChecked","_ref3","allDisabledSomeChecked","_ref4","Checkbox","indeterminate","changeKeys","skipGroup","_","node","stopPropagation","nativeEvent","mergedIndeterminate","_ref5","shiftKey","startIndex","endIndex","pointKeys","recordKey","recordIndex","rangeKeys","changedKeys","originCheckedKeys","arrDel","arrAdd","_checkedKeys","nextCheckedKeys","tempKeySet","selectionColumn","width","columnTitle","render","_renderCell","INTERNAL_COL_DEFINE","_columns","_toArray","expandColumn","restColumns","selectionFixed","CaretDownOutlined","CaretDownOutlinedSvg","CaretUpOutlined","CaretUpOutlinedSvg","getColumnKey","defaultKey","dataIndex","isArray","join","getColumnPos","pos","renderColumnTitle","ASCEND","DESCEND","getMultiplePriority","sorter","multiple","getSortFunction","compare","collectSortStates","init","sortStates","pushState","columnPos","multiplePriority","sortOrder","defaultSortOrder","injectSorter","sorterSates","triggerSorter","defaultSortDirections","tableShowSorterTooltip","newColumn","sortDirections","showSorterTooltip","columnKey","sorterState","find","sorterOrder","nextSortOrder","nextSortDirection","upNode","includes","active","downNode","cancelSort","triggerAsc","triggerDesc","sortTip","tooltipProps","renderProps","renderSortTitle","Tooltip","onHeaderCell","col","cell","originOnClick","stateToInfo","sorterStates","order","field","generateSorterInfo","getSortData","innerSorterStates","sort","a","b","cloneData","runningSorters","record1","record2","compareFn","compareResult","subRecords","useFilterSorter","mergedColumns","onSorterChange","_React$useState","_React$useState2","setSortStates","mergedSorterStates","validate","collectedStates","validateStates","patchStates","state","multipleMode","columnTitleSorterProps","sortColumns","_ref6","sortColumn","sortState","newSorterStates","_ref7","innerColumns","FilterFilled","FilterFilledSvg","FilterDropdownMenuWrapper","SubMenu","MenuItem","renderFilterItems","filters","filteredKeys","filterMultiple","margin","Empty","image","PRESENTED_IMAGE_SIMPLE","description","filterEmptyText","imageStyle","height","String","popupClassName","Component","FilterDropdown","tablePrefixCls","dropdownPrefixCls","filterState","triggerFilter","filterDropdownVisible","onFilterDropdownVisibleChange","visible","setVisible","filtered","forceFiltered","triggerVisible","newVisible","mergedVisible","propFilteredKeys","_useSyncState","initialValue","forceUpdate","useForceUpdate","newValue","useSyncState","_useSyncState2","getFilteredKeysSync","setFilteredKeysSync","onSelectKeys","selectedKeys","_React$useState3","_React$useState4","openKeys","setOpenKeys","openRef","window","clearTimeout","dropdownContent","internalTriggerFilter","mergedKeys","isEqual","onConfirm","onReset","dropdownMenuClass","filterDropdown","confirm","closeDropdown","clearFilters","onDeselect","onOpenChange","setTimeout","filterReset","filterConfirm","filterIcon","trigger","onVisibleChange","placement","role","collectFilterStates","filterStates","filteredValues","filteredValue","defaultFilteredValue","injectFilter","_column$filterMultipl","flattenKeys","generateFilterInfo","currentFilters","originKey","getFilterData","currentData","_filterState$column","onFilter","keyIndex","findIndex","realKey","useFilter","onFilterChange","setFilterStates","mergedFilterStates","filteredKeysIsNotControlled","filteredKeysIsAllControlled","getFilters","newFilterStates","fillTitle","columnTitleProps","cloneColumn","useTitleColumns","renderExpandIcon","onExpand","expanded","expandable","iconPrefix","collapse","expand","isWindow","getScroll","top","method","Document","documentElement","ownerDocument","easeInOutCubic","c","d","cc","scrollTo","y","_options$getContainer","getContainer","callback","_options$duration","duration","container","scrollTop","startTime","Date","now","frameFunc","time","nextScrollTop","pageXOffset","HTMLDocument","constructor","raf","Column","ColumnGroup","EMPTY_LIST","Table","_classNames3","bordered","customizeDropdownPrefixCls","dataSource","rowKey","rowClassName","legacyChildrenColumnName","expandIcon","expandedRowRender","indentSize","scroll","_props$showSorterTool","screens","matched","m","convertChildrenToColumns","tableProps","omit","_React$useContext$loc","renderEmpty","rawData","mergedExpandable","_mergedExpandable$chi","item","internalRefs","body","_useLazyKVMap","mapCacheRef","kvMap","dig","useLazyKVMap","changeEventInfo","triggerOnChange","info","action","reset","changeInfo","resetPagination","scrollToFirstRowOnChange","currentDataSource","_useSorter","useSorter","_useSorter2","transformSorterColumns","sorterTitleProps","getSorters","sortedData","_useFilter","_useFilter2","transformFilterColumns","mergedData","_useTitleColumns","transformTitleColumns","_usePagination","_usePagination2","param","pageProp","getPaginationParam","_mergedPagination$cur","_mergedPagination$pag","_useSelection","_useSelection2","transformSelectionColumns","selectedKeySet","__PARENT_RENDER_ICON__","topPaginationNode","bottomPaginationNode","spinProps","transformColumns","paginationSize","position","defaultPosition","topPos","bottomPos","isDisable","toLowerCase","replace","spinning","wrapperClassNames","Spin","RcTable","indent","mergedRowClassName","emptyText","internalHooks","INTERNAL_HOOKS","Summary","Grid","_a$hoverable","hoverable","ConfigConsumer","prefix","Meta","avatar","others","avatarDom","titleDom","descriptionDom","MetaDetail","PlusOutlined","PlusOutlinedSvg","Tabs","editable","propSize","_onEdit","onEdit","hideAdd","centered","addIcon","_props$moreIcon","moreIcon","EllipsisOutlined","editType","removeIcon","CloseOutlined","showAdd","rootPrefixCls","Consumer","contextSize","RcTabs","moreTransitionName","TabPane","Card","_extends2","head","extra","_props$headStyle","headStyle","_props$bodyStyle","bodyStyle","_props$bordered","cover","actions","tabList","activeTabKey","defaultActiveTabKey","tabBarExtraContent","_props$tabProps","tabProps","loadingBlockStyle","padding","block","loadingBlock","Row","gutter","Col","span","hasActiveTabKey","extraProps","tabs","onTabChange","tab","coverDom","actionDom","getAction","divProps","containGrid","element","isContainGrid","EyeTwoTone","primaryColor","secondaryColor","EyeTwoToneSvg","bind","require","toString","isUndefined","isObject","isPlainObject","getPrototypeOf","isFunction","fn","l","module","exports","isArrayBuffer","isBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","document","merge","assignValue","extend","thisArg","trim","str","stripBOM","content","charCodeAt","utils","normalizeHeaderName","enhanceError","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","defaults","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","adapter","XMLHttpRequest","process","getDefaultAdapter","transformRequest","rawValue","parser","encoder","JSON","parse","stringify","stringifySafely","transformResponse","this","strictJSONParsing","responseType","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","status","common","args","apply","encode","encodeURIComponent","url","params","paramsSerializer","serializedParams","parts","v","toISOString","hashmarkIndex","error","code","request","response","isAxiosError","toJSON","message","number","fileName","lineNumber","columnNumber","stack","settle","cookies","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","Promise","resolve","reject","requestData","requestHeaders","auth","username","password","unescape","Authorization","btoa","fullPath","baseURL","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","toUpperCase","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","read","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","Error","__CANCEL__","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","source","mergeDeepProperties","prop","axiosKeys","otherKeys","Cancel","defaultIndicator","tuple","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","debouncifyUpdateSpinning","delay","cancelExistingSpin","updateSpinning","debounce","originalUpdateSpinning","setState","renderSpin","tip","wrapperClassName","spinClassName","spinElement","indicator","dotClassName","isValidElement","cloneElement","renderIndicator","isNestedPattern","containerClassName","shouldBeDelayed","isNaN","Number","shouldDelay","_createClass","Axios","mergeConfig","createInstance","defaultConfig","instance","axios","create","instanceConfig","CancelToken","isCancel","all","promises","spread","default","InterceptorManager","dispatchRequest","validator","validators","interceptors","assertOptions","boolean","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","unshift","fulfilled","rejected","responseInterceptorChain","chain","shift","newConfig","onFulfilled","onRejected","getUri","handlers","use","eject","h","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","normalizedName","write","expires","path","domain","secure","cookie","toGMTString","match","RegExp","decodeURIComponent","remove","isAbsoluteURL","combineURLs","requestedURL","test","relativeURL","ignoreDuplicateOf","parsed","split","line","originURL","msie","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","pkg","thing","deprecatedWarnings","currentVerArr","version","isOlderVersion","thanVersion","pkgVersionArr","destVer","isDeprecated","formatMessage","opt","desc","opts","console","warn","schema","allowUnknown","TypeError","executor","resolvePromise","token","arr","payload","INFINITY","MAX_INTEGER","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","objectToString","before","n","func","isObjectLike","isSymbol","other","valueOf","isBinary","toNumber","toFinite","remainder","toInteger","condition","format","f","argIndex","framesToPop","VALID_DIGITS","VALID_PUNCTUATION","ParseError","pa","pb","na","nb","DEFAULT_EXT_PREFIX","CALLING_CODE_REG_EXP","Metadata","metadata","is_object","type_of","validateMetadata","setVersion","countryCode","countries","v1","nonGeographic","country","getCountryMetadata","callingCode","getCountryCodesForCallingCode","countryCodes","countryCallingCodes","selectNumberingPlan","hasCountry","NumberingPlan","hasCallingCode","getNumberingPlanMetadata","getCountryCodeForCallingCode","numberingPlan","globalMetadataObject","v2","formats","_getFormats","Format","_getNationalPrefixFormattingRule","_nationalPrefixForParsing","_getNationalPrefixIsOptionalWhenFormatting","types","hasTypes","getType","Type","_format","usesNationalPrefix","nationalPrefixFormattingRule","FIRST_GROUP_ONLY_PREFIX_PATTERN","getCountryCallingCode","isSupportedCountry","getExtensionDigitsPattern","maxLength","createExtensionPattern","purpose","optionalExtnSuffix","rfcExtn","possibleSeparatorsBetweenNumberAndExtLabel","possibleSeparatorsNumberExtLabelNoComma","VALID_PHONE_NUMBER","VALID_PHONE_NUMBER_START_REG_EXP","VALID_PHONE_NUMBER_WITH_EXTENSION","VALID_PHONE_NUMBER_PATTERN","isViablePhoneNumber","EXTN_PATTERN","DIGITS","parseDigit","character","parseDigits","string","digit","parseIncompletePhoneNumber","parsePhoneNumberCharacter","prevParsedCharacters","checkNumberLength","nationalNumber","checkNumberLengthForType","type_info","possible_lengths","mobile_type","merged","mergeArrays","actual_length","minimum_length","isPossibleNumber","matchesEntirely","regular_expression","NON_FIXED_LINE_PHONE_TYPES","getNumberType","input","isNumberTypeEqualTo","applyInternationalSeparatorStyle","formattedNumber","FIRST_GROUP_PATTERN","formatNationalNumberUsingFormat","useInternationalFormat","withNationalPrefix","carrierCode","SINGLE_IDD_PREFIX_REG_EXP","DEFAULT_OPTIONS","formatExtension","formatNumber","countryCallingCode","addExtension","formatNationalNumber","ext","formatRFC3966","fromCountry","iddPrefix","countryMetadata","getIddPrefix","formatIDD","formatAs","availableFormats","nationalNnumber","lastLeadingDigitsPattern","chooseFormatForNumber","PhoneNumber","_metadata","isCountryCode","phoneNumber","CAPTURING_DIGIT_PATTERN","stripIddPrefix","IDDPrefixPattern","matchedGroups","extractNationalNumberFromPossiblyIncompleteNumber","prefixPattern","prefixMatch","capturedGroupsCount","hasCapturedGroups","prefixBeforeNationalNumber","possiblePositionOfTheFirstCapturedGroup","nationalPrefix","extractNationalNumber","nationalSignificantNumber","shouldExtractNationalPrefix","extractCountryCallingCodeFromInternationalNumberWithoutPlusSign","possibleShorterNumber","possibleShorterNationalNumber","numberWithoutIDD","shorterNumber","getCountryByCallingCode","nationalPhoneNumber","possibleCountries","phone","selectCountryFromList","PHONE_NUMBER_START_PATTERN","AFTER_PHONE_NUMBER_END_PATTERN","extract","part","parseRFC3966","throwOnError","startsAt","extractFormattedPhoneNumber","isViablePhoneNumberStart","withExtensionStripped","start","numberWithoutExtension","matches","extractExtension","parseInput","formattedPhoneNumber","extractCountryCallingCode","defaultCountry","defaultCallingCode","exactCountry","parsePhoneNumber","valid","possible","parseNumber","normalizeArguments","arg_1","arg_2","arg_3","arg_4","parsePhoneNumberFromString","parsePhoneNumberFromString_","getCountries","country_calling_codes","PropTypes","isRequired","labels","count_occurences","symbol","closeBraces","retained_template","template","placeholder","empty_placeholder","cut_before","opening_braces","closing_braces","dangling_braces","formatter","should_close_braces","characters_in_template","value_character_index","filled_in_template","close_braces","template_formatter","caret","found","possibly_last_input_character_index","getSelection","end","selectionEnd","Keys","setCaretPosition","caret_position","ANDROID_USER_AGENT_REG_EXP","isAndroid","operation","getOperation","eraseSelection","formatInputText","_parse","on_change","focused_input_character_index","parse_character","newValueAndCaret","edit","formatted","InputComponent","inputComponent","onKeyDown","rest","internalRef","useRef","setRef","_onChange","_onKeyDown","onInputKeyDown","isEmptyValue","Input","onCut","onPaste","AsYouTypeState","onCountryChange","onCallingCodeChange","properties","nextDigits","digits","IDDPrefix","DIGIT_PLACEHOLDER","DIGIT_PLACEHOLDER_MATCHER","repeat","times","cutAndStripNonPairedParens","cutBeforeIndex","cleared_string","stripNonPairedParens","formatCompleteNumber","shouldTryNationalPrefixFormattingRule","getSeparatorAfterNationalPrefix","matcher","useNationalPrefixFormattingRule","formatNationalNumberWithAndWithoutNationalPrefixFormattingRule","formattedNationalNumber","isValidFormattedNationalNumber","LONGEST_DUMMY_PHONE_NUMBER","NATIONAL_PREFIX_SEPARATORS_PATTERN","CREATE_CHARACTER_CLASS_PATTERN","CREATE_STANDALONE_DIGIT_PATTERN","NON_ALTERING_FORMAT_REG_EXP","AsYouTypeFormatter","international","formattedCompleteNumber","lastIndexOf","formatNationalNumberWithNextDigits","previouslyChosenFormat","newlyChosenFormat","chooseFormat","formatNextNationalNumberDigits","leadingDigits","leadingDigitsPatternIndex","matchingFormats","chosenFormat","leadingDigitsPatternsCount","leadingDigitsPattern","getTemplateForFormat","missingPlus","internationalPrefix","getInternationalPrefixBeforeCountryCallingCode","spacing","complexPrefixBeforeNationalSignificantNumber","pattern","strictPattern","nationalNumberDummyDigits","numberFormat","getFormatFormat","numberFormatWithNationalPrefix","nationalPrefixIncludedInTemplate","populateTemplateWithDigits","populatedNationalNumberTemplatePosition","VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN","VALID_FORMATTED_PHONE_NUMBER_PART","AFTER_PHONE_NUMBER_DIGITS_END_PATTERN","COMPLEX_NATIONAL_PREFIX","AsYouTypeParser","onNationalSignificantNumberChange","extractedNumber","hasPlus","_extractFormattedDigitsAndPlus","formattedDigits","extractFormattedDigitsAndPlus","justLeadingPlus","hasReceivedThreeLeadingDigits","isWaitingForCountryCallingCode","nationalPrefixForParsing","nationalDigits","prevNationalSignificantNumber","extractNationalSignificantNumber","nationalSignificantNumberIndex","nationalSignificantNumberMatchesInput","extractAnotherNationalSignificantNumber","extractIddPrefix","fixMissingPlus","newCallingCode","AsYouType","getCountryAndCallingCode","optionsOrDefaultCountry","reExtractNationalSignificantNumber","getFullNumber","isInternational","getTemplate","getInputValuePrefix","withCountryCallingCode","removeInputValuePrefix","createInput","defaultMetadata","InputSmart","newValueFormatted","InputBasic","formatIncompletePhoneNumber","getRegionalIndicatorSymbol","letter","CountrySelect","onChange_","getSelectedOption","divider","DIVIDER_STYLE","bool","fontSize","backgroundColor","color","CountrySelectWithIcon","Icon","iconComponent","Arrow","getIconAspectRatio","arrowComponent","unicodeFlags","selectedOption","aspectRatio","countryName","flags","flagUrl","alt","src","InternationalIcon3x2","xmlns","viewBox","stroke","fill","strokeWidth","strokeMiterlimit","strokeLinecap","x1","y1","x2","y2","InternationalIcon1x1","isCountrySupportedWithError","getSupportedCountries","createCountryIconComponent","FlagComponent","flagComponent","InternationalIcon","internationalIcon","_aspectRatio","CountryIcon","DefaultInternationalIcon","ONLY_DIGITS_REGEXP","getInternationalPhoneNumberPrefix","parsePhoneNumber_","getPhoneDigitsForNewCountry","phoneDigits","prevCountry","newCountry","useNationalFormat","countryCallingCodePrefix","country_calling_code","stripCountryCallingCode","newCountryPrefix","e164","partial_national_significant_number","getNationalSignificantNumberDigits","trimNumber","nationalSignificantNumberPart","overflowDigitsCount","getMaxNumberLength","getCountryForPartialE164Number","partialE164Number","required","derived_country","getCountryFromPossiblyIncompleteInternationalPhoneNumber","couldNumberBelongToCountry","convertInternationalPhoneDigitsToNational","compareStrings","locales","intlPhoneNumberPrefix","getInitialPhoneDigits","generateNationalNumberDigits","PhoneNumberInput_","focusInputOnCountrySelection","newPhoneDigits","hasUserSelectedACountry","addInternationalOption","limitMaxLength","countryCallingCodeEditable","prevPhoneDigits","countryRequired","getAnyCountry","onPhoneDigitsChange","_phoneDigits","stateUpdate","isFocused","onFocus","onBlur","countrySelectProps","displayInitialValueAsLocalNumber","initialValueFormat","preSelectedCountry","getPreSelectedCountry","prevProps","newDefaultCountry","newReset","prevDefaultCountry","prevValue","prevReset","_getInitialPhoneDigits","parameters","isNewDefaultCountrySupported","noValueHasBeenEnteredByTheUser","supportedCountries","parsedCountry","hasUserSelectedACountryUpdate","getPhoneInputWithCountryStateUpdateFromNewProps","selectedCountry","prevState","generator","dependencies","countryOptionsOrder","optionsOnTop","optionsOnBottom","appendTo","sortCountryOptions","countryNames","compareStringsLocales","_compareStrings","countrySelectOptions","ZZ","getCountrySelectOptions","countryOptions","getSupportedCountryOptions","countrySelectOptionsMemoDependencies","areEqualArrays","countrySelectOptionsMemo","autoComplete","numberInputProps","smartCaret","CountrySelectComponent","ContainerComponent","PureComponent","PhoneNumberInput","inputRef","labelsPropType","countrySelectComponent","containerComponent","metadataPropType","createPhoneInput","PhoneInputDefault","mergeClassNames","classList","arg","getUserLocales","once","languageList","languages","language","userLanguage","browserLanguage","systemLanguage","el","splitEl","fixLowercaseProperties","self","getUserLocale","makeGetEdgeOfNeighbor","getPeriod","getEdgeOfPeriod","defaultOffset","date","offset","previousPeriod","makeGetEnd","getBeginOfNextPeriod","getTime","makeGetRange","functions","getYear","getFullYear","year","getMonth","getDate","getCenturyStart","centuryStartYear","centuryStartDate","setFullYear","setHours","getPreviousCenturyStart","getNextCenturyStart","getCenturyEnd","getPreviousCenturyEnd","getCenturyRange","getDecadeStart","decadeStartYear","decadeStartDate","getPreviousDecadeStart","getNextDecadeStart","getDecadeEnd","getPreviousDecadeEnd","getDecadeRange","getYearStart","yearStartDate","getPreviousYearStart","getNextYearStart","getYearEnd","getPreviousYearEnd","getYearRange","makeGetEdgeOfNeighborMonth","month","getMonthStart","monthStartDate","getPreviousMonthStart","getNextMonthStart","getMonthEnd","getPreviousMonthEnd","getMonthRange","makeGetEdgeOfNeighborDay","day","getDayStart","dayStartDate","_CALENDAR_TYPE_LOCALE","getDayEnd","getDayRange","getDaysInMonth","_arrayLikeToArray","len","arr2","defineProperty","enumerable","configurable","writable","CALENDAR_TYPES","ARABIC","HEBREW","ISO_8601","US","CALENDAR_TYPE_LOCALES","WEEKDAYS","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","o","minLen","_unsupportedIterableToArray","_nonIterableSpread","getSafeFormatter","toLocaleString","getFormatter","safeDate","toSafeHour","formatDay","formatLongDate","formatMonth","formatMonthYear","formatShortWeekday","weekday","formatWeekday","formatYear","SUNDAY","FRIDAY","SATURDAY","getDayOfWeek","calendarType","getDay","getBeginOfWeek","monthIndex","getMonthIndex","getBegin","rangeType","getBeginNext","getEnd","getRange","getValueRange","date1","date2","rawNextValue","toYearLabel","defaultFormatYear","dates","getDecadeLabel","isWeekend","calendarTypes","values","allViews","isCalendarType","oneOf","isClassName","oneOfType","arrayOf","isMinDate","propName","minDate","maxDate","isMaxDate","isRef","shape","any","isValue","instanceOf","isViews","view","allowedViews","views","tileGroupProps","activeStartDate","hover","onMouseOver","tileClassName","tileContent","valueType","tileProps","objectOf","tileDisabled","Navigation","drillUp","_ref$formatMonthYear","defaultFormatMonthYear","_ref$formatYear","_ref$navigationAriaLa","navigationAriaLabel","navigationLabel","_ref$next2AriaLabel","next2AriaLabel","_ref$next2Label","next2Label","_ref$nextAriaLabel","nextAriaLabel","_ref$nextLabel","nextLabel","_ref$prev2AriaLabel","prev2AriaLabel","_ref$prev2Label","prev2Label","_ref$prevAriaLabel","prevAriaLabel","_ref$prevLabel","prevLabel","setActiveStartDate","showDoubleView","drillUpAvailable","shouldShowPrevNext2Buttons","previousActiveStartDate","getBeginPrevious","previousActiveStartDate2","getBeginPrevious2","nextActiveStartDate","nextActiveStartDate2","getBeginNext2","prevButtonDisabled","previousActiveEndDate","getEndPrevious","prev2ButtonDisabled","getEndPrevious2","nextButtonDisabled","next2ButtonDisabled","renderLabel","getCenturyLabel","display","labelClassName","flexGrow","Fragment","renderButton","assign","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","toPercent","num","Flex","wrap","otherProps","flexDirection","flexWrap","Children","child","flexBasis","maxWidth","overflow","marginLeft","isValueWithinRange","range","isRangeWithinRange","greaterRange","smallerRange","doRangesOverlap","range1","range2","getRangeClassNames","valueRange","dateRange","baseClassName","isRangeStart","isRangeEnd","getTileClasses","dateType","valueRangeClassNames","hoverRange","hoverRangeClassNames","TileGroup","_ref$count","dateTransform","_ref$step","step","Tile","tile","tiles","point","Constructor","_defineProperties","descriptor","_setPrototypeOf","setPrototypeOf","__proto__","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","getValue","nextProps","propTypes","_Component","subClass","superClass","protoProps","staticProps","nextState","tileClassNameProps","tileContentProps","_this$props","formatAbbr","maxDateTransform","minDateTransform","_this$state","Decade","Decades","CenturyView","Year","Years","DecadeView","Month","_ref$formatMonth","defaultFormatMonth","Months","YearView","Day","_ref$formatDay","defaultFormatDay","_ref$formatLongDate","defaultFormatLongDate","currentMonthIndex","Days","showFixedNumberOfWeeks","showNeighboringMonth","hasFixedNumberOfWeeks","dayOfWeek","daysInMonth","activeEndDate","Weekdays","_props$formatShortWee","defaultFormatShortWeekday","beginOfMonth","weekdays","weekdayDate","abbr","WeekNumber","onClickWeekNumber","weekNumber","WeekNumbers","numberOfWeeks","days","weekNumbers","beginOfFirstWeek","calendarTypeForWeekNumber","beginOfWeek","round","getWeekNumber","flexShrink","weekIndex","MonthView","_props$calendarType","getCalendarTypeFromLocale","showWeekNumbers","childProps","alignItems","defaultMinDate","defaultMaxDate","allValueTypes","getLimitedViews","minDetail","maxDetail","getView","isViewAllowed","getValueType","valueDate","toDate","getDetailValue","valuePiece","min","max","between","getDetailValueFrom","getDetailValueTo","getDetailValueArray","getActiveStartDate","getIsSingleValue","Calendar","_args","defaultActiveStartDate","defaultView","_assertThisInitialize","previousView","allowPartialRange","onActiveStartDateChange","onViewChange","selectRange","prevArgs","shouldUpdate","setStateAndCallCallbacks","drillDownAvailable","onClickTile","_assertThisInitialize2","onDrillDown","nextView","_assertThisInitialize3","onDrillUp","nextValue","_assertThisInitialize4","previousValue","getProcessedValue","persist","_this$props2","onClickDay","onClickDecade","onClickMonth","onClickYear","_this$props3","returnValue","processFunction","currentActiveStartDate","_this$props4","commonProps","drillDown","_formatYear","_this$props5","_this$props6","showNavigation","_this$props7","_this$props8","valueArray","renderNavigation","renderContent","activeStartDateProps","activeStartDateState","valueFrom","getInitialActiveStartDate","_this$props9","valueProps","valueState","_this$props10","viewProps","viewState","_this$props11","isActiveStartDate","isLooseValue","Manager","collection","refs","getIndex","splice","sortableInfo","sortByIndex","keysToOmit","acc","events","move","vendorPrefix","styles","getComputedStyle","pre","OLink","setInlineStyles","setTranslate3d","translate","x","setTransitionDuration","closest","parentNode","limit","getPixelValue","stringValue","parseFloat","getElementMargin","bottom","marginBottom","left","right","marginRight","marginTop","provideDisplayName","Component$$1","getScrollAdjustedBoundingClientRect","scrollDelta","boundingClientRect","getBoundingClientRect","getPosition","touches","pageX","pageY","changedTouches","isTouchEvent","getEdgeOffset","parent","nodeOffset","offsetLeft","offsetTop","getTargetIndex","newIndex","prevIndex","oldIndex","getLockPixelOffset","lockOffset","offsetX","offsetY","unit","exec","invariant","isFinite","getLockPixelOffsets","offsets","_offsets","minLockOffset","maxLockOffset","getScrollingParent","HTMLElement","computedStyle","overflowRegex","property","isScrollable","getContainerGridGap","gridColumnGap","gridRowGap","KEYCODE","NodeType","cloneNode","selector","fields","querySelectorAll","clonedNode","tagName","getContext","drawImage","isSortableHandle","sortableHandle","AutoScroller","onScrollCallback","interval","clearInterval","minTranslate","maxTranslate","speed","acceleration","_this$container","scrollLeft","scrollHeight","scrollWidth","isTop","isBottom","clientHeight","isLeft","isRight","clientWidth","abs","clear","isAutoScrolling","setInterval","axis","contentWindow","disableAutoscroll","distance","getHelperDimensions","helperClass","helperContainer","hideSortableGhost","keyboardSortingTransitionDuration","lockAxis","lockToContainerEdges","onSortEnd","onSortMove","onSortOver","onSortStart","pressDelay","pressThreshold","keyCodes","lift","drop","up","down","shouldCancelStart","transitionDuration","updateBeforeSortStart","useDragHandle","useWindowAsScrollContainer","defaultKeyCodes","offsetHeight","offsetWidth","contentEditable","omittedProps","validateProps","_finallyRethrows","finalizer","SortableContext","createContext","manager","sortableContainer","WrappedComponent","_class","_temp","withRef","WithSortableContainer","button","touched","nodeIsChild","sorting","_node$sortableInfo","preventDefault","handlePress","pressTimer","_awaitingUpdateBeforeSortStart","delta","combinedDelta","isActive","cancelTimer","getActive","_temp6","_temp7","_node","gridGap","containerBoundingRect","scrollContainer","dimensions","_getHelperDimensions","_collection","marginOffset","_axis","offsetEdge","initialOffset","_isKeySorting","initialScroll","initialWindowScroll","pageYOffset","helper","appendChild","boxSizing","pointerEvents","focus","_hideSortableGhost","sortableGhost","opacity","visibility","_useWindowAsScrollContainer","innerWidth","innerHeight","containerTop","containerLeft","containerWidth","containerBottom","containerRight","_helperClass","listenerNode","handleKeyEnd","handleKeyDown","eventName","handleSortMove","handleSortEnd","sortingIndex","_onSortStart","isKeySorting","nodes","getOrderedRefs","keyMove","_temp8","_temp9","_wasThrown","_result","cancelable","updateHelperPosition","animateNodes","autoscroll","_this$manager","removeEventListener","removeChild","_node2","edgeOffset","autoScroller","scrollX","scrollY","update","keyCode","_this$props5$keyCodes","isValidSortingTarget","keyLift","keyDrop","_node$sortableInfo2","initialFocusedNode","lastIndex","targetIndex","targetNode","containerScrollDelta","targetBoundingClientRect","targetTranslate","targetPosition","shouldAdjustForSize","sizeAdjustment","ignoreTransition","wrappedInstance","createRef","sortableContextValue","handleEnd","handleMove","handleStart","_this2","containerNode","scrollingElement","onAutoScroll","_this3","_this$props6$keyboard","_getLockPixelOffsets","_getLockPixelOffsets2","minOffset","maxOffset","windowScrollDelta","sortingOffset","_node3","mustShiftBackward","mustShiftForward","nextNode","prevNode","findDOMNode","getWrappedInstance","propTypes$1","omittedProps$1","sortableElement","WithSortableElement","_getPrototypeOf2","register","unregister"],"mappings":"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","file":"static/js/4.2132a9c5.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSwitch from 'rc-switch';\nimport classNames from 'classnames';\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nvar Switch = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      loading = _a.loading,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      disabled = _a.disabled,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"loading\", \"className\", \"disabled\"]);\n\n  devWarning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?');\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('switch', customizePrefixCls);\n  var loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-handle\")\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: \"\".concat(prefixCls, \"-loading-icon\")\n  }));\n  var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-small\"), (customizeSize || size) === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(Wave, {\n    insertExtraNode: true\n  }, /*#__PURE__*/React.createElement(RcSwitch, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: disabled || loading,\n    ref: ref,\n    loadingIcon: loadingIcon\n  })));\n});\nSwitch.__ANT_SWITCH = true;\nSwitch.displayName = 'Switch';\nexport default Switch;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport SlickCarousel from '@ant-design/react-slick';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nvar Carousel = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var _a$dots = _a.dots,\n      dots = _a$dots === void 0 ? true : _a$dots,\n      _a$arrows = _a.arrows,\n      arrows = _a$arrows === void 0 ? false : _a$arrows,\n      _a$draggable = _a.draggable,\n      draggable = _a$draggable === void 0 ? false : _a$draggable,\n      _a$dotPosition = _a.dotPosition,\n      dotPosition = _a$dotPosition === void 0 ? 'bottom' : _a$dotPosition,\n      props = __rest(_a, [\"dots\", \"arrows\", \"draggable\", \"dotPosition\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var slickRef = React.useRef();\n\n  var goTo = function goTo(slide) {\n    var dontAnimate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    slickRef.current.slickGoTo(slide, dontAnimate);\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      goTo: goTo,\n      autoPlay: slickRef.current.innerSlider.autoPlay,\n      innerSlider: slickRef.current.innerSlider,\n      prev: slickRef.current.slickPrev,\n      next: slickRef.current.slickNext\n    };\n  }, [slickRef.current]);\n  var prevCount = React.useRef(React.Children.count(props.children));\n  React.useEffect(function () {\n    if (prevCount.current !== React.Children.count(props.children)) {\n      goTo(props.initialSlide || 0, false);\n      prevCount.current = React.Children.count(props.children);\n    }\n  }, [props.children]);\n\n  var newProps = _extends({}, props);\n\n  if (newProps.effect === 'fade') {\n    newProps.fade = true;\n  }\n\n  var prefixCls = getPrefixCls('carousel', newProps.prefixCls);\n  var dotsClass = 'slick-dots';\n  newProps.vertical = dotPosition === 'left' || dotPosition === 'right';\n  var enableDots = !!dots;\n  var dsClass = classNames(dotsClass, \"\".concat(dotsClass, \"-\").concat(dotPosition), typeof dots === 'boolean' ? false : dots === null || dots === void 0 ? void 0 : dots.className);\n  var className = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-vertical\"), newProps.vertical), _classNames));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(SlickCarousel, _extends({\n    ref: slickRef\n  }, newProps, {\n    dots: enableDots,\n    dotsClass: dsClass,\n    arrows: arrows,\n    draggable: draggable\n  })));\n});\nexport default Carousel;","// This icon file is generated automatically.\nvar DoubleLeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z\" } }] }, \"name\": \"double-left\", \"theme\": \"outlined\" };\nexport default DoubleLeftOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DoubleLeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/DoubleLeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DoubleLeftOutlined = function DoubleLeftOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DoubleLeftOutlinedSvg\n  }));\n};\n\nDoubleLeftOutlined.displayName = 'DoubleLeftOutlined';\nexport default /*#__PURE__*/React.forwardRef(DoubleLeftOutlined);","// This icon file is generated automatically.\nvar DoubleRightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z\" } }] }, \"name\": \"double-right\", \"theme\": \"outlined\" };\nexport default DoubleRightOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DoubleRightOutlinedSvg from \"@ant-design/icons-svg/es/asn/DoubleRightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DoubleRightOutlined = function DoubleRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DoubleRightOutlinedSvg\n  }));\n};\n\nDoubleRightOutlined.displayName = 'DoubleRightOutlined';\nexport default /*#__PURE__*/React.forwardRef(DoubleRightOutlined);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Select from '../select';\n\nvar MiniSelect = function MiniSelect(props) {\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    size: \"small\"\n  }, props));\n};\n\nMiniSelect.Option = Select.Option;\nexport default MiniSelect;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcPagination from 'rc-pagination';\nimport enUS from \"rc-pagination/es/locale/en_US\";\nimport classNames from 'classnames';\nimport LeftOutlined from \"@ant-design/icons/es/icons/LeftOutlined\";\nimport RightOutlined from \"@ant-design/icons/es/icons/RightOutlined\";\nimport DoubleLeftOutlined from \"@ant-design/icons/es/icons/DoubleLeftOutlined\";\nimport DoubleRightOutlined from \"@ant-design/icons/es/icons/DoubleRightOutlined\";\nimport MiniSelect from './MiniSelect';\nimport Select from '../select';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { ConfigContext } from '../config-provider';\nimport useBreakpoint from '../grid/hooks/useBreakpoint';\n\nvar Pagination = function Pagination(_a) {\n  var customizePrefixCls = _a.prefixCls,\n      customizeSelectPrefixCls = _a.selectPrefixCls,\n      className = _a.className,\n      size = _a.size,\n      customLocale = _a.locale,\n      restProps = __rest(_a, [\"prefixCls\", \"selectPrefixCls\", \"className\", \"size\", \"locale\"]);\n\n  var _useBreakpoint = useBreakpoint(),\n      xs = _useBreakpoint.xs;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('pagination', customizePrefixCls);\n\n  var getIconsProps = function getIconsProps() {\n    var ellipsis = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-item-ellipsis\")\n    }, \"\\u2022\\u2022\\u2022\");\n    var prevIcon = /*#__PURE__*/React.createElement(\"button\", {\n      className: \"\".concat(prefixCls, \"-item-link\"),\n      type: \"button\",\n      tabIndex: -1\n    }, /*#__PURE__*/React.createElement(LeftOutlined, null));\n    var nextIcon = /*#__PURE__*/React.createElement(\"button\", {\n      className: \"\".concat(prefixCls, \"-item-link\"),\n      type: \"button\",\n      tabIndex: -1\n    }, /*#__PURE__*/React.createElement(RightOutlined, null));\n    var jumpPrevIcon = /*#__PURE__*/React.createElement(\"a\", {\n      className: \"\".concat(prefixCls, \"-item-link\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-item-container\")\n    }, /*#__PURE__*/React.createElement(DoubleLeftOutlined, {\n      className: \"\".concat(prefixCls, \"-item-link-icon\")\n    }), ellipsis));\n    var jumpNextIcon = /*#__PURE__*/React.createElement(\"a\", {\n      className: \"\".concat(prefixCls, \"-item-link\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-item-container\")\n    }, /*#__PURE__*/React.createElement(DoubleRightOutlined, {\n      className: \"\".concat(prefixCls, \"-item-link-icon\")\n    }), ellipsis)); // change arrows direction in right-to-left direction\n\n    if (direction === 'rtl') {\n      var _ref = [nextIcon, prevIcon];\n      prevIcon = _ref[0];\n      nextIcon = _ref[1];\n      var _ref2 = [jumpNextIcon, jumpPrevIcon];\n      jumpPrevIcon = _ref2[0];\n      jumpNextIcon = _ref2[1];\n    }\n\n    return {\n      prevIcon: prevIcon,\n      nextIcon: nextIcon,\n      jumpPrevIcon: jumpPrevIcon,\n      jumpNextIcon: jumpNextIcon\n    };\n  };\n\n  var renderPagination = function renderPagination(contextLocale) {\n    var locale = _extends(_extends({}, contextLocale), customLocale);\n\n    var isSmall = size === 'small' || !!(xs && !size && restProps.responsive);\n    var selectPrefixCls = getPrefixCls('select', customizeSelectPrefixCls);\n    var extendedClassName = classNames(_defineProperty({\n      mini: isSmall\n    }, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n    return /*#__PURE__*/React.createElement(RcPagination, _extends({}, restProps, {\n      prefixCls: prefixCls,\n      selectPrefixCls: selectPrefixCls\n    }, getIconsProps(), {\n      className: extendedClassName,\n      selectComponentClass: isSmall ? MiniSelect : Select,\n      locale: locale\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Pagination\",\n    defaultLocale: enUS\n  }, renderPagination);\n};\n\nexport default Pagination;","import Pagination from './Pagination';\nexport default Pagination;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useState } from 'react';\nexport var DEFAULT_PAGE_SIZE = 10;\nexport function getPaginationParam(pagination, mergedPagination) {\n  var param = {\n    current: mergedPagination.current,\n    pageSize: mergedPagination.pageSize\n  };\n  var paginationObj = pagination && _typeof(pagination) === 'object' ? pagination : {};\n  Object.keys(paginationObj).forEach(function (pageProp) {\n    var value = mergedPagination[pageProp];\n\n    if (typeof value !== 'function') {\n      param[pageProp] = value;\n    }\n  });\n  return param;\n}\n\nfunction extendsObject() {\n  var result = {};\n\n  for (var _len = arguments.length, list = new Array(_len), _key = 0; _key < _len; _key++) {\n    list[_key] = arguments[_key];\n  }\n\n  list.forEach(function (obj) {\n    if (obj) {\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n\n        if (val !== undefined) {\n          result[key] = val;\n        }\n      });\n    }\n  });\n  return result;\n}\n\nexport default function usePagination(total, pagination, onChange) {\n  var _a = pagination && _typeof(pagination) === 'object' ? pagination : {},\n      _a$total = _a.total,\n      paginationTotal = _a$total === void 0 ? 0 : _a$total,\n      paginationObj = __rest(_a, [\"total\"]);\n\n  var _useState = useState(function () {\n    return {\n      current: 'defaultCurrent' in paginationObj ? paginationObj.defaultCurrent : 1,\n      pageSize: 'defaultPageSize' in paginationObj ? paginationObj.defaultPageSize : DEFAULT_PAGE_SIZE\n    };\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerPagination = _useState2[0],\n      setInnerPagination = _useState2[1]; // ============ Basic Pagination Config ============\n\n\n  var mergedPagination = extendsObject(innerPagination, paginationObj, {\n    total: paginationTotal > 0 ? paginationTotal : total\n  }); // Reset `current` if data length or pageSize changed\n\n  var maxPage = Math.ceil((paginationTotal || total) / mergedPagination.pageSize);\n\n  if (mergedPagination.current > maxPage) {\n    // Prevent a maximum page count of 0\n    mergedPagination.current = maxPage || 1;\n  }\n\n  var refreshPagination = function refreshPagination() {\n    var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var pageSize = arguments.length > 1 ? arguments[1] : undefined;\n    setInnerPagination({\n      current: current,\n      pageSize: pageSize || mergedPagination.pageSize\n    });\n  };\n\n  var onInternalChange = function onInternalChange(current, pageSize) {\n    var _a;\n\n    if (pagination) {\n      (_a = pagination.onChange) === null || _a === void 0 ? void 0 : _a.call(pagination, current, pageSize);\n    }\n\n    refreshPagination(current, pageSize);\n    onChange(current, pageSize || (mergedPagination === null || mergedPagination === void 0 ? void 0 : mergedPagination.pageSize));\n  };\n\n  if (pagination === false) {\n    return [{}, function () {}];\n  }\n\n  return [_extends(_extends({}, mergedPagination), {\n    onChange: onInternalChange\n  }), refreshPagination];\n}","import * as React from 'react';\nvar RadioGroupContext = /*#__PURE__*/React.createContext(null);\nexport var RadioGroupContextProvider = RadioGroupContext.Provider;\nexport default RadioGroupContext;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcCheckbox from 'rc-checkbox';\nimport classNames from 'classnames';\nimport { composeRef } from \"rc-util/es/ref\";\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\nimport devWarning from '../_util/devWarning';\n\nvar InternalRadio = function InternalRadio(props, ref) {\n  var _classNames;\n\n  var context = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var innerRef = React.useRef();\n  var mergedRef = composeRef(ref, innerRef);\n  React.useEffect(function () {\n    devWarning(!('optionType' in props), 'Radio', '`optionType` is only support in Radio.Group.');\n  }, []);\n\n  var onChange = function onChange(e) {\n    var _a, _b;\n\n    (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    (_b = context === null || context === void 0 ? void 0 : context.onChange) === null || _b === void 0 ? void 0 : _b.call(context, e);\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      children = props.children,\n      style = props.style,\n      restProps = __rest(props, [\"prefixCls\", \"className\", \"children\", \"style\"]);\n\n  var prefixCls = getPrefixCls('radio', customizePrefixCls);\n\n  var radioProps = _extends({}, restProps);\n\n  if (context) {\n    radioProps.name = context.name;\n    radioProps.onChange = onChange;\n    radioProps.checked = props.value === context.value;\n    radioProps.disabled = props.disabled || context.disabled;\n  }\n\n  var wrapperClassString = classNames(\"\".concat(prefixCls, \"-wrapper\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-checked\"), radioProps.checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-disabled\"), radioProps.disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-rtl\"), direction === 'rtl'), _classNames), className);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-associated-control\n    React.createElement(\"label\", {\n      className: wrapperClassString,\n      style: style,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave\n    }, /*#__PURE__*/React.createElement(RcCheckbox, _extends({}, radioProps, {\n      prefixCls: prefixCls,\n      ref: mergedRef\n    })), children !== undefined ? /*#__PURE__*/React.createElement(\"span\", null, children) : null)\n  );\n};\n\nvar Radio = /*#__PURE__*/React.forwardRef(InternalRadio);\nRadio.displayName = 'Radio';\nRadio.defaultProps = {\n  type: 'radio'\n};\nexport default Radio;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport { RadioGroupContextProvider } from './context';\nimport getDataOrAriaProps from '../_util/getDataOrAriaProps';\nvar RadioGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var onRadioChange = function onRadioChange(ev) {\n    var lastValue = value;\n    var val = ev.target.value;\n\n    if (!('value' in props)) {\n      setValue(val);\n    }\n\n    var onChange = props.onChange;\n\n    if (onChange && val !== lastValue) {\n      onChange(ev);\n    }\n  };\n\n  var renderGroup = function renderGroup() {\n    var _classNames;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$className = props.className,\n        className = _props$className === void 0 ? '' : _props$className,\n        options = props.options,\n        optionType = props.optionType,\n        _props$buttonStyle = props.buttonStyle,\n        buttonStyle = _props$buttonStyle === void 0 ? 'outline' : _props$buttonStyle,\n        disabled = props.disabled,\n        children = props.children,\n        customizeSize = props.size,\n        style = props.style,\n        id = props.id,\n        onMouseEnter = props.onMouseEnter,\n        onMouseLeave = props.onMouseLeave;\n    var prefixCls = getPrefixCls('radio', customizePrefixCls);\n    var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n    var childrenToRender = children; // 如果存在 options, 优先使用\n\n    if (options && options.length > 0) {\n      var optionsPrefixCls = optionType === 'button' ? \"\".concat(prefixCls, \"-button\") : prefixCls;\n      childrenToRender = options.map(function (option) {\n        if (typeof option === 'string') {\n          // 此处类型自动推导为 string\n          return /*#__PURE__*/React.createElement(Radio, {\n            key: option,\n            prefixCls: optionsPrefixCls,\n            disabled: disabled,\n            value: option,\n            checked: value === option\n          }, option);\n        } // 此处类型自动推导为 { label: string value: string }\n\n\n        return /*#__PURE__*/React.createElement(Radio, {\n          key: \"radio-group-value-options-\".concat(option.value),\n          prefixCls: optionsPrefixCls,\n          disabled: option.disabled || disabled,\n          value: option.value,\n          checked: value === option.value,\n          style: option.style\n        }, option.label);\n      });\n    }\n\n    var mergedSize = customizeSize || size;\n    var classString = classNames(groupPrefixCls, \"\".concat(groupPrefixCls, \"-\").concat(buttonStyle), (_classNames = {}, _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, getDataOrAriaProps(props), {\n      className: classString,\n      style: style,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      id: id,\n      ref: ref\n    }), childrenToRender);\n  };\n\n  return /*#__PURE__*/React.createElement(RadioGroupContextProvider, {\n    value: {\n      onChange: onRadioChange,\n      value: value,\n      disabled: props.disabled,\n      name: props.name\n    }\n  }, renderGroup());\n});\nexport default /*#__PURE__*/React.memo(RadioGroup);","export default function getDataOrAriaProps(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') && key.substr(0, 7) !== 'data-__') {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\n\nvar RadioButton = function RadioButton(props, ref) {\n  var radioGroupContext = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      radioProps = __rest(props, [\"prefixCls\"]);\n\n  var prefixCls = getPrefixCls('radio-button', customizePrefixCls);\n\n  if (radioGroupContext) {\n    radioProps.checked = props.value === radioGroupContext.value;\n    radioProps.disabled = props.disabled || radioGroupContext.disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Radio, _extends({\n    prefixCls: prefixCls\n  }, radioProps, {\n    type: \"radio\",\n    ref: ref\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(RadioButton);","import InternalRadio from './radio';\nimport Group from './group';\nimport Button from './radioButton';\nvar Radio = InternalRadio;\nRadio.Button = Button;\nRadio.Group = Group;\nexport { Button, Group };\nexport default Radio;","import _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport { useState, useCallback, useMemo } from 'react';\nimport DownOutlined from \"@ant-design/icons/es/icons/DownOutlined\";\nimport { convertDataToEntities } from \"rc-tree/es/utils/treeUtil\";\nimport { conductCheck } from \"rc-tree/es/utils/conductUtil\";\nimport { arrAdd, arrDel } from \"rc-tree/es/util\";\nimport { INTERNAL_COL_DEFINE } from 'rc-table';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Checkbox from '../../checkbox';\nimport Dropdown from '../../dropdown';\nimport Menu from '../../menu';\nimport Radio from '../../radio';\nimport devWarning from '../../_util/devWarning'; // TODO: warning if use ajax!!!\n\nexport var SELECTION_ALL = 'SELECT_ALL';\nexport var SELECTION_INVERT = 'SELECT_INVERT';\nexport var SELECTION_NONE = 'SELECT_NONE';\n\nfunction getFixedType(column) {\n  return column && column.fixed;\n}\n\nfunction flattenData(data, childrenColumnName) {\n  var list = [];\n  (data || []).forEach(function (record) {\n    list.push(record);\n\n    if (record && _typeof(record) === 'object' && childrenColumnName in record) {\n      list = [].concat(_toConsumableArray(list), _toConsumableArray(flattenData(record[childrenColumnName], childrenColumnName)));\n    }\n  });\n  return list;\n}\n\nexport default function useSelection(rowSelection, config) {\n  var _ref = rowSelection || {},\n      preserveSelectedRowKeys = _ref.preserveSelectedRowKeys,\n      selectedRowKeys = _ref.selectedRowKeys,\n      defaultSelectedRowKeys = _ref.defaultSelectedRowKeys,\n      getCheckboxProps = _ref.getCheckboxProps,\n      onSelectionChange = _ref.onChange,\n      onSelect = _ref.onSelect,\n      onSelectAll = _ref.onSelectAll,\n      onSelectInvert = _ref.onSelectInvert,\n      onSelectNone = _ref.onSelectNone,\n      onSelectMultiple = _ref.onSelectMultiple,\n      selectionColWidth = _ref.columnWidth,\n      selectionType = _ref.type,\n      selections = _ref.selections,\n      fixed = _ref.fixed,\n      customizeRenderCell = _ref.renderCell,\n      hideSelectAll = _ref.hideSelectAll,\n      _ref$checkStrictly = _ref.checkStrictly,\n      checkStrictly = _ref$checkStrictly === void 0 ? true : _ref$checkStrictly;\n\n  var prefixCls = config.prefixCls,\n      data = config.data,\n      pageData = config.pageData,\n      getRecordByKey = config.getRecordByKey,\n      getRowKey = config.getRowKey,\n      expandType = config.expandType,\n      childrenColumnName = config.childrenColumnName,\n      tableLocale = config.locale,\n      expandIconColumnIndex = config.expandIconColumnIndex,\n      getPopupContainer = config.getPopupContainer; // ========================= Keys =========================\n\n  var _useMergedState = useMergedState(selectedRowKeys || defaultSelectedRowKeys || [], {\n    value: selectedRowKeys\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedSelectedKeys = _useMergedState2[0],\n      setMergedSelectedKeys = _useMergedState2[1]; // ======================== Caches ========================\n\n\n  var preserveRecordsRef = React.useRef(new Map());\n  var updatePreserveRecordsCache = useCallback(function (keys) {\n    if (preserveSelectedRowKeys) {\n      var newCache = new Map(); // Keep key if mark as preserveSelectedRowKeys\n\n      keys.forEach(function (key) {\n        var record = getRecordByKey(key);\n\n        if (!record && preserveRecordsRef.current.has(key)) {\n          record = preserveRecordsRef.current.get(key);\n        }\n\n        newCache.set(key, record);\n      }); // Refresh to new cache\n\n      preserveRecordsRef.current = newCache;\n    }\n  }, [getRecordByKey, preserveSelectedRowKeys]); // Update cache with selectedKeys\n\n  React.useEffect(function () {\n    updatePreserveRecordsCache(mergedSelectedKeys);\n  }, [mergedSelectedKeys]);\n\n  var _useMemo = useMemo(function () {\n    return checkStrictly ? {\n      keyEntities: null\n    } : convertDataToEntities(data, {\n      externalGetKey: getRowKey,\n      childrenPropName: childrenColumnName\n    });\n  }, [data, getRowKey, checkStrictly, childrenColumnName]),\n      keyEntities = _useMemo.keyEntities; // Get flatten data\n\n\n  var flattedData = useMemo(function () {\n    return flattenData(pageData, childrenColumnName);\n  }, [pageData, childrenColumnName]); // Get all checkbox props\n\n  var checkboxPropsMap = useMemo(function () {\n    var map = new Map();\n    flattedData.forEach(function (record, index) {\n      var key = getRowKey(record, index);\n      var checkboxProps = (getCheckboxProps ? getCheckboxProps(record) : null) || {};\n      map.set(key, checkboxProps);\n\n      if (process.env.NODE_ENV !== 'production' && ('checked' in checkboxProps || 'defaultChecked' in checkboxProps)) {\n        devWarning(false, 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n    });\n    return map;\n  }, [flattedData, getRowKey, getCheckboxProps]);\n  var isCheckboxDisabled = useCallback(function (r) {\n    var _a;\n\n    return !!((_a = checkboxPropsMap.get(getRowKey(r))) === null || _a === void 0 ? void 0 : _a.disabled);\n  }, [checkboxPropsMap, getRowKey]);\n\n  var _useMemo2 = useMemo(function () {\n    if (checkStrictly) {\n      return [mergedSelectedKeys || [], []];\n    }\n\n    var _conductCheck = conductCheck(mergedSelectedKeys, true, keyEntities, isCheckboxDisabled),\n        checkedKeys = _conductCheck.checkedKeys,\n        halfCheckedKeys = _conductCheck.halfCheckedKeys;\n\n    return [checkedKeys || [], halfCheckedKeys];\n  }, [mergedSelectedKeys, checkStrictly, keyEntities, isCheckboxDisabled]),\n      _useMemo3 = _slicedToArray(_useMemo2, 2),\n      derivedSelectedKeys = _useMemo3[0],\n      derivedHalfSelectedKeys = _useMemo3[1];\n\n  var derivedSelectedKeySet = useMemo(function () {\n    var keys = selectionType === 'radio' ? derivedSelectedKeys.slice(0, 1) : derivedSelectedKeys;\n    return new Set(keys);\n  }, [derivedSelectedKeys, selectionType]);\n  var derivedHalfSelectedKeySet = useMemo(function () {\n    return selectionType === 'radio' ? new Set() : new Set(derivedHalfSelectedKeys);\n  }, [derivedHalfSelectedKeys, selectionType]); // Save last selected key to enable range selection\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      lastSelectedKey = _useState2[0],\n      setLastSelectedKey = _useState2[1]; // Reset if rowSelection reset\n\n\n  React.useEffect(function () {\n    if (!rowSelection) {\n      setMergedSelectedKeys([]);\n    }\n  }, [!!rowSelection]);\n  var setSelectedKeys = useCallback(function (keys) {\n    var availableKeys;\n    var records;\n    updatePreserveRecordsCache(keys);\n\n    if (preserveSelectedRowKeys) {\n      availableKeys = keys;\n      records = keys.map(function (key) {\n        return preserveRecordsRef.current.get(key);\n      });\n    } else {\n      // Filter key which not exist in the `dataSource`\n      availableKeys = [];\n      records = [];\n      keys.forEach(function (key) {\n        var record = getRecordByKey(key);\n\n        if (record !== undefined) {\n          availableKeys.push(key);\n          records.push(record);\n        }\n      });\n    }\n\n    setMergedSelectedKeys(availableKeys);\n    onSelectionChange === null || onSelectionChange === void 0 ? void 0 : onSelectionChange(availableKeys, records);\n  }, [setMergedSelectedKeys, getRecordByKey, onSelectionChange, preserveSelectedRowKeys]); // ====================== Selections ======================\n  // Trigger single `onSelect` event\n\n  var triggerSingleSelection = useCallback(function (key, selected, keys, event) {\n    if (onSelect) {\n      var rows = keys.map(function (k) {\n        return getRecordByKey(k);\n      });\n      onSelect(getRecordByKey(key), selected, rows, event);\n    }\n\n    setSelectedKeys(keys);\n  }, [onSelect, getRecordByKey, setSelectedKeys]);\n  var mergedSelections = useMemo(function () {\n    if (!selections || hideSelectAll) {\n      return null;\n    }\n\n    var selectionList = selections === true ? [SELECTION_ALL, SELECTION_INVERT, SELECTION_NONE] : selections;\n    return selectionList.map(function (selection) {\n      if (selection === SELECTION_ALL) {\n        return {\n          key: 'all',\n          text: tableLocale.selectionAll,\n          onSelect: function onSelect() {\n            setSelectedKeys(data.map(function (record, index) {\n              return getRowKey(record, index);\n            }));\n          }\n        };\n      }\n\n      if (selection === SELECTION_INVERT) {\n        return {\n          key: 'invert',\n          text: tableLocale.selectInvert,\n          onSelect: function onSelect() {\n            var keySet = new Set(derivedSelectedKeySet);\n            pageData.forEach(function (record, index) {\n              var key = getRowKey(record, index);\n\n              if (keySet.has(key)) {\n                keySet[\"delete\"](key);\n              } else {\n                keySet.add(key);\n              }\n            });\n            var keys = Array.from(keySet);\n\n            if (onSelectInvert) {\n              devWarning(false, 'Table', '`onSelectInvert` will be removed in future. Please use `onChange` instead.');\n              onSelectInvert(keys);\n            }\n\n            setSelectedKeys(keys);\n          }\n        };\n      }\n\n      if (selection === SELECTION_NONE) {\n        return {\n          key: 'none',\n          text: tableLocale.selectNone,\n          onSelect: function onSelect() {\n            onSelectNone === null || onSelectNone === void 0 ? void 0 : onSelectNone();\n            setSelectedKeys([]);\n          }\n        };\n      }\n\n      return selection;\n    });\n  }, [selections, derivedSelectedKeySet, pageData, getRowKey, onSelectInvert, setSelectedKeys]); // ======================= Columns ========================\n\n  var transformColumns = useCallback(function (columns) {\n    if (!rowSelection) {\n      return columns;\n    } // Support selection\n\n\n    var keySet = new Set(derivedSelectedKeySet); // Record key only need check with enabled\n\n    var recordKeys = flattedData.map(getRowKey).filter(function (key) {\n      return !checkboxPropsMap.get(key).disabled;\n    });\n    var checkedCurrentAll = recordKeys.every(function (key) {\n      return keySet.has(key);\n    });\n    var checkedCurrentSome = recordKeys.some(function (key) {\n      return keySet.has(key);\n    });\n\n    var onSelectAllChange = function onSelectAllChange() {\n      var changeKeys = [];\n\n      if (checkedCurrentAll) {\n        recordKeys.forEach(function (key) {\n          keySet[\"delete\"](key);\n          changeKeys.push(key);\n        });\n      } else {\n        recordKeys.forEach(function (key) {\n          if (!keySet.has(key)) {\n            keySet.add(key);\n            changeKeys.push(key);\n          }\n        });\n      }\n\n      var keys = Array.from(keySet);\n      onSelectAll === null || onSelectAll === void 0 ? void 0 : onSelectAll(!checkedCurrentAll, keys.map(function (k) {\n        return getRecordByKey(k);\n      }), changeKeys.map(function (k) {\n        return getRecordByKey(k);\n      }));\n      setSelectedKeys(keys);\n    }; // ===================== Render =====================\n    // Title Cell\n\n\n    var title;\n\n    if (selectionType !== 'radio') {\n      var customizeSelections;\n\n      if (mergedSelections) {\n        var menu = /*#__PURE__*/React.createElement(Menu, {\n          getPopupContainer: getPopupContainer\n        }, mergedSelections.map(function (selection, index) {\n          var key = selection.key,\n              text = selection.text,\n              onSelectionClick = selection.onSelect;\n          return /*#__PURE__*/React.createElement(Menu.Item, {\n            key: key || index,\n            onClick: function onClick() {\n              onSelectionClick === null || onSelectionClick === void 0 ? void 0 : onSelectionClick(recordKeys);\n            }\n          }, text);\n        }));\n        customizeSelections = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-selection-extra\")\n        }, /*#__PURE__*/React.createElement(Dropdown, {\n          overlay: menu,\n          getPopupContainer: getPopupContainer\n        }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(DownOutlined, null))));\n      }\n\n      var allDisabledData = flattedData.map(function (record, index) {\n        var key = getRowKey(record, index);\n        var checkboxProps = checkboxPropsMap.get(key) || {};\n        return _extends({\n          checked: keySet.has(key)\n        }, checkboxProps);\n      }).filter(function (_ref2) {\n        var disabled = _ref2.disabled;\n        return disabled;\n      });\n      var allDisabled = !!allDisabledData.length && allDisabledData.length === flattedData.length;\n      var allDisabledAndChecked = allDisabled && allDisabledData.every(function (_ref3) {\n        var checked = _ref3.checked;\n        return checked;\n      });\n      var allDisabledSomeChecked = allDisabled && allDisabledData.some(function (_ref4) {\n        var checked = _ref4.checked;\n        return checked;\n      });\n      title = !hideSelectAll && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-selection\")\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: !allDisabled ? !!flattedData.length && checkedCurrentAll : allDisabledAndChecked,\n        indeterminate: !allDisabled ? !checkedCurrentAll && checkedCurrentSome : !allDisabledAndChecked && allDisabledSomeChecked,\n        onChange: onSelectAllChange,\n        disabled: flattedData.length === 0 || allDisabled,\n        skipGroup: true\n      }), customizeSelections);\n    } // Body Cell\n\n\n    var renderCell;\n\n    if (selectionType === 'radio') {\n      renderCell = function renderCell(_, record, index) {\n        var key = getRowKey(record, index);\n        var checked = keySet.has(key);\n        return {\n          node: /*#__PURE__*/React.createElement(Radio, _extends({}, checkboxPropsMap.get(key), {\n            checked: checked,\n            onClick: function onClick(e) {\n              return e.stopPropagation();\n            },\n            onChange: function onChange(event) {\n              if (!keySet.has(key)) {\n                triggerSingleSelection(key, true, [key], event.nativeEvent);\n              }\n            }\n          })),\n          checked: checked\n        };\n      };\n    } else {\n      renderCell = function renderCell(_, record, index) {\n        var _a;\n\n        var key = getRowKey(record, index);\n        var checked = keySet.has(key);\n        var indeterminate = derivedHalfSelectedKeySet.has(key);\n        var checkboxProps = checkboxPropsMap.get(key);\n        var mergedIndeterminate;\n\n        if (expandType === 'nest') {\n          mergedIndeterminate = indeterminate;\n          devWarning(typeof (checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.indeterminate) !== 'boolean', 'Table', 'set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.');\n        } else {\n          mergedIndeterminate = (_a = checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.indeterminate) !== null && _a !== void 0 ? _a : indeterminate;\n        } // Record checked\n\n\n        return {\n          node: /*#__PURE__*/React.createElement(Checkbox, _extends({}, checkboxProps, {\n            indeterminate: mergedIndeterminate,\n            checked: checked,\n            skipGroup: true,\n            onClick: function onClick(e) {\n              return e.stopPropagation();\n            },\n            onChange: function onChange(_ref5) {\n              var nativeEvent = _ref5.nativeEvent;\n              var shiftKey = nativeEvent.shiftKey;\n              var startIndex = -1;\n              var endIndex = -1; // Get range of this\n\n              if (shiftKey && checkStrictly) {\n                var pointKeys = new Set([lastSelectedKey, key]);\n                recordKeys.some(function (recordKey, recordIndex) {\n                  if (pointKeys.has(recordKey)) {\n                    if (startIndex === -1) {\n                      startIndex = recordIndex;\n                    } else {\n                      endIndex = recordIndex;\n                      return true;\n                    }\n                  }\n\n                  return false;\n                });\n              }\n\n              if (endIndex !== -1 && startIndex !== endIndex && checkStrictly) {\n                // Batch update selections\n                var rangeKeys = recordKeys.slice(startIndex, endIndex + 1);\n                var changedKeys = [];\n\n                if (checked) {\n                  rangeKeys.forEach(function (recordKey) {\n                    if (keySet.has(recordKey)) {\n                      changedKeys.push(recordKey);\n                      keySet[\"delete\"](recordKey);\n                    }\n                  });\n                } else {\n                  rangeKeys.forEach(function (recordKey) {\n                    if (!keySet.has(recordKey)) {\n                      changedKeys.push(recordKey);\n                      keySet.add(recordKey);\n                    }\n                  });\n                }\n\n                var keys = Array.from(keySet);\n                onSelectMultiple === null || onSelectMultiple === void 0 ? void 0 : onSelectMultiple(!checked, keys.map(function (recordKey) {\n                  return getRecordByKey(recordKey);\n                }), changedKeys.map(function (recordKey) {\n                  return getRecordByKey(recordKey);\n                }));\n                setSelectedKeys(keys);\n              } else {\n                // Single record selected\n                var originCheckedKeys = derivedSelectedKeys;\n\n                if (checkStrictly) {\n                  var checkedKeys = checked ? arrDel(originCheckedKeys, key) : arrAdd(originCheckedKeys, key);\n                  triggerSingleSelection(key, !checked, checkedKeys, nativeEvent);\n                } else {\n                  // Always fill first\n                  var result = conductCheck([].concat(_toConsumableArray(originCheckedKeys), [key]), true, keyEntities, isCheckboxDisabled);\n                  var _checkedKeys = result.checkedKeys,\n                      halfCheckedKeys = result.halfCheckedKeys;\n                  var nextCheckedKeys = _checkedKeys; // If remove, we do it again to correction\n\n                  if (checked) {\n                    var tempKeySet = new Set(_checkedKeys);\n                    tempKeySet[\"delete\"](key);\n                    nextCheckedKeys = conductCheck(Array.from(tempKeySet), {\n                      checked: false,\n                      halfCheckedKeys: halfCheckedKeys\n                    }, keyEntities, isCheckboxDisabled).checkedKeys;\n                  }\n\n                  triggerSingleSelection(key, !checked, nextCheckedKeys, nativeEvent);\n                }\n              }\n\n              setLastSelectedKey(key);\n            }\n          })),\n          checked: checked\n        };\n      };\n    }\n\n    var renderSelectionCell = function renderSelectionCell(_, record, index) {\n      var _renderCell = renderCell(_, record, index),\n          node = _renderCell.node,\n          checked = _renderCell.checked;\n\n      if (customizeRenderCell) {\n        return customizeRenderCell(checked, record, index, node);\n      }\n\n      return node;\n    }; // Columns\n\n\n    var selectionColumn = _defineProperty({\n      width: selectionColWidth,\n      className: \"\".concat(prefixCls, \"-selection-column\"),\n      title: rowSelection.columnTitle || title,\n      render: renderSelectionCell\n    }, INTERNAL_COL_DEFINE, {\n      className: \"\".concat(prefixCls, \"-selection-col\")\n    });\n\n    if (expandType === 'row' && columns.length && !expandIconColumnIndex) {\n      var _columns = _toArray(columns),\n          expandColumn = _columns[0],\n          restColumns = _columns.slice(1);\n\n      var selectionFixed = fixed || getFixedType(restColumns[0]);\n\n      if (selectionFixed) {\n        expandColumn.fixed = selectionFixed;\n      }\n\n      return [expandColumn, _extends(_extends({}, selectionColumn), {\n        fixed: selectionFixed\n      })].concat(_toConsumableArray(restColumns));\n    }\n\n    return [_extends(_extends({}, selectionColumn), {\n      fixed: fixed || getFixedType(columns[0])\n    })].concat(_toConsumableArray(columns));\n  }, [getRowKey, flattedData, rowSelection, derivedSelectedKeys, derivedSelectedKeySet, derivedHalfSelectedKeySet, selectionColWidth, mergedSelections, expandType, lastSelectedKey, checkboxPropsMap, onSelectMultiple, triggerSingleSelection, isCheckboxDisabled]);\n  return [transformColumns, derivedSelectedKeySet];\n}","// This icon file is generated automatically.\nvar CaretDownOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z\" } }] }, \"name\": \"caret-down\", \"theme\": \"outlined\" };\nexport default CaretDownOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CaretDownOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretDownOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CaretDownOutlined = function CaretDownOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CaretDownOutlinedSvg\n  }));\n};\n\nCaretDownOutlined.displayName = 'CaretDownOutlined';\nexport default /*#__PURE__*/React.forwardRef(CaretDownOutlined);","// This icon file is generated automatically.\nvar CaretUpOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z\" } }] }, \"name\": \"caret-up\", \"theme\": \"outlined\" };\nexport default CaretUpOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CaretUpOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretUpOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CaretUpOutlined = function CaretUpOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CaretUpOutlinedSvg\n  }));\n};\n\nCaretUpOutlined.displayName = 'CaretUpOutlined';\nexport default /*#__PURE__*/React.forwardRef(CaretUpOutlined);","export function getColumnKey(column, defaultKey) {\n  if ('key' in column && column.key !== undefined && column.key !== null) {\n    return column.key;\n  }\n\n  if (column.dataIndex) {\n    return Array.isArray(column.dataIndex) ? column.dataIndex.join('.') : column.dataIndex;\n  }\n\n  return defaultKey;\n}\nexport function getColumnPos(index, pos) {\n  return pos ? \"\".concat(pos, \"-\").concat(index) : \"\".concat(index);\n}\nexport function renderColumnTitle(title, props) {\n  if (typeof title === 'function') {\n    return title(props);\n  }\n\n  return title;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CaretDownOutlined from \"@ant-design/icons/es/icons/CaretDownOutlined\";\nimport CaretUpOutlined from \"@ant-design/icons/es/icons/CaretUpOutlined\";\nimport Tooltip from '../../tooltip';\nimport { getColumnKey, getColumnPos, renderColumnTitle } from '../util';\nvar ASCEND = 'ascend';\nvar DESCEND = 'descend';\n\nfunction getMultiplePriority(column) {\n  if (_typeof(column.sorter) === 'object' && typeof column.sorter.multiple === 'number') {\n    return column.sorter.multiple;\n  }\n\n  return false;\n}\n\nfunction getSortFunction(sorter) {\n  if (typeof sorter === 'function') {\n    return sorter;\n  }\n\n  if (sorter && _typeof(sorter) === 'object' && sorter.compare) {\n    return sorter.compare;\n  }\n\n  return false;\n}\n\nfunction nextSortDirection(sortDirections, current) {\n  if (!current) {\n    return sortDirections[0];\n  }\n\n  return sortDirections[sortDirections.indexOf(current) + 1];\n}\n\nfunction collectSortStates(columns, init, pos) {\n  var sortStates = [];\n\n  function pushState(column, columnPos) {\n    sortStates.push({\n      column: column,\n      key: getColumnKey(column, columnPos),\n      multiplePriority: getMultiplePriority(column),\n      sortOrder: column.sortOrder\n    });\n  }\n\n  (columns || []).forEach(function (column, index) {\n    var columnPos = getColumnPos(index, pos);\n\n    if (column.children) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      }\n\n      sortStates = [].concat(_toConsumableArray(sortStates), _toConsumableArray(collectSortStates(column.children, init, columnPos)));\n    } else if (column.sorter) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      } else if (init && column.defaultSortOrder) {\n        // Default sorter\n        sortStates.push({\n          column: column,\n          key: getColumnKey(column, columnPos),\n          multiplePriority: getMultiplePriority(column),\n          sortOrder: column.defaultSortOrder\n        });\n      }\n    }\n  });\n  return sortStates;\n}\n\nfunction injectSorter(prefixCls, columns, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, pos) {\n  return (columns || []).map(function (column, index) {\n    var columnPos = getColumnPos(index, pos);\n    var newColumn = column;\n\n    if (newColumn.sorter) {\n      var sortDirections = newColumn.sortDirections || defaultSortDirections;\n      var showSorterTooltip = newColumn.showSorterTooltip === undefined ? tableShowSorterTooltip : newColumn.showSorterTooltip;\n      var columnKey = getColumnKey(newColumn, columnPos);\n      var sorterState = sorterSates.find(function (_ref) {\n        var key = _ref.key;\n        return key === columnKey;\n      });\n      var sorterOrder = sorterState ? sorterState.sortOrder : null;\n      var nextSortOrder = nextSortDirection(sortDirections, sorterOrder);\n      var upNode = sortDirections.includes(ASCEND) && /*#__PURE__*/React.createElement(CaretUpOutlined, {\n        className: classNames(\"\".concat(prefixCls, \"-column-sorter-up\"), {\n          active: sorterOrder === ASCEND\n        })\n      });\n      var downNode = sortDirections.includes(DESCEND) && /*#__PURE__*/React.createElement(CaretDownOutlined, {\n        className: classNames(\"\".concat(prefixCls, \"-column-sorter-down\"), {\n          active: sorterOrder === DESCEND\n        })\n      });\n\n      var _ref2 = tableLocale || {},\n          cancelSort = _ref2.cancelSort,\n          triggerAsc = _ref2.triggerAsc,\n          triggerDesc = _ref2.triggerDesc;\n\n      var sortTip = cancelSort;\n\n      if (nextSortOrder === DESCEND) {\n        sortTip = triggerDesc;\n      } else if (nextSortOrder === ASCEND) {\n        sortTip = triggerAsc;\n      }\n\n      var tooltipProps = _typeof(showSorterTooltip) === 'object' ? showSorterTooltip : {\n        title: sortTip\n      };\n      newColumn = _extends(_extends({}, newColumn), {\n        className: classNames(newColumn.className, _defineProperty({}, \"\".concat(prefixCls, \"-column-sort\"), sorterOrder)),\n        title: function title(renderProps) {\n          var renderSortTitle = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-column-sorters\")\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, renderColumnTitle(column.title, renderProps)), /*#__PURE__*/React.createElement(\"span\", {\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-sorter-full\"), !!(upNode && downNode)))\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter-inner\")\n          }, upNode, downNode)));\n          return showSorterTooltip ? /*#__PURE__*/React.createElement(Tooltip, tooltipProps, renderSortTitle) : renderSortTitle;\n        },\n        onHeaderCell: function onHeaderCell(col) {\n          var cell = column.onHeaderCell && column.onHeaderCell(col) || {};\n          var originOnClick = cell.onClick;\n\n          cell.onClick = function (event) {\n            triggerSorter({\n              column: column,\n              key: columnKey,\n              sortOrder: nextSortOrder,\n              multiplePriority: getMultiplePriority(column)\n            });\n\n            if (originOnClick) {\n              originOnClick(event);\n            }\n          };\n\n          cell.className = classNames(cell.className, \"\".concat(prefixCls, \"-column-has-sorters\"));\n          return cell;\n        }\n      });\n    }\n\n    if ('children' in newColumn) {\n      newColumn = _extends(_extends({}, newColumn), {\n        children: injectSorter(prefixCls, newColumn.children, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, columnPos)\n      });\n    }\n\n    return newColumn;\n  });\n}\n\nfunction stateToInfo(sorterStates) {\n  var column = sorterStates.column,\n      sortOrder = sorterStates.sortOrder;\n  return {\n    column: column,\n    order: sortOrder,\n    field: column.dataIndex,\n    columnKey: column.key\n  };\n}\n\nfunction generateSorterInfo(sorterStates) {\n  var list = sorterStates.filter(function (_ref3) {\n    var sortOrder = _ref3.sortOrder;\n    return sortOrder;\n  }).map(stateToInfo); // =========== Legacy compatible support ===========\n  // https://github.com/ant-design/ant-design/pull/19226\n\n  if (list.length === 0 && sorterStates.length) {\n    return _extends(_extends({}, stateToInfo(sorterStates[sorterStates.length - 1])), {\n      column: undefined\n    });\n  }\n\n  if (list.length <= 1) {\n    return list[0] || {};\n  }\n\n  return list;\n}\n\nexport function getSortData(data, sortStates, childrenColumnName) {\n  var innerSorterStates = sortStates.slice().sort(function (a, b) {\n    return b.multiplePriority - a.multiplePriority;\n  });\n  var cloneData = data.slice();\n  var runningSorters = innerSorterStates.filter(function (_ref4) {\n    var sorter = _ref4.column.sorter,\n        sortOrder = _ref4.sortOrder;\n    return getSortFunction(sorter) && sortOrder;\n  }); // Skip if no sorter needed\n\n  if (!runningSorters.length) {\n    return cloneData;\n  }\n\n  return cloneData.sort(function (record1, record2) {\n    for (var i = 0; i < runningSorters.length; i += 1) {\n      var sorterState = runningSorters[i];\n      var sorter = sorterState.column.sorter,\n          sortOrder = sorterState.sortOrder;\n      var compareFn = getSortFunction(sorter);\n\n      if (compareFn && sortOrder) {\n        var compareResult = compareFn(record1, record2, sortOrder);\n\n        if (compareResult !== 0) {\n          return sortOrder === ASCEND ? compareResult : -compareResult;\n        }\n      }\n    }\n\n    return 0;\n  }).map(function (record) {\n    var subRecords = record[childrenColumnName];\n\n    if (subRecords) {\n      return _extends(_extends({}, record), _defineProperty({}, childrenColumnName, getSortData(subRecords, sortStates, childrenColumnName)));\n    }\n\n    return record;\n  });\n}\nexport default function useFilterSorter(_ref5) {\n  var prefixCls = _ref5.prefixCls,\n      mergedColumns = _ref5.mergedColumns,\n      onSorterChange = _ref5.onSorterChange,\n      sortDirections = _ref5.sortDirections,\n      tableLocale = _ref5.tableLocale,\n      showSorterTooltip = _ref5.showSorterTooltip;\n\n  var _React$useState = React.useState(collectSortStates(mergedColumns, true)),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sortStates = _React$useState2[0],\n      setSortStates = _React$useState2[1];\n\n  var mergedSorterStates = React.useMemo(function () {\n    var validate = true;\n    var collectedStates = collectSortStates(mergedColumns, false); // Return if not controlled\n\n    if (!collectedStates.length) {\n      return sortStates;\n    }\n\n    var validateStates = [];\n\n    function patchStates(state) {\n      if (validate) {\n        validateStates.push(state);\n      } else {\n        validateStates.push(_extends(_extends({}, state), {\n          sortOrder: null\n        }));\n      }\n    }\n\n    var multipleMode = null;\n    collectedStates.forEach(function (state) {\n      if (multipleMode === null) {\n        patchStates(state);\n\n        if (state.sortOrder) {\n          if (state.multiplePriority === false) {\n            validate = false;\n          } else {\n            multipleMode = true;\n          }\n        }\n      } else if (multipleMode && state.multiplePriority !== false) {\n        patchStates(state);\n      } else {\n        validate = false;\n        patchStates(state);\n      }\n    });\n    return validateStates;\n  }, [mergedColumns, sortStates]); // Get render columns title required props\n\n  var columnTitleSorterProps = React.useMemo(function () {\n    var sortColumns = mergedSorterStates.map(function (_ref6) {\n      var column = _ref6.column,\n          sortOrder = _ref6.sortOrder;\n      return {\n        column: column,\n        order: sortOrder\n      };\n    });\n    return {\n      sortColumns: sortColumns,\n      // Legacy\n      sortColumn: sortColumns[0] && sortColumns[0].column,\n      sortOrder: sortColumns[0] && sortColumns[0].order\n    };\n  }, [mergedSorterStates]);\n\n  function triggerSorter(sortState) {\n    var newSorterStates;\n\n    if (sortState.multiplePriority === false || !mergedSorterStates.length || mergedSorterStates[0].multiplePriority === false) {\n      newSorterStates = [sortState];\n    } else {\n      newSorterStates = [].concat(_toConsumableArray(mergedSorterStates.filter(function (_ref7) {\n        var key = _ref7.key;\n        return key !== sortState.key;\n      })), [sortState]);\n    }\n\n    setSortStates(newSorterStates);\n    onSorterChange(generateSorterInfo(newSorterStates), newSorterStates);\n  }\n\n  var transformColumns = function transformColumns(innerColumns) {\n    return injectSorter(prefixCls, innerColumns, mergedSorterStates, triggerSorter, sortDirections, tableLocale, showSorterTooltip);\n  };\n\n  var getSorters = function getSorters() {\n    return generateSorterInfo(mergedSorterStates);\n  };\n\n  return [transformColumns, mergedSorterStates, columnTitleSorterProps, getSorters];\n}","// This icon file is generated automatically.\nvar FilterFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z\" } }] }, \"name\": \"filter\", \"theme\": \"filled\" };\nexport default FilterFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FilterFilledSvg from \"@ant-design/icons-svg/es/asn/FilterFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FilterFilled = function FilterFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: FilterFilledSvg\n  }));\n};\n\nFilterFilled.displayName = 'FilterFilled';\nexport default /*#__PURE__*/React.forwardRef(FilterFilled);","import * as React from 'react';\n\nvar FilterDropdownMenuWrapper = function FilterDropdownMenuWrapper(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.className,\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    }\n  }, props.children);\n};\n\nexport default FilterDropdownMenuWrapper;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport FilterFilled from \"@ant-design/icons/es/icons/FilterFilled\";\nimport Button from '../../../button';\nimport Menu from '../../../menu';\nimport Checkbox from '../../../checkbox';\nimport Radio from '../../../radio';\nimport Dropdown from '../../../dropdown';\nimport Empty from '../../../empty';\nimport FilterDropdownMenuWrapper from './FilterWrapper';\nimport useSyncState from '../../../_util/hooks/useSyncState';\nimport { ConfigContext } from '../../../config-provider/context';\nvar SubMenu = Menu.SubMenu,\n    MenuItem = Menu.Item;\n\nfunction hasSubMenu(filters) {\n  return filters.some(function (_ref) {\n    var children = _ref.children;\n    return children;\n  });\n}\n\nfunction renderFilterItems(_ref2) {\n  var filters = _ref2.filters,\n      prefixCls = _ref2.prefixCls,\n      filteredKeys = _ref2.filteredKeys,\n      filterMultiple = _ref2.filterMultiple,\n      locale = _ref2.locale;\n\n  if (filters.length === 0) {\n    // wrapped with <div /> to avoid react warning\n    // https://github.com/ant-design/ant-design/issues/25979\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"empty\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '16px 0'\n      }\n    }, /*#__PURE__*/React.createElement(Empty, {\n      image: Empty.PRESENTED_IMAGE_SIMPLE,\n      description: locale.filterEmptyText,\n      imageStyle: {\n        height: 24\n      }\n    })));\n  }\n\n  return filters.map(function (filter, index) {\n    var key = String(filter.value);\n\n    if (filter.children) {\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        key: key || index,\n        title: filter.text,\n        popupClassName: \"\".concat(prefixCls, \"-dropdown-submenu\")\n      }, renderFilterItems({\n        filters: filter.children,\n        prefixCls: prefixCls,\n        filteredKeys: filteredKeys,\n        filterMultiple: filterMultiple,\n        locale: locale\n      }));\n    }\n\n    var Component = filterMultiple ? Checkbox : Radio;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: filter.value !== undefined ? key : index\n    }, /*#__PURE__*/React.createElement(Component, {\n      checked: filteredKeys.includes(key)\n    }), /*#__PURE__*/React.createElement(\"span\", null, filter.text));\n  });\n}\n\nfunction FilterDropdown(props) {\n  var _a;\n\n  var tablePrefixCls = props.tablePrefixCls,\n      prefixCls = props.prefixCls,\n      column = props.column,\n      dropdownPrefixCls = props.dropdownPrefixCls,\n      columnKey = props.columnKey,\n      filterMultiple = props.filterMultiple,\n      filterState = props.filterState,\n      triggerFilter = props.triggerFilter,\n      locale = props.locale,\n      children = props.children,\n      getPopupContainer = props.getPopupContainer;\n  var filterDropdownVisible = column.filterDropdownVisible,\n      onFilterDropdownVisibleChange = column.onFilterDropdownVisibleChange;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var filtered = !!(filterState && (((_a = filterState.filteredKeys) === null || _a === void 0 ? void 0 : _a.length) || filterState.forceFiltered));\n\n  var triggerVisible = function triggerVisible(newVisible) {\n    setVisible(newVisible);\n    onFilterDropdownVisibleChange === null || onFilterDropdownVisibleChange === void 0 ? void 0 : onFilterDropdownVisibleChange(newVisible);\n  };\n\n  var mergedVisible = typeof filterDropdownVisible === 'boolean' ? filterDropdownVisible : visible; // ===================== Select Keys =====================\n\n  var propFilteredKeys = filterState === null || filterState === void 0 ? void 0 : filterState.filteredKeys;\n\n  var _useSyncState = useSyncState(propFilteredKeys || []),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      getFilteredKeysSync = _useSyncState2[0],\n      setFilteredKeysSync = _useSyncState2[1];\n\n  var onSelectKeys = function onSelectKeys(_ref3) {\n    var selectedKeys = _ref3.selectedKeys;\n    setFilteredKeysSync(selectedKeys);\n  };\n\n  React.useEffect(function () {\n    onSelectKeys({\n      selectedKeys: propFilteredKeys || []\n    });\n  }, [propFilteredKeys]); // ====================== Open Keys ======================\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      openKeys = _React$useState4[0],\n      setOpenKeys = _React$useState4[1];\n\n  var openRef = React.useRef();\n\n  var onOpenChange = function onOpenChange(keys) {\n    openRef.current = window.setTimeout(function () {\n      setOpenKeys(keys);\n    });\n  };\n\n  var onMenuClick = function onMenuClick() {\n    window.clearTimeout(openRef.current);\n  };\n\n  React.useEffect(function () {\n    return function () {\n      window.clearTimeout(openRef.current);\n    };\n  }, []); // ======================= Submit ========================\n\n  var internalTriggerFilter = function internalTriggerFilter(keys) {\n    var mergedKeys = keys && keys.length ? keys : null;\n\n    if (mergedKeys === null && (!filterState || !filterState.filteredKeys)) {\n      return null;\n    }\n\n    if (isEqual(mergedKeys, filterState === null || filterState === void 0 ? void 0 : filterState.filteredKeys)) {\n      return null;\n    }\n\n    triggerFilter({\n      column: column,\n      key: columnKey,\n      filteredKeys: mergedKeys\n    });\n  };\n\n  var onConfirm = function onConfirm() {\n    triggerVisible(false);\n    internalTriggerFilter(getFilteredKeysSync());\n  };\n\n  var onReset = function onReset() {\n    setFilteredKeysSync([]);\n    triggerVisible(false);\n    internalTriggerFilter([]);\n  };\n\n  var doFilter = function doFilter() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      closeDropdown: true\n    },\n        closeDropdown = _ref4.closeDropdown;\n\n    if (closeDropdown) {\n      triggerVisible(false);\n    }\n\n    internalTriggerFilter(getFilteredKeysSync());\n  };\n\n  var onVisibleChange = function onVisibleChange(newVisible) {\n    if (newVisible && propFilteredKeys !== undefined) {\n      // Sync filteredKeys on appear in controlled mode (propFilteredKeys !== undefiend)\n      setFilteredKeysSync(propFilteredKeys || []);\n    }\n\n    triggerVisible(newVisible); // Default will filter when closed\n\n    if (!newVisible && !column.filterDropdown) {\n      onConfirm();\n    }\n  }; // ======================== Style ========================\n\n\n  var dropdownMenuClass = classNames(_defineProperty({}, \"\".concat(dropdownPrefixCls, \"-menu-without-submenu\"), !hasSubMenu(column.filters || [])));\n  var dropdownContent;\n\n  if (typeof column.filterDropdown === 'function') {\n    dropdownContent = column.filterDropdown({\n      prefixCls: \"\".concat(dropdownPrefixCls, \"-custom\"),\n      setSelectedKeys: function setSelectedKeys(selectedKeys) {\n        return onSelectKeys({\n          selectedKeys: selectedKeys\n        });\n      },\n      selectedKeys: getFilteredKeysSync(),\n      confirm: doFilter,\n      clearFilters: onReset,\n      filters: column.filters,\n      visible: mergedVisible\n    });\n  } else if (column.filterDropdown) {\n    dropdownContent = column.filterDropdown;\n  } else {\n    var selectedKeys = getFilteredKeysSync() || [];\n    dropdownContent = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n      multiple: filterMultiple,\n      prefixCls: \"\".concat(dropdownPrefixCls, \"-menu\"),\n      className: dropdownMenuClass,\n      onClick: onMenuClick,\n      onSelect: onSelectKeys,\n      onDeselect: onSelectKeys,\n      selectedKeys: selectedKeys,\n      getPopupContainer: getPopupContainer,\n      openKeys: openKeys,\n      onOpenChange: onOpenChange\n    }, renderFilterItems({\n      filters: column.filters || [],\n      prefixCls: prefixCls,\n      filteredKeys: getFilteredKeysSync(),\n      filterMultiple: filterMultiple,\n      locale: locale\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-dropdown-btns\")\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"link\",\n      size: \"small\",\n      disabled: selectedKeys.length === 0,\n      onClick: onReset\n    }, locale.filterReset), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      size: \"small\",\n      onClick: onConfirm\n    }, locale.filterConfirm)));\n  }\n\n  var menu = /*#__PURE__*/React.createElement(FilterDropdownMenuWrapper, {\n    className: \"\".concat(prefixCls, \"-dropdown\")\n  }, dropdownContent);\n  var filterIcon;\n\n  if (typeof column.filterIcon === 'function') {\n    filterIcon = column.filterIcon(filtered);\n  } else if (column.filterIcon) {\n    filterIcon = column.filterIcon;\n  } else {\n    filterIcon = /*#__PURE__*/React.createElement(FilterFilled, null);\n  }\n\n  var _React$useContext = React.useContext(ConfigContext),\n      direction = _React$useContext.direction;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-column\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(tablePrefixCls, \"-column-title\")\n  }, children), /*#__PURE__*/React.createElement(Dropdown, {\n    overlay: menu,\n    trigger: ['click'],\n    visible: mergedVisible,\n    onVisibleChange: onVisibleChange,\n    getPopupContainer: getPopupContainer,\n    placement: direction === 'rtl' ? 'bottomLeft' : 'bottomRight'\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"button\",\n    tabIndex: -1,\n    className: classNames(\"\".concat(prefixCls, \"-trigger\"), {\n      active: filtered\n    }),\n    onClick: function onClick(e) {\n      e.stopPropagation();\n    }\n  }, filterIcon)));\n}\n\nexport default FilterDropdown;","import * as React from 'react';\nimport useForceUpdate from './useForceUpdate';\nexport default function useSyncState(initialValue) {\n  var ref = React.useRef(initialValue);\n  var forceUpdate = useForceUpdate();\n  return [function () {\n    return ref.current;\n  }, function (newValue) {\n    ref.current = newValue; // re-render\n\n    forceUpdate();\n  }];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport devWarning from '../../../_util/devWarning';\nimport { getColumnPos, renderColumnTitle, getColumnKey } from '../../util';\nimport FilterDropdown from './FilterDropdown';\n\nfunction collectFilterStates(columns, init, pos) {\n  var filterStates = [];\n  (columns || []).forEach(function (column, index) {\n    var _a;\n\n    var columnPos = getColumnPos(index, pos);\n\n    if (column.filters || 'filterDropdown' in column || 'onFilter' in column) {\n      if ('filteredValue' in column) {\n        // Controlled\n        var filteredValues = column.filteredValue;\n\n        if (!('filterDropdown' in column)) {\n          filteredValues = (_a = filteredValues === null || filteredValues === void 0 ? void 0 : filteredValues.map(String)) !== null && _a !== void 0 ? _a : filteredValues;\n        }\n\n        filterStates.push({\n          column: column,\n          key: getColumnKey(column, columnPos),\n          filteredKeys: filteredValues,\n          forceFiltered: column.filtered\n        });\n      } else {\n        // Uncontrolled\n        filterStates.push({\n          column: column,\n          key: getColumnKey(column, columnPos),\n          filteredKeys: init && column.defaultFilteredValue ? column.defaultFilteredValue : undefined,\n          forceFiltered: column.filtered\n        });\n      }\n    }\n\n    if ('children' in column) {\n      filterStates = [].concat(_toConsumableArray(filterStates), _toConsumableArray(collectFilterStates(column.children, init, columnPos)));\n    }\n  });\n  return filterStates;\n}\n\nfunction injectFilter(prefixCls, dropdownPrefixCls, columns, filterStates, triggerFilter, getPopupContainer, locale, pos) {\n  return columns.map(function (column, index) {\n    var columnPos = getColumnPos(index, pos);\n    var _column$filterMultipl = column.filterMultiple,\n        filterMultiple = _column$filterMultipl === void 0 ? true : _column$filterMultipl;\n    var newColumn = column;\n\n    if (newColumn.filters || newColumn.filterDropdown) {\n      var columnKey = getColumnKey(newColumn, columnPos);\n      var filterState = filterStates.find(function (_ref) {\n        var key = _ref.key;\n        return columnKey === key;\n      });\n      newColumn = _extends(_extends({}, newColumn), {\n        title: function title(renderProps) {\n          return /*#__PURE__*/React.createElement(FilterDropdown, {\n            tablePrefixCls: prefixCls,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls,\n            column: newColumn,\n            columnKey: columnKey,\n            filterState: filterState,\n            filterMultiple: filterMultiple,\n            triggerFilter: triggerFilter,\n            locale: locale,\n            getPopupContainer: getPopupContainer\n          }, renderColumnTitle(column.title, renderProps));\n        }\n      });\n    }\n\n    if ('children' in newColumn) {\n      newColumn = _extends(_extends({}, newColumn), {\n        children: injectFilter(prefixCls, dropdownPrefixCls, newColumn.children, filterStates, triggerFilter, getPopupContainer, locale, columnPos)\n      });\n    }\n\n    return newColumn;\n  });\n}\n\nfunction flattenKeys(filters) {\n  var keys = [];\n  (filters || []).forEach(function (_ref2) {\n    var value = _ref2.value,\n        children = _ref2.children;\n    keys.push(value);\n\n    if (children) {\n      keys = [].concat(_toConsumableArray(keys), _toConsumableArray(flattenKeys(children)));\n    }\n  });\n  return keys;\n}\n\nfunction generateFilterInfo(filterStates) {\n  var currentFilters = {};\n  filterStates.forEach(function (_ref3) {\n    var key = _ref3.key,\n        filteredKeys = _ref3.filteredKeys,\n        column = _ref3.column;\n    var filters = column.filters,\n        filterDropdown = column.filterDropdown;\n\n    if (filterDropdown) {\n      currentFilters[key] = filteredKeys || null;\n    } else if (Array.isArray(filteredKeys)) {\n      var keys = flattenKeys(filters);\n      currentFilters[key] = keys.filter(function (originKey) {\n        return filteredKeys.includes(String(originKey));\n      });\n    } else {\n      currentFilters[key] = null;\n    }\n  });\n  return currentFilters;\n}\n\nexport function getFilterData(data, filterStates) {\n  return filterStates.reduce(function (currentData, filterState) {\n    var _filterState$column = filterState.column,\n        onFilter = _filterState$column.onFilter,\n        filters = _filterState$column.filters,\n        filteredKeys = filterState.filteredKeys;\n\n    if (onFilter && filteredKeys && filteredKeys.length) {\n      return currentData.filter(function (record) {\n        return filteredKeys.some(function (key) {\n          var keys = flattenKeys(filters);\n          var keyIndex = keys.findIndex(function (k) {\n            return String(k) === String(key);\n          });\n          var realKey = keyIndex !== -1 ? keys[keyIndex] : key;\n          return onFilter(realKey, record);\n        });\n      });\n    }\n\n    return currentData;\n  }, data);\n}\n\nfunction useFilter(_ref4) {\n  var prefixCls = _ref4.prefixCls,\n      dropdownPrefixCls = _ref4.dropdownPrefixCls,\n      mergedColumns = _ref4.mergedColumns,\n      onFilterChange = _ref4.onFilterChange,\n      getPopupContainer = _ref4.getPopupContainer,\n      tableLocale = _ref4.locale;\n\n  var _React$useState = React.useState(collectFilterStates(mergedColumns, true)),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterStates = _React$useState2[0],\n      setFilterStates = _React$useState2[1];\n\n  var mergedFilterStates = React.useMemo(function () {\n    var collectedStates = collectFilterStates(mergedColumns, false);\n    var filteredKeysIsNotControlled = collectedStates.every(function (_ref5) {\n      var filteredKeys = _ref5.filteredKeys;\n      return filteredKeys === undefined;\n    }); // Return if not controlled\n\n    if (filteredKeysIsNotControlled) {\n      return filterStates;\n    }\n\n    var filteredKeysIsAllControlled = collectedStates.every(function (_ref6) {\n      var filteredKeys = _ref6.filteredKeys;\n      return filteredKeys !== undefined;\n    });\n    devWarning(filteredKeysIsNotControlled || filteredKeysIsAllControlled, 'Table', '`FilteredKeys` should all be controlled or not controlled.');\n    return collectedStates;\n  }, [mergedColumns, filterStates]);\n  var getFilters = React.useCallback(function () {\n    return generateFilterInfo(mergedFilterStates);\n  }, [mergedFilterStates]);\n\n  var triggerFilter = function triggerFilter(filterState) {\n    var newFilterStates = mergedFilterStates.filter(function (_ref7) {\n      var key = _ref7.key;\n      return key !== filterState.key;\n    });\n    newFilterStates.push(filterState);\n    setFilterStates(newFilterStates);\n    onFilterChange(generateFilterInfo(newFilterStates), newFilterStates);\n  };\n\n  var transformColumns = function transformColumns(innerColumns) {\n    return injectFilter(prefixCls, dropdownPrefixCls, innerColumns, mergedFilterStates, triggerFilter, getPopupContainer, tableLocale);\n  };\n\n  return [transformColumns, mergedFilterStates, getFilters];\n}\n\nexport default useFilter;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { renderColumnTitle } from '../util';\n\nfunction fillTitle(columns, columnTitleProps) {\n  return columns.map(function (column) {\n    var cloneColumn = _extends({}, column);\n\n    cloneColumn.title = renderColumnTitle(column.title, columnTitleProps);\n\n    if ('children' in cloneColumn) {\n      cloneColumn.children = fillTitle(cloneColumn.children, columnTitleProps);\n    }\n\n    return cloneColumn;\n  });\n}\n\nexport default function useTitleColumns(columnTitleProps) {\n  var filledColumns = React.useCallback(function (columns) {\n    return fillTitle(columns, columnTitleProps);\n  }, [columnTitleProps]);\n  return [filledColumns];\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\n\nfunction renderExpandIcon(locale) {\n  return function expandIcon(_ref) {\n    var _classNames;\n\n    var prefixCls = _ref.prefixCls,\n        onExpand = _ref.onExpand,\n        record = _ref.record,\n        expanded = _ref.expanded,\n        expandable = _ref.expandable;\n    var iconPrefix = \"\".concat(prefixCls, \"-row-expand-icon\");\n    return /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: function onClick(e) {\n        onExpand(record, e);\n        e.stopPropagation();\n      },\n      className: classNames(iconPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(iconPrefix, \"-spaced\"), !expandable), _defineProperty(_classNames, \"\".concat(iconPrefix, \"-expanded\"), expandable && expanded), _defineProperty(_classNames, \"\".concat(iconPrefix, \"-collapsed\"), expandable && !expanded), _classNames)),\n      \"aria-label\": expanded ? locale.collapse : locale.expand\n    });\n  };\n}\n\nexport default renderExpandIcon;","export function isWindow(obj) {\n  return obj !== null && obj !== undefined && obj === obj.window;\n}\nexport default function getScroll(target, top) {\n  var _a;\n\n  if (typeof window === 'undefined') {\n    return 0;\n  }\n\n  var method = top ? 'scrollTop' : 'scrollLeft';\n  var result = 0;\n\n  if (isWindow(target)) {\n    result = target[top ? 'pageYOffset' : 'pageXOffset'];\n  } else if (target instanceof Document) {\n    result = target.documentElement[method];\n  } else if (target) {\n    result = target[method];\n  }\n\n  if (target && !isWindow(target) && typeof result !== 'number') {\n    result = (_a = (target.ownerDocument || target).documentElement) === null || _a === void 0 ? void 0 : _a[method];\n  }\n\n  return result;\n}","// eslint-disable-next-line import/prefer-default-export\nexport function easeInOutCubic(t, b, c, d) {\n  var cc = c - b;\n  t /= d / 2;\n\n  if (t < 1) {\n    return cc / 2 * t * t * t + b;\n  } // eslint-disable-next-line no-return-assign\n\n\n  return cc / 2 * ((t -= 2) * t * t + 2) + b;\n}","import raf from \"rc-util/es/raf\";\nimport getScroll, { isWindow } from './getScroll';\nimport { easeInOutCubic } from './easings';\nexport default function scrollTo(y) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$getContainer = options.getContainer,\n      getContainer = _options$getContainer === void 0 ? function () {\n    return window;\n  } : _options$getContainer,\n      callback = options.callback,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 450 : _options$duration;\n  var container = getContainer();\n  var scrollTop = getScroll(container, true);\n  var startTime = Date.now();\n\n  var frameFunc = function frameFunc() {\n    var timestamp = Date.now();\n    var time = timestamp - startTime;\n    var nextScrollTop = easeInOutCubic(time > duration ? duration : time, scrollTop, y, duration);\n\n    if (isWindow(container)) {\n      container.scrollTo(window.pageXOffset, nextScrollTop);\n    } else if (container instanceof HTMLDocument || container.constructor.name === 'HTMLDocument') {\n      container.documentElement.scrollTop = nextScrollTop;\n    } else {\n      container.scrollTop = nextScrollTop;\n    }\n\n    if (time < duration) {\n      raf(frameFunc);\n    } else if (typeof callback === 'function') {\n      callback();\n    }\n  };\n\n  raf(frameFunc);\n}","import defaultLocale from './default';\nexport default defaultLocale;","/* istanbul ignore next */\n\n/** This is a syntactic sugar for `columns` prop. So HOC will not work on this. */\n// eslint-disable-next-line no-unused-vars\nfunction Column(_) {\n  return null;\n}\n\nexport default Column;","/* istanbul ignore next */\n\n/** This is a syntactic sugar for `columns` prop. So HOC will not work on this. */\n// eslint-disable-next-line no-unused-vars\nfunction ColumnGroup(_) {\n  return null;\n}\n\nexport default ColumnGroup;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport RcTable, { Summary } from 'rc-table';\nimport { INTERNAL_HOOKS } from \"rc-table/es/Table\";\nimport { convertChildrenToColumns } from \"rc-table/es/hooks/useColumns\";\nimport Spin from '../spin';\nimport Pagination from '../pagination';\nimport { ConfigContext } from '../config-provider/context';\nimport usePagination, { DEFAULT_PAGE_SIZE, getPaginationParam } from './hooks/usePagination';\nimport useLazyKVMap from './hooks/useLazyKVMap';\nimport useSelection, { SELECTION_ALL, SELECTION_INVERT, SELECTION_NONE } from './hooks/useSelection';\nimport useSorter, { getSortData } from './hooks/useSorter';\nimport useFilter, { getFilterData } from './hooks/useFilter';\nimport useTitleColumns from './hooks/useTitleColumns';\nimport renderExpandIcon from './ExpandIcon';\nimport scrollTo from '../_util/scrollTo';\nimport defaultLocale from '../locale/en_US';\nimport SizeContext from '../config-provider/SizeContext';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport devWarning from '../_util/devWarning';\nimport useBreakpoint from '../grid/hooks/useBreakpoint';\nvar EMPTY_LIST = [];\n\nfunction Table(props) {\n  var _classNames3;\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      style = props.style,\n      customizeSize = props.size,\n      bordered = props.bordered,\n      customizeDropdownPrefixCls = props.dropdownPrefixCls,\n      dataSource = props.dataSource,\n      pagination = props.pagination,\n      rowSelection = props.rowSelection,\n      rowKey = props.rowKey,\n      rowClassName = props.rowClassName,\n      columns = props.columns,\n      children = props.children,\n      legacyChildrenColumnName = props.childrenColumnName,\n      onChange = props.onChange,\n      getPopupContainer = props.getPopupContainer,\n      loading = props.loading,\n      expandIcon = props.expandIcon,\n      expandable = props.expandable,\n      expandedRowRender = props.expandedRowRender,\n      expandIconColumnIndex = props.expandIconColumnIndex,\n      indentSize = props.indentSize,\n      scroll = props.scroll,\n      sortDirections = props.sortDirections,\n      locale = props.locale,\n      _props$showSorterTool = props.showSorterTooltip,\n      showSorterTooltip = _props$showSorterTool === void 0 ? true : _props$showSorterTool;\n  devWarning(!(typeof rowKey === 'function' && rowKey.length > 1), 'Table', '`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.');\n  var screens = useBreakpoint();\n  var mergedColumns = React.useMemo(function () {\n    var matched = new Set(Object.keys(screens).filter(function (m) {\n      return screens[m];\n    }));\n    return (columns || convertChildrenToColumns(children)).filter(function (c) {\n      return !c.responsive || c.responsive.some(function (r) {\n        return matched.has(r);\n      });\n    });\n  }, [children, columns, screens]);\n  var tableProps = omit(props, ['className', 'style', 'columns']);\n  var size = React.useContext(SizeContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      _React$useContext$loc = _React$useContext.locale,\n      contextLocale = _React$useContext$loc === void 0 ? defaultLocale : _React$useContext$loc,\n      renderEmpty = _React$useContext.renderEmpty,\n      direction = _React$useContext.direction;\n\n  var mergedSize = customizeSize || size;\n\n  var tableLocale = _extends(_extends({}, contextLocale.Table), locale);\n\n  var rawData = dataSource || EMPTY_LIST;\n\n  var _React$useContext2 = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext2.getPrefixCls;\n\n  var prefixCls = getPrefixCls('table', customizePrefixCls);\n  var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n\n  var mergedExpandable = _extends({\n    childrenColumnName: legacyChildrenColumnName,\n    expandIconColumnIndex: expandIconColumnIndex\n  }, expandable);\n\n  var _mergedExpandable$chi = mergedExpandable.childrenColumnName,\n      childrenColumnName = _mergedExpandable$chi === void 0 ? 'children' : _mergedExpandable$chi;\n  var expandType = React.useMemo(function () {\n    if (rawData.some(function (item) {\n      var _a;\n\n      return (_a = item) === null || _a === void 0 ? void 0 : _a[childrenColumnName];\n    })) {\n      return 'nest';\n    }\n\n    if (expandedRowRender || expandable && expandable.expandedRowRender) {\n      return 'row';\n    }\n\n    return null;\n  }, [rawData]);\n  var internalRefs = {\n    body: React.useRef()\n  }; // ============================ RowKey ============================\n\n  var getRowKey = React.useMemo(function () {\n    if (typeof rowKey === 'function') {\n      return rowKey;\n    }\n\n    return function (record) {\n      var _a;\n\n      return (_a = record) === null || _a === void 0 ? void 0 : _a[rowKey];\n    };\n  }, [rowKey]);\n\n  var _useLazyKVMap = useLazyKVMap(rawData, childrenColumnName, getRowKey),\n      _useLazyKVMap2 = _slicedToArray(_useLazyKVMap, 1),\n      getRecordByKey = _useLazyKVMap2[0]; // ============================ Events =============================\n\n\n  var changeEventInfo = {};\n\n  var triggerOnChange = function triggerOnChange(info, action) {\n    var reset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var changeInfo = _extends(_extends({}, changeEventInfo), info);\n\n    if (reset) {\n      changeEventInfo.resetPagination(); // Reset event param\n\n      if (changeInfo.pagination.current) {\n        changeInfo.pagination.current = 1;\n      } // Trigger pagination events\n\n\n      if (pagination && pagination.onChange) {\n        pagination.onChange(1, changeInfo.pagination.pageSize);\n      }\n    }\n\n    if (scroll && scroll.scrollToFirstRowOnChange !== false && internalRefs.body.current) {\n      scrollTo(0, {\n        getContainer: function getContainer() {\n          return internalRefs.body.current;\n        }\n      });\n    }\n\n    onChange === null || onChange === void 0 ? void 0 : onChange(changeInfo.pagination, changeInfo.filters, changeInfo.sorter, {\n      currentDataSource: getFilterData(getSortData(rawData, changeInfo.sorterStates, childrenColumnName), changeInfo.filterStates),\n      action: action\n    });\n  };\n  /**\n   * Controlled state in `columns` is not a good idea that makes too many code (1000+ line?) to read\n   * state out and then put it back to title render. Move these code into `hooks` but still too\n   * complex. We should provides Table props like `sorter` & `filter` to handle control in next big version.\n   */\n  // ============================ Sorter =============================\n\n\n  var onSorterChange = function onSorterChange(sorter, sorterStates) {\n    triggerOnChange({\n      sorter: sorter,\n      sorterStates: sorterStates\n    }, 'sort', false);\n  };\n\n  var _useSorter = useSorter({\n    prefixCls: prefixCls,\n    mergedColumns: mergedColumns,\n    onSorterChange: onSorterChange,\n    sortDirections: sortDirections || ['ascend', 'descend'],\n    tableLocale: tableLocale,\n    showSorterTooltip: showSorterTooltip\n  }),\n      _useSorter2 = _slicedToArray(_useSorter, 4),\n      transformSorterColumns = _useSorter2[0],\n      sortStates = _useSorter2[1],\n      sorterTitleProps = _useSorter2[2],\n      getSorters = _useSorter2[3];\n\n  var sortedData = React.useMemo(function () {\n    return getSortData(rawData, sortStates, childrenColumnName);\n  }, [rawData, sortStates]);\n  changeEventInfo.sorter = getSorters();\n  changeEventInfo.sorterStates = sortStates; // ============================ Filter ============================\n\n  var onFilterChange = function onFilterChange(filters, filterStates) {\n    triggerOnChange({\n      filters: filters,\n      filterStates: filterStates\n    }, 'filter', true);\n  };\n\n  var _useFilter = useFilter({\n    prefixCls: prefixCls,\n    locale: tableLocale,\n    dropdownPrefixCls: dropdownPrefixCls,\n    mergedColumns: mergedColumns,\n    onFilterChange: onFilterChange,\n    getPopupContainer: getPopupContainer\n  }),\n      _useFilter2 = _slicedToArray(_useFilter, 3),\n      transformFilterColumns = _useFilter2[0],\n      filterStates = _useFilter2[1],\n      getFilters = _useFilter2[2];\n\n  var mergedData = getFilterData(sortedData, filterStates);\n  changeEventInfo.filters = getFilters();\n  changeEventInfo.filterStates = filterStates; // ============================ Column ============================\n\n  var columnTitleProps = React.useMemo(function () {\n    return _extends({}, sorterTitleProps);\n  }, [sorterTitleProps]);\n\n  var _useTitleColumns = useTitleColumns(columnTitleProps),\n      _useTitleColumns2 = _slicedToArray(_useTitleColumns, 1),\n      transformTitleColumns = _useTitleColumns2[0]; // ========================== Pagination ==========================\n\n\n  var onPaginationChange = function onPaginationChange(current, pageSize) {\n    triggerOnChange({\n      pagination: _extends(_extends({}, changeEventInfo.pagination), {\n        current: current,\n        pageSize: pageSize\n      })\n    }, 'paginate');\n  };\n\n  var _usePagination = usePagination(mergedData.length, pagination, onPaginationChange),\n      _usePagination2 = _slicedToArray(_usePagination, 2),\n      mergedPagination = _usePagination2[0],\n      resetPagination = _usePagination2[1];\n\n  changeEventInfo.pagination = pagination === false ? {} : getPaginationParam(pagination, mergedPagination);\n  changeEventInfo.resetPagination = resetPagination; // ============================= Data =============================\n\n  var pageData = React.useMemo(function () {\n    if (pagination === false || !mergedPagination.pageSize) {\n      return mergedData;\n    }\n\n    var _mergedPagination$cur = mergedPagination.current,\n        current = _mergedPagination$cur === void 0 ? 1 : _mergedPagination$cur,\n        total = mergedPagination.total,\n        _mergedPagination$pag = mergedPagination.pageSize,\n        pageSize = _mergedPagination$pag === void 0 ? DEFAULT_PAGE_SIZE : _mergedPagination$pag;\n    devWarning(current > 0, 'Table', '`current` should be positive number.'); // Dynamic table data\n\n    if (mergedData.length < total) {\n      if (mergedData.length > pageSize) {\n        devWarning(false, 'Table', '`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.');\n        return mergedData.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return mergedData;\n    }\n\n    return mergedData.slice((current - 1) * pageSize, current * pageSize);\n  }, [!!pagination, mergedData, mergedPagination && mergedPagination.current, mergedPagination && mergedPagination.pageSize, mergedPagination && mergedPagination.total]); // ========================== Selections ==========================\n\n  var _useSelection = useSelection(rowSelection, {\n    prefixCls: prefixCls,\n    data: mergedData,\n    pageData: pageData,\n    getRowKey: getRowKey,\n    getRecordByKey: getRecordByKey,\n    expandType: expandType,\n    childrenColumnName: childrenColumnName,\n    locale: tableLocale,\n    expandIconColumnIndex: mergedExpandable.expandIconColumnIndex,\n    getPopupContainer: getPopupContainer\n  }),\n      _useSelection2 = _slicedToArray(_useSelection, 2),\n      transformSelectionColumns = _useSelection2[0],\n      selectedKeySet = _useSelection2[1];\n\n  var internalRowClassName = function internalRowClassName(record, index, indent) {\n    var mergedRowClassName;\n\n    if (typeof rowClassName === 'function') {\n      mergedRowClassName = classNames(rowClassName(record, index, indent));\n    } else {\n      mergedRowClassName = classNames(rowClassName);\n    }\n\n    return classNames(_defineProperty({}, \"\".concat(prefixCls, \"-row-selected\"), selectedKeySet.has(getRowKey(record, index))), mergedRowClassName);\n  }; // ========================== Expandable ==========================\n  // Pass origin render status into `rc-table`, this can be removed when refactor with `rc-table`\n\n\n  mergedExpandable.__PARENT_RENDER_ICON__ = mergedExpandable.expandIcon; // Customize expandable icon\n\n  mergedExpandable.expandIcon = mergedExpandable.expandIcon || expandIcon || renderExpandIcon(tableLocale); // Adjust expand icon index, no overwrite expandIconColumnIndex if set.\n\n  if (expandType === 'nest' && mergedExpandable.expandIconColumnIndex === undefined) {\n    mergedExpandable.expandIconColumnIndex = rowSelection ? 1 : 0;\n  } else if (mergedExpandable.expandIconColumnIndex > 0 && rowSelection) {\n    mergedExpandable.expandIconColumnIndex -= 1;\n  } // Indent size\n\n\n  if (typeof mergedExpandable.indentSize !== 'number') {\n    mergedExpandable.indentSize = typeof indentSize === 'number' ? indentSize : 15;\n  } // ============================ Render ============================\n\n\n  var transformColumns = React.useCallback(function (innerColumns) {\n    return transformTitleColumns(transformSelectionColumns(transformFilterColumns(transformSorterColumns(innerColumns))));\n  }, [transformSorterColumns, transformFilterColumns, transformSelectionColumns]);\n  var topPaginationNode;\n  var bottomPaginationNode;\n\n  if (pagination !== false && (mergedPagination === null || mergedPagination === void 0 ? void 0 : mergedPagination.total)) {\n    var paginationSize;\n\n    if (mergedPagination.size) {\n      paginationSize = mergedPagination.size;\n    } else {\n      paginationSize = mergedSize === 'small' || mergedSize === 'middle' ? 'small' : undefined;\n    }\n\n    var renderPagination = function renderPagination(position) {\n      return /*#__PURE__*/React.createElement(Pagination, _extends({\n        className: \"\".concat(prefixCls, \"-pagination \").concat(prefixCls, \"-pagination-\").concat(position)\n      }, mergedPagination, {\n        size: paginationSize\n      }));\n    };\n\n    var defaultPosition = direction === 'rtl' ? 'left' : 'right';\n    var position = mergedPagination.position;\n\n    if (position !== null && Array.isArray(position)) {\n      var topPos = position.find(function (p) {\n        return p.indexOf('top') !== -1;\n      });\n      var bottomPos = position.find(function (p) {\n        return p.indexOf('bottom') !== -1;\n      });\n      var isDisable = position.every(function (p) {\n        return \"\".concat(p) === 'none';\n      });\n\n      if (!topPos && !bottomPos && !isDisable) {\n        bottomPaginationNode = renderPagination(defaultPosition);\n      }\n\n      if (topPos) {\n        topPaginationNode = renderPagination(topPos.toLowerCase().replace('top', ''));\n      }\n\n      if (bottomPos) {\n        bottomPaginationNode = renderPagination(bottomPos.toLowerCase().replace('bottom', ''));\n      }\n    } else {\n      bottomPaginationNode = renderPagination(defaultPosition);\n    }\n  } // >>>>>>>>> Spinning\n\n\n  var spinProps;\n\n  if (typeof loading === 'boolean') {\n    spinProps = {\n      spinning: loading\n    };\n  } else if (_typeof(loading) === 'object') {\n    spinProps = _extends({\n      spinning: true\n    }, loading);\n  }\n\n  var wrapperClassNames = classNames(\"\".concat(prefixCls, \"-wrapper\"), _defineProperty({}, \"\".concat(prefixCls, \"-wrapper-rtl\"), direction === 'rtl'), className);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassNames,\n    style: style\n  }, /*#__PURE__*/React.createElement(Spin, _extends({\n    spinning: false\n  }, spinProps), topPaginationNode, /*#__PURE__*/React.createElement(RcTable, _extends({}, tableProps, {\n    columns: mergedColumns,\n    direction: direction,\n    expandable: mergedExpandable,\n    prefixCls: prefixCls,\n    className: classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-middle\"), mergedSize === 'middle'), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-small\"), mergedSize === 'small'), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-empty\"), rawData.length === 0), _classNames3)),\n    data: pageData,\n    rowKey: getRowKey,\n    rowClassName: internalRowClassName,\n    emptyText: locale && locale.emptyText || renderEmpty('Table') // Internal\n    ,\n    internalHooks: INTERNAL_HOOKS,\n    internalRefs: internalRefs,\n    transformColumns: transformColumns\n  })), bottomPaginationNode));\n}\n\nTable.defaultProps = {\n  rowKey: 'key'\n};\nTable.SELECTION_ALL = SELECTION_ALL;\nTable.SELECTION_INVERT = SELECTION_INVERT;\nTable.SELECTION_NONE = SELECTION_NONE;\nTable.Column = Column;\nTable.ColumnGroup = ColumnGroup;\nTable.Summary = Summary;\nexport default Table;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nexport default function useLazyKVMap(data, childrenColumnName, getRowKey) {\n  var mapCacheRef = React.useRef({});\n\n  function getRecordByKey(key) {\n    if (!mapCacheRef.current || mapCacheRef.current.data !== data || mapCacheRef.current.childrenColumnName !== childrenColumnName || mapCacheRef.current.getRowKey !== getRowKey) {\n      var kvMap = new Map();\n      /* eslint-disable no-inner-declarations */\n\n      function dig(records) {\n        records.forEach(function (record, index) {\n          var rowKey = getRowKey(record, index);\n          kvMap.set(rowKey, record);\n\n          if (record && _typeof(record) === 'object' && childrenColumnName in record) {\n            dig(record[childrenColumnName] || []);\n          }\n        });\n      }\n      /* eslint-enable */\n\n\n      dig(data);\n      mapCacheRef.current = {\n        data: data,\n        childrenColumnName: childrenColumnName,\n        kvMap: kvMap,\n        getRowKey: getRowKey\n      };\n    }\n\n    return mapCacheRef.current.kvMap.get(key);\n  }\n\n  return [getRecordByKey];\n}","import Table from './Table';\nexport default Table;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Grid = function Grid(_a) {\n  var prefixCls = _a.prefixCls,\n      className = _a.className,\n      _a$hoverable = _a.hoverable,\n      hoverable = _a$hoverable === void 0 ? true : _a$hoverable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"hoverable\"]);\n\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n    var prefix = getPrefixCls('card', prefixCls);\n    var classString = classNames(\"\".concat(prefix, \"-grid\"), className, _defineProperty({}, \"\".concat(prefix, \"-grid-hoverable\"), hoverable));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n      className: classString\n    }));\n  });\n};\n\nexport default Grid;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Meta = function Meta(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        avatar = props.avatar,\n        title = props.title,\n        description = props.description,\n        others = __rest(props, [\"prefixCls\", \"className\", \"avatar\", \"title\", \"description\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-meta\"), className);\n    var avatarDom = avatar ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-avatar\")\n    }, avatar) : null;\n    var titleDom = title ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-title\")\n    }, title) : null;\n    var descriptionDom = description ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-description\")\n    }, description) : null;\n    var MetaDetail = titleDom || descriptionDom ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-detail\")\n    }, titleDom, descriptionDom) : null;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }), avatarDom, MetaDetail);\n  });\n};\n\nexport default Meta;","// This icon file is generated automatically.\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexport default PlusOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\n\nPlusOutlined.displayName = 'PlusOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlusOutlined);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcTabs, { TabPane } from 'rc-tabs';\nimport classNames from 'classnames';\nimport EllipsisOutlined from \"@ant-design/icons/es/icons/EllipsisOutlined\";\nimport PlusOutlined from \"@ant-design/icons/es/icons/PlusOutlined\";\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport devWarning from '../_util/devWarning';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction Tabs(_a) {\n  var type = _a.type,\n      className = _a.className,\n      propSize = _a.size,\n      _onEdit = _a.onEdit,\n      hideAdd = _a.hideAdd,\n      centered = _a.centered,\n      addIcon = _a.addIcon,\n      props = __rest(_a, [\"type\", \"className\", \"size\", \"onEdit\", \"hideAdd\", \"centered\", \"addIcon\"]);\n\n  var customizePrefixCls = props.prefixCls,\n      _props$moreIcon = props.moreIcon,\n      moreIcon = _props$moreIcon === void 0 ? /*#__PURE__*/React.createElement(EllipsisOutlined, null) : _props$moreIcon;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('tabs', customizePrefixCls);\n  var editable;\n\n  if (type === 'editable-card') {\n    editable = {\n      onEdit: function onEdit(editType, _ref) {\n        var key = _ref.key,\n            event = _ref.event;\n        _onEdit === null || _onEdit === void 0 ? void 0 : _onEdit(editType === 'add' ? event : key, editType);\n      },\n      removeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null),\n      addIcon: addIcon || /*#__PURE__*/React.createElement(PlusOutlined, null),\n      showAdd: hideAdd !== true\n    };\n  }\n\n  var rootPrefixCls = getPrefixCls();\n  devWarning(!('onPrevClick' in props) && !('onNextClick' in props), 'Tabs', '`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead.');\n  return /*#__PURE__*/React.createElement(SizeContext.Consumer, null, function (contextSize) {\n    var _classNames;\n\n    var size = propSize !== undefined ? propSize : contextSize;\n    return /*#__PURE__*/React.createElement(RcTabs, _extends({\n      direction: direction,\n      moreTransitionName: \"\".concat(rootPrefixCls, \"-slide-up\")\n    }, props, {\n      className: classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size), _defineProperty(_classNames, \"\".concat(prefixCls, \"-card\"), ['card', 'editable-card'].includes(type)), _defineProperty(_classNames, \"\".concat(prefixCls, \"-editable-card\"), type === 'editable-card'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-centered\"), centered), _classNames), className),\n      editable: editable,\n      moreIcon: moreIcon,\n      prefixCls: prefixCls\n    }));\n  });\n}\n\nTabs.TabPane = TabPane;\nexport default Tabs;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport Grid from './Grid';\nimport Meta from './Meta';\nimport Tabs from '../tabs';\nimport Row from '../row';\nimport Col from '../col';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction getAction(actions) {\n  var actionList = actions.map(function (action, index) {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"li\", {\n        style: {\n          width: \"\".concat(100 / actions.length, \"%\")\n        },\n        key: \"action-\".concat(index)\n      }, /*#__PURE__*/React.createElement(\"span\", null, action))\n    );\n  });\n  return actionList;\n}\n\nvar Card = function Card(props) {\n  var _extends2, _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var onTabChange = function onTabChange(key) {\n    var _a;\n\n    (_a = props.onTabChange) === null || _a === void 0 ? void 0 : _a.call(props, key);\n  };\n\n  var isContainGrid = function isContainGrid() {\n    var containGrid;\n    React.Children.forEach(props.children, function (element) {\n      if (element && element.type && element.type === Grid) {\n        containGrid = true;\n      }\n    });\n    return containGrid;\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      extra = props.extra,\n      _props$headStyle = props.headStyle,\n      headStyle = _props$headStyle === void 0 ? {} : _props$headStyle,\n      _props$bodyStyle = props.bodyStyle,\n      bodyStyle = _props$bodyStyle === void 0 ? {} : _props$bodyStyle,\n      title = props.title,\n      loading = props.loading,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      customizeSize = props.size,\n      type = props.type,\n      cover = props.cover,\n      actions = props.actions,\n      tabList = props.tabList,\n      children = props.children,\n      activeTabKey = props.activeTabKey,\n      defaultActiveTabKey = props.defaultActiveTabKey,\n      tabBarExtraContent = props.tabBarExtraContent,\n      hoverable = props.hoverable,\n      _props$tabProps = props.tabProps,\n      tabProps = _props$tabProps === void 0 ? {} : _props$tabProps,\n      others = __rest(props, [\"prefixCls\", \"className\", \"extra\", \"headStyle\", \"bodyStyle\", \"title\", \"loading\", \"bordered\", \"size\", \"type\", \"cover\", \"actions\", \"tabList\", \"children\", \"activeTabKey\", \"defaultActiveTabKey\", \"tabBarExtraContent\", \"hoverable\", \"tabProps\"]);\n\n  var prefixCls = getPrefixCls('card', customizePrefixCls);\n  var loadingBlockStyle = bodyStyle.padding === 0 || bodyStyle.padding === '0px' ? {\n    padding: 24\n  } : undefined;\n  var block = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-block\")\n  });\n  var loadingBlock = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-content\"),\n    style: loadingBlockStyle\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 22\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 15\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 6\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 18\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 13\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 9\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 4\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 3\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 16\n  }, block)));\n  var hasActiveTabKey = activeTabKey !== undefined;\n\n  var extraProps = _extends(_extends({}, tabProps), (_extends2 = {}, _defineProperty(_extends2, hasActiveTabKey ? 'activeKey' : 'defaultActiveKey', hasActiveTabKey ? activeTabKey : defaultActiveTabKey), _defineProperty(_extends2, \"tabBarExtraContent\", tabBarExtraContent), _extends2));\n\n  var head;\n  var tabs = tabList && tabList.length ? /*#__PURE__*/React.createElement(Tabs, _extends({\n    size: \"large\"\n  }, extraProps, {\n    className: \"\".concat(prefixCls, \"-head-tabs\"),\n    onChange: onTabChange\n  }), tabList.map(function (item) {\n    return /*#__PURE__*/React.createElement(Tabs.TabPane, {\n      tab: item.tab,\n      disabled: item.disabled,\n      key: item.key\n    });\n  })) : null;\n\n  if (title || extra || tabs) {\n    head = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head\"),\n      style: headStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-wrapper\")\n    }, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-title\")\n    }, title), extra && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-extra\")\n    }, extra)), tabs);\n  }\n\n  var coverDom = cover ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-cover\")\n  }, cover) : null;\n  var body = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\"),\n    style: bodyStyle\n  }, loading ? loadingBlock : children);\n  var actionDom = actions && actions.length ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-actions\")\n  }, getAction(actions)) : null;\n  var divProps = omit(others, ['onTabChange']);\n  var mergedSize = customizeSize || size;\n  var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hoverable\"), hoverable), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-grid\"), isContainGrid()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-tabs\"), tabList && tabList.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(prefixCls, \"-type-\").concat(type), !!type), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n    className: classString\n  }), head, coverDom, body, actionDom);\n};\n\nCard.Grid = Grid;\nCard.Meta = Meta;\nexport default Card;","// This icon file is generated automatically.\nvar EyeTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\", \"fill\": primaryColor } }] }; }, \"name\": \"eye\", \"theme\": \"twotone\" };\nexport default EyeTwoTone;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeTwoToneSvg from \"@ant-design/icons-svg/es/asn/EyeTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeTwoTone = function EyeTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EyeTwoToneSvg\n  }));\n};\n\nEyeTwoTone.displayName = 'EyeTwoTone';\nexport default /*#__PURE__*/React.forwardRef(EyeTwoTone);","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport { isValidElement, cloneElement } from '../_util/reactNode';\nvar SpinSizes = tuple('small', 'default', 'large'); // Render indicator\n\nvar defaultIndicator = null;\n\nfunction renderIndicator(prefixCls, props) {\n  var indicator = props.indicator;\n  var dotClassName = \"\".concat(prefixCls, \"-dot\"); // should not be render default indicator when indicator value is null\n\n  if (indicator === null) {\n    return null;\n  }\n\n  if (isValidElement(indicator)) {\n    return cloneElement(indicator, {\n      className: classNames(indicator.props.className, dotClassName)\n    });\n  }\n\n  if (isValidElement(defaultIndicator)) {\n    return cloneElement(defaultIndicator, {\n      className: classNames(defaultIndicator.props.className, dotClassName)\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, \"\".concat(prefixCls, \"-dot-spin\"))\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }));\n}\n\nfunction shouldDelay(spinning, delay) {\n  return !!spinning && !!delay && !isNaN(Number(delay));\n}\n\nvar Spin = /*#__PURE__*/function (_React$Component) {\n  _inherits(Spin, _React$Component);\n\n  var _super = _createSuper(Spin);\n\n  function Spin(props) {\n    var _this;\n\n    _classCallCheck(this, Spin);\n\n    _this = _super.call(this, props);\n\n    _this.debouncifyUpdateSpinning = function (props) {\n      var _ref = props || _this.props,\n          delay = _ref.delay;\n\n      if (delay) {\n        _this.cancelExistingSpin();\n\n        _this.updateSpinning = debounce(_this.originalUpdateSpinning, delay);\n      }\n    };\n\n    _this.updateSpinning = function () {\n      var spinning = _this.props.spinning;\n      var currentSpinning = _this.state.spinning;\n\n      if (currentSpinning !== spinning) {\n        _this.setState({\n          spinning: spinning\n        });\n      }\n    };\n\n    _this.renderSpin = function (_ref2) {\n      var _classNames;\n\n      var getPrefixCls = _ref2.getPrefixCls,\n          direction = _ref2.direction;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          size = _a.size,\n          tip = _a.tip,\n          wrapperClassName = _a.wrapperClassName,\n          style = _a.style,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"tip\", \"wrapperClassName\", \"style\"]);\n\n      var spinning = _this.state.spinning;\n      var prefixCls = getPrefixCls('spin', customizePrefixCls);\n      var spinClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-spinning\"), spinning), _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-text\"), !!tip), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className); // fix https://fb.me/react-unknown-prop\n\n      var divProps = omit(restProps, ['spinning', 'delay', 'indicator']);\n      var spinElement = /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n        style: style,\n        className: spinClassName\n      }), renderIndicator(prefixCls, _this.props), tip ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-text\")\n      }, tip) : null);\n\n      if (_this.isNestedPattern()) {\n        var containerClassName = classNames(\"\".concat(prefixCls, \"-container\"), _defineProperty({}, \"\".concat(prefixCls, \"-blur\"), spinning));\n        return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n          className: classNames(\"\".concat(prefixCls, \"-nested-loading\"), wrapperClassName)\n        }), spinning && /*#__PURE__*/React.createElement(\"div\", {\n          key: \"loading\"\n        }, spinElement), /*#__PURE__*/React.createElement(\"div\", {\n          className: containerClassName,\n          key: \"container\"\n        }, _this.props.children));\n      }\n\n      return spinElement;\n    };\n\n    var spinning = props.spinning,\n        delay = props.delay;\n    var shouldBeDelayed = shouldDelay(spinning, delay);\n    _this.state = {\n      spinning: spinning && !shouldBeDelayed\n    };\n    _this.originalUpdateSpinning = _this.updateSpinning;\n\n    _this.debouncifyUpdateSpinning(props);\n\n    return _this;\n  }\n\n  _createClass(Spin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.debouncifyUpdateSpinning();\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelExistingSpin();\n    }\n  }, {\n    key: \"cancelExistingSpin\",\n    value: function cancelExistingSpin() {\n      var updateSpinning = this.updateSpinning;\n\n      if (updateSpinning && updateSpinning.cancel) {\n        updateSpinning.cancel();\n      }\n    }\n  }, {\n    key: \"isNestedPattern\",\n    value: function isNestedPattern() {\n      return !!(this.props && typeof this.props.children !== 'undefined');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderSpin);\n    }\n  }], [{\n    key: \"setDefaultIndicator\",\n    value: function setDefaultIndicator(indicator) {\n      defaultIndicator = indicator;\n    }\n  }]);\n\n  return Spin;\n}(React.Component);\n\nSpin.defaultProps = {\n  spinning: true,\n  size: 'default',\n  wrapperClassName: ''\n};\nexport default Spin;","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = once;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","// The minimum length of the national significant number.\r\nexport const MIN_LENGTH_FOR_NSN = 2\r\n\r\n// The ITU says the maximum length should be 15,\r\n// but one can find longer numbers in Germany.\r\nexport const MAX_LENGTH_FOR_NSN = 17\r\n\r\n// The maximum length of the country calling code.\r\nexport const MAX_LENGTH_COUNTRY_CODE = 3\r\n\r\n// Digits accepted in phone numbers\r\n// (ascii, fullwidth, arabic-indic, and eastern arabic digits).\r\nexport const VALID_DIGITS = '0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9'\r\n\r\n// `DASHES` will be right after the opening square bracket of the \"character class\"\r\nconst DASHES = '-\\u2010-\\u2015\\u2212\\u30FC\\uFF0D'\r\nconst SLASHES = '\\uFF0F/'\r\nconst DOTS = '\\uFF0E.'\r\nexport const WHITESPACE = ' \\u00A0\\u00AD\\u200B\\u2060\\u3000'\r\nconst BRACKETS = '()\\uFF08\\uFF09\\uFF3B\\uFF3D\\\\[\\\\]'\r\n// export const OPENING_BRACKETS = '(\\uFF08\\uFF3B\\\\\\['\r\nconst TILDES = '~\\u2053\\u223C\\uFF5E'\r\n\r\n// Regular expression of acceptable punctuation found in phone numbers. This\r\n// excludes punctuation found as a leading character only. This consists of dash\r\n// characters, white space characters, full stops, slashes, square brackets,\r\n// parentheses and tildes. Full-width variants are also present.\r\nexport const VALID_PUNCTUATION = `${DASHES}${SLASHES}${DOTS}${WHITESPACE}${BRACKETS}${TILDES}`\r\n\r\nexport const PLUS_CHARS = '+\\uFF0B'\r\n// const LEADING_PLUS_CHARS_PATTERN = new RegExp('^[' + PLUS_CHARS + ']+')","// https://stackoverflow.com/a/46971044/970769\r\nexport default class ParseError {\r\n  constructor(code) {\r\n    this.name = this.constructor.name\r\n    this.message = code\r\n    this.stack = (new Error(code)).stack\r\n  }\r\n}\r\n\r\nParseError.prototype = Object.create(Error.prototype)\r\nParseError.prototype.constructor = ParseError","// Copy-pasted from:\r\n// https://github.com/substack/semver-compare/blob/master/index.js\r\n//\r\n// Inlining this function because some users reported issues with\r\n// importing from `semver-compare` in a browser with ES6 \"native\" modules.\r\n//\r\n// Fixes `semver-compare` not being able to compare versions with alpha/beta/etc \"tags\".\r\n// https://github.com/catamphetamine/libphonenumber-js/issues/381\r\nexport default function(a, b) {\r\n    a = a.split('-')\r\n    b = b.split('-')\r\n    var pa = a[0].split('.')\r\n    var pb = b[0].split('.')\r\n    for (var i = 0; i < 3; i++) {\r\n        var na = Number(pa[i])\r\n        var nb = Number(pb[i])\r\n        if (na > nb) return 1\r\n        if (nb > na) return -1\r\n        if (!isNaN(na) && isNaN(nb)) return 1\r\n        if (isNaN(na) && !isNaN(nb)) return -1\r\n    }\r\n    if (a[1] && b[1]) {\r\n        return a[1] > b[1] ? 1 : (a[1] < b[1] ? -1 : 0)\r\n    }\r\n    return !a[1] && b[1] ? 1 : (a[1] && !b[1] ? -1 : 0)\r\n}","import compare from './tools/semver-compare'\r\n\r\n// Added \"possibleLengths\" and renamed\r\n// \"country_phone_code_to_countries\" to \"country_calling_codes\".\r\nconst V2 = '1.0.18'\r\n\r\n// Added \"idd_prefix\" and \"default_idd_prefix\".\r\nconst V3 = '1.2.0'\r\n\r\n// Moved `001` country code to \"nonGeographic\" section of metadata.\r\nconst V4 = '1.7.35'\r\n\r\nconst DEFAULT_EXT_PREFIX = ' ext. '\r\n\r\nconst CALLING_CODE_REG_EXP = /^\\d+$/\r\n\r\n/**\r\n * See: https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md\r\n */\r\nexport default class Metadata {\r\n\tconstructor(metadata) {\r\n\t\tvalidateMetadata(metadata)\r\n\t\tthis.metadata = metadata\r\n\t\tsetVersion.call(this, metadata)\r\n\t}\r\n\r\n\tgetCountries() {\r\n\t\treturn Object.keys(this.metadata.countries).filter(_ => _ !== '001')\r\n\t}\r\n\r\n\tgetCountryMetadata(countryCode) {\r\n\t\treturn this.metadata.countries[countryCode]\r\n\t}\r\n\r\n\tnonGeographic() {\r\n\t\tif (this.v1 || this.v2 || this.v3) return\r\n\t\t// `nonGeographical` was a typo.\r\n\t\t// It's present in metadata generated from `1.7.35` to `1.7.37`.\r\n\t\treturn this.metadata.nonGeographic || this.metadata.nonGeographical\r\n\t}\r\n\r\n\thasCountry(country) {\r\n\t\treturn this.getCountryMetadata(country) !== undefined\r\n\t}\r\n\r\n\thasCallingCode(callingCode) {\r\n\t\tif (this.getCountryCodesForCallingCode(callingCode)) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tif (this.nonGeographic()) {\r\n\t\t\tif (this.nonGeographic()[callingCode]) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// A hacky workaround for old custom metadata (generated before V4).\r\n\t\t\tconst countryCodes = this.countryCallingCodes()[callingCode]\r\n\t\t\tif (countryCodes && countryCodes.length === 1 && countryCodes[0] === '001') {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisNonGeographicCallingCode(callingCode) {\r\n\t\tif (this.nonGeographic()) {\r\n\t\t\treturn this.nonGeographic()[callingCode] ? true : false\r\n\t\t} else {\r\n\t\t\treturn this.getCountryCodesForCallingCode(callingCode) ? false : true\r\n\t\t}\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tcountry(countryCode) {\r\n\t\treturn this.selectNumberingPlan(countryCode)\r\n\t}\r\n\r\n\tselectNumberingPlan(countryCode, callingCode) {\r\n\t\t// Supports just passing `callingCode` as the first argument.\r\n\t\tif (countryCode && CALLING_CODE_REG_EXP.test(countryCode)) {\r\n\t\t\tcallingCode = countryCode\r\n\t\t\tcountryCode = null\r\n\t\t}\r\n\t\tif (countryCode && countryCode !== '001') {\r\n\t\t\tif (!this.hasCountry(countryCode)) {\r\n\t\t\t\tthrow new Error(`Unknown country: ${countryCode}`)\r\n\t\t\t}\r\n\t\t\tthis.numberingPlan = new NumberingPlan(this.getCountryMetadata(countryCode), this)\r\n\t\t} else if (callingCode) {\r\n\t\t\tif (!this.hasCallingCode(callingCode)) {\r\n\t\t\t\tthrow new Error(`Unknown calling code: ${callingCode}`)\r\n\t\t\t}\r\n\t\t\tthis.numberingPlan = new NumberingPlan(this.getNumberingPlanMetadata(callingCode), this)\r\n\t\t} else {\r\n\t\t\tthis.numberingPlan = undefined\r\n\t\t}\r\n\t\treturn this\r\n\t}\r\n\r\n\tgetCountryCodesForCallingCode(callingCode) {\r\n\t\tconst countryCodes = this.countryCallingCodes()[callingCode]\r\n\t\tif (countryCodes) {\r\n\t\t\t// Metadata before V4 included \"non-geographic entity\" calling codes\r\n\t\t\t// inside `country_calling_codes` (for example, `\"881\":[\"001\"]`).\r\n\t\t\t// Now the semantics of `country_calling_codes` has changed:\r\n\t\t\t// it's specifically for \"countries\" now.\r\n\t\t\t// Older versions of custom metadata will simply skip parsing\r\n\t\t\t// \"non-geographic entity\" phone numbers with new versions\r\n\t\t\t// of this library: it's not considered a bug,\r\n\t\t\t// because such numbers are extremely rare,\r\n\t\t\t// and developers extremely rarely use custom metadata.\r\n\t\t\tif (countryCodes.length === 1 && countryCodes[0].length === 3) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn countryCodes\r\n\t\t}\r\n\t}\r\n\r\n\tgetCountryCodeForCallingCode(callingCode) {\r\n\t\tconst countryCodes = this.getCountryCodesForCallingCode(callingCode)\r\n\t\tif (countryCodes) {\r\n\t\t\treturn countryCodes[0]\r\n\t\t}\r\n\t}\r\n\r\n\tgetNumberingPlanMetadata(callingCode) {\r\n\t\tconst countryCode = this.getCountryCodeForCallingCode(callingCode)\r\n\t\tif (countryCode) {\r\n\t\t\treturn this.getCountryMetadata(countryCode)\r\n\t\t}\r\n\t\tif (this.nonGeographic()) {\r\n\t\t\tconst metadata = this.nonGeographic()[callingCode]\r\n\t\t\tif (metadata) {\r\n\t\t\t\treturn metadata\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// A hacky workaround for old custom metadata (generated before V4).\r\n\t\t\tconst countryCodes = this.countryCallingCodes()[callingCode]\r\n\t\t\tif (countryCodes && countryCodes.length === 1 && countryCodes[0] === '001') {\r\n\t\t\t\treturn this.metadata.countries['001']\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tcountryCallingCode() {\r\n\t\treturn this.numberingPlan.callingCode()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tIDDPrefix() {\r\n\t\treturn this.numberingPlan.IDDPrefix()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tdefaultIDDPrefix() {\r\n\t\treturn this.numberingPlan.defaultIDDPrefix()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tnationalNumberPattern() {\r\n\t\treturn this.numberingPlan.nationalNumberPattern()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tpossibleLengths() {\r\n\t\treturn this.numberingPlan.possibleLengths()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tformats() {\r\n\t\treturn this.numberingPlan.formats()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tnationalPrefixForParsing() {\r\n\t\treturn this.numberingPlan.nationalPrefixForParsing()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tnationalPrefixTransformRule() {\r\n\t\treturn this.numberingPlan.nationalPrefixTransformRule()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tleadingDigits() {\r\n\t\treturn this.numberingPlan.leadingDigits()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\thasTypes() {\r\n\t\treturn this.numberingPlan.hasTypes()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\ttype(type) {\r\n\t\treturn this.numberingPlan.type(type)\r\n\t}\r\n\r\n\t// Deprecated.\r\n\text() {\r\n\t\treturn this.numberingPlan.ext()\r\n\t}\r\n\r\n\tcountryCallingCodes() {\r\n\t\tif (this.v1) return this.metadata.country_phone_code_to_countries\r\n\t\treturn this.metadata.country_calling_codes\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tchooseCountryByCountryCallingCode(callingCode) {\r\n\t\treturn this.selectNumberingPlan(callingCode)\r\n\t}\r\n\r\n\thasSelectedNumberingPlan() {\r\n\t\treturn this.numberingPlan !== undefined\r\n\t}\r\n}\r\n\r\nclass NumberingPlan {\r\n\tconstructor(metadata, globalMetadataObject) {\r\n\t\tthis.globalMetadataObject = globalMetadataObject\r\n\t\tthis.metadata = metadata\r\n\t\tsetVersion.call(this, globalMetadataObject.metadata)\r\n\t}\r\n\r\n\tcallingCode() {\r\n\t\treturn this.metadata[0]\r\n\t}\r\n\r\n\t// Formatting information for regions which share\r\n\t// a country calling code is contained by only one region\r\n\t// for performance reasons. For example, for NANPA region\r\n\t// (\"North American Numbering Plan Administration\",\r\n\t//  which includes USA, Canada, Cayman Islands, Bahamas, etc)\r\n\t// it will be contained in the metadata for `US`.\r\n\tgetDefaultCountryMetadataForRegion() {\r\n\t\treturn this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())\r\n\t}\r\n\r\n\t// Is always present.\r\n\tIDDPrefix() {\r\n\t\tif (this.v1 || this.v2) return\r\n\t\treturn this.metadata[1]\r\n\t}\r\n\r\n\t// Is only present when a country supports multiple IDD prefixes.\r\n\tdefaultIDDPrefix() {\r\n\t\tif (this.v1 || this.v2) return\r\n\t\treturn this.metadata[12]\r\n\t}\r\n\r\n\tnationalNumberPattern() {\r\n\t\tif (this.v1 || this.v2) return this.metadata[1]\r\n\t\treturn this.metadata[2]\r\n\t}\r\n\r\n\t// Is always present.\r\n\tpossibleLengths() {\r\n\t\tif (this.v1) return\r\n\t\treturn this.metadata[this.v2 ? 2 : 3]\r\n\t}\r\n\r\n\t_getFormats(metadata) {\r\n\t\treturn metadata[this.v1 ? 2 : this.v2 ? 3 : 4]\r\n\t}\r\n\r\n\t// For countries of the same region (e.g. NANPA)\r\n\t// formats are all stored in the \"main\" country for that region.\r\n\t// E.g. \"RU\" and \"KZ\", \"US\" and \"CA\".\r\n\tformats() {\r\n\t\tconst formats = this._getFormats(this.metadata) || this._getFormats(this.getDefaultCountryMetadataForRegion()) || []\r\n\t\treturn formats.map(_ => new Format(_, this))\r\n\t}\r\n\r\n\tnationalPrefix() {\r\n\t\treturn this.metadata[this.v1 ? 3 : this.v2 ? 4 : 5]\r\n\t}\r\n\r\n\t_getNationalPrefixFormattingRule(metadata) {\r\n\t\treturn metadata[this.v1 ? 4 : this.v2 ? 5 : 6]\r\n\t}\r\n\r\n\t// For countries of the same region (e.g. NANPA)\r\n\t// national prefix formatting rule is stored in the \"main\" country for that region.\r\n\t// E.g. \"RU\" and \"KZ\", \"US\" and \"CA\".\r\n\tnationalPrefixFormattingRule() {\r\n\t\treturn this._getNationalPrefixFormattingRule(this.metadata) || this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())\r\n\t}\r\n\r\n\t_nationalPrefixForParsing() {\r\n\t\treturn this.metadata[this.v1 ? 5 : this.v2 ? 6 : 7]\r\n\t}\r\n\r\n\tnationalPrefixForParsing() {\r\n\t\t// If `national_prefix_for_parsing` is not set explicitly,\r\n\t\t// then infer it from `national_prefix` (if any)\r\n\t\treturn this._nationalPrefixForParsing() || this.nationalPrefix()\r\n\t}\r\n\r\n\tnationalPrefixTransformRule() {\r\n\t\treturn this.metadata[this.v1 ? 6 : this.v2 ? 7 : 8]\r\n\t}\r\n\r\n\t_getNationalPrefixIsOptionalWhenFormatting() {\r\n\t\treturn !!this.metadata[this.v1 ? 7 : this.v2 ? 8 : 9]\r\n\t}\r\n\r\n\t// For countries of the same region (e.g. NANPA)\r\n\t// \"national prefix is optional when formatting\" flag is\r\n\t// stored in the \"main\" country for that region.\r\n\t// E.g. \"RU\" and \"KZ\", \"US\" and \"CA\".\r\n\tnationalPrefixIsOptionalWhenFormattingInNationalFormat() {\r\n\t\treturn this._getNationalPrefixIsOptionalWhenFormatting(this.metadata) ||\r\n\t\t\tthis._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())\r\n\t}\r\n\r\n\tleadingDigits() {\r\n\t\treturn this.metadata[this.v1 ? 8 : this.v2 ? 9 : 10]\r\n\t}\r\n\r\n\ttypes() {\r\n\t\treturn this.metadata[this.v1 ? 9 : this.v2 ? 10 : 11]\r\n\t}\r\n\r\n\thasTypes() {\r\n\t\t// Versions 1.2.0 - 1.2.4: can be `[]`.\r\n\t\t/* istanbul ignore next */\r\n\t\tif (this.types() && this.types().length === 0) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t// Versions <= 1.2.4: can be `undefined`.\r\n\t\t// Version >= 1.2.5: can be `0`.\r\n\t\treturn !!this.types()\r\n\t}\r\n\r\n\ttype(type) {\r\n\t\tif (this.hasTypes() && getType(this.types(), type)) {\r\n\t\t\treturn new Type(getType(this.types(), type), this)\r\n\t\t}\r\n\t}\r\n\r\n\text() {\r\n\t\tif (this.v1 || this.v2) return DEFAULT_EXT_PREFIX\r\n\t\treturn this.metadata[13] || DEFAULT_EXT_PREFIX\r\n\t}\r\n}\r\n\r\nclass Format {\r\n\tconstructor(format, metadata) {\r\n\t\tthis._format = format\r\n\t\tthis.metadata = metadata\r\n\t}\r\n\r\n\tpattern() {\r\n\t\treturn this._format[0]\r\n\t}\r\n\r\n\tformat() {\r\n\t\treturn this._format[1]\r\n\t}\r\n\r\n\tleadingDigitsPatterns() {\r\n\t\treturn this._format[2] || []\r\n\t}\r\n\r\n\tnationalPrefixFormattingRule() {\r\n\t\treturn this._format[3] || this.metadata.nationalPrefixFormattingRule()\r\n\t}\r\n\r\n\tnationalPrefixIsOptionalWhenFormattingInNationalFormat() {\r\n\t\treturn !!this._format[4] || this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()\r\n\t}\r\n\r\n\tnationalPrefixIsMandatoryWhenFormattingInNationalFormat() {\r\n\t\t// National prefix is omitted if there's no national prefix formatting rule\r\n\t\t// set for this country, or when the national prefix formatting rule\r\n\t\t// contains no national prefix itself, or when this rule is set but\r\n\t\t// national prefix is optional for this phone number format\r\n\t\t// (and it is not enforced explicitly)\r\n\t\treturn this.usesNationalPrefix() && !this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()\r\n\t}\r\n\r\n\t// Checks whether national prefix formatting rule contains national prefix.\r\n\tusesNationalPrefix() {\r\n\t\treturn this.nationalPrefixFormattingRule() &&\r\n\t\t\t// Check that national prefix formatting rule is not a \"dummy\" one.\r\n\t\t\t!FIRST_GROUP_ONLY_PREFIX_PATTERN.test(this.nationalPrefixFormattingRule())\r\n\t\t\t// In compressed metadata, `this.nationalPrefixFormattingRule()` is `0`\r\n\t\t\t// when `national_prefix_formatting_rule` is not present.\r\n\t\t\t// So, `true` or `false` are returned explicitly here, so that\r\n\t\t\t// `0` number isn't returned.\r\n\t\t\t? true\r\n\t\t\t: false\r\n\t}\r\n\r\n\tinternationalFormat() {\r\n\t\treturn this._format[5] || this.format()\r\n\t}\r\n}\r\n\r\n/**\r\n * A pattern that is used to determine if the national prefix formatting rule\r\n * has the first group only, i.e., does not start with the national prefix.\r\n * Note that the pattern explicitly allows for unbalanced parentheses.\r\n */\r\nconst FIRST_GROUP_ONLY_PREFIX_PATTERN = /^\\(?\\$1\\)?$/\r\n\r\nclass Type {\r\n\tconstructor(type, metadata) {\r\n\t\tthis.type = type\r\n\t\tthis.metadata = metadata\r\n\t}\r\n\r\n\tpattern() {\r\n\t\tif (this.metadata.v1) return this.type\r\n\t\treturn this.type[0]\r\n\t}\r\n\r\n\tpossibleLengths() {\r\n\t\tif (this.metadata.v1) return\r\n\t\treturn this.type[1] || this.metadata.possibleLengths()\r\n\t}\r\n}\r\n\r\nfunction getType(types, type) {\r\n\tswitch (type) {\r\n\t\tcase 'FIXED_LINE':\r\n\t\t\treturn types[0]\r\n\t\tcase 'MOBILE':\r\n\t\t\treturn types[1]\r\n\t\tcase 'TOLL_FREE':\r\n\t\t\treturn types[2]\r\n\t\tcase 'PREMIUM_RATE':\r\n\t\t\treturn types[3]\r\n\t\tcase 'PERSONAL_NUMBER':\r\n\t\t\treturn types[4]\r\n\t\tcase 'VOICEMAIL':\r\n\t\t\treturn types[5]\r\n\t\tcase 'UAN':\r\n\t\t\treturn types[6]\r\n\t\tcase 'PAGER':\r\n\t\t\treturn types[7]\r\n\t\tcase 'VOIP':\r\n\t\t\treturn types[8]\r\n\t\tcase 'SHARED_COST':\r\n\t\t\treturn types[9]\r\n\t}\r\n}\r\n\r\nexport function validateMetadata(metadata) {\r\n\tif (!metadata) {\r\n\t\tthrow new Error('[libphonenumber-js] `metadata` argument not passed. Check your arguments.')\r\n\t}\r\n\r\n\t// `country_phone_code_to_countries` was renamed to\r\n\t// `country_calling_codes` in `1.0.18`.\r\n\tif (!is_object(metadata) || !is_object(metadata.countries)) {\r\n\t\tthrow new Error(`[libphonenumber-js] \\`metadata\\` argument was passed but it's not a valid metadata. Must be an object having \\`.countries\\` child object property. Got ${is_object(metadata) ? 'an object of shape: { ' + Object.keys(metadata).join(', ') + ' }' : 'a ' + type_of(metadata) + ': ' + metadata}.`)\r\n\t}\r\n}\r\n\r\n// Babel transforms `typeof` into some \"branches\"\r\n// so istanbul will show this as \"branch not covered\".\r\n/* istanbul ignore next */\r\nconst is_object = _ => typeof _ === 'object'\r\n\r\n// Babel transforms `typeof` into some \"branches\"\r\n// so istanbul will show this as \"branch not covered\".\r\n/* istanbul ignore next */\r\nconst type_of = _ => typeof _\r\n\r\n/**\r\n * Returns extension prefix for a country.\r\n * @param  {string} country\r\n * @param  {object} metadata\r\n * @return {string?}\r\n * @example\r\n * // Returns \" ext. \"\r\n * getExtPrefix(\"US\")\r\n */\r\nexport function getExtPrefix(country, metadata) {\r\n\tmetadata = new Metadata(metadata)\r\n\tif (metadata.hasCountry(country)) {\r\n\t\treturn metadata.country(country).ext()\r\n\t}\r\n\treturn DEFAULT_EXT_PREFIX\r\n}\r\n\r\n/**\r\n * Returns \"country calling code\" for a country.\r\n * Throws an error if the country doesn't exist or isn't supported by this library.\r\n * @param  {string} country\r\n * @param  {object} metadata\r\n * @return {string}\r\n * @example\r\n * // Returns \"44\"\r\n * getCountryCallingCode(\"GB\")\r\n */\r\nexport function getCountryCallingCode(country, metadata) {\r\n\tmetadata = new Metadata(metadata)\r\n\tif (metadata.hasCountry(country)) {\r\n\t\treturn metadata.country(country).countryCallingCode()\r\n\t}\r\n\tthrow new Error(`Unknown country: ${country}`)\r\n}\r\n\r\nexport function isSupportedCountry(country, metadata) {\r\n\t// metadata = new Metadata(metadata)\r\n\t// return metadata.hasCountry(country)\r\n\treturn metadata.countries[country] !== undefined\r\n}\r\n\r\nfunction setVersion(metadata) {\r\n\tconst { version } = metadata\r\n\tif (typeof version === 'number') {\r\n\t\tthis.v1 = version === 1\r\n\t\tthis.v2 = version === 2\r\n\t\tthis.v3 = version === 3\r\n\t\tthis.v4 = version === 4\r\n\t} else {\r\n\t\tif (!version) {\r\n\t\t\tthis.v1 = true\r\n\t\t} else if (compare(version, V3) === -1) {\r\n\t\t\tthis.v2 = true\r\n\t\t} else if (compare(version, V4) === -1) {\r\n\t\t\tthis.v3 = true\r\n\t\t} else {\r\n\t\t\tthis.v4 = true\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// const ISO_COUNTRY_CODE = /^[A-Z]{2}$/\r\n// function isCountryCode(countryCode) {\r\n// \treturn ISO_COUNTRY_CODE.test(countryCodeOrCountryCallingCode)\r\n// }","import { VALID_DIGITS } from '../../constants'\r\n\r\n// The RFC 3966 format for extensions.\r\nconst RFC3966_EXTN_PREFIX = ';ext='\r\n\r\n/**\r\n * Helper method for constructing regular expressions for parsing. Creates\r\n * an expression that captures up to max_length digits.\r\n * @return {string} RegEx pattern to capture extension digits.\r\n */\r\nconst getExtensionDigitsPattern = (maxLength) => `([${VALID_DIGITS}]{1,${maxLength}})`\r\n\r\n/**\r\n * Helper initialiser method to create the regular-expression pattern to match\r\n * extensions.\r\n * Copy-pasted from Google's `libphonenumber`:\r\n * https://github.com/google/libphonenumber/blob/55b2646ec9393f4d3d6661b9c82ef9e258e8b829/javascript/i18n/phonenumbers/phonenumberutil.js#L759-L766\r\n * @return {string} RegEx pattern to capture extensions.\r\n */\r\nexport default function createExtensionPattern(purpose) {\r\n\t// We cap the maximum length of an extension based on the ambiguity of the way\r\n\t// the extension is prefixed. As per ITU, the officially allowed length for\r\n\t// extensions is actually 40, but we don't support this since we haven't seen real\r\n\t// examples and this introduces many false interpretations as the extension labels\r\n\t// are not standardized.\r\n\t/** @type {string} */\r\n\tvar extLimitAfterExplicitLabel = '20';\r\n\t/** @type {string} */\r\n\tvar extLimitAfterLikelyLabel = '15';\r\n\t/** @type {string} */\r\n\tvar extLimitAfterAmbiguousChar = '9';\r\n\t/** @type {string} */\r\n\tvar extLimitWhenNotSure = '6';\r\n\r\n\t/** @type {string} */\r\n\tvar possibleSeparatorsBetweenNumberAndExtLabel = \"[ \\u00A0\\\\t,]*\";\r\n\t// Optional full stop (.) or colon, followed by zero or more spaces/tabs/commas.\r\n\t/** @type {string} */\r\n\tvar possibleCharsAfterExtLabel = \"[:\\\\.\\uFF0E]?[ \\u00A0\\\\t,-]*\";\r\n\t/** @type {string} */\r\n\tvar optionalExtnSuffix = \"#?\";\r\n\r\n\t// Here the extension is called out in more explicit way, i.e mentioning it obvious\r\n\t// patterns like \"ext.\".\r\n\t/** @type {string} */\r\n\tvar explicitExtLabels =\r\n\t  \"(?:e?xt(?:ensi(?:o\\u0301?|\\u00F3))?n?|\\uFF45?\\uFF58\\uFF54\\uFF4E?|\\u0434\\u043E\\u0431|anexo)\";\r\n\t// One-character symbols that can be used to indicate an extension, and less\r\n\t// commonly used or more ambiguous extension labels.\r\n\t/** @type {string} */\r\n\tvar ambiguousExtLabels = \"(?:[x\\uFF58#\\uFF03~\\uFF5E]|int|\\uFF49\\uFF4E\\uFF54)\";\r\n\t// When extension is not separated clearly.\r\n\t/** @type {string} */\r\n\tvar ambiguousSeparator = \"[- ]+\";\r\n\t// This is the same as possibleSeparatorsBetweenNumberAndExtLabel, but not matching\r\n\t// comma as extension label may have it.\r\n\t/** @type {string} */\r\n\tvar possibleSeparatorsNumberExtLabelNoComma = \"[ \\u00A0\\\\t]*\";\r\n\t// \",,\" is commonly used for auto dialling the extension when connected. First\r\n\t// comma is matched through possibleSeparatorsBetweenNumberAndExtLabel, so we do\r\n\t// not repeat it here. Semi-colon works in Iphone and Android also to pop up a\r\n\t// button with the extension number following.\r\n\t/** @type {string} */\r\n\tvar autoDiallingAndExtLabelsFound = \"(?:,{2}|;)\";\r\n\r\n\t/** @type {string} */\r\n\tvar rfcExtn = RFC3966_EXTN_PREFIX\r\n\t     + getExtensionDigitsPattern(extLimitAfterExplicitLabel);\r\n\t/** @type {string} */\r\n\tvar explicitExtn = possibleSeparatorsBetweenNumberAndExtLabel + explicitExtLabels\r\n\t     + possibleCharsAfterExtLabel\r\n\t     + getExtensionDigitsPattern(extLimitAfterExplicitLabel)\r\n\t     + optionalExtnSuffix;\r\n\t/** @type {string} */\r\n\tvar ambiguousExtn = possibleSeparatorsBetweenNumberAndExtLabel + ambiguousExtLabels\r\n\t     + possibleCharsAfterExtLabel\r\n\t+ getExtensionDigitsPattern(extLimitAfterAmbiguousChar)\r\n\t+ optionalExtnSuffix;\r\n\t/** @type {string} */\r\n\tvar americanStyleExtnWithSuffix = ambiguousSeparator\r\n\t+ getExtensionDigitsPattern(extLimitWhenNotSure) + \"#\";\r\n\r\n\t/** @type {string} */\r\n\tvar autoDiallingExtn = possibleSeparatorsNumberExtLabelNoComma\r\n\t     + autoDiallingAndExtLabelsFound + possibleCharsAfterExtLabel\r\n\t     + getExtensionDigitsPattern(extLimitAfterLikelyLabel)\r\n\t+ optionalExtnSuffix;\r\n\t/** @type {string} */\r\n\tvar onlyCommasExtn = possibleSeparatorsNumberExtLabelNoComma\r\n\t    + \"(?:,)+\" + possibleCharsAfterExtLabel\r\n\t    + getExtensionDigitsPattern(extLimitAfterAmbiguousChar)\r\n\t    + optionalExtnSuffix;\r\n\r\n\t// The first regular expression covers RFC 3966 format, where the extension is added\r\n\t// using \";ext=\". The second more generic where extension is mentioned with explicit\r\n\t// labels like \"ext:\". In both the above cases we allow more numbers in extension than\r\n\t// any other extension labels. The third one captures when single character extension\r\n\t// labels or less commonly used labels are used. In such cases we capture fewer\r\n\t// extension digits in order to reduce the chance of falsely interpreting two\r\n\t// numbers beside each other as a number + extension. The fourth one covers the\r\n\t// special case of American numbers where the extension is written with a hash\r\n\t// at the end, such as \"- 503#\". The fifth one is exclusively for extension\r\n\t// autodialling formats which are used when dialling and in this case we accept longer\r\n\t// extensions. The last one is more liberal on the number of commas that acts as\r\n\t// extension labels, so we have a strict cap on the number of digits in such extensions.\r\n\treturn rfcExtn + \"|\"\r\n\t       + explicitExtn + \"|\"\r\n\t       + ambiguousExtn + \"|\"\r\n\t       + americanStyleExtnWithSuffix + \"|\"\r\n\t       + autoDiallingExtn + \"|\"\r\n\t       + onlyCommasExtn;\r\n}","import {\r\n\tMIN_LENGTH_FOR_NSN,\r\n\tVALID_DIGITS,\r\n\tVALID_PUNCTUATION,\r\n\tPLUS_CHARS\r\n} from '../constants'\r\n\r\nimport createExtensionPattern from './extension/createExtensionPattern'\r\n\r\n//  Regular expression of viable phone numbers. This is location independent.\r\n//  Checks we have at least three leading digits, and only valid punctuation,\r\n//  alpha characters and digits in the phone number. Does not include extension\r\n//  data. The symbol 'x' is allowed here as valid punctuation since it is often\r\n//  used as a placeholder for carrier codes, for example in Brazilian phone\r\n//  numbers. We also allow multiple '+' characters at the start.\r\n//\r\n//  Corresponds to the following:\r\n//  [digits]{minLengthNsn}|\r\n//  plus_sign*\r\n//  (([punctuation]|[star])*[digits]){3,}([punctuation]|[star]|[digits]|[alpha])*\r\n//\r\n//  The first reg-ex is to allow short numbers (two digits long) to be parsed if\r\n//  they are entered as \"15\" etc, but only if there is no punctuation in them.\r\n//  The second expression restricts the number of digits to three or more, but\r\n//  then allows them to be in international form, and to have alpha-characters\r\n//  and punctuation. We split up the two reg-exes here and combine them when\r\n//  creating the reg-ex VALID_PHONE_NUMBER_PATTERN itself so we can prefix it\r\n//  with ^ and append $ to each branch.\r\n//\r\n//  \"Note VALID_PUNCTUATION starts with a -,\r\n//   so must be the first in the range\" (c) Google devs.\r\n//  (wtf did they mean by saying that; probably nothing)\r\n//\r\nconst MIN_LENGTH_PHONE_NUMBER_PATTERN = '[' + VALID_DIGITS + ']{' + MIN_LENGTH_FOR_NSN + '}'\r\n//\r\n// And this is the second reg-exp:\r\n// (see MIN_LENGTH_PHONE_NUMBER_PATTERN for a full description of this reg-exp)\r\n//\r\nexport const VALID_PHONE_NUMBER =\r\n\t'[' + PLUS_CHARS + ']{0,1}' +\r\n\t'(?:' +\r\n\t\t'[' + VALID_PUNCTUATION + ']*' +\r\n\t\t'[' + VALID_DIGITS + ']' +\r\n\t'){3,}' +\r\n\t'[' +\r\n\t\tVALID_PUNCTUATION +\r\n\t\tVALID_DIGITS +\r\n\t']*'\r\n\r\n// This regular expression isn't present in Google's `libphonenumber`\r\n// and is only used to determine whether the phone number being input\r\n// is too short for it to even consider it a \"valid\" number.\r\n// This is just a way to differentiate between a really invalid phone\r\n// number like \"abcde\" and a valid phone number that a user has just\r\n// started inputting, like \"+1\" or \"1\": both these cases would be\r\n// considered `NOT_A_NUMBER` by Google's `libphonenumber`, but this\r\n// library can provide a more detailed error message — whether it's\r\n// really \"not a number\", or is it just a start of a valid phone number.\r\nconst VALID_PHONE_NUMBER_START_REG_EXP = new RegExp(\r\n\t'^' +\r\n\t'[' + PLUS_CHARS + ']{0,1}' +\r\n\t'(?:' +\r\n\t\t'[' + VALID_PUNCTUATION + ']*' +\r\n\t\t'[' + VALID_DIGITS + ']' +\r\n\t'){1,2}' +\r\n\t'$'\r\n, 'i')\r\n\r\nexport const VALID_PHONE_NUMBER_WITH_EXTENSION =\r\n\tVALID_PHONE_NUMBER +\r\n\t// Phone number extensions\r\n\t'(?:' + createExtensionPattern() + ')?'\r\n\r\n// The combined regular expression for valid phone numbers:\r\n//\r\nconst VALID_PHONE_NUMBER_PATTERN = new RegExp(\r\n\t// Either a short two-digit-only phone number\r\n\t'^' +\r\n\t\tMIN_LENGTH_PHONE_NUMBER_PATTERN +\r\n\t'$' +\r\n\t'|' +\r\n\t// Or a longer fully parsed phone number (min 3 characters)\r\n\t'^' +\r\n\t\tVALID_PHONE_NUMBER_WITH_EXTENSION +\r\n\t'$'\r\n, 'i')\r\n\r\n// Checks to see if the string of characters could possibly be a phone number at\r\n// all. At the moment, checks to see that the string begins with at least 2\r\n// digits, ignoring any punctuation commonly found in phone numbers. This method\r\n// does not require the number to be normalized in advance - but does assume\r\n// that leading non-number symbols have been removed, such as by the method\r\n// `extract_possible_number`.\r\n//\r\nexport default function isViablePhoneNumber(number) {\r\n\treturn number.length >= MIN_LENGTH_FOR_NSN &&\r\n\t\tVALID_PHONE_NUMBER_PATTERN.test(number)\r\n}\r\n\r\n// This is just a way to differentiate between a really invalid phone\r\n// number like \"abcde\" and a valid phone number that a user has just\r\n// started inputting, like \"+1\" or \"1\": both these cases would be\r\n// considered `NOT_A_NUMBER` by Google's `libphonenumber`, but this\r\n// library can provide a more detailed error message — whether it's\r\n// really \"not a number\", or is it just a start of a valid phone number.\r\nexport function isViablePhoneNumberStart(number) {\r\n\treturn VALID_PHONE_NUMBER_START_REG_EXP.test(number)\r\n}","import createExtensionPattern from './createExtensionPattern'\r\n\r\n// Regexp of all known extension prefixes used by different regions followed by\r\n// 1 or more valid digits, for use when parsing.\r\nconst EXTN_PATTERN = new RegExp('(?:' + createExtensionPattern() + ')$', 'i')\r\n\r\n// Strips any extension (as in, the part of the number dialled after the call is\r\n// connected, usually indicated with extn, ext, x or similar) from the end of\r\n// the number, and returns it.\r\nexport default function extractExtension(number) {\r\n\tconst start = number.search(EXTN_PATTERN)\r\n\tif (start < 0) {\r\n\t\treturn {}\r\n\t}\r\n\t// If we find a potential extension, and the number preceding this is a viable\r\n\t// number, we assume it is an extension.\r\n\tconst numberWithoutExtension = number.slice(0, start)\r\n\tconst matches = number.match(EXTN_PATTERN)\r\n\tlet i = 1\r\n\twhile (i < matches.length) {\r\n\t\tif (matches[i]) {\r\n\t\t\treturn {\r\n\t\t\t\tnumber: numberWithoutExtension,\r\n\t\t\t\text: matches[i]\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}","// These mappings map a character (key) to a specific digit that should\r\n// replace it for normalization purposes. Non-European digits that\r\n// may be used in phone numbers are mapped to a European equivalent.\r\n//\r\n// E.g. in Iraq they don't write `+442323234` but rather `+٤٤٢٣٢٣٢٣٤`.\r\n//\r\nexport const DIGITS = {\r\n\t'0': '0',\r\n\t'1': '1',\r\n\t'2': '2',\r\n\t'3': '3',\r\n\t'4': '4',\r\n\t'5': '5',\r\n\t'6': '6',\r\n\t'7': '7',\r\n\t'8': '8',\r\n\t'9': '9',\r\n\t'\\uFF10': '0', // Fullwidth digit 0\r\n\t'\\uFF11': '1', // Fullwidth digit 1\r\n\t'\\uFF12': '2', // Fullwidth digit 2\r\n\t'\\uFF13': '3', // Fullwidth digit 3\r\n\t'\\uFF14': '4', // Fullwidth digit 4\r\n\t'\\uFF15': '5', // Fullwidth digit 5\r\n\t'\\uFF16': '6', // Fullwidth digit 6\r\n\t'\\uFF17': '7', // Fullwidth digit 7\r\n\t'\\uFF18': '8', // Fullwidth digit 8\r\n\t'\\uFF19': '9', // Fullwidth digit 9\r\n\t'\\u0660': '0', // Arabic-indic digit 0\r\n\t'\\u0661': '1', // Arabic-indic digit 1\r\n\t'\\u0662': '2', // Arabic-indic digit 2\r\n\t'\\u0663': '3', // Arabic-indic digit 3\r\n\t'\\u0664': '4', // Arabic-indic digit 4\r\n\t'\\u0665': '5', // Arabic-indic digit 5\r\n\t'\\u0666': '6', // Arabic-indic digit 6\r\n\t'\\u0667': '7', // Arabic-indic digit 7\r\n\t'\\u0668': '8', // Arabic-indic digit 8\r\n\t'\\u0669': '9', // Arabic-indic digit 9\r\n\t'\\u06F0': '0', // Eastern-Arabic digit 0\r\n\t'\\u06F1': '1', // Eastern-Arabic digit 1\r\n\t'\\u06F2': '2', // Eastern-Arabic digit 2\r\n\t'\\u06F3': '3', // Eastern-Arabic digit 3\r\n\t'\\u06F4': '4', // Eastern-Arabic digit 4\r\n\t'\\u06F5': '5', // Eastern-Arabic digit 5\r\n\t'\\u06F6': '6', // Eastern-Arabic digit 6\r\n\t'\\u06F7': '7', // Eastern-Arabic digit 7\r\n\t'\\u06F8': '8', // Eastern-Arabic digit 8\r\n\t'\\u06F9': '9'  // Eastern-Arabic digit 9\r\n}\r\n\r\nexport function parseDigit(character) {\r\n\treturn DIGITS[character]\r\n}\r\n\r\n/**\r\n * Parses phone number digits from a string.\r\n * Drops all punctuation leaving only digits.\r\n * Also converts wide-ascii and arabic-indic numerals to conventional numerals.\r\n * E.g. in Iraq they don't write `+442323234` but rather `+٤٤٢٣٢٣٢٣٤`.\r\n * @param  {string} string\r\n * @return {string}\r\n * @example\r\n * ```js\r\n * parseDigits('8 (800) 555')\r\n * // Outputs '8800555'.\r\n * ```\r\n */\r\nexport default function parseDigits(string) {\r\n\tlet result = ''\r\n\t// Using `.split('')` here instead of normal `for ... of`\r\n\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t// (the ones consisting of four bytes) but digits\r\n\t// (including non-European ones) don't fall into that range\r\n\t// so such \"exotic\" characters would be discarded anyway.\r\n\tfor (const character of string.split('')) {\r\n\t\tconst digit = parseDigit(character)\r\n\t\tif (digit) {\r\n\t\t\tresult += digit\r\n\t\t}\r\n\t}\r\n\treturn result\r\n}","import { parseDigit } from './helpers/parseDigits'\r\n\r\n/**\r\n * Parses phone number characters from a string.\r\n * Drops all punctuation leaving only digits and the leading `+` sign (if any).\r\n * Also converts wide-ascii and arabic-indic numerals to conventional numerals.\r\n * E.g. in Iraq they don't write `+442323234` but rather `+٤٤٢٣٢٣٢٣٤`.\r\n * @param  {string} string\r\n * @return {string}\r\n * @example\r\n * ```js\r\n * // Outputs '8800555'.\r\n * parseIncompletePhoneNumber('8 (800) 555')\r\n * // Outputs '+7800555'.\r\n * parseIncompletePhoneNumber('+7 800 555')\r\n * ```\r\n */\r\nexport default function parseIncompletePhoneNumber(string) {\r\n\tlet result = ''\r\n\t// Using `.split('')` here instead of normal `for ... of`\r\n\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t// (the ones consisting of four bytes) but digits\r\n\t// (including non-European ones) don't fall into that range\r\n\t// so such \"exotic\" characters would be discarded anyway.\r\n\tfor (const character of string.split('')) {\r\n\t\tresult += parsePhoneNumberCharacter(character, result) || ''\r\n\t}\r\n\treturn result\r\n}\r\n\r\n/**\r\n * Parses next character while parsing phone number digits (including a `+`)\r\n * from text: discards everything except `+` and digits, and `+` is only allowed\r\n * at the start of a phone number.\r\n * For example, is used in `react-phone-number-input` where it uses\r\n * [`input-format`](https://gitlab.com/catamphetamine/input-format).\r\n * @param  {string} character - Yet another character from raw input string.\r\n * @param  {string?} prevParsedCharacters - Previous parsed characters.\r\n * @param  {object} meta - Optional custom use-case-specific metadata.\r\n * @return {string?} The parsed character.\r\n */\r\nexport function parsePhoneNumberCharacter(character, prevParsedCharacters) {\r\n\t// Only allow a leading `+`.\r\n\tif (character === '+') {\r\n\t\t// If this `+` is not the first parsed character\r\n\t\t// then discard it.\r\n\t\tif (prevParsedCharacters) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\treturn '+'\r\n\t}\r\n\t// Allow digits.\r\n\treturn parseDigit(character)\r\n}","import mergeArrays from './mergeArrays'\r\n\r\nexport default function checkNumberLength(nationalNumber, metadata) {\r\n\treturn checkNumberLengthForType(nationalNumber, undefined, metadata)\r\n}\r\n\r\n// Checks whether a number is possible for the country based on its length.\r\n// Should only be called for the \"new\" metadata which has \"possible lengths\".\r\nexport function checkNumberLengthForType(nationalNumber, type, metadata) {\r\n\tconst type_info = metadata.type(type)\r\n\r\n\t// There should always be \"<possiblePengths/>\" set for every type element.\r\n\t// This is declared in the XML schema.\r\n\t// For size efficiency, where a sub-description (e.g. fixed-line)\r\n\t// has the same \"<possiblePengths/>\" as the \"general description\", this is missing,\r\n\t// so we fall back to the \"general description\". Where no numbers of the type\r\n\t// exist at all, there is one possible length (-1) which is guaranteed\r\n\t// not to match the length of any real phone number.\r\n\tlet possible_lengths = type_info && type_info.possibleLengths() || metadata.possibleLengths()\r\n\t// let local_lengths    = type_info && type.possibleLengthsLocal() || metadata.possibleLengthsLocal()\r\n\r\n\t// Metadata before version `1.0.18` didn't contain `possible_lengths`.\r\n\tif (!possible_lengths) {\r\n\t\treturn 'IS_POSSIBLE'\r\n\t}\r\n\r\n\tif (type === 'FIXED_LINE_OR_MOBILE') {\r\n\t\t// No such country in metadata.\r\n\t\t/* istanbul ignore next */\r\n\t\tif (!metadata.type('FIXED_LINE')) {\r\n\t\t\t// The rare case has been encountered where no fixedLine data is available\r\n\t\t\t// (true for some non-geographic entities), so we just check mobile.\r\n\t\t\treturn checkNumberLengthForType(nationalNumber, 'MOBILE', metadata)\r\n\t\t}\r\n\r\n\t\tconst mobile_type = metadata.type('MOBILE')\r\n\t\tif (mobile_type) {\r\n\t\t\t// Merge the mobile data in if there was any. \"Concat\" creates a new\r\n\t\t\t// array, it doesn't edit possible_lengths in place, so we don't need a copy.\r\n\t\t\t// Note that when adding the possible lengths from mobile, we have\r\n\t\t\t// to again check they aren't empty since if they are this indicates\r\n\t\t\t// they are the same as the general desc and should be obtained from there.\r\n\t\t\tpossible_lengths = mergeArrays(possible_lengths, mobile_type.possibleLengths())\r\n\t\t\t// The current list is sorted; we need to merge in the new list and\r\n\t\t\t// re-sort (duplicates are okay). Sorting isn't so expensive because\r\n\t\t\t// the lists are very small.\r\n\r\n\t\t\t// if (local_lengths) {\r\n\t\t\t// \tlocal_lengths = mergeArrays(local_lengths, mobile_type.possibleLengthsLocal())\r\n\t\t\t// } else {\r\n\t\t\t// \tlocal_lengths = mobile_type.possibleLengthsLocal()\r\n\t\t\t// }\r\n\t\t}\r\n\t}\r\n\t// If the type doesn't exist then return 'INVALID_LENGTH'.\r\n\telse if (type && !type_info) {\r\n\t\treturn 'INVALID_LENGTH'\r\n\t}\r\n\r\n\tconst actual_length = nationalNumber.length\r\n\r\n\t// In `libphonenumber-js` all \"local-only\" formats are dropped for simplicity.\r\n\t// // This is safe because there is never an overlap beween the possible lengths\r\n\t// // and the local-only lengths; this is checked at build time.\r\n\t// if (local_lengths && local_lengths.indexOf(nationalNumber.length) >= 0)\r\n\t// {\r\n\t// \treturn 'IS_POSSIBLE_LOCAL_ONLY'\r\n\t// }\r\n\r\n\tconst minimum_length = possible_lengths[0]\r\n\r\n\tif (minimum_length === actual_length) {\r\n\t\treturn 'IS_POSSIBLE'\r\n\t}\r\n\r\n\tif (minimum_length > actual_length) {\r\n\t\treturn 'TOO_SHORT'\r\n\t}\r\n\r\n\tif (possible_lengths[possible_lengths.length - 1] < actual_length) {\r\n\t\treturn 'TOO_LONG'\r\n\t}\r\n\r\n\t// We skip the first element since we've already checked it.\r\n\treturn possible_lengths.indexOf(actual_length, 1) >= 0 ? 'IS_POSSIBLE' : 'INVALID_LENGTH'\r\n}","/**\r\n * Merges two arrays.\r\n * @param  {*} a\r\n * @param  {*} b\r\n * @return {*}\r\n */\r\nexport default function mergeArrays(a, b) {\r\n\tconst merged = a.slice()\r\n\r\n\tfor (const element of b) {\r\n\t\tif (a.indexOf(element) < 0) {\r\n\t\t\tmerged.push(element)\r\n\t\t}\r\n\t}\r\n\r\n\treturn merged.sort((a, b) => a - b)\r\n\r\n\t// ES6 version, requires Set polyfill.\r\n\t// let merged = new Set(a)\r\n\t// for (const element of b) {\r\n\t// \tmerged.add(i)\r\n\t// }\r\n\t// return Array.from(merged).sort((a, b) => a - b)\r\n}","import Metadata from './metadata'\r\nimport checkNumberLength from './helpers/checkNumberLength'\r\n\r\nexport default function isPossiblePhoneNumber(input, options, metadata) {\r\n\t/* istanbul ignore if */\r\n\tif (options === undefined) {\r\n\t\toptions = {}\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\tif (options.v2) {\r\n\t\tif (!input.countryCallingCode) {\r\n\t\t\tthrow new Error('Invalid phone number object passed')\r\n\t\t}\r\n\t\tmetadata.selectNumberingPlan(input.countryCallingCode)\r\n\t} else {\r\n\t\tif (!input.phone) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tif (input.country) {\r\n\t\t\tif (!metadata.hasCountry(input.country)) {\r\n\t\t\t\tthrow new Error(`Unknown country: ${input.country}`)\r\n\t\t\t}\r\n\t\t\tmetadata.country(input.country)\r\n\t\t} else {\r\n\t\t\tif (!input.countryCallingCode) {\r\n\t\t\t\tthrow new Error('Invalid phone number object passed')\r\n\t\t\t}\r\n\t\t\tmetadata.selectNumberingPlan(input.countryCallingCode)\r\n\t\t}\r\n\t}\r\n\r\n\tif (metadata.possibleLengths()) {\r\n\t\treturn isPossibleNumber(input.phone || input.nationalNumber, metadata)\r\n\t} else {\r\n\t\t// There was a bug between `1.7.35` and `1.7.37` where \"possible_lengths\"\r\n\t\t// were missing for \"non-geographical\" numbering plans.\r\n\t\t// Just assume the number is possible in such cases:\r\n\t\t// it's unlikely that anyone generated their custom metadata\r\n\t\t// in that short period of time (one day).\r\n\t\t// This code can be removed in some future major version update.\r\n\t\tif (input.countryCallingCode && metadata.isNonGeographicCallingCode(input.countryCallingCode)) {\r\n\t\t\t// \"Non-geographic entities\" did't have `possibleLengths`\r\n\t\t\t// due to a bug in metadata generation process.\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\tthrow new Error('Missing \"possibleLengths\" in metadata. Perhaps the metadata has been generated before v1.0.18.');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isPossibleNumber(nationalNumber, metadata) { //, isInternational) {\r\n\tswitch (checkNumberLength(nationalNumber, metadata)) {\r\n\t\tcase 'IS_POSSIBLE':\r\n\t\t\treturn true\r\n\t\t// This library ignores \"local-only\" phone numbers (for simplicity).\r\n\t\t// See the readme for more info on what are \"local-only\" phone numbers.\r\n\t\t// case 'IS_POSSIBLE_LOCAL_ONLY':\r\n\t\t// \treturn !isInternational\r\n\t\tdefault:\r\n\t\t\treturn false\r\n\t}\r\n}","/**\r\n * Checks whether the entire input sequence can be matched\r\n * against the regular expression.\r\n * @return {boolean}\r\n */\r\nexport default function matchesEntirely(text, regular_expression) {\r\n\t// If assigning the `''` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\ttext = text || ''\r\n\treturn new RegExp('^(?:' + regular_expression + ')$').test(text)\r\n}","import Metadata from '../metadata'\r\nimport matchesEntirely from './matchesEntirely'\r\n\r\nconst NON_FIXED_LINE_PHONE_TYPES = [\r\n\t'MOBILE',\r\n\t'PREMIUM_RATE',\r\n\t'TOLL_FREE',\r\n\t'SHARED_COST',\r\n\t'VOIP',\r\n\t'PERSONAL_NUMBER',\r\n\t'PAGER',\r\n\t'UAN',\r\n\t'VOICEMAIL'\r\n]\r\n\r\n// Finds out national phone number type (fixed line, mobile, etc)\r\nexport default function getNumberType(input, options, metadata)\r\n{\r\n\t// If assigning the `{}` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\toptions = options || {}\r\n\r\n\t// When `parse()` returned `{}`\r\n\t// meaning that the phone number is not a valid one.\r\n\tif (!input.country) {\r\n\t\treturn\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\tmetadata.selectNumberingPlan(input.country, input.countryCallingCode)\r\n\r\n\tconst nationalNumber = options.v2 ? input.nationalNumber : input.phone\r\n\r\n\t// The following is copy-pasted from the original function:\r\n\t// https://github.com/googlei18n/libphonenumber/blob/3ea547d4fbaa2d0b67588904dfa5d3f2557c27ff/javascript/i18n/phonenumbers/phonenumberutil.js#L2835\r\n\r\n\t// Is this national number even valid for this country\r\n\tif (!matchesEntirely(nationalNumber, metadata.nationalNumberPattern())) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Is it fixed line number\r\n\tif (isNumberTypeEqualTo(nationalNumber, 'FIXED_LINE', metadata)) {\r\n\t\t// Because duplicate regular expressions are removed\r\n\t\t// to reduce metadata size, if \"mobile\" pattern is \"\"\r\n\t\t// then it means it was removed due to being a duplicate of the fixed-line pattern.\r\n\t\t//\r\n\t\tif (metadata.type('MOBILE') && metadata.type('MOBILE').pattern() === '') {\r\n\t\t\treturn 'FIXED_LINE_OR_MOBILE'\r\n\t\t}\r\n\r\n\t\t// v1 metadata.\r\n\t\t// Legacy.\r\n\t\t// Deprecated.\r\n\t\tif (!metadata.type('MOBILE')) {\r\n\t\t\treturn 'FIXED_LINE_OR_MOBILE'\r\n\t\t}\r\n\r\n\t\t// Check if the number happens to qualify as both fixed line and mobile.\r\n\t\t// (no such country in the minimal metadata set)\r\n\t\t/* istanbul ignore if */\r\n\t\tif (isNumberTypeEqualTo(nationalNumber, 'MOBILE', metadata)) {\r\n\t\t\treturn 'FIXED_LINE_OR_MOBILE'\r\n\t\t}\r\n\r\n\t\treturn 'FIXED_LINE'\r\n\t}\r\n\r\n\tfor (const type of NON_FIXED_LINE_PHONE_TYPES) {\r\n\t\tif (isNumberTypeEqualTo(nationalNumber, type, metadata)) {\r\n\t\t\treturn type\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isNumberTypeEqualTo(nationalNumber, type, metadata) {\r\n\ttype = metadata.type(type)\r\n\tif (!type || !type.pattern()) {\r\n\t\treturn false\r\n\t}\r\n\t// Check if any possible number lengths are present;\r\n\t// if so, we use them to avoid checking\r\n\t// the validation pattern if they don't match.\r\n\t// If they are absent, this means they match\r\n\t// the general description, which we have\r\n\t// already checked before a specific number type.\r\n\tif (type.possibleLengths() &&\r\n\t\ttype.possibleLengths().indexOf(nationalNumber.length) < 0) {\r\n\t\treturn false\r\n\t}\r\n\treturn matchesEntirely(nationalNumber, type.pattern())\r\n}","import { VALID_PUNCTUATION } from '../constants'\r\n\r\n// Removes brackets and replaces dashes with spaces.\r\n//\r\n// E.g. \"(999) 111-22-33\" -> \"999 111 22 33\"\r\n//\r\n// For some reason Google's metadata contains `<intlFormat/>`s with brackets and dashes.\r\n// Meanwhile, there's no single opinion about using punctuation in international phone numbers.\r\n//\r\n// For example, Google's `<intlFormat/>` for USA is `+1 213-373-4253`.\r\n// And here's a quote from WikiPedia's \"North American Numbering Plan\" page:\r\n// https://en.wikipedia.org/wiki/North_American_Numbering_Plan\r\n//\r\n// \"The country calling code for all countries participating in the NANP is 1.\r\n// In international format, an NANP number should be listed as +1 301 555 01 00,\r\n// where 301 is an area code (Maryland).\"\r\n//\r\n// I personally prefer the international format without any punctuation.\r\n// For example, brackets are remnants of the old age, meaning that the\r\n// phone number part in brackets (so called \"area code\") can be omitted\r\n// if dialing within the same \"area\".\r\n// And hyphens were clearly introduced for splitting local numbers into memorizable groups.\r\n// For example, remembering \"5553535\" is difficult but \"555-35-35\" is much simpler.\r\n// Imagine a man taking a bus from home to work and seeing an ad with a phone number.\r\n// He has a couple of seconds to memorize that number until it passes by.\r\n// If it were spaces instead of hyphens the man wouldn't necessarily get it,\r\n// but with hyphens instead of spaces the grouping is more explicit.\r\n// I personally think that hyphens introduce visual clutter,\r\n// so I prefer replacing them with spaces in international numbers.\r\n// In the modern age all output is done on displays where spaces are clearly distinguishable\r\n// so hyphens can be safely replaced with spaces without losing any legibility.\r\n//\r\nexport default function applyInternationalSeparatorStyle(formattedNumber) {\r\n\treturn formattedNumber.replace(new RegExp(`[${VALID_PUNCTUATION}]+`, 'g'), ' ').trim()\r\n}","import applyInternationalSeparatorStyle from './applyInternationalSeparatorStyle'\r\n\r\n// This was originally set to $1 but there are some countries for which the\r\n// first group is not used in the national pattern (e.g. Argentina) so the $1\r\n// group does not match correctly. Therefore, we use `\\d`, so that the first\r\n// group actually used in the pattern will be matched.\r\nexport const FIRST_GROUP_PATTERN = /(\\$\\d)/\r\n\r\nexport default function formatNationalNumberUsingFormat(\r\n\tnumber,\r\n\tformat,\r\n\t{\r\n\t\tuseInternationalFormat,\r\n\t\twithNationalPrefix,\r\n\t\tcarrierCode,\r\n\t\tmetadata\r\n\t}\r\n) {\r\n\tconst formattedNumber = number.replace(\r\n\t\tnew RegExp(format.pattern()),\r\n\t\tuseInternationalFormat\r\n\t\t\t? format.internationalFormat()\r\n\t\t\t: (\r\n\t\t\t\t// This library doesn't use `domestic_carrier_code_formatting_rule`,\r\n\t\t\t\t// because that one is only used when formatting phone numbers\r\n\t\t\t\t// for dialing from a mobile phone, and this is not a dialing library.\r\n\t\t\t\t// carrierCode && format.domesticCarrierCodeFormattingRule()\r\n\t\t\t\t// \t// First, replace the $CC in the formatting rule with the desired carrier code.\r\n\t\t\t\t// \t// Then, replace the $FG in the formatting rule with the first group\r\n\t\t\t\t// \t// and the carrier code combined in the appropriate way.\r\n\t\t\t\t// \t? format.format().replace(FIRST_GROUP_PATTERN, format.domesticCarrierCodeFormattingRule().replace('$CC', carrierCode))\r\n\t\t\t\t// \t: (\r\n\t\t\t\t// \t\twithNationalPrefix && format.nationalPrefixFormattingRule()\r\n\t\t\t\t// \t\t\t? format.format().replace(FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule())\r\n\t\t\t\t// \t\t\t: format.format()\r\n\t\t\t\t// \t)\r\n\t\t\t\twithNationalPrefix && format.nationalPrefixFormattingRule()\r\n\t\t\t\t\t? format.format().replace(FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule())\r\n\t\t\t\t\t: format.format()\r\n\t\t\t)\r\n\t)\r\n\tif (useInternationalFormat) {\r\n\t\treturn applyInternationalSeparatorStyle(formattedNumber)\r\n\t}\r\n\treturn formattedNumber\r\n}","import Metadata from '../metadata'\r\n\r\n/**\r\n * Pattern that makes it easy to distinguish whether a region has a single\r\n * international dialing prefix or not. If a region has a single international\r\n * prefix (e.g. 011 in USA), it will be represented as a string that contains\r\n * a sequence of ASCII digits, and possibly a tilde, which signals waiting for\r\n * the tone. If there are multiple available international prefixes in a\r\n * region, they will be represented as a regex string that always contains one\r\n * or more characters that are not ASCII digits or a tilde.\r\n */\r\nconst SINGLE_IDD_PREFIX_REG_EXP = /^[\\d]+(?:[~\\u2053\\u223C\\uFF5E][\\d]+)?$/\r\n\r\n// For regions that have multiple IDD prefixes\r\n// a preferred IDD prefix is returned.\r\nexport default function getIddPrefix(country, callingCode, metadata) {\r\n\tconst countryMetadata = new Metadata(metadata)\r\n\tcountryMetadata.selectNumberingPlan(country, callingCode)\r\n\tif (countryMetadata.defaultIDDPrefix()) {\r\n\t\treturn countryMetadata.defaultIDDPrefix()\r\n\t}\r\n\tif (SINGLE_IDD_PREFIX_REG_EXP.test(countryMetadata.IDDPrefix())) {\r\n\t\treturn countryMetadata.IDDPrefix()\r\n\t}\r\n}\r\n","// This is a port of Google Android `libphonenumber`'s\r\n// `phonenumberutil.js` of December 31th, 2018.\r\n//\r\n// https://github.com/googlei18n/libphonenumber/commits/master/javascript/i18n/phonenumbers/phonenumberutil.js\r\n\r\nimport matchesEntirely from './helpers/matchesEntirely'\r\nimport formatNationalNumberUsingFormat from './helpers/formatNationalNumberUsingFormat'\r\nimport Metadata, { getCountryCallingCode } from './metadata'\r\nimport getIddPrefix from './helpers/getIddPrefix'\r\nimport { formatRFC3966 } from './helpers/RFC3966'\r\n\r\nconst DEFAULT_OPTIONS = {\r\n\tformatExtension: (formattedNumber, extension, metadata) => `${formattedNumber}${metadata.ext()}${extension}`\r\n}\r\n\r\n// Formats a phone number\r\n//\r\n// Example use cases:\r\n//\r\n// ```js\r\n// formatNumber('8005553535', 'RU', 'INTERNATIONAL')\r\n// formatNumber('8005553535', 'RU', 'INTERNATIONAL', metadata)\r\n// formatNumber({ phone: '8005553535', country: 'RU' }, 'INTERNATIONAL')\r\n// formatNumber({ phone: '8005553535', country: 'RU' }, 'INTERNATIONAL', metadata)\r\n// formatNumber('+78005553535', 'NATIONAL')\r\n// formatNumber('+78005553535', 'NATIONAL', metadata)\r\n// ```\r\n//\r\nexport default function formatNumber(input, format, options, metadata) {\r\n\t// Apply default options.\r\n\tif (options) {\r\n\t\toptions = { ...DEFAULT_OPTIONS, ...options }\r\n\t} else {\r\n\t\toptions = DEFAULT_OPTIONS\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\tif (input.country && input.country !== '001') {\r\n\t\t// Validate `input.country`.\r\n\t\tif (!metadata.hasCountry(input.country)) {\r\n\t\t\tthrow new Error(`Unknown country: ${input.country}`)\r\n\t\t}\r\n\t\tmetadata.country(input.country)\r\n\t}\r\n\telse if (input.countryCallingCode) {\r\n\t\tmetadata.selectNumberingPlan(input.countryCallingCode)\r\n\t}\r\n\telse return input.phone || ''\r\n\r\n\tconst countryCallingCode = metadata.countryCallingCode()\r\n\r\n\tconst nationalNumber = options.v2 ? input.nationalNumber : input.phone\r\n\r\n\t// This variable should have been declared inside `case`s\r\n\t// but Babel has a bug and it says \"duplicate variable declaration\".\r\n\tlet number\r\n\r\n\tswitch (format) {\r\n\t\tcase 'NATIONAL':\r\n\t\t\t// Legacy argument support.\r\n\t\t\t// (`{ country: ..., phone: '' }`)\r\n\t\t\tif (!nationalNumber) {\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t\tnumber = formatNationalNumber(nationalNumber, input.carrierCode, 'NATIONAL', metadata, options)\r\n\t\t\treturn addExtension(number, input.ext, metadata, options.formatExtension)\r\n\r\n\t\tcase 'INTERNATIONAL':\r\n\t\t\t// Legacy argument support.\r\n\t\t\t// (`{ country: ..., phone: '' }`)\r\n\t\t\tif (!nationalNumber) {\r\n\t\t\t\treturn `+${countryCallingCode}`\r\n\t\t\t}\r\n\t\t\tnumber = formatNationalNumber(nationalNumber, null, 'INTERNATIONAL', metadata, options)\r\n\t\t\tnumber = `+${countryCallingCode} ${number}`\r\n\t\t\treturn addExtension(number, input.ext, metadata, options.formatExtension)\r\n\r\n\t\tcase 'E.164':\r\n\t\t\t// `E.164` doesn't define \"phone number extensions\".\r\n\t\t\treturn `+${countryCallingCode}${nationalNumber}`\r\n\r\n\t\tcase 'RFC3966':\r\n\t\t\treturn formatRFC3966({\r\n\t\t\t\tnumber: `+${countryCallingCode}${nationalNumber}`,\r\n\t\t\t\text: input.ext\r\n\t\t\t})\r\n\r\n\t\t// For reference, here's Google's IDD formatter:\r\n\t\t// https://github.com/google/libphonenumber/blob/32719cf74e68796788d1ca45abc85dcdc63ba5b9/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L1546\r\n\t\t// Not saying that this IDD formatter replicates it 1:1, but it seems to work.\r\n\t\t// Who would even need to format phone numbers in IDD format anyway?\r\n\t\tcase 'IDD':\r\n\t\t\tif (!options.fromCountry) {\r\n\t\t\t\treturn\r\n\t\t\t\t// throw new Error('`fromCountry` option not passed for IDD-prefixed formatting.')\r\n\t\t\t}\r\n\t\t\tconst formattedNumber = formatIDD(\r\n\t\t\t\tnationalNumber,\r\n\t\t\t\tinput.carrierCode,\r\n\t\t\t\tcountryCallingCode,\r\n\t\t\t\toptions.fromCountry,\r\n\t\t\t\tmetadata\r\n\t\t\t)\r\n\t\t\treturn addExtension(formattedNumber, input.ext, metadata, options.formatExtension)\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error(`Unknown \"format\" argument passed to \"formatNumber()\": \"${format}\"`)\r\n\t}\r\n}\r\n\r\nfunction formatNationalNumber(number, carrierCode, formatAs, metadata, options) {\r\n\tconst format = chooseFormatForNumber(metadata.formats(), number)\r\n\tif (!format) {\r\n\t\treturn number\r\n\t}\r\n\treturn formatNationalNumberUsingFormat(\r\n\t\tnumber,\r\n\t\tformat,\r\n\t\t{\r\n\t\t\tuseInternationalFormat: formatAs === 'INTERNATIONAL',\r\n\t\t\twithNationalPrefix: format.nationalPrefixIsOptionalWhenFormattingInNationalFormat() && (options && options.nationalPrefix === false) ? false : true,\r\n\t\t\tcarrierCode,\r\n\t\t\tmetadata\r\n\t\t}\r\n\t)\r\n}\r\n\r\nfunction chooseFormatForNumber(availableFormats, nationalNnumber) {\r\n\tfor (const format of availableFormats) {\r\n\t\t// Validate leading digits\r\n\t\tif (format.leadingDigitsPatterns().length > 0) {\r\n\t\t\t// The last leading_digits_pattern is used here, as it is the most detailed\r\n\t\t\tconst lastLeadingDigitsPattern = format.leadingDigitsPatterns()[format.leadingDigitsPatterns().length - 1]\r\n\t\t\t// If leading digits don't match then move on to the next phone number format\r\n\t\t\tif (nationalNnumber.search(lastLeadingDigitsPattern) !== 0) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Check that the national number matches the phone number format regular expression\r\n\t\tif (matchesEntirely(nationalNnumber, format.pattern())) {\r\n\t\t\treturn format\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction addExtension(formattedNumber, ext, metadata, formatExtension) {\r\n\treturn ext ? formatExtension(formattedNumber, ext, metadata) : formattedNumber\r\n}\r\n\r\nfunction formatIDD(\r\n\tnationalNumber,\r\n\tcarrierCode,\r\n\tcountryCallingCode,\r\n\tfromCountry,\r\n\tmetadata\r\n) {\r\n\tconst fromCountryCallingCode = getCountryCallingCode(fromCountry, metadata.metadata)\r\n\t// When calling within the same country calling code.\r\n\tif (fromCountryCallingCode === countryCallingCode) {\r\n\t\tconst formattedNumber = formatNationalNumber(nationalNumber, carrierCode, 'NATIONAL', metadata)\r\n\t\t// For NANPA regions, return the national format for these regions\r\n\t\t// but prefix it with the country calling code.\r\n\t\tif (countryCallingCode === '1') {\r\n\t\t\treturn countryCallingCode + ' ' + formattedNumber\r\n\t\t}\r\n\t\t// If regions share a country calling code, the country calling code need\r\n\t\t// not be dialled. This also applies when dialling within a region, so this\r\n\t\t// if clause covers both these cases. Technically this is the case for\r\n\t\t// dialling from La Reunion to other overseas departments of France (French\r\n\t\t// Guiana, Martinique, Guadeloupe), but not vice versa - so we don't cover\r\n\t\t// this edge case for now and for those cases return the version including\r\n\t\t// country calling code. Details here:\r\n\t\t// http://www.petitfute.com/voyage/225-info-pratiques-reunion\r\n\t\t//\r\n\t\treturn formattedNumber\r\n\t}\r\n\tconst iddPrefix = getIddPrefix(fromCountry, undefined, metadata.metadata)\r\n\tif (iddPrefix) {\r\n\t\treturn `${iddPrefix} ${countryCallingCode} ${formatNationalNumber(nationalNumber, null, 'INTERNATIONAL', metadata)}`\r\n\t}\r\n}","import isViablePhoneNumber from './isViablePhoneNumber'\r\n\r\n// https://www.ietf.org/rfc/rfc3966.txt\r\n\r\n/**\r\n * @param  {string} text - Phone URI (RFC 3966).\r\n * @return {object} `{ ?number, ?ext }`.\r\n */\r\nexport function parseRFC3966(text) {\r\n\tlet number\r\n\tlet ext\r\n\r\n\t// Replace \"tel:\" with \"tel=\" for parsing convenience.\r\n\ttext = text.replace(/^tel:/, 'tel=')\r\n\r\n\tfor (const part of text.split(';')) {\r\n\t\tconst [name, value] = part.split('=')\r\n\t\tswitch (name) {\r\n\t\t\tcase 'tel':\r\n\t\t\t\tnumber = value\r\n\t\t\t\tbreak\r\n\t\t\tcase 'ext':\r\n\t\t\t\text = value\r\n\t\t\t\tbreak\r\n\t\t\tcase 'phone-context':\r\n\t\t\t\t// Only \"country contexts\" are supported.\r\n\t\t\t\t// \"Domain contexts\" are ignored.\r\n\t\t\t\tif (value[0] === '+') {\r\n\t\t\t\t\tnumber = value + number\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\t// If the phone number is not viable, then abort.\r\n\tif (!isViablePhoneNumber(number)) {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tconst result = { number }\r\n\tif (ext) {\r\n\t\tresult.ext = ext\r\n\t}\r\n\treturn result\r\n}\r\n\r\n/**\r\n * @param  {object} - `{ ?number, ?extension }`.\r\n * @return {string} Phone URI (RFC 3966).\r\n */\r\nexport function formatRFC3966({ number, ext }) {\r\n\tif (!number) {\r\n\t\treturn ''\r\n\t}\r\n\tif (number[0] !== '+') {\r\n\t\tthrow new Error(`\"formatRFC3966()\" expects \"number\" to be in E.164 format.`)\r\n\t}\r\n\treturn `tel:${number}${ext ? ';ext=' + ext : ''}`\r\n}","import Metadata from './metadata'\r\nimport isPossibleNumber from './isPossibleNumber_'\r\nimport isValidNumber from './validate_'\r\nimport isValidNumberForRegion from './isValidNumberForRegion_'\r\nimport getNumberType from './helpers/getNumberType'\r\nimport formatNumber from './format_'\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\nexport default class PhoneNumber {\r\n\tconstructor(countryCallingCode, nationalNumber, metadata) {\r\n\t\tif (!countryCallingCode) {\r\n\t\t\tthrow new TypeError('`country` or `countryCallingCode` not passed')\r\n\t\t}\r\n\t\tif (!nationalNumber) {\r\n\t\t\tthrow new TypeError('`nationalNumber` not passed')\r\n\t\t}\r\n\t\tif (!metadata) {\r\n\t\t\tthrow new TypeError('`metadata` not passed')\r\n\t\t}\r\n\t\tconst _metadata = new Metadata(metadata)\r\n\t\t// If country code is passed then derive `countryCallingCode` from it.\r\n\t\t// Also store the country code as `.country`.\r\n\t\tif (isCountryCode(countryCallingCode)) {\r\n\t\t\tthis.country = countryCallingCode\r\n\t\t\t_metadata.country(countryCallingCode)\r\n\t\t\tcountryCallingCode = _metadata.countryCallingCode()\r\n\t\t} else {\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t\tif (_metadata.isNonGeographicCallingCode(countryCallingCode)) {\r\n\t\t\t\t\tthis.country = '001'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.countryCallingCode = countryCallingCode\r\n\t\tthis.nationalNumber = nationalNumber\r\n\t\tthis.number = '+' + this.countryCallingCode + this.nationalNumber\r\n\t\tthis.metadata = metadata\r\n\t}\r\n\r\n\tsetExt(ext) {\r\n\t\tthis.ext = ext\r\n\t}\r\n\r\n\tisPossible() {\r\n\t\treturn isPossibleNumber(this, { v2: true }, this.metadata)\r\n\t}\r\n\r\n\tisValid() {\r\n\t\treturn isValidNumber(this, { v2: true }, this.metadata)\r\n\t}\r\n\r\n\tisNonGeographic() {\r\n\t\tconst metadata = new Metadata(this.metadata)\r\n\t\treturn metadata.isNonGeographicCallingCode(this.countryCallingCode)\r\n\t}\r\n\r\n\tisEqual(phoneNumber) {\r\n\t\treturn this.number === phoneNumber.number && this.ext === phoneNumber.ext\r\n\t}\r\n\r\n\t// // Is just an alias for `this.isValid() && this.country === country`.\r\n\t// // https://github.com/googlei18n/libphonenumber/blob/master/FAQ.md#when-should-i-use-isvalidnumberforregion\r\n\t// isValidForRegion(country) {\r\n\t// \treturn isValidNumberForRegion(this, country, { v2: true }, this.metadata)\r\n\t// }\r\n\r\n\tgetType() {\r\n\t\treturn getNumberType(this, { v2: true }, this.metadata)\r\n\t}\r\n\r\n\tformat(format, options) {\r\n\t\treturn formatNumber(\r\n\t\t\tthis,\r\n\t\t\tformat,\r\n\t\t\toptions ? { ...options, v2: true } : { v2: true },\r\n\t\t\tthis.metadata\r\n\t\t)\r\n\t}\r\n\r\n\tformatNational(options) {\r\n\t\treturn this.format('NATIONAL', options)\r\n\t}\r\n\r\n\tformatInternational(options) {\r\n\t\treturn this.format('INTERNATIONAL', options)\r\n\t}\r\n\r\n\tgetURI(options) {\r\n\t\treturn this.format('RFC3966', options)\r\n\t}\r\n}\r\n\r\nconst isCountryCode = (value) => /^[A-Z]{2}$/.test(value)","import Metadata from './metadata'\r\nimport matchesEntirely from './helpers/matchesEntirely'\r\nimport getNumberType from './helpers/getNumberType'\r\n\r\n/**\r\n * Checks if a given phone number is valid.\r\n *\r\n * If the `number` is a string, it will be parsed to an object,\r\n * but only if it contains only valid phone number characters (including punctuation).\r\n * If the `number` is an object, it is used as is.\r\n *\r\n * The optional `defaultCountry` argument is the default country.\r\n * I.e. it does not restrict to just that country,\r\n * e.g. in those cases where several countries share\r\n * the same phone numbering rules (NANPA, Britain, etc).\r\n * For example, even though the number `07624 369230`\r\n * belongs to the Isle of Man (\"IM\" country code)\r\n * calling `isValidNumber('07624369230', 'GB', metadata)`\r\n * still returns `true` because the country is not restricted to `GB`,\r\n * it's just that `GB` is the default one for the phone numbering rules.\r\n * For restricting the country see `isValidNumberForRegion()`\r\n * though restricting a country might not be a good idea.\r\n * https://github.com/googlei18n/libphonenumber/blob/master/FAQ.md#when-should-i-use-isvalidnumberforregion\r\n *\r\n * Examples:\r\n *\r\n * ```js\r\n * isValidNumber('+78005553535', metadata)\r\n * isValidNumber('8005553535', 'RU', metadata)\r\n * isValidNumber('88005553535', 'RU', metadata)\r\n * isValidNumber({ phone: '8005553535', country: 'RU' }, metadata)\r\n * ```\r\n */\r\nexport default function isValidNumber(input, options, metadata)\r\n{\r\n\t// If assigning the `{}` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\toptions = options || {}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\t// This is just to support `isValidNumber({})`\r\n\t// for cases when `parseNumber()` returns `{}`.\r\n\tif (!input.country)\r\n\t{\r\n\t\treturn false\r\n\t}\r\n\r\n\tmetadata.selectNumberingPlan(input.country, input.countryCallingCode)\r\n\r\n\t// By default, countries only have type regexps when it's required for\r\n\t// distinguishing different countries having the same `countryCallingCode`.\r\n\tif (metadata.hasTypes())\r\n\t{\r\n\t\treturn getNumberType(input, options, metadata.metadata) !== undefined\r\n\t}\r\n\r\n\t// If there are no type regexps for this country in metadata then use\r\n\t// `nationalNumberPattern` as a \"better than nothing\" replacement.\r\n\tconst national_number = options.v2 ? input.nationalNumber : input.phone\r\n\treturn matchesEntirely(national_number, metadata.nationalNumberPattern())\r\n}","import Metadata from '../metadata'\r\nimport { VALID_DIGITS } from '../constants'\r\n\r\nconst CAPTURING_DIGIT_PATTERN = new RegExp('([' + VALID_DIGITS + '])')\r\n\r\nexport default function stripIddPrefix(number, country, callingCode, metadata) {\r\n\tif (!country) {\r\n\t\treturn\r\n\t}\r\n\t// Check if the number is IDD-prefixed.\r\n\tconst countryMetadata = new Metadata(metadata)\r\n\tcountryMetadata.selectNumberingPlan(country, callingCode)\r\n\tconst IDDPrefixPattern = new RegExp(countryMetadata.IDDPrefix())\r\n\tif (number.search(IDDPrefixPattern) !== 0) {\r\n\t\treturn\r\n\t}\r\n\t// Strip IDD prefix.\r\n\tnumber = number.slice(number.match(IDDPrefixPattern)[0].length)\r\n\t// If there're any digits after an IDD prefix,\r\n\t// then those digits are a country calling code.\r\n\t// Since no country code starts with a `0`,\r\n\t// the code below validates that the next digit (if present) is not `0`.\r\n\tconst matchedGroups = number.match(CAPTURING_DIGIT_PATTERN)\r\n\tif (matchedGroups && matchedGroups[1] != null && matchedGroups[1].length > 0) {\r\n\t\tif (matchedGroups[1] === '0') {\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\treturn number\r\n}","/**\r\n * Strips any national prefix (such as 0, 1) present in a\r\n * (possibly incomplete) number provided.\r\n * \"Carrier codes\" are only used  in Colombia and Brazil,\r\n * and only when dialing within those countries from a mobile phone to a fixed line number.\r\n * Sometimes it won't actually strip national prefix\r\n * and will instead prepend some digits to the `number`:\r\n * for example, when number `2345678` is passed with `VI` country selected,\r\n * it will return `{ number: \"3402345678\" }`, because `340` area code is prepended.\r\n * @param {string} number — National number digits.\r\n * @param {object} metadata — Metadata with country selected.\r\n * @return {object} `{ nationalNumber: string, nationalPrefix: string? carrierCode: string? }`.\r\n */\r\nexport default function extractNationalNumberFromPossiblyIncompleteNumber(number, metadata) {\r\n\tif (number && metadata.numberingPlan.nationalPrefixForParsing()) {\r\n\t\t// See METADATA.md for the description of\r\n\t\t// `national_prefix_for_parsing` and `national_prefix_transform_rule`.\r\n\t\t// Attempt to parse the first digits as a national prefix.\r\n\t\tconst prefixPattern = new RegExp('^(?:' + metadata.numberingPlan.nationalPrefixForParsing() + ')')\r\n\t\tconst prefixMatch = prefixPattern.exec(number)\r\n\t\tif (prefixMatch) {\r\n\t\t\tlet nationalNumber\r\n\t\t\tlet carrierCode\r\n\t\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/-/blob/master/METADATA.md#national_prefix_for_parsing--national_prefix_transform_rule\r\n\t\t\t// If a `national_prefix_for_parsing` has any \"capturing groups\"\r\n\t\t\t// then it means that the national (significant) number is equal to\r\n\t\t\t// those \"capturing groups\" transformed via `national_prefix_transform_rule`,\r\n\t\t\t// and nothing could be said about the actual national prefix:\r\n\t\t\t// what is it and was it even there.\r\n\t\t\t// If a `national_prefix_for_parsing` doesn't have any \"capturing groups\",\r\n\t\t\t// then everything it matches is a national prefix.\r\n\t\t\t// To determine whether `national_prefix_for_parsing` matched any\r\n\t\t\t// \"capturing groups\", the value of the result of calling `.exec()`\r\n\t\t\t// is looked at, and if it has non-undefined values where there're\r\n\t\t\t// \"capturing groups\" in the regular expression, then it means\r\n\t\t\t// that \"capturing groups\" have been matched.\r\n\t\t\t// It's not possible to tell whether there'll be any \"capturing gropus\"\r\n\t\t\t// before the matching process, because a `national_prefix_for_parsing`\r\n\t\t\t// could exhibit both behaviors.\r\n\t\t\tconst capturedGroupsCount = prefixMatch.length - 1\r\n\t\t\tconst hasCapturedGroups = capturedGroupsCount > 0 && prefixMatch[capturedGroupsCount]\r\n\t\t\tif (metadata.nationalPrefixTransformRule() && hasCapturedGroups) {\r\n\t\t\t\tnationalNumber = number.replace(\r\n\t\t\t\t\tprefixPattern,\r\n\t\t\t\t\tmetadata.nationalPrefixTransformRule()\r\n\t\t\t\t)\r\n\t\t\t\t// If there's more than one captured group,\r\n\t\t\t\t// then carrier code is the second one.\r\n\t\t\t\tif (capturedGroupsCount > 1) {\r\n\t\t\t\t\tcarrierCode = prefixMatch[1]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If there're no \"capturing groups\",\r\n\t\t\t// or if there're \"capturing groups\" but no\r\n\t\t\t// `national_prefix_transform_rule`,\r\n\t\t\t// then just strip the national prefix from the number,\r\n\t\t\t// and possibly a carrier code.\r\n\t\t\t// Seems like there could be more.\r\n\t\t\telse {\r\n\t\t\t\t// `prefixBeforeNationalNumber` is the whole substring matched by\r\n\t\t\t\t// the `national_prefix_for_parsing` regular expression.\r\n\t\t\t\t// There seem to be no guarantees that it's just a national prefix.\r\n\t\t\t\t// For example, if there's a carrier code, it's gonna be a\r\n\t\t\t\t// part of `prefixBeforeNationalNumber` too.\r\n\t\t\t\tconst prefixBeforeNationalNumber = prefixMatch[0]\r\n\t\t\t\tnationalNumber = number.slice(prefixBeforeNationalNumber.length)\r\n\t\t\t\t// If there's at least one captured group,\r\n\t\t\t\t// then carrier code is the first one.\r\n\t\t\t\tif (hasCapturedGroups) {\r\n\t\t\t\t\tcarrierCode = prefixMatch[1]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Tries to guess whether a national prefix was present in the input.\r\n\t\t\t// This is not something copy-pasted from Google's library:\r\n\t\t\t// they don't seem to have an equivalent for that.\r\n\t\t\t// So this isn't an \"officially approved\" way of doing something like that.\r\n\t\t\t// But since there seems no other existing method, this library uses it.\r\n\t\t\tlet nationalPrefix\r\n\t\t\tif (hasCapturedGroups) {\r\n\t\t\t\tconst possiblePositionOfTheFirstCapturedGroup = number.indexOf(prefixMatch[1])\r\n\t\t\t\tconst possibleNationalPrefix = number.slice(0, possiblePositionOfTheFirstCapturedGroup)\r\n\t\t\t\t// Example: an Argentinian (AR) phone number `0111523456789`.\r\n\t\t\t\t// `prefixMatch[0]` is `01115`, and `$1` is `11`,\r\n\t\t\t\t// and the rest of the phone number is `23456789`.\r\n\t\t\t\t// The national number is transformed via `9$1` to `91123456789`.\r\n\t\t\t\t// National prefix `0` is detected being present at the start.\r\n\t\t\t\t// if (possibleNationalPrefix.indexOf(metadata.numberingPlan.nationalPrefix()) === 0) {\r\n\t\t\t\tif (possibleNationalPrefix === metadata.numberingPlan.nationalPrefix()) {\r\n\t\t\t\t\tnationalPrefix = metadata.numberingPlan.nationalPrefix()\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnationalPrefix = prefixMatch[0]\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tnationalNumber,\r\n\t\t\t\tnationalPrefix,\r\n\t\t\t\tcarrierCode\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n   return {\r\n   \tnationalNumber: number\r\n   }\r\n}","import extractNationalNumberFromPossiblyIncompleteNumber from './extractNationalNumberFromPossiblyIncompleteNumber'\r\nimport matchesEntirely from './matchesEntirely'\r\nimport checkNumberLength from './checkNumberLength'\r\n\r\n/**\r\n * Strips national prefix and carrier code from a complete phone number.\r\n * The difference from the non-\"FromCompleteNumber\" function is that\r\n * it won't extract national prefix if the resultant number is too short\r\n * to be a complete number for the selected phone numbering plan.\r\n * @param  {string} number — Complete phone number digits.\r\n * @param  {Metadata} metadata — Metadata with a phone numbering plan selected.\r\n * @return {object} `{ nationalNumber: string, carrierCode: string? }`.\r\n */\r\nexport default function extractNationalNumber(number, metadata) {\r\n\t// Parsing national prefixes and carrier codes\r\n\t// is only required for local phone numbers\r\n\t// but some people don't understand that\r\n\t// and sometimes write international phone numbers\r\n\t// with national prefixes (or maybe even carrier codes).\r\n\t// http://ucken.blogspot.ru/2016/03/trunk-prefixes-in-skype4b.html\r\n\t// Google's original library forgives such mistakes\r\n\t// and so does this library, because it has been requested:\r\n\t// https://github.com/catamphetamine/libphonenumber-js/issues/127\r\n\tconst {\r\n\t\tnationalNumber,\r\n\t\tcarrierCode\r\n\t} = extractNationalNumberFromPossiblyIncompleteNumber(\r\n\t\tnumber,\r\n\t\tmetadata\r\n\t)\r\n\tif (!shouldExtractNationalPrefix(number, nationalNumber, metadata)) {\r\n\t\t// Don't strip the national prefix.\r\n\t\treturn { nationalNumber: number }\r\n\t}\r\n\t// If a national prefix has been extracted, check to see\r\n\t// if the resultant number isn't too short.\r\n\t// Same code in Google's `libphonenumber`:\r\n\t// https://github.com/google/libphonenumber/blob/e326fa1fc4283bb05eb35cb3c15c18f98a31af33/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L3291-L3302\r\n\t// For some reason, they do this check right after the `national_number_pattern` check\r\n\t// this library does in `shouldExtractNationalPrefix()` function.\r\n\t// Why is there a second \"resultant\" number validity check?\r\n\t// They don't provide an explanation.\r\n\t// This library just copies the behavior.\r\n\tif (number.length !== nationalNumber.length + (carrierCode ? carrierCode.length : 0)) {\r\n\t\t// If not using legacy generated metadata (before version `1.0.18`)\r\n\t\t// then it has \"possible lengths\", so use those to validate the number length.\r\n\t\tif (metadata.possibleLengths()) {\r\n\t\t\t// \"We require that the NSN remaining after stripping the national prefix and\r\n\t\t\t// carrier code be long enough to be a possible length for the region.\r\n\t\t\t// Otherwise, we don't do the stripping, since the original number could be\r\n\t\t\t// a valid short number.\"\r\n\t\t\t// https://github.com/google/libphonenumber/blob/876268eb1ad6cdc1b7b5bef17fc5e43052702d57/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L3236-L3250\r\n\t\t\tswitch (checkNumberLength(nationalNumber, metadata)) {\r\n\t\t\t\tcase 'TOO_SHORT':\r\n\t\t\t\tcase 'INVALID_LENGTH':\r\n\t\t\t\t// case 'IS_POSSIBLE_LOCAL_ONLY':\r\n\t\t\t\t\t// Don't strip the national prefix.\r\n\t\t\t\t\treturn { nationalNumber: number }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn { nationalNumber, carrierCode }\r\n}\r\n\r\n// In some countries, the same digit could be a national prefix\r\n// or a leading digit of a valid phone number.\r\n// For example, in Russia, national prefix is `8`,\r\n// and also `800 555 35 35` is a valid number\r\n// in which `8` is not a national prefix, but the first digit\r\n// of a national (significant) number.\r\n// Same's with Belarus:\r\n// `82004910060` is a valid national (significant) number,\r\n// but `2004910060` is not.\r\n// To support such cases (to prevent the code from always stripping\r\n// national prefix), a condition is imposed: a national prefix\r\n// is not extracted when the original number is \"viable\" and the\r\n// resultant number is not, a \"viable\" national number being the one\r\n// that matches `national_number_pattern`.\r\nfunction shouldExtractNationalPrefix(number, nationalSignificantNumber, metadata) {\r\n\t// The equivalent in Google's code is:\r\n\t// https://github.com/google/libphonenumber/blob/e326fa1fc4283bb05eb35cb3c15c18f98a31af33/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L2969-L3004\r\n\tif (matchesEntirely(number, metadata.nationalNumberPattern()) &&\r\n\t\t!matchesEntirely(nationalSignificantNumber, metadata.nationalNumberPattern())) {\r\n\t\treturn false\r\n\t}\r\n\t// Just \"possible\" number check would be more relaxed, so it's not used.\r\n\t// if (isPossibleNumber(number, metadata) &&\r\n\t// \t!isPossibleNumber(numberWithNationalPrefixExtracted, metadata)) {\r\n\t// \treturn false\r\n\t// }\r\n\treturn true\r\n}","import Metadata from '../metadata'\r\nimport matchesEntirely from './matchesEntirely'\r\nimport extractNationalNumber from './extractNationalNumber'\r\nimport checkNumberLength from './checkNumberLength'\r\nimport getCountryCallingCode from '../getCountryCallingCode'\r\n\r\n/**\r\n * Sometimes some people incorrectly input international phone numbers\r\n * without the leading `+`. This function corrects such input.\r\n * @param  {string} number — Phone number digits.\r\n * @param  {string?} country\r\n * @param  {string?} callingCode\r\n * @param  {object} metadata\r\n * @return {object} `{ countryCallingCode: string?, number: string }`.\r\n */\r\nexport default function extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(\r\n\tnumber,\r\n\tcountry,\r\n\tcallingCode,\r\n\tmetadata\r\n) {\r\n\tconst countryCallingCode = country ? getCountryCallingCode(country, metadata) : callingCode\r\n\tif (number.indexOf(countryCallingCode) === 0) {\r\n\t\tmetadata = new Metadata(metadata)\r\n\t\tmetadata.selectNumberingPlan(country, callingCode)\r\n\t\tconst possibleShorterNumber = number.slice(countryCallingCode.length)\r\n\t\tconst {\r\n\t\t\tnationalNumber: possibleShorterNationalNumber,\r\n\t\t} = extractNationalNumber(\r\n\t\t\tpossibleShorterNumber,\r\n\t\t\tmetadata\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tnationalNumber\r\n\t\t} = extractNationalNumber(\r\n\t\t\tnumber,\r\n\t\t\tmetadata\r\n\t\t)\r\n\t\t// If the number was not valid before but is valid now,\r\n\t\t// or if it was too long before, we consider the number\r\n\t\t// with the country calling code stripped to be a better result\r\n\t\t// and keep that instead.\r\n\t\t// For example, in Germany (+49), `49` is a valid area code,\r\n\t\t// so if a number starts with `49`, it could be both a valid\r\n\t\t// national German number or an international number without\r\n\t\t// a leading `+`.\r\n\t\tif (\r\n\t\t\t(\r\n\t\t\t\t!matchesEntirely(nationalNumber, metadata.nationalNumberPattern())\r\n\t\t\t\t&&\r\n\t\t\t\tmatchesEntirely(possibleShorterNationalNumber, metadata.nationalNumberPattern())\r\n\t\t\t)\r\n\t\t\t||\r\n\t\t\tcheckNumberLength(nationalNumber, metadata) === 'TOO_LONG'\r\n\t\t) {\r\n\t\t\treturn {\r\n\t\t\t\tcountryCallingCode,\r\n\t\t\t\tnumber: possibleShorterNumber\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn { number }\r\n}","import stripIddPrefix from './stripIddPrefix'\r\nimport extractCountryCallingCodeFromInternationalNumberWithoutPlusSign from './extractCountryCallingCodeFromInternationalNumberWithoutPlusSign'\r\nimport Metadata from '../metadata'\r\nimport { MAX_LENGTH_COUNTRY_CODE } from '../constants'\r\n\r\n/**\r\n * Converts a phone number digits (possibly with a `+`)\r\n * into a calling code and the rest phone number digits.\r\n * The \"rest phone number digits\" could include\r\n * a national prefix, carrier code, and national\r\n * (significant) number.\r\n * @param  {string} number — Phone number digits (possibly with a `+`).\r\n * @param  {string} [country] — Default country.\r\n * @param  {string} [callingCode] — Default calling code (some phone numbering plans are non-geographic).\r\n * @param  {object} metadata\r\n * @return {object} `{ countryCallingCode: string?, number: string }`\r\n * @example\r\n * // Returns `{ countryCallingCode: \"1\", number: \"2133734253\" }`.\r\n * extractCountryCallingCode('2133734253', 'US', null, metadata)\r\n * extractCountryCallingCode('2133734253', null, '1', metadata)\r\n * extractCountryCallingCode('+12133734253', null, null, metadata)\r\n * extractCountryCallingCode('+12133734253', 'RU', null, metadata)\r\n */\r\nexport default function extractCountryCallingCode(\r\n\tnumber,\r\n\tcountry,\r\n\tcallingCode,\r\n\tmetadata\r\n) {\r\n\tif (!number) {\r\n\t\treturn {}\r\n\t}\r\n\r\n\t// If this is not an international phone number,\r\n\t// then either extract an \"IDD\" prefix, or extract a\r\n\t// country calling code from a number by autocorrecting it\r\n\t// by prepending a leading `+` in cases when it starts\r\n\t// with the country calling code.\r\n\t// https://wikitravel.org/en/International_dialling_prefix\r\n\t// https://github.com/catamphetamine/libphonenumber-js/issues/376\r\n\tif (number[0] !== '+') {\r\n\t\t// Convert an \"out-of-country\" dialing phone number\r\n\t\t// to a proper international phone number.\r\n\t\tconst numberWithoutIDD = stripIddPrefix(number, country, callingCode, metadata)\r\n\t\t// If an IDD prefix was stripped then\r\n\t\t// convert the number to international one\r\n\t\t// for subsequent parsing.\r\n\t\tif (numberWithoutIDD && numberWithoutIDD !== number) {\r\n\t\t\tnumber = '+' + numberWithoutIDD\r\n\t\t} else {\r\n\t\t\t// Check to see if the number starts with the country calling code\r\n\t\t\t// for the default country. If so, we remove the country calling code,\r\n\t\t\t// and do some checks on the validity of the number before and after.\r\n\t\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/376\r\n\t\t\tif (country || callingCode) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcountryCallingCode,\r\n\t\t\t\t\tnumber: shorterNumber\r\n\t\t\t\t} = extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(\r\n\t\t\t\t\tnumber,\r\n\t\t\t\t\tcountry,\r\n\t\t\t\t\tcallingCode,\r\n\t\t\t\t\tmetadata\r\n\t\t\t\t)\r\n\t\t\t\tif (countryCallingCode) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcountryCallingCode,\r\n\t\t\t\t\t\tnumber: shorterNumber\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn { number }\r\n\t\t}\r\n\t}\r\n\r\n\t// Fast abortion: country codes do not begin with a '0'\r\n\tif (number[1] === '0') {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\t// The thing with country phone codes\r\n\t// is that they are orthogonal to each other\r\n\t// i.e. there's no such country phone code A\r\n\t// for which country phone code B exists\r\n\t// where B starts with A.\r\n\t// Therefore, while scanning digits,\r\n\t// if a valid country code is found,\r\n\t// that means that it is the country code.\r\n\t//\r\n\tlet i = 2\r\n\twhile (i - 1 <= MAX_LENGTH_COUNTRY_CODE && i <= number.length) {\r\n\t\tconst countryCallingCode = number.slice(1, i)\r\n\t\tif (metadata.hasCallingCode(countryCallingCode)) {\r\n\t\t\tmetadata.selectNumberingPlan(countryCallingCode)\r\n\t\t\treturn {\r\n\t\t\t\tcountryCallingCode,\r\n\t\t\t\tnumber: number.slice(i)\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\treturn {}\r\n}","import Metadata from '../metadata'\r\nimport getNumberType from './getNumberType'\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\nexport default function getCountryByCallingCode(callingCode, nationalPhoneNumber, metadata) {\r\n\t/* istanbul ignore if */\r\n\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\tif (metadata.isNonGeographicCallingCode(callingCode)) {\r\n\t\t\treturn '001'\r\n\t\t}\r\n\t}\r\n\t// Is always non-empty, because `callingCode` is always valid\r\n\tconst possibleCountries = metadata.getCountryCodesForCallingCode(callingCode)\r\n\tif (!possibleCountries) {\r\n\t\treturn\r\n\t}\r\n\t// If there's just one country corresponding to the country code,\r\n\t// then just return it, without further phone number digits validation.\r\n\tif (possibleCountries.length === 1) {\r\n\t\treturn possibleCountries[0]\r\n\t}\r\n\treturn selectCountryFromList(possibleCountries, nationalPhoneNumber, metadata.metadata)\r\n}\r\n\r\nfunction selectCountryFromList(possibleCountries, nationalPhoneNumber, metadata) {\r\n\t// Re-create `metadata` because it will be selecting a `country`.\r\n\tmetadata = new Metadata(metadata)\r\n\tfor (const country of possibleCountries) {\r\n\t\tmetadata.country(country)\r\n\t\t// Leading digits check would be the simplest and fastest one.\r\n\t\t// Leading digits patterns are only defined for about 20% of all countries.\r\n\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md#leading_digits\r\n\t\t// Matching \"leading digits\" is a sufficient but not necessary condition.\r\n\t\tif (metadata.leadingDigits()) {\r\n\t\t\tif (nationalPhoneNumber &&\r\n\t\t\t\tnationalPhoneNumber.search(metadata.leadingDigits()) === 0) {\r\n\t\t\t\treturn country\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Else perform full validation with all of those\r\n\t\t// fixed-line/mobile/etc regular expressions.\r\n\t\telse if (getNumberType({ phone: nationalPhoneNumber, country }, undefined, metadata.metadata)) {\r\n\t\t\treturn country\r\n\t\t}\r\n\t}\r\n}","// This is a port of Google Android `libphonenumber`'s\r\n// `phonenumberutil.js` of December 31th, 2018.\r\n//\r\n// https://github.com/googlei18n/libphonenumber/commits/master/javascript/i18n/phonenumbers/phonenumberutil.js\r\n\r\nimport {\r\n\tVALID_DIGITS,\r\n\tPLUS_CHARS,\r\n\tMIN_LENGTH_FOR_NSN,\r\n\tMAX_LENGTH_FOR_NSN\r\n} from './constants'\r\n\r\nimport ParseError from './ParseError'\r\nimport Metadata from './metadata'\r\nimport isViablePhoneNumber, { isViablePhoneNumberStart } from './helpers/isViablePhoneNumber'\r\nimport extractExtension from './helpers/extension/extractExtension'\r\nimport parseIncompletePhoneNumber from './parseIncompletePhoneNumber'\r\nimport getCountryCallingCode from './getCountryCallingCode'\r\nimport { isPossibleNumber } from './isPossibleNumber_'\r\nimport { parseRFC3966 } from './helpers/RFC3966'\r\nimport PhoneNumber from './PhoneNumber'\r\nimport matchesEntirely from './helpers/matchesEntirely'\r\nimport extractCountryCallingCode from './helpers/extractCountryCallingCode'\r\nimport extractCountryCallingCodeFromInternationalNumberWithoutPlusSign from './helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign'\r\nimport extractNationalNumber from './helpers/extractNationalNumber'\r\nimport stripIddPrefix from './helpers/stripIddPrefix'\r\nimport getCountryByCallingCode from './helpers/getCountryByCallingCode'\r\n\r\n// We don't allow input strings for parsing to be longer than 250 chars.\r\n// This prevents malicious input from consuming CPU.\r\nconst MAX_INPUT_STRING_LENGTH = 250\r\n\r\n// This consists of the plus symbol, digits, and arabic-indic digits.\r\nconst PHONE_NUMBER_START_PATTERN = new RegExp('[' + PLUS_CHARS + VALID_DIGITS + ']')\r\n\r\n// Regular expression of trailing characters that we want to remove.\r\n// A trailing `#` is sometimes used when writing phone numbers with extensions in US.\r\n// Example: \"+1 (645) 123 1234-910#\" number has extension \"910\".\r\nconst AFTER_PHONE_NUMBER_END_PATTERN = new RegExp('[^' + VALID_DIGITS + '#' + ']+$')\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\n// Examples:\r\n//\r\n// ```js\r\n// parse('8 (800) 555-35-35', 'RU')\r\n// parse('8 (800) 555-35-35', 'RU', metadata)\r\n// parse('8 (800) 555-35-35', { country: { default: 'RU' } })\r\n// parse('8 (800) 555-35-35', { country: { default: 'RU' } }, metadata)\r\n// parse('+7 800 555 35 35')\r\n// parse('+7 800 555 35 35', metadata)\r\n// ```\r\n//\r\nexport default function parse(text, options, metadata) {\r\n\t// If assigning the `{}` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\toptions = options || {}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\t// Validate `defaultCountry`.\r\n\tif (options.defaultCountry && !metadata.hasCountry(options.defaultCountry)) {\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('INVALID_COUNTRY')\r\n\t\t}\r\n\t\tthrow new Error(`Unknown country: ${options.defaultCountry}`)\r\n\t}\r\n\r\n\t// Parse the phone number.\r\n\tconst { number: formattedPhoneNumber, ext, error } = parseInput(text, options.v2, options.extract)\r\n\r\n\t// If the phone number is not viable then return nothing.\r\n\tif (!formattedPhoneNumber) {\r\n\t\tif (options.v2) {\r\n\t\t\tif (error === 'TOO_SHORT') {\r\n\t\t\t\tthrow new ParseError('TOO_SHORT')\r\n\t\t\t}\r\n\t\t\tthrow new ParseError('NOT_A_NUMBER')\r\n\t\t}\r\n\t\treturn {}\r\n\t}\r\n\r\n\tconst {\r\n\t\tcountry,\r\n\t\tnationalNumber,\r\n\t\tcountryCallingCode,\r\n\t\tcarrierCode\r\n\t} = parsePhoneNumber(\r\n\t\tformattedPhoneNumber,\r\n\t\toptions.defaultCountry,\r\n\t\toptions.defaultCallingCode,\r\n\t\tmetadata\r\n\t)\r\n\r\n\tif (!metadata.hasSelectedNumberingPlan()) {\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('INVALID_COUNTRY')\r\n\t\t}\r\n\t\treturn {}\r\n\t}\r\n\r\n\t// Validate national (significant) number length.\r\n\tif (!nationalNumber || nationalNumber.length < MIN_LENGTH_FOR_NSN) {\r\n\t\t// Won't throw here because the regexp already demands length > 1.\r\n\t\t/* istanbul ignore if */\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('TOO_SHORT')\r\n\t\t}\r\n\t\t// Google's demo just throws an error in this case.\r\n\t\treturn {}\r\n\t}\r\n\r\n\t// Validate national (significant) number length.\r\n\t//\r\n\t// A sidenote:\r\n\t//\r\n\t// They say that sometimes national (significant) numbers\r\n\t// can be longer than `MAX_LENGTH_FOR_NSN` (e.g. in Germany).\r\n\t// https://github.com/googlei18n/libphonenumber/blob/7e1748645552da39c4e1ba731e47969d97bdb539/resources/phonenumber.proto#L36\r\n\t// Such numbers will just be discarded.\r\n\t//\r\n\tif (nationalNumber.length > MAX_LENGTH_FOR_NSN) {\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('TOO_LONG')\r\n\t\t}\r\n\t\t// Google's demo just throws an error in this case.\r\n\t\treturn {}\r\n\t}\r\n\r\n\tif (options.v2) {\r\n\t\tconst phoneNumber = new PhoneNumber(\r\n\t\t\tcountryCallingCode,\r\n\t\t\tnationalNumber,\r\n\t\t\tmetadata.metadata\r\n\t\t)\r\n\t\tif (country) {\r\n\t\t\tphoneNumber.country = country\r\n\t\t}\r\n\t\tif (carrierCode) {\r\n\t\t\tphoneNumber.carrierCode = carrierCode\r\n\t\t}\r\n\t\tif (ext) {\r\n\t\t\tphoneNumber.ext = ext\r\n\t\t}\r\n\t\treturn phoneNumber\r\n\t}\r\n\r\n\t// Check if national phone number pattern matches the number.\r\n\t// National number pattern is different for each country,\r\n\t// even for those ones which are part of the \"NANPA\" group.\r\n\tconst valid = (options.extended ? metadata.hasSelectedNumberingPlan() : country) ?\r\n\t\tmatchesEntirely(nationalNumber, metadata.nationalNumberPattern()) :\r\n\t\tfalse\r\n\r\n\tif (!options.extended) {\r\n\t\treturn valid ? result(country, nationalNumber, ext) : {}\r\n\t}\r\n\r\n\t// isInternational: countryCallingCode !== undefined\r\n\r\n\treturn {\r\n\t\tcountry,\r\n\t\tcountryCallingCode,\r\n\t\tcarrierCode,\r\n\t\tvalid,\r\n\t\tpossible: valid ? true : (\r\n\t\t\toptions.extended === true &&\r\n\t\t\tmetadata.possibleLengths() &&\r\n\t\t\tisPossibleNumber(nationalNumber, metadata) ? true : false\r\n\t\t),\r\n\t\tphone: nationalNumber,\r\n\t\text\r\n\t}\r\n}\r\n\r\n/**\r\n * Extracts a formatted phone number from text.\r\n * Doesn't guarantee that the extracted phone number\r\n * is a valid phone number (for example, doesn't validate its length).\r\n * @param  {string} text\r\n * @param  {boolean} [extract] — If `false`, then will parse the entire `text` as a phone number.\r\n * @param  {boolean} [throwOnError] — By default, it won't throw if the text is too long.\r\n * @return {string}\r\n * @example\r\n * // Returns \"(213) 373-4253\".\r\n * extractFormattedPhoneNumber(\"Call (213) 373-4253 for assistance.\")\r\n */\r\nfunction extractFormattedPhoneNumber(text, extract, throwOnError) {\r\n\tif (!text) {\r\n\t\treturn\r\n\t}\r\n\tif (text.length > MAX_INPUT_STRING_LENGTH) {\r\n\t\tif (throwOnError) {\r\n\t\t\tthrow new ParseError('TOO_LONG')\r\n\t\t}\r\n\t\treturn\r\n\t}\r\n\tif (extract === false) {\r\n\t\treturn text\r\n\t}\r\n\t// Attempt to extract a possible number from the string passed in\r\n\tconst startsAt = text.search(PHONE_NUMBER_START_PATTERN)\r\n\tif (startsAt < 0) {\r\n\t\treturn\r\n\t}\r\n\treturn text\r\n\t\t// Trim everything to the left of the phone number\r\n\t\t.slice(startsAt)\r\n\t\t// Remove trailing non-numerical characters\r\n\t\t.replace(AFTER_PHONE_NUMBER_END_PATTERN, '')\r\n}\r\n\r\n/**\r\n * @param  {string} text - Input.\r\n * @param  {boolean} v2 - Legacy API functions don't pass `v2: true` flag.\r\n * @param  {boolean} [extract] - Whether to extract a phone number from `text`, or attempt to parse the entire text as a phone number.\r\n * @return {object} `{ ?number, ?ext }`.\r\n */\r\nfunction parseInput(text, v2, extract) {\r\n\t// Parse RFC 3966 phone number URI.\r\n\tif (text && text.indexOf('tel:') === 0) {\r\n\t\treturn parseRFC3966(text)\r\n\t}\r\n\tlet number = extractFormattedPhoneNumber(text, extract, v2)\r\n\t// If the phone number is not viable, then abort.\r\n\tif (!number) {\r\n\t\treturn {}\r\n\t}\r\n\tif (!isViablePhoneNumber(number)) {\r\n\t\tif (isViablePhoneNumberStart(number)) {\r\n\t\t\treturn { error: 'TOO_SHORT' }\r\n\t\t}\r\n\t\treturn {}\r\n\t}\r\n\t// Attempt to parse extension first, since it doesn't require region-specific\r\n\t// data and we want to have the non-normalised number here.\r\n\tconst withExtensionStripped = extractExtension(number)\r\n\tif (withExtensionStripped.ext) {\r\n\t\treturn withExtensionStripped\r\n\t}\r\n\treturn { number }\r\n}\r\n\r\n/**\r\n * Creates `parse()` result object.\r\n */\r\nfunction result(country, nationalNumber, ext) {\r\n\tconst result = {\r\n\t\tcountry,\r\n\t\tphone: nationalNumber\r\n\t}\r\n\tif (ext) {\r\n\t\tresult.ext = ext\r\n\t}\r\n\treturn result\r\n}\r\n\r\n/**\r\n * Parses a viable phone number.\r\n * @param {string} formattedPhoneNumber — Example: \"(213) 373-4253\".\r\n * @param {string} [defaultCountry]\r\n * @param {string} [defaultCallingCode]\r\n * @param {Metadata} metadata\r\n * @return {object} Returns `{ country: string?, countryCallingCode: string?, nationalNumber: string? }`.\r\n */\r\nfunction parsePhoneNumber(\r\n\tformattedPhoneNumber,\r\n\tdefaultCountry,\r\n\tdefaultCallingCode,\r\n\tmetadata\r\n) {\r\n\t// Extract calling code from phone number.\r\n\tlet { countryCallingCode, number } = extractCountryCallingCode(\r\n\t\tparseIncompletePhoneNumber(formattedPhoneNumber),\r\n\t\tdefaultCountry,\r\n\t\tdefaultCallingCode,\r\n\t\tmetadata.metadata\r\n\t)\r\n\r\n\t// Choose a country by `countryCallingCode`.\r\n\tlet country\r\n\tif (countryCallingCode) {\r\n\t\tmetadata.selectNumberingPlan(countryCallingCode)\r\n\t}\r\n\t// If `formattedPhoneNumber` is in \"national\" format\r\n\t// then `number` is defined and `countryCallingCode` isn't.\r\n\telse if (number && (defaultCountry || defaultCallingCode)) {\r\n\t\tmetadata.selectNumberingPlan(defaultCountry, defaultCallingCode)\r\n\t\tif (defaultCountry) {\r\n\t\t\tcountry = defaultCountry\r\n\t\t} else {\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t\tif (metadata.isNonGeographicCallingCode(defaultCallingCode)) {\r\n\t\t\t\t\tcountry = '001'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcountryCallingCode = defaultCallingCode || getCountryCallingCode(defaultCountry, metadata.metadata)\r\n\t}\r\n\telse return {}\r\n\r\n\tif (!number) {\r\n\t\treturn { countryCallingCode }\r\n\t}\r\n\r\n\tconst {\r\n\t\tnationalNumber,\r\n\t\tcarrierCode\r\n\t} = extractNationalNumber(\r\n\t\tparseIncompletePhoneNumber(number),\r\n\t\tmetadata\r\n\t)\r\n\r\n\t// Sometimes there are several countries\r\n\t// corresponding to the same country phone code\r\n\t// (e.g. NANPA countries all having `1` country phone code).\r\n\t// Therefore, to reliably determine the exact country,\r\n\t// national (significant) number should have been parsed first.\r\n\t//\r\n\t// When `metadata.json` is generated, all \"ambiguous\" country phone codes\r\n\t// get their countries populated with the full set of\r\n\t// \"phone number type\" regular expressions.\r\n\t//\r\n\tconst exactCountry = getCountryByCallingCode(countryCallingCode, nationalNumber, metadata)\r\n\tif (exactCountry) {\r\n\t\tcountry = exactCountry\r\n\t\t/* istanbul ignore if */\r\n\t\tif (exactCountry === '001') {\r\n\t\t\t// Can't happen with `USE_NON_GEOGRAPHIC_COUNTRY_CODE` being `false`.\r\n\t\t\t// If `USE_NON_GEOGRAPHIC_COUNTRY_CODE` is set to `true` for some reason,\r\n\t\t\t// then remove the \"istanbul ignore if\".\r\n\t\t} else {\r\n\t\t\tmetadata.country(country)\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tcountry,\r\n\t\tcountryCallingCode,\r\n\t\tnationalNumber,\r\n\t\tcarrierCode\r\n\t}\r\n}","import parseNumber from './parse_'\r\n\r\nexport default function parsePhoneNumber(text, options, metadata) {\r\n\treturn parseNumber(text, { ...options, v2: true }, metadata)\r\n}","import parsePhoneNumber_ from './parsePhoneNumber_'\r\n\r\nexport default function parsePhoneNumber() {\r\n\tconst { text, options, metadata } = normalizeArguments(arguments)\r\n\treturn parsePhoneNumber_(text, options, metadata)\r\n}\r\n\r\nexport function normalizeArguments(args)\r\n{\r\n\tconst [arg_1, arg_2, arg_3, arg_4] = Array.prototype.slice.call(args)\r\n\r\n\tlet text\r\n\tlet options\r\n\tlet metadata\r\n\r\n\t// If the phone number is passed as a string.\r\n\t// `parsePhoneNumber('88005553535', ...)`.\r\n\tif (typeof arg_1 === 'string') {\r\n\t\ttext = arg_1\r\n\t}\r\n\telse throw new TypeError('A text for parsing must be a string.')\r\n\r\n\t// If \"default country\" argument is being passed then move it to `options`.\r\n\t// `parsePhoneNumber('88005553535', 'RU', [options], metadata)`.\r\n\tif (!arg_2 || typeof arg_2 === 'string')\r\n\t{\r\n\t\tif (arg_4) {\r\n\t\t\toptions = arg_3\r\n\t\t\tmetadata = arg_4\r\n\t\t} else {\r\n\t\t\toptions = undefined\r\n\t\t\tmetadata = arg_3\r\n\t\t}\r\n\r\n\t\tif (arg_2) {\r\n\t\t\toptions = { defaultCountry: arg_2, ...options }\r\n\t\t}\r\n\t}\r\n\t// `defaultCountry` is not passed.\r\n\t// Example: `parsePhoneNumber('+78005553535', [options], metadata)`.\r\n\telse if (isObject(arg_2))\r\n\t{\r\n\t\tif (arg_3) {\r\n\t\t\toptions  = arg_2\r\n\t\t\tmetadata = arg_3\r\n\t\t} else {\r\n\t\t\tmetadata = arg_2\r\n\t\t}\r\n\t}\r\n\telse throw new Error(`Invalid second argument: ${arg_2}`)\r\n\r\n\treturn {\r\n\t\ttext,\r\n\t\toptions,\r\n\t\tmetadata\r\n\t}\r\n}\r\n\r\n// Otherwise istanbul would show this as \"branch not covered\".\r\n/* istanbul ignore next */\r\nconst isObject = _ => typeof _ === 'object'","import parsePhoneNumber from './parsePhoneNumber_'\r\nimport ParseError from './ParseError'\r\nimport { isSupportedCountry } from './metadata'\r\n\r\nexport default function parsePhoneNumberFromString(text, options, metadata) {\r\n\t// Validate `defaultCountry`.\r\n\tif (options && options.defaultCountry && !isSupportedCountry(options.defaultCountry, metadata)) {\r\n\t\toptions = {\r\n\t\t\t...options,\r\n\t\t\tdefaultCountry: undefined\r\n\t\t}\r\n\t}\r\n\t// Parse phone number.\r\n\ttry {\r\n\t\treturn parsePhoneNumber(text, options, metadata)\r\n\t} catch (error) {\r\n\t\t/* istanbul ignore else */\r\n\t\tif (error instanceof ParseError) {\r\n\t\t\t//\r\n\t\t} else {\r\n\t\t\tthrow error\r\n\t\t}\r\n\t}\r\n}\r\n","import { normalizeArguments } from './parsePhoneNumber'\r\nimport parsePhoneNumberFromString_ from './parsePhoneNumberFromString_'\r\n\r\nexport default function parsePhoneNumberFromString() {\r\n\tconst { text, options, metadata } = normalizeArguments(arguments)\r\n\treturn parsePhoneNumberFromString_(text, options, metadata)\r\n}\r\n","import Metadata from './metadata'\r\n\r\nexport default function getCountries(metadata) {\r\n\treturn new Metadata(metadata).getCountries()\r\n}","import PropTypes from 'prop-types'\r\n\r\nexport const metadata = PropTypes.shape({\r\n\tcountry_calling_codes : PropTypes.object.isRequired,\r\n\tcountries : PropTypes.object.isRequired\r\n})\r\n\r\nexport const labels = PropTypes.objectOf(PropTypes.string)","// Counts all occurences of a symbol in a string\r\nexport function count_occurences(symbol, string) {\r\n\tlet count = 0\r\n\t// Using `.split('')` here instead of normal `for ... of`\r\n\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t// (the ones consisting of four bytes)\r\n\t// but template placeholder characters don't fall into that range\r\n\t// so skipping such miscellaneous \"exotic\" characters\r\n\t// won't matter here for just counting placeholder character occurrences.\r\n\tfor (const character of string.split('')) {\r\n\t\tif (character === symbol) {\r\n\t\t\tcount++\r\n\t\t}\r\n\t}\r\n\treturn count\r\n}","import { count_occurences } from './helpers'\r\n\r\nexport default function closeBraces(retained_template, template, placeholder = 'x', empty_placeholder = ' ')\r\n{\r\n\tlet cut_before = retained_template.length\r\n\r\n\tconst opening_braces = count_occurences('(', retained_template)\r\n\tconst closing_braces = count_occurences(')', retained_template)\r\n\r\n\tlet dangling_braces = opening_braces - closing_braces\r\n\r\n\twhile (dangling_braces > 0 && cut_before < template.length)\r\n\t{\r\n\t\tretained_template += template[cut_before].replace(placeholder, empty_placeholder)\r\n\r\n\t\tif (template[cut_before] === ')')\r\n\t\t{\r\n\t\t\tdangling_braces--\r\n\t\t}\r\n\r\n\t\tcut_before++\r\n\t}\r\n\r\n\treturn retained_template\r\n}\r\n","import template_formatter from './templateFormatter'\r\n\r\n// Formats `value` value preserving `caret` at the same character.\r\n//\r\n// `{ value, caret }` attribute is the result of `parse()` function call.\r\n//\r\n// Returns `{ text, caret }` where the new `caret` is the caret position\r\n// inside `text` text corresponding to the original `caret` position inside `value`.\r\n//\r\n// `formatter(value)` is a function returning `{ text, template }`.\r\n//\r\n// `text` is the `value` value formatted using `template`.\r\n// It may either cut off the non-filled right part of the `template`\r\n// or it may fill the non-filled character placeholders\r\n// in the right part of the `template` with `spacer`\r\n// which is a space (' ') character by default.\r\n//\r\n// `template` is the template used to format the `value`.\r\n// It can be either a full-length template or a partial template.\r\n//\r\n// `formatter` can also be a string — a `template`\r\n// where character placeholders are denoted by 'x'es.\r\n// In this case `formatter` function is automatically created.\r\n//\r\n// Example:\r\n//\r\n// `value` is '880',\r\n// `caret` is `2` (before the first `0`)\r\n//\r\n// `formatter` is `'880' =>\r\n//   { text: '8 (80 )', template: 'x (xxx) xxx-xx-xx' }`\r\n//\r\n// The result is `{ text: '8 (80 )', caret: 4 }`.\r\n//\r\nexport default function format(value, caret, formatter)\r\n{\r\n\tif (typeof formatter === 'string')\r\n\t{\r\n\t\tformatter = template_formatter(formatter)\r\n\t}\r\n\r\n\tlet { text, template } = formatter(value) || {}\r\n\r\n\tif (text === undefined)\r\n\t{\r\n\t\t text = value\r\n\t}\r\n\r\n\tif (template)\r\n\t{\r\n\t\tif (caret === undefined)\r\n\t\t{\r\n\t\t\tcaret = text.length\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet index = 0\r\n\t\t\tlet found = false\r\n\r\n\t\t\tlet possibly_last_input_character_index = -1\r\n\r\n\t\t\twhile (index < text.length && index < template.length)\r\n\t\t\t{\r\n\t\t\t\t// Character placeholder found\r\n\t\t\t\tif (text[index] !== template[index])\r\n\t\t\t\t{\r\n\t\t\t\t\tif (caret === 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfound = true\r\n\t\t\t\t\t\tcaret = index\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpossibly_last_input_character_index = index\r\n\r\n\t\t\t\t\tcaret--\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindex++\r\n\t\t\t}\r\n\r\n\t\t\t// If the caret was positioned after last input character,\r\n\t\t\t// then the text caret index is just after the last input character.\r\n\t\t\tif (!found)\r\n\t\t\t{\r\n\t\t\t\tcaret = possibly_last_input_character_index + 1\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn { text, caret }\r\n}","import { count_occurences } from './helpers'\r\nimport close_braces from './closeBraces'\r\n\r\n// Takes a `template` where character placeholders\r\n// are denoted by 'x'es (e.g. 'x (xxx) xxx-xx-xx').\r\n//\r\n// Returns a function which takes `value` characters\r\n// and returns the `template` filled with those characters.\r\n// If the `template` can only be partially filled\r\n// then it is cut off.\r\n//\r\n// If `should_close_braces` is `true`,\r\n// then it will also make sure all dangling braces are closed,\r\n// e.g. \"8 (8\" -> \"8 (8  )\" (iPhone style phone number input).\r\n//\r\nexport default function(template, placeholder = 'x', should_close_braces)\r\n{\r\n\tif (!template)\r\n\t{\r\n\t\treturn value => ({ text: value })\r\n\t}\r\n\r\n\tconst characters_in_template = count_occurences(placeholder, template)\r\n\r\n\treturn function(value)\r\n\t{\r\n\t\tif (!value)\r\n\t\t{\r\n\t\t\treturn { text: '', template }\r\n\t\t}\r\n\r\n\t\tlet value_character_index = 0\r\n\t\tlet filled_in_template = ''\r\n\r\n\t\t// Using `.split('')` here instead of normal `for ... of`\r\n\t\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t\t// (the ones consisting of four bytes)\r\n\t\t// but template placeholder characters don't fall into that range\r\n\t\t// and appending UTF-8 characters to a string in parts still works.\r\n\t\tfor (const character of template.split(''))\r\n\t\t{\r\n\t\t\tif (character !== placeholder)\r\n\t\t\t{\r\n\t\t\t\tfilled_in_template += character\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\r\n\t\t\tfilled_in_template += value[value_character_index]\r\n\t\t\tvalue_character_index++\r\n\r\n\t\t\t// If the last available value character has been filled in,\r\n\t\t\t// then return the filled in template\r\n\t\t\t// (either trim the right part or retain it,\r\n\t\t\t//  if no more character placeholders in there)\r\n\t\t\tif (value_character_index === value.length)\r\n\t\t\t{\r\n\t\t\t\t// If there are more character placeholders\r\n\t\t\t\t// in the right part of the template\r\n\t\t\t\t// then simply trim it.\r\n\t\t\t\tif (value.length < characters_in_template)\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (should_close_braces)\r\n\t\t{\r\n\t\t\tfilled_in_template = close_braces(filled_in_template, template)\r\n\t\t}\r\n\r\n\t\treturn { text: filled_in_template, template }\r\n\t}\r\n}","// Gets <input/> selection bounds\r\nexport function getSelection(element)\r\n{\r\n\t// If no selection, return nothing\r\n\tif (element.selectionStart === element.selectionEnd)\r\n\t{\r\n\t\treturn\r\n\t}\r\n\r\n\treturn { start: element.selectionStart, end: element.selectionEnd }\r\n}\r\n\r\n// Key codes\r\nexport const Keys =\r\n{\r\n\tBackspace : 8,\r\n\tDelete    : 46\r\n}\r\n\r\n// Finds out the operation to be intercepted and performed\r\n// based on the key down event `keyCode`.\r\nexport function getOperation(event)\r\n{\r\n\tswitch (event.keyCode)\r\n\t{\r\n\t\tcase Keys.Backspace:\r\n\t\t\treturn 'Backspace'\r\n\r\n\t\tcase Keys.Delete:\r\n\t\t\treturn 'Delete'\r\n\t}\r\n}\r\n\r\n// Gets <input/> caret position\r\nexport function getCaretPosition(element)\r\n{\r\n\treturn element.selectionStart\r\n}\r\n\r\n// Sets <input/> caret position\r\nexport function setCaretPosition(element, caret_position)\r\n{\r\n\t// Sanity check\r\n\tif (caret_position === undefined)\r\n\t{\r\n\t\treturn\r\n\t}\r\n\r\n\t// Set caret position.\r\n\t// There has been an issue with caret positioning on Android devices.\r\n\t// https://github.com/catamphetamine/input-format/issues/2\r\n\t// I was revisiting this issue and looked for similar issues in other libraries.\r\n\t// For example, there's [`text-mask`](https://github.com/text-mask/text-mask) library.\r\n\t// They've had exactly the same issue when the caret seemingly refused to be repositioned programmatically.\r\n\t// The symptoms were the same: whenever the caret passed through a non-digit character of a mask (a whitespace, a bracket, a dash, etc), it looked as if it placed itself one character before its correct position.\r\n\t// https://github.com/text-mask/text-mask/issues/300\r\n\t// They seem to have found a basic fix for it: calling `input.setSelectionRange()` in a timeout rather than instantly for Android devices.\r\n\t// https://github.com/text-mask/text-mask/pull/400/files\r\n\t// I've implemented the same workaround here.\r\n\tif (isAndroid()) {\r\n      setTimeout(() => element.setSelectionRange(caret_position, caret_position), 0)\r\n\t} else {\r\n\t\telement.setSelectionRange(caret_position, caret_position)\r\n\t}\r\n}\r\n\r\nfunction isAndroid() {\r\n\t// `navigator` is not defined when running mocha tests.\r\n\tif (typeof navigator !== 'undefined') {\r\n\t\treturn ANDROID_USER_AGENT_REG_EXP.test(navigator.userAgent)\r\n\t}\r\n}\r\n\r\nconst ANDROID_USER_AGENT_REG_EXP = /Android/i","import edit   from './edit'\r\nimport parse  from './parse'\r\nimport format from './format'\r\n\r\nimport\r\n{\r\n\tgetOperation,\r\n\tgetSelection,\r\n\tgetCaretPosition,\r\n\tsetCaretPosition\r\n}\r\nfrom './dom'\r\n\r\n// Deprecated.\r\n// I don't know why this function exists.\r\nexport function onCut(event, input, _parse, _format, on_change)\r\n{\r\n\t// The actual cut hasn't happened just yet hence the timeout.\r\n\tsetTimeout(() => formatInputText(input, _parse, _format, undefined, on_change), 0)\r\n}\r\n\r\n// Deprecated.\r\n// I don't know why this function exists.\r\nexport function onPaste(event, input, _parse, _format, on_change)\r\n{\r\n\tconst selection = getSelection(input)\r\n\r\n\t// If selection is made,\r\n\t// just erase the selected text\r\n\t// prior to pasting\r\n\tif (selection)\r\n\t{\r\n\t\teraseSelection(input, selection)\r\n\t}\r\n\r\n\tformatInputText(input, _parse, _format, undefined, on_change)\r\n}\r\n\r\nexport function onChange(event, input, _parse, _format, on_change)\r\n{\r\n\tformatInputText(input, _parse, _format, undefined, on_change)\r\n}\r\n\r\n// \"Delete\" and \"Backspace\" keys are special\r\n// in a way that they're not handled by the regular `onChange()` handler\r\n// and instead are intercepted and re-applied manually.\r\n// The reason is that normally hitting \"Backspace\" or \"Delete\"\r\n// results in erasing a character, but that character might be any character,\r\n// while it would be a better \"user experience\" if it erased not just any character\r\n// but the closest \"meaningful\" character.\r\n// For example, if a template is `(xxx) xxx-xxxx`,\r\n// and the `<input/>` value is `(111) 222-3333`,\r\n// then, if a user begins erasing the `3333` part via \"Backspace\"\r\n// and reaches the \"-\" character, then it would just erase the \"-\" character.\r\n// Nothing wrong with that, but it would be a better \"user experience\"\r\n// if hitting \"Backspace\" at that position would erase the closest \"meaningful\"\r\n// character, which would be the rightmost `2`.\r\n// So, what this `onKeyDown()` handler does is it intercepts\r\n// \"Backspace\" and \"Delete\" keys and re-applies those operations manually\r\n// following the logic described above.\r\nexport function onKeyDown(event, input, _parse, _format, on_change)\r\n{\r\n\tconst operation = getOperation(event)\r\n\tswitch (operation)\r\n\t{\r\n\t\tcase 'Delete':\r\n\t\tcase 'Backspace':\r\n\t\t\t// Intercept this operation and perform it manually.\r\n\t\t\tevent.preventDefault()\r\n\r\n\t\t\tconst selection = getSelection(input)\r\n\r\n\t\t\t// If a selection is made, just erase the selected text.\r\n\t\t\tif (selection)\r\n\t\t\t{\r\n\t\t\t\teraseSelection(input, selection)\r\n\t\t\t\treturn formatInputText(input, _parse, _format, undefined, on_change)\r\n\t\t\t}\r\n\r\n\t\t\t// Else, perform the (character erasing) operation manually.\r\n\t\t\treturn formatInputText(input, _parse, _format, operation, on_change)\r\n\r\n\t\tdefault:\r\n\t\t\t// Will be handled normally as part of the `onChange` handler.\r\n\t}\r\n}\r\n\r\n/**\r\n * Erases the selected text inside an `<input/>`.\r\n * @param  {DOMElement} input\r\n * @param  {Selection} selection\r\n */\r\nfunction eraseSelection(input, selection)\r\n{\r\n\tlet text = input.value\r\n\ttext = text.slice(0, selection.start) + text.slice(selection.end)\r\n\r\n\tinput.value = text\r\n\tsetCaretPosition(input, selection.start)\r\n}\r\n\r\n/**\r\n * Parses and re-formats `<input/>` textual value.\r\n * E.g. when a user enters something into the `<input/>`\r\n * that raw input must first be parsed and the re-formatted properly.\r\n * Is called either after some user input (e.g. entered a character, pasted something)\r\n * or after the user performed an `operation` (e.g. \"Backspace\", \"Delete\").\r\n * @param  {DOMElement} input\r\n * @param  {Function} parse\r\n * @param  {Function} format\r\n * @param  {string} [operation] - The operation that triggered `<input/>` textual value change. E.g. \"Backspace\", \"Delete\".\r\n * @param  {Function} onChange\r\n */\r\nfunction formatInputText(input, _parse, _format, operation, on_change)\r\n{\r\n\t// Parse `<input/>` textual value.\r\n\t// Get the `value` and `caret` position.\r\n\tlet { value, caret } = parse(input.value, getCaretPosition(input), _parse)\r\n\r\n\t// If a user performed an operation (\"Backspace\", \"Delete\")\r\n\t// then apply that operation and get the new `value` and `caret` position.\r\n\tif (operation)\r\n\t{\r\n\t\tconst newValueAndCaret = edit(value, caret, operation)\r\n\r\n\t\tvalue = newValueAndCaret.value\r\n\t\tcaret = newValueAndCaret.caret\r\n\t}\r\n\r\n\t// Format the `value`.\r\n\t// (and reposition the caret accordingly)\r\n\tconst formatted = format(value, caret, _format)\r\n\r\n\tconst text = formatted.text\r\n\tcaret      = formatted.caret\r\n\r\n\t// Set `<input/>` textual value manually\r\n\t// to prevent React from resetting the caret position\r\n\t// later inside a subsequent `render()`.\r\n\t// Doesn't work for custom `inputComponent`s for some reason.\r\n\tinput.value = text\r\n\t// Position the caret properly.\r\n\tsetCaretPosition(input, caret)\r\n\r\n\t// If the `<input/>` textual value did change,\r\n\t// then the parsed `value` may have changed too.\r\n\ton_change(value)\r\n}","// Parses the `text`.\r\n//\r\n// Returns `{ value, caret }` where `caret` is\r\n// the caret position inside `value`\r\n// corresponding to the `caret_position` inside `text`.\r\n//\r\n// The `text` is parsed by feeding each character sequentially to\r\n// `parse_character(character, value)` function\r\n// and appending the result (if it's not `undefined`) to `value`.\r\n//\r\n// Example:\r\n//\r\n// `text` is `8 (800) 555-35-35`,\r\n// `caret_position` is `4` (before the first `0`).\r\n// `parse_character` is `(character, value) =>\r\n//   if (character >= '0' && character <= '9') { return character }`.\r\n//\r\n// then `parse()` outputs `{ value: '88005553535', caret: 2 }`.\r\n//\r\nexport default function parse(text, caret_position, parse_character)\r\n{\r\n\tlet value = ''\r\n\r\n\tlet focused_input_character_index = 0\r\n\r\n\tlet index = 0\r\n\twhile (index < text.length)\r\n\t{\r\n\t\tconst character = parse_character(text[index], value)\r\n\r\n\t\tif (character !== undefined)\r\n\t\t{\r\n\t\t\tvalue += character\r\n\r\n\t\t\tif (caret_position !== undefined)\r\n\t\t\t{\r\n\t\t\t\tif (caret_position === index)\r\n\t\t\t\t{\r\n\t\t\t\t\tfocused_input_character_index = value.length - 1;\r\n\t\t\t\t}\r\n\t\t\t\telse if (caret_position > index)\r\n\t\t\t\t{\r\n\t\t\t\t\tfocused_input_character_index = value.length\r\n\t\t\t\t}\r\n\t\t\t }\r\n\t\t}\r\n\r\n\t\tindex++\r\n\t}\r\n\r\n\t// If caret position wasn't specified\r\n\tif (caret_position === undefined)\r\n\t{\r\n\t\t// Then set caret position to \"after the last input character\"\r\n\t\tfocused_input_character_index = value.length\r\n\t}\r\n\r\n\tconst result =\r\n\t{\r\n\t\tvalue,\r\n\t\tcaret : focused_input_character_index\r\n\t}\r\n\r\n\treturn result\r\n}","// Edits text `value` (if `operation` is passed) and repositions the `caret` if needed.\r\n//\r\n// Example:\r\n//\r\n// value - '88005553535'\r\n// caret - 2 // starting from 0; is positioned before the first zero\r\n// operation - 'Backspace'\r\n//\r\n// Returns\r\n// {\r\n// \tvalue: '8005553535'\r\n// \tcaret: 1\r\n// }\r\n//\r\n// Currently supports just 'Delete' and 'Backspace' operations\r\n//\r\nexport default function edit(value, caret, operation)\r\n{\r\n\tswitch (operation)\r\n\t{\r\n\t\tcase 'Backspace':\r\n\t\t\t// If there exists the previous character,\r\n\t\t\t// then erase it and reposition the caret.\r\n\t\t\tif (caret > 0)\r\n\t\t\t{\r\n\t\t\t\t// Remove the previous character\r\n\t\t\t\tvalue = value.slice(0, caret - 1) + value.slice(caret)\r\n\t\t\t\t// Position the caret where the previous (erased) character was\r\n\t\t\t\tcaret--\r\n\t\t\t}\r\n\t\t\tbreak\r\n\r\n\t\tcase 'Delete':\r\n\t\t\t// Remove current digit (if any)\r\n\t\t\tvalue = value.slice(0, caret) + value.slice(caret + 1)\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn { value, caret }\r\n}","// This is just `./ReactInput.js` rewritten in Hooks.\r\n\r\nimport React, { useCallback, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n\tonChange as onInputChange,\r\n\tonKeyDown as onInputKeyDown\r\n} from '../inputControl'\r\n\r\n// Usage:\r\n//\r\n// <ReactInput\r\n// \tvalue={this.state.phone}\r\n// \tonChange={phone => this.setState({ phone })}\r\n// \tparse={character => character}\r\n// \tformat={value => ({ text: value, template: 'xxxxxxxx' })}/>\r\n//\r\nfunction Input({\r\n\tvalue,\r\n\tparse,\r\n\tformat,\r\n\tinputComponent: InputComponent,\r\n\tonChange,\r\n\tonKeyDown,\r\n\t...rest\r\n}, ref) {\r\n\tconst internalRef = useRef();\r\n\tconst setRef = useCallback((instance) => {\r\n\t\tinternalRef.current = instance;\r\n\t\tif (ref) {\r\n\t\t\tif (typeof ref === 'function') {\r\n\t\t\t\tref(instance)\r\n\t\t\t} else {\r\n\t\t\t\tref.current = instance\r\n\t\t\t}\r\n\t\t}\r\n\t}, [ref]);\r\n\tconst _onChange = useCallback((event) => {\r\n\t\treturn onInputChange(\r\n\t\t\tevent,\r\n\t\t\tinternalRef.current,\r\n\t\t\tparse,\r\n\t\t\tformat,\r\n\t\t\tonChange\r\n\t\t)\r\n\t}, [internalRef, parse, format, onChange])\r\n\r\n\tconst _onKeyDown = useCallback((event) => {\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\t\treturn onInputKeyDown(\r\n\t\t\tevent,\r\n\t\t\tinternalRef.current,\r\n\t\t\tparse,\r\n\t\t\tformat,\r\n\t\t\tonChange\r\n\t\t)\r\n\t}, [internalRef, parse, format, onChange, onKeyDown])\r\n\r\n\treturn (\r\n\t\t<InputComponent\r\n\t\t\t{...rest}\r\n\t\t\tref={setRef}\r\n\t\t\tvalue={format(isEmptyValue(value) ? '' : value).text}\r\n\t\t\tonKeyDown={_onKeyDown}\r\n\t\t\tonChange={_onChange}/>\r\n\t)\r\n}\r\n\r\nInput = React.forwardRef(Input)\r\n\r\nInput.propTypes = {\r\n\t// Parses a single characher of `<input/>` text.\r\n\tparse: PropTypes.func.isRequired,\r\n\r\n\t// Formats `value` into `<input/>` text.\r\n\tformat: PropTypes.func.isRequired,\r\n\r\n\t// Renders `<input/>` by default.\r\n\tinputComponent: PropTypes.elementType.isRequired,\r\n\r\n\t// `<input/>` `type` attribute.\r\n\ttype: PropTypes.string.isRequired,\r\n\r\n\t// Is parsed from <input/> text.\r\n\tvalue: PropTypes.string,\r\n\r\n\t// This handler is called each time `<input/>` text is changed.\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t// Passthrough\r\n\tonKeyDown: PropTypes.func,\r\n\tonCut: PropTypes.func,\r\n\tonPaste: PropTypes.func\r\n}\r\n\r\nInput.defaultProps = {\r\n\t// Renders `<input/>` by default.\r\n\tinputComponent: 'input',\r\n\r\n\t// `<input/>` `type` attribute.\r\n\ttype: 'text'\r\n}\r\n\r\nexport default Input\r\n\r\nfunction isEmptyValue(value) {\r\n\treturn value === undefined || value === null\r\n}","export default class AsYouTypeState {\r\n\tconstructor({ onCountryChange, onCallingCodeChange }) {\r\n\t\tthis.onCountryChange = onCountryChange\r\n\t\tthis.onCallingCodeChange = onCallingCodeChange\r\n\t}\r\n\r\n\treset(defaultCountry, defaultCallingCode) {\r\n\t\tthis.international = false\r\n\t\tthis.IDDPrefix = undefined\r\n\t\tthis.missingPlus = undefined\r\n\t\tthis.callingCode = undefined\r\n\t\tthis.digits = ''\r\n\t\tthis.resetNationalSignificantNumber()\r\n\t\tthis.initCountryAndCallingCode(defaultCountry, defaultCallingCode)\r\n\t}\r\n\r\n\tresetNationalSignificantNumber() {\r\n\t\tthis.nationalSignificantNumber = this.getNationalDigits()\r\n\t\tthis.nationalSignificantNumberMatchesInput = true\r\n\t\tthis.nationalPrefix = undefined\r\n\t\tthis.carrierCode = undefined\r\n\t\tthis.complexPrefixBeforeNationalSignificantNumber = undefined\r\n\t}\r\n\r\n\tupdate = (properties) => {\r\n\t\tfor (const key of Object.keys(properties)) {\r\n\t\t\tthis[key] = properties[key]\r\n\t\t}\r\n\t}\r\n\r\n\tinitCountryAndCallingCode(country, callingCode) {\r\n\t\tthis.setCountry(country)\r\n\t\tthis.setCallingCode(callingCode)\r\n\t}\r\n\r\n\tsetCountry(country) {\r\n\t\tthis.country = country\r\n\t\tthis.onCountryChange(country)\r\n\t}\r\n\r\n\tsetCallingCode(callingCode) {\r\n\t\tthis.callingCode = callingCode\r\n\t\treturn this.onCallingCodeChange(this.country, callingCode)\r\n\t}\r\n\r\n\tstartInternationalNumber() {\r\n\t\t// Prepend the `+` to parsed input.\r\n\t\tthis.international = true\r\n\t\t// If a default country was set then reset it\r\n\t\t// because an explicitly international phone\r\n\t\t// number is being entered.\r\n\t\tthis.initCountryAndCallingCode()\r\n\t}\r\n\r\n\tappendDigits(nextDigits) {\r\n\t\tthis.digits += nextDigits\r\n\t}\r\n\r\n\tappendNationalSignificantNumberDigits(nextDigits) {\r\n\t\tthis.nationalSignificantNumber += nextDigits\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the part of `this.digits` that corresponds to the national number.\r\n\t * Basically, all digits that have been input by the user, except for the\r\n\t * international prefix and the country calling code part\r\n\t * (if the number is an international one).\r\n\t * @return {string}\r\n\t */\r\n\tgetNationalDigits() {\r\n\t\tif (this.international) {\r\n\t\t\treturn this.digits.slice(\r\n\t\t\t\t(this.IDDPrefix ? this.IDDPrefix.length : 0) +\r\n\t\t\t\t(this.callingCode ? this.callingCode.length : 0)\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.digits\r\n\t}\r\n\r\n\tgetDigitsWithoutInternationalPrefix() {\r\n\t\tif (this.international) {\r\n\t\t\tif (this.IDDPrefix) {\r\n\t\t\t\treturn this.digits.slice(this.IDDPrefix.length)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.digits\r\n\t}\r\n}","// Should be the same as `DIGIT_PLACEHOLDER` in `libphonenumber-metadata-generator`.\r\nexport const DIGIT_PLACEHOLDER = 'x' // '\\u2008' (punctuation space)\r\nconst DIGIT_PLACEHOLDER_MATCHER = new RegExp(DIGIT_PLACEHOLDER)\r\n\r\n// Counts all occurences of a symbol in a string.\r\n// Unicode-unsafe (because using `.split()`).\r\nexport function countOccurences(symbol, string) {\r\n\tlet count = 0\r\n\t// Using `.split('')` to iterate through a string here\r\n\t// to avoid requiring `Symbol.iterator` polyfill.\r\n\t// `.split('')` is generally not safe for Unicode,\r\n\t// but in this particular case for counting brackets it is safe.\r\n\t// for (const character of string)\r\n\tfor (const character of string.split('')) {\r\n\t\tif (character === symbol) {\r\n\t\t\tcount++\r\n\t\t}\r\n\t}\r\n\treturn count\r\n}\r\n\r\n// Repeats a string (or a symbol) N times.\r\n// http://stackoverflow.com/questions/202605/repeat-string-javascript\r\nexport function repeat(string, times) {\r\n\tif (times < 1) {\r\n\t\treturn ''\r\n\t}\r\n\tlet result = ''\r\n\twhile (times > 1) {\r\n\t\tif (times & 1) {\r\n\t\t\tresult += string\r\n\t\t}\r\n\t\ttimes >>= 1\r\n\t\tstring += string\r\n\t}\r\n\treturn result + string\r\n}\r\n\r\nexport function cutAndStripNonPairedParens(string, cutBeforeIndex) {\r\n\tif (string[cutBeforeIndex] === ')') {\r\n\t\tcutBeforeIndex++\r\n\t}\r\n\treturn stripNonPairedParens(string.slice(0, cutBeforeIndex))\r\n}\r\n\r\nexport function closeNonPairedParens(template, cut_before) {\r\n\tconst retained_template = template.slice(0, cut_before)\r\n\tconst opening_braces = countOccurences('(', retained_template)\r\n\tconst closing_braces = countOccurences(')', retained_template)\r\n\tlet dangling_braces = opening_braces - closing_braces\r\n\twhile (dangling_braces > 0 && cut_before < template.length) {\r\n\t\tif (template[cut_before] === ')') {\r\n\t\t\tdangling_braces--\r\n\t\t}\r\n\t\tcut_before++\r\n\t}\r\n\treturn template.slice(0, cut_before)\r\n}\r\n\r\nexport function stripNonPairedParens(string) {\r\n\tconst dangling_braces =[]\r\n\tlet i = 0\r\n\twhile (i < string.length) {\r\n\t\tif (string[i] === '(') {\r\n\t\t\tdangling_braces.push(i)\r\n\t\t}\r\n\t\telse if (string[i] === ')') {\r\n\t\t\tdangling_braces.pop()\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\tlet start = 0\r\n\tlet cleared_string = ''\r\n\tdangling_braces.push(string.length)\r\n\tfor (const index of dangling_braces) {\r\n\t\tcleared_string += string.slice(start, index)\r\n\t\tstart = index + 1\r\n\t}\r\n\treturn cleared_string\r\n}\r\n\r\nexport function populateTemplateWithDigits(template, position, digits) {\r\n\t// Using `.split('')` to iterate through a string here\r\n\t// to avoid requiring `Symbol.iterator` polyfill.\r\n\t// `.split('')` is generally not safe for Unicode,\r\n\t// but in this particular case for `digits` it is safe.\r\n\t// for (const digit of digits)\r\n\tfor (const digit of digits.split('')) {\r\n\t\t// If there is room for more digits in current `template`,\r\n\t\t// then set the next digit in the `template`,\r\n\t\t// and return the formatted digits so far.\r\n\t\t// If more digits are entered than the current format could handle.\r\n\t\tif (template.slice(position + 1).search(DIGIT_PLACEHOLDER_MATCHER) < 0) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tposition = template.search(DIGIT_PLACEHOLDER_MATCHER)\r\n\t\ttemplate = template.replace(DIGIT_PLACEHOLDER_MATCHER, digit)\r\n\t}\r\n\treturn [template, position]\r\n}","import checkNumberLength from './helpers/checkNumberLength'\r\nimport parseDigits from './helpers/parseDigits'\r\nimport formatNationalNumberUsingFormat from './helpers/formatNationalNumberUsingFormat'\r\n\r\nexport default function formatCompleteNumber(state, format, {\r\n\tmetadata,\r\n\tshouldTryNationalPrefixFormattingRule,\r\n\tgetSeparatorAfterNationalPrefix\r\n}) {\r\n\tconst matcher = new RegExp(`^(?:${format.pattern()})$`)\r\n\tif (matcher.test(state.nationalSignificantNumber)) {\r\n\t\treturn formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(\r\n\t\t\tstate,\r\n\t\t\tformat,\r\n\t\t\t{\r\n\t\t\t\tmetadata,\r\n\t\t\t\tshouldTryNationalPrefixFormattingRule,\r\n\t\t\t\tgetSeparatorAfterNationalPrefix\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function canFormatCompleteNumber(nationalSignificantNumber, metadata) {\r\n\treturn checkNumberLength(nationalSignificantNumber, metadata) === 'IS_POSSIBLE'\r\n}\r\n\r\nfunction formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(state, format, {\r\n\tmetadata,\r\n\tshouldTryNationalPrefixFormattingRule,\r\n\tgetSeparatorAfterNationalPrefix\r\n}) {\r\n\t// `format` has already been checked for `nationalPrefix` requirement.\r\n\r\n\tconst {\r\n\t\tnationalSignificantNumber,\r\n\t\tinternational,\r\n\t\tnationalPrefix,\r\n\t\tcarrierCode\r\n\t} = state\r\n\r\n\t// Format the number with using `national_prefix_formatting_rule`.\r\n\t// If the resulting formatted number is a valid formatted number, then return it.\r\n\t//\r\n\t// Google's AsYouType formatter is different in a way that it doesn't try\r\n\t// to format using the \"national prefix formatting rule\", and instead it\r\n\t// simply prepends a national prefix followed by a \" \" character.\r\n\t// This code does that too, but as a fallback.\r\n\t// The reason is that \"national prefix formatting rule\" may use parentheses,\r\n\t// which wouldn't be included has it used the simpler Google's way.\r\n\t//\r\n\tif (shouldTryNationalPrefixFormattingRule(format)) {\r\n\t\tconst formattedNumber = formatNationalNumber(state, format, {\r\n\t\t\tuseNationalPrefixFormattingRule: true,\r\n\t\t\tgetSeparatorAfterNationalPrefix,\r\n\t\t\tmetadata\r\n\t\t})\r\n\t\tif (formattedNumber) {\r\n\t\t\treturn formattedNumber\r\n\t\t}\r\n\t}\r\n\r\n\t// Format the number without using `national_prefix_formatting_rule`.\r\n\treturn formatNationalNumber(state, format, {\r\n\t\tuseNationalPrefixFormattingRule: false,\r\n\t\tgetSeparatorAfterNationalPrefix,\r\n\t\tmetadata\r\n\t})\r\n}\r\n\r\nfunction formatNationalNumber(state, format, {\r\n\tmetadata,\r\n\tuseNationalPrefixFormattingRule,\r\n\tgetSeparatorAfterNationalPrefix\r\n}) {\r\n\tlet formattedNationalNumber = formatNationalNumberUsingFormat(\r\n\t\tstate.nationalSignificantNumber,\r\n\t\tformat,\r\n\t\t{\r\n\t\t\tcarrierCode: state.carrierCode,\r\n\t\t\tuseInternationalFormat: state.international,\r\n\t\t\twithNationalPrefix: useNationalPrefixFormattingRule,\r\n\t\t\tmetadata\r\n\t\t}\r\n\t)\r\n\tif (!useNationalPrefixFormattingRule) {\r\n\t\tif (state.nationalPrefix) {\r\n\t\t\t// If a national prefix was extracted, then just prepend it,\r\n\t\t\t// followed by a \" \" character.\r\n\t\t\tformattedNationalNumber = state.nationalPrefix +\r\n\t\t\t\tgetSeparatorAfterNationalPrefix(format) +\r\n\t\t\t\tformattedNationalNumber\r\n\t\t} else if (state.complexPrefixBeforeNationalSignificantNumber) {\r\n\t\t\tformattedNationalNumber = state.complexPrefixBeforeNationalSignificantNumber +\r\n\t\t\t\t' ' +\r\n\t\t\t\tformattedNationalNumber\r\n\t\t}\r\n\t}\r\n\tif (isValidFormattedNationalNumber(formattedNationalNumber, state)) {\r\n\t\treturn formattedNationalNumber\r\n\t}\r\n}\r\n\r\n// Check that the formatted phone number contains exactly\r\n// the same digits that have been input by the user.\r\n// For example, when \"0111523456789\" is input for `AR` country,\r\n// the extracted `this.nationalSignificantNumber` is \"91123456789\",\r\n// which means that the national part of `this.digits` isn't simply equal to\r\n// `this.nationalPrefix` + `this.nationalSignificantNumber`.\r\n//\r\n// Also, a `format` can add extra digits to the `this.nationalSignificantNumber`\r\n// being formatted via `metadata[country].national_prefix_transform_rule`.\r\n// For example, for `VI` country, it prepends `340` to the national number,\r\n// and if this check hasn't been implemented, then there would be a bug\r\n// when `340` \"area coude\" is \"duplicated\" during input for `VI` country:\r\n// https://github.com/catamphetamine/libphonenumber-js/issues/318\r\n//\r\n// So, all these \"gotchas\" are filtered out.\r\n//\r\n// In the original Google's code, the comments say:\r\n// \"Check that we didn't remove nor add any extra digits when we matched\r\n// this formatting pattern. This usually happens after we entered the last\r\n// digit during AYTF. Eg: In case of MX, we swallow mobile token (1) when\r\n// formatted but AYTF should retain all the number entered and not change\r\n// in order to match a format (of same leading digits and length) display\r\n// in that way.\"\r\n// \"If it's the same (i.e entered number and format is same), then it's\r\n// safe to return this in formatted number as nothing is lost / added.\"\r\n// Otherwise, don't use this format.\r\n// https://github.com/google/libphonenumber/commit/3e7c1f04f5e7200f87fb131e6f85c6e99d60f510#diff-9149457fa9f5d608a11bb975c6ef4bc5\r\n// https://github.com/google/libphonenumber/commit/3ac88c7106e7dcb553bcc794b15f19185928a1c6#diff-2dcb77e833422ee304da348b905cde0b\r\n//\r\nfunction isValidFormattedNationalNumber(formattedNationalNumber, state) {\r\n\treturn parseDigits(formattedNationalNumber) === state.getNationalDigits()\r\n}","import {\r\n\tDIGIT_PLACEHOLDER,\r\n\tcountOccurences,\r\n\trepeat,\r\n\tcutAndStripNonPairedParens,\r\n\tcloseNonPairedParens,\r\n\tstripNonPairedParens,\r\n\tpopulateTemplateWithDigits\r\n} from './AsYouTypeFormatter.util'\r\n\r\nimport formatCompleteNumber, {\r\n\tcanFormatCompleteNumber\r\n} from './AsYouTypeFormatter.complete'\r\n\r\nimport parseDigits from './helpers/parseDigits'\r\nexport { DIGIT_PLACEHOLDER } from './AsYouTypeFormatter.util'\r\nimport { FIRST_GROUP_PATTERN } from './helpers/formatNationalNumberUsingFormat'\r\nimport { VALID_PUNCTUATION } from './constants'\r\nimport applyInternationalSeparatorStyle from './helpers/applyInternationalSeparatorStyle'\r\n\r\n// Used in phone number format template creation.\r\n// Could be any digit, I guess.\r\nconst DUMMY_DIGIT = '9'\r\n// I don't know why is it exactly `15`\r\nconst LONGEST_NATIONAL_PHONE_NUMBER_LENGTH = 15\r\n// Create a phone number consisting only of the digit 9 that matches the\r\n// `number_pattern` by applying the pattern to the \"longest phone number\" string.\r\nconst LONGEST_DUMMY_PHONE_NUMBER = repeat(DUMMY_DIGIT, LONGEST_NATIONAL_PHONE_NUMBER_LENGTH)\r\n\r\n// A set of characters that, if found in a national prefix formatting rules, are an indicator to\r\n// us that we should separate the national prefix from the number when formatting.\r\nconst NATIONAL_PREFIX_SEPARATORS_PATTERN = /[- ]/\r\n\r\n// Deprecated: Google has removed some formatting pattern related code from their repo.\r\n// https://github.com/googlei18n/libphonenumber/commit/a395b4fef3caf57c4bc5f082e1152a4d2bd0ba4c\r\n// \"We no longer have numbers in formatting matching patterns, only \\d.\"\r\n// Because this library supports generating custom metadata\r\n// some users may still be using old metadata so the relevant\r\n// code seems to stay until some next major version update.\r\nconst SUPPORT_LEGACY_FORMATTING_PATTERNS = true\r\n\r\n// A pattern that is used to match character classes in regular expressions.\r\n// An example of a character class is \"[1-4]\".\r\nconst CREATE_CHARACTER_CLASS_PATTERN = SUPPORT_LEGACY_FORMATTING_PATTERNS && (() => /\\[([^\\[\\]])*\\]/g)\r\n\r\n// Any digit in a regular expression that actually denotes a digit. For\r\n// example, in the regular expression \"80[0-2]\\d{6,10}\", the first 2 digits\r\n// (8 and 0) are standalone digits, but the rest are not.\r\n// Two look-aheads are needed because the number following \\\\d could be a\r\n// two-digit number, since the phone number can be as long as 15 digits.\r\nconst CREATE_STANDALONE_DIGIT_PATTERN = SUPPORT_LEGACY_FORMATTING_PATTERNS && (() => /\\d(?=[^,}][^,}])/g)\r\n\r\n// A regular expression that is used to determine if a `format` is\r\n// suitable to be used in the \"as you type formatter\".\r\n// A `format` is suitable when the resulting formatted number has\r\n// the same digits as the user has entered.\r\n//\r\n// In the simplest case, that would mean that the format\r\n// doesn't add any additional digits when formatting a number.\r\n// Google says that it also shouldn't add \"star\" (`*`) characters,\r\n// like it does in some Israeli formats.\r\n// Such basic format would only contain \"valid punctuation\"\r\n// and \"captured group\" identifiers ($1, $2, etc).\r\n//\r\n// An example of a format that adds additional digits:\r\n//\r\n// Country: `AR` (Argentina).\r\n// Format:\r\n// {\r\n//    \"pattern\": \"(\\\\d)(\\\\d{2})(\\\\d{4})(\\\\d{4})\",\r\n//    \"leading_digits_patterns\": [\"91\"],\r\n//    \"national_prefix_formatting_rule\": \"0$1\",\r\n//    \"format\": \"$2 15-$3-$4\",\r\n//    \"international_format\": \"$1 $2 $3-$4\"\r\n// }\r\n//\r\n// In the format above, the `format` adds `15` to the digits when formatting a number.\r\n// A sidenote: this format actually is suitable because `national_prefix_for_parsing`\r\n// has previously removed `15` from a national number, so re-adding `15` in `format`\r\n// doesn't actually result in any extra digits added to user's input.\r\n// But verifying that would be a complex procedure, so the code chooses a simpler path:\r\n// it simply filters out all `format`s that contain anything but \"captured group\" ids.\r\n//\r\n// This regular expression is called `ELIGIBLE_FORMAT_PATTERN` in Google's\r\n// `libphonenumber` code.\r\n//\r\nconst NON_ALTERING_FORMAT_REG_EXP = new RegExp(\r\n\t'^' +\r\n\t'[' + VALID_PUNCTUATION + ']*' +\r\n\t'(\\\\$\\\\d[' + VALID_PUNCTUATION + ']*)+' +\r\n\t'$'\r\n)\r\n\r\n// This is the minimum length of the leading digits of a phone number\r\n// to guarantee the first \"leading digits pattern\" for a phone number format\r\n// to be preemptive.\r\nconst MIN_LEADING_DIGITS_LENGTH = 3\r\n\r\nexport default class AsYouTypeFormatter {\r\n\tconstructor({\r\n\t\tstate,\r\n\t\tmetadata\r\n\t}) {\r\n\t\tthis.metadata = metadata\r\n\t\tthis.resetFormat()\r\n\t}\r\n\r\n\tresetFormat() {\r\n\t\tthis.chosenFormat = undefined\r\n\t\tthis.template = undefined\r\n\t\tthis.nationalNumberTemplate = undefined\r\n\t\tthis.populatedNationalNumberTemplate = undefined\r\n\t\tthis.populatedNationalNumberTemplatePosition = -1\r\n\t}\r\n\r\n\treset(numberingPlan, state) {\r\n\t\tthis.resetFormat()\r\n\t\tif (numberingPlan) {\r\n\t\t\tthis.isNANP = numberingPlan.callingCode() === '1'\r\n\t\t\tthis.matchingFormats = numberingPlan.formats()\r\n\t\t\tif (state.nationalSignificantNumber) {\r\n\t\t\t\tthis.narrowDownMatchingFormats(state)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.isNANP = undefined\r\n\t\t\tthis.matchingFormats = []\r\n\t\t}\r\n\t}\r\n\r\n\tformat(nextDigits, state) {\r\n\t\t// See if the phone number digits can be formatted as a complete phone number.\r\n\t\t// If not, use the results from `formatNationalNumberWithNextDigits()`,\r\n\t\t// which formats based on the chosen formatting pattern.\r\n\t\t//\r\n\t\t// Attempting to format complete phone number first is how it's done\r\n\t\t// in Google's `libphonenumber`, so this library just follows it.\r\n\t\t// Google's `libphonenumber` code doesn't explain in detail why does it\r\n\t\t// attempt to format digits as a complete phone number\r\n\t\t// instead of just going with a previoulsy (or newly) chosen `format`:\r\n\t\t//\r\n\t\t// \"Checks to see if there is an exact pattern match for these digits.\r\n\t\t//  If so, we should use this instead of any other formatting template\r\n\t\t//  whose leadingDigitsPattern also matches the input.\"\r\n\t\t//\r\n\t\tif (canFormatCompleteNumber(state.nationalSignificantNumber, this.metadata)) {\r\n\t\t\tfor (const format of this.matchingFormats) {\r\n\t\t\t\tconst formattedCompleteNumber = formatCompleteNumber(\r\n\t\t\t\t\tstate,\r\n\t\t\t\t\tformat,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmetadata: this.metadata,\r\n\t\t\t\t\t\tshouldTryNationalPrefixFormattingRule: format => this.shouldTryNationalPrefixFormattingRule(format, {\r\n\t\t\t\t\t\t\tinternational: state.international,\r\n\t\t\t\t\t\t\tnationalPrefix: state.nationalPrefix\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tgetSeparatorAfterNationalPrefix: this.getSeparatorAfterNationalPrefix\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\tif (formattedCompleteNumber) {\r\n\t\t\t\t\tthis.resetFormat()\r\n\t\t\t\t\tthis.chosenFormat = format\r\n\t\t\t\t\tthis.setNationalNumberTemplate(formattedCompleteNumber.replace(/\\d/g, DIGIT_PLACEHOLDER), state)\r\n\t\t\t\t\tthis.populatedNationalNumberTemplate = formattedCompleteNumber\r\n\t\t\t\t\t// With a new formatting template, the matched position\r\n\t\t\t\t\t// using the old template needs to be reset.\r\n\t\t\t\t\tthis.populatedNationalNumberTemplatePosition = this.template.lastIndexOf(DIGIT_PLACEHOLDER)\r\n\t\t\t\t\treturn formattedCompleteNumber\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Format the digits as a partial (incomplete) phone number\r\n\t\t// using the previously chosen formatting pattern (or a newly chosen one).\r\n\t\treturn this.formatNationalNumberWithNextDigits(nextDigits, state)\r\n\t}\r\n\r\n\t// Formats the next phone number digits.\r\n\tformatNationalNumberWithNextDigits(nextDigits, state) {\r\n\t\tconst previouslyChosenFormat = this.chosenFormat\r\n\t\t// Choose a format from the list of matching ones.\r\n\t\tconst newlyChosenFormat = this.chooseFormat(state)\r\n\t\tif (newlyChosenFormat) {\r\n\t\t\tif (newlyChosenFormat === previouslyChosenFormat) {\r\n\t\t\t\t// If it can format the next (current) digits\r\n\t\t\t\t// using the previously chosen phone number format\r\n\t\t\t\t// then return the updated formatted number.\r\n\t\t\t\treturn this.formatNextNationalNumberDigits(nextDigits)\r\n\t\t\t} else {\r\n\t\t\t\t// If a more appropriate phone number format\r\n\t\t\t\t// has been chosen for these \"leading digits\",\r\n\t\t\t\t// then re-format the national phone number part\r\n\t\t\t\t// using the newly selected format.\r\n\t\t\t\treturn this.formatNextNationalNumberDigits(state.getNationalDigits())\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tnarrowDownMatchingFormats({\r\n\t\tnationalSignificantNumber,\r\n\t\tnationalPrefix,\r\n\t\tinternational\r\n\t}) {\r\n\t\tconst leadingDigits = nationalSignificantNumber\r\n\r\n\t\t// \"leading digits\" pattern list starts with a\r\n\t\t// \"leading digits\" pattern fitting a maximum of 3 leading digits.\r\n\t\t// So, after a user inputs 3 digits of a national (significant) phone number\r\n\t\t// this national (significant) number can already be formatted.\r\n\t\t// The next \"leading digits\" pattern is for 4 leading digits max,\r\n\t\t// and the \"leading digits\" pattern after it is for 5 leading digits max, etc.\r\n\r\n\t\t// This implementation is different from Google's\r\n\t\t// in that it searches for a fitting format\r\n\t\t// even if the user has entered less than\r\n\t\t// `MIN_LEADING_DIGITS_LENGTH` digits of a national number.\r\n\t\t// Because some leading digit patterns already match for a single first digit.\r\n\t\tlet leadingDigitsPatternIndex = leadingDigits.length - MIN_LEADING_DIGITS_LENGTH\r\n\t\tif (leadingDigitsPatternIndex < 0) {\r\n\t\t\tleadingDigitsPatternIndex = 0\r\n\t\t}\r\n\r\n\t\tthis.matchingFormats = this.matchingFormats.filter(\r\n\t\t\tformat => this.formatSuits(format, international, nationalPrefix)\r\n\t\t\t\t&& this.formatMatches(format, leadingDigits, leadingDigitsPatternIndex)\r\n\t\t)\r\n\r\n\t\t// If there was a phone number format chosen\r\n\t\t// and it no longer holds given the new leading digits then reset it.\r\n\t\t// The test for this `if` condition is marked as:\r\n\t\t// \"Reset a chosen format when it no longer holds given the new leading digits\".\r\n\t\t// To construct a valid test case for this one can find a country\r\n\t\t// in `PhoneNumberMetadata.xml` yielding one format for 3 `<leadingDigits>`\r\n\t\t// and yielding another format for 4 `<leadingDigits>` (Australia in this case).\r\n\t\tif (this.chosenFormat && this.matchingFormats.indexOf(this.chosenFormat) === -1) {\r\n\t\t\tthis.resetFormat()\r\n\t\t}\r\n\t}\r\n\r\n\tformatSuits(format, international, nationalPrefix) {\r\n\t\t// When a prefix before a national (significant) number is\r\n\t\t// simply a national prefix, then it's parsed as `this.nationalPrefix`.\r\n\t\t// In more complex cases, a prefix before national (significant) number\r\n\t\t// could include a national prefix as well as some \"capturing groups\",\r\n\t\t// and in that case there's no info whether a national prefix has been parsed.\r\n\t\t// If national prefix is not used when formatting a phone number\r\n\t\t// using this format, but a national prefix has been entered by the user,\r\n\t\t// and was extracted, then discard such phone number format.\r\n\t\t// In Google's \"AsYouType\" formatter code, the equivalent would be this part:\r\n\t\t// https://github.com/google/libphonenumber/blob/0a45cfd96e71cad8edb0e162a70fcc8bd9728933/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L175-L184\r\n\t\tif (nationalPrefix &&\r\n\t\t\t!format.usesNationalPrefix() &&\r\n\t\t\t// !format.domesticCarrierCodeFormattingRule() &&\r\n\t\t\t!format.nationalPrefixIsOptionalWhenFormattingInNationalFormat()) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t// If national prefix is mandatory for this phone number format\r\n\t\t// and there're no guarantees that a national prefix is present in user input\r\n\t\t// then discard this phone number format as not suitable.\r\n\t\t// In Google's \"AsYouType\" formatter code, the equivalent would be this part:\r\n\t\t// https://github.com/google/libphonenumber/blob/0a45cfd96e71cad8edb0e162a70fcc8bd9728933/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L185-L193\r\n\t\tif (!international &&\r\n\t\t\t!nationalPrefix &&\r\n\t\t\tformat.nationalPrefixIsMandatoryWhenFormattingInNationalFormat()) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\r\n\tformatMatches(format, leadingDigits, leadingDigitsPatternIndex) {\r\n\t\tconst leadingDigitsPatternsCount = format.leadingDigitsPatterns().length\r\n\t\t// If this format is not restricted to a certain\r\n\t\t// leading digits pattern then it fits.\r\n\t\tif (leadingDigitsPatternsCount === 0) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// Start excluding any non-matching formats only when the\r\n\t\t// national number entered so far is at least 3 digits long,\r\n\t\t// otherwise format matching would give false negatives.\r\n\t\t// For example, when the digits entered so far are `2`\r\n\t\t// and the leading digits pattern is `21` –\r\n\t\t// it's quite obvious in this case that the format could be the one\r\n\t\t// but due to the absence of further digits it would give false negative.\r\n\t\tif (leadingDigits.length < MIN_LEADING_DIGITS_LENGTH) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// If at least `MIN_LEADING_DIGITS_LENGTH` digits of a national number are available\r\n\t\t// then format matching starts narrowing down the list of possible formats\r\n\t\t// (only previously matched formats are considered for next digits).\r\n\t\tleadingDigitsPatternIndex = Math.min(leadingDigitsPatternIndex, leadingDigitsPatternsCount - 1)\r\n\t\tconst leadingDigitsPattern = format.leadingDigitsPatterns()[leadingDigitsPatternIndex]\r\n\t\t// Brackets are required for `^` to be applied to\r\n\t\t// all or-ed (`|`) parts, not just the first one.\r\n\t\treturn new RegExp(`^(${leadingDigitsPattern})`).test(leadingDigits)\r\n\t}\r\n\r\n\tgetFormatFormat(format, international) {\r\n\t\treturn international ? format.internationalFormat() : format.format()\r\n\t}\r\n\r\n\tchooseFormat(state) {\r\n\t\t// When there are multiple available formats, the formatter uses the first\r\n\t\t// format where a formatting template could be created.\r\n\t\tfor (const format of this.matchingFormats.slice()) {\r\n\t\t\t// If this format is currently being used\r\n\t\t\t// and is still suitable, then stick to it.\r\n\t\t\tif (this.chosenFormat === format) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\t// Sometimes, a formatting rule inserts additional digits in a phone number,\r\n\t\t\t// and \"as you type\" formatter can't do that: it should only use the digits\r\n\t\t\t// that the user has input.\r\n\t\t\t//\r\n\t\t\t// For example, in Argentina, there's a format for mobile phone numbers:\r\n\t\t\t//\r\n\t\t\t// {\r\n\t\t\t//    \"pattern\": \"(\\\\d)(\\\\d{2})(\\\\d{4})(\\\\d{4})\",\r\n\t\t\t//    \"leading_digits_patterns\": [\"91\"],\r\n\t\t\t//    \"national_prefix_formatting_rule\": \"0$1\",\r\n\t\t\t//    \"format\": \"$2 15-$3-$4\",\r\n\t\t\t//    \"international_format\": \"$1 $2 $3-$4\"\r\n\t\t\t// }\r\n\t\t\t//\r\n\t\t\t// In that format, `international_format` is used instead of `format`\r\n\t\t\t// because `format` inserts `15` in the formatted number,\r\n\t\t\t// and `AsYouType` formatter should only use the digits\r\n\t\t\t// the user has actually input, without adding any extra digits.\r\n\t\t\t// In this case, it wouldn't make a difference, because the `15`\r\n\t\t\t// is first stripped when applying `national_prefix_for_parsing`\r\n\t\t\t// and then re-added when using `format`, so in reality it doesn't\r\n\t\t\t// add any new digits to the number, but to detect that, the code\r\n\t\t\t// would have to be more complex: it would have to try formatting\r\n\t\t\t// the digits using the format and then see if any digits have\r\n\t\t\t// actually been added or removed, and then, every time a new digit\r\n\t\t\t// is input, it should re-check whether the chosen format doesn't\r\n\t\t\t// alter the digits.\r\n\t\t\t//\r\n\t\t\t// Google's code doesn't go that far, and so does this library:\r\n\t\t\t// it simply requires that a `format` doesn't add any additonal\r\n\t\t\t// digits to user's input.\r\n\t\t\t//\r\n\t\t\t// Also, people in general should move from inputting phone numbers\r\n\t\t\t// in national format (possibly with national prefixes)\r\n\t\t\t// and use international phone number format instead:\r\n\t\t\t// it's a logical thing in the modern age of mobile phones,\r\n\t\t\t// globalization and the internet.\r\n\t\t\t//\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (!NON_ALTERING_FORMAT_REG_EXP.test(this.getFormatFormat(format, state.international))) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (!this.createTemplateForFormat(format, state)) {\r\n\t\t\t\t// Remove the format if it can't generate a template.\r\n\t\t\t\tthis.matchingFormats = this.matchingFormats.filter(_ => _ !== format)\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tthis.chosenFormat = format\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tif (!this.chosenFormat) {\r\n\t\t\t// No format matches the national (significant) phone number.\r\n\t\t\tthis.resetFormat()\r\n\t\t}\r\n\t\treturn this.chosenFormat\r\n\t}\r\n\r\n\tcreateTemplateForFormat(format, state) {\r\n\t\t// The formatter doesn't format numbers when numberPattern contains '|', e.g.\r\n\t\t// (20|3)\\d{4}. In those cases we quickly return.\r\n\t\t// (Though there's no such format in current metadata)\r\n\t\t/* istanbul ignore if */\r\n\t\tif (SUPPORT_LEGACY_FORMATTING_PATTERNS && format.pattern().indexOf('|') >= 0) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Get formatting template for this phone number format\r\n\t\tconst template = this.getTemplateForFormat(format, state)\r\n\t\t// If the national number entered is too long\r\n\t\t// for any phone number format, then abort.\r\n\t\tif (template) {\r\n\t\t\tthis.setNationalNumberTemplate(template, state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\tgetSeparatorAfterNationalPrefix = (format) => {\r\n\t\t// `US` metadata doesn't have a `national_prefix_formatting_rule`,\r\n\t\t// so the `if` condition below doesn't apply to `US`,\r\n\t\t// but in reality there shoudl be a separator\r\n\t\t// between a national prefix and a national (significant) number.\r\n\t\t// So `US` national prefix separator is a \"special\" \"hardcoded\" case.\r\n\t\tif (this.isNANP) {\r\n\t\t\treturn ' '\r\n\t\t}\r\n\t\t// If a `format` has a `national_prefix_formatting_rule`\r\n\t\t// and that rule has a separator after a national prefix,\r\n\t\t// then it means that there should be a separator\r\n\t\t// between a national prefix and a national (significant) number.\r\n\t\tif (format &&\r\n\t\t\tformat.nationalPrefixFormattingRule() &&\r\n\t\t\tNATIONAL_PREFIX_SEPARATORS_PATTERN.test(format.nationalPrefixFormattingRule())) {\r\n\t\t\treturn ' '\r\n\t\t}\r\n\t\t// At this point, there seems to be no clear evidence that\r\n\t\t// there should be a separator between a national prefix\r\n\t\t// and a national (significant) number. So don't insert one.\r\n\t\treturn ''\r\n\t}\r\n\r\n\tgetInternationalPrefixBeforeCountryCallingCode({ IDDPrefix, missingPlus }, options) {\r\n\t\tif (IDDPrefix) {\r\n\t\t\treturn options && options.spacing === false ? IDDPrefix : IDDPrefix + ' '\r\n\t\t}\r\n\t\tif (missingPlus) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn '+'\r\n\t}\r\n\r\n\tgetTemplate(state) {\r\n\t\tif (!this.template) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// `this.template` holds the template for a \"complete\" phone number.\r\n\t\t// The currently entered phone number is most likely not \"complete\",\r\n\t\t// so trim all non-populated digits.\r\n\t\tlet index = -1\r\n\t\tlet i = 0\r\n\t\tconst internationalPrefix = state.international ? this.getInternationalPrefixBeforeCountryCallingCode(state, { spacing: false }) : ''\r\n\t\twhile (i < internationalPrefix.length + state.getDigitsWithoutInternationalPrefix().length) {\r\n\t\t\tindex = this.template.indexOf(DIGIT_PLACEHOLDER, index + 1)\r\n\t\t\ti++\r\n\t\t}\r\n\t\treturn cutAndStripNonPairedParens(this.template, index + 1)\r\n\t}\r\n\r\n\tsetNationalNumberTemplate(template, state) {\r\n\t\tthis.nationalNumberTemplate = template\r\n\t\tthis.populatedNationalNumberTemplate = template\r\n\t\t// With a new formatting template, the matched position\r\n\t\t// using the old template needs to be reset.\r\n\t\tthis.populatedNationalNumberTemplatePosition = -1\r\n\t\t// For convenience, the public `.template` property\r\n\t\t// contains the whole international number\r\n\t\t// if the phone number being input is international:\r\n\t\t// 'x' for the '+' sign, 'x'es for the country phone code,\r\n\t\t// a spacebar and then the template for the formatted national number.\r\n\t\tif (state.international) {\r\n\t\t\tthis.template =\r\n\t\t\t\tthis.getInternationalPrefixBeforeCountryCallingCode(state).replace(/[\\d\\+]/g, DIGIT_PLACEHOLDER) +\r\n\t\t\t\trepeat(DIGIT_PLACEHOLDER, state.callingCode.length) +\r\n\t\t\t\t' ' +\r\n\t\t\t\ttemplate\r\n\t\t} else {\r\n\t\t\tthis.template = template\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Generates formatting template for a national phone number,\r\n\t * optionally containing a national prefix, for a format.\r\n\t * @param  {Format} format\r\n\t * @param  {string} nationalPrefix\r\n\t * @return {string}\r\n\t */\r\n\tgetTemplateForFormat(format, {\r\n\t\tnationalSignificantNumber,\r\n\t\tinternational,\r\n\t\tnationalPrefix,\r\n\t\tcomplexPrefixBeforeNationalSignificantNumber\r\n\t}) {\r\n\t\tlet pattern = format.pattern()\r\n\r\n\t\t/* istanbul ignore else */\r\n\t\tif (SUPPORT_LEGACY_FORMATTING_PATTERNS) {\r\n\t\t\tpattern = pattern\r\n\t\t\t\t// Replace anything in the form of [..] with \\d\r\n\t\t\t\t.replace(CREATE_CHARACTER_CLASS_PATTERN(), '\\\\d')\r\n\t\t\t\t// Replace any standalone digit (not the one in `{}`) with \\d\r\n\t\t\t\t.replace(CREATE_STANDALONE_DIGIT_PATTERN(), '\\\\d')\r\n\t\t}\r\n\r\n\t\t// Generate a dummy national number (consisting of `9`s)\r\n\t\t// that fits this format's `pattern`.\r\n\t\t//\r\n\t\t// This match will always succeed,\r\n\t\t// because the \"longest dummy phone number\"\r\n\t\t// has enough length to accomodate any possible\r\n\t\t// national phone number format pattern.\r\n\t\t//\r\n\t\tlet digits = LONGEST_DUMMY_PHONE_NUMBER.match(pattern)[0]\r\n\r\n\t\t// If the national number entered is too long\r\n\t\t// for any phone number format, then abort.\r\n\t\tif (nationalSignificantNumber.length > digits.length) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Get a formatting template which can be used to efficiently format\r\n\t\t// a partial number where digits are added one by one.\r\n\r\n\t\t// Below `strictPattern` is used for the\r\n\t\t// regular expression (with `^` and `$`).\r\n\t\t// This wasn't originally in Google's `libphonenumber`\r\n\t\t// and I guess they don't really need it\r\n\t\t// because they're not using \"templates\" to format phone numbers\r\n\t\t// but I added `strictPattern` after encountering\r\n\t\t// South Korean phone number formatting bug.\r\n\t\t//\r\n\t\t// Non-strict regular expression bug demonstration:\r\n\t\t//\r\n\t\t// this.nationalSignificantNumber : `111111111` (9 digits)\r\n\t\t//\r\n\t\t// pattern : (\\d{2})(\\d{3,4})(\\d{4})\r\n\t\t// format : `$1 $2 $3`\r\n\t\t// digits : `9999999999` (10 digits)\r\n\t\t//\r\n\t\t// '9999999999'.replace(new RegExp(/(\\d{2})(\\d{3,4})(\\d{4})/g), '$1 $2 $3') = \"99 9999 9999\"\r\n\t\t//\r\n\t\t// template : xx xxxx xxxx\r\n\t\t//\r\n\t\t// But the correct template in this case is `xx xxx xxxx`.\r\n\t\t// The template was generated incorrectly because of the\r\n\t\t// `{3,4}` variability in the `pattern`.\r\n\t\t//\r\n\t\t// The fix is, if `this.nationalSignificantNumber` has already sufficient length\r\n\t\t// to satisfy the `pattern` completely then `this.nationalSignificantNumber`\r\n\t\t// is used instead of `digits`.\r\n\r\n\t\tconst strictPattern = new RegExp('^' + pattern + '$')\r\n\t\tconst nationalNumberDummyDigits = nationalSignificantNumber.replace(/\\d/g, DUMMY_DIGIT)\r\n\r\n\t\t// If `this.nationalSignificantNumber` has already sufficient length\r\n\t\t// to satisfy the `pattern` completely then use it\r\n\t\t// instead of `digits`.\r\n\t\tif (strictPattern.test(nationalNumberDummyDigits)) {\r\n\t\t\tdigits = nationalNumberDummyDigits\r\n\t\t}\r\n\r\n\t\tlet numberFormat = this.getFormatFormat(format, international)\r\n\t\tlet nationalPrefixIncludedInTemplate\r\n\r\n\t\t// If a user did input a national prefix (and that's guaranteed),\r\n\t\t// and if a `format` does have a national prefix formatting rule,\r\n\t\t// then see if that national prefix formatting rule\r\n\t\t// prepends exactly the same national prefix the user has input.\r\n\t\t// If that's the case, then use the `format` with the national prefix formatting rule.\r\n\t\t// Otherwise, use  the `format` without the national prefix formatting rule,\r\n\t\t// and prepend a national prefix manually to it.\r\n\t\tif (this.shouldTryNationalPrefixFormattingRule(format, { international, nationalPrefix })) {\r\n\t\t\tconst numberFormatWithNationalPrefix = numberFormat.replace(\r\n\t\t\t\tFIRST_GROUP_PATTERN,\r\n\t\t\t\tformat.nationalPrefixFormattingRule()\r\n\t\t\t)\r\n\t\t\t// If `national_prefix_formatting_rule` of a `format` simply prepends\r\n\t\t\t// national prefix at the start of a national (significant) number,\r\n\t\t\t// then such formatting can be used with `AsYouType` formatter.\r\n\t\t\t// There seems to be no `else` case: everywhere in metadata,\r\n\t\t\t// national prefix formatting rule is national prefix + $1,\r\n\t\t\t// or `($1)`, in which case such format isn't even considered\r\n\t\t\t// when the user has input a national prefix.\r\n\t\t\t/* istanbul ignore else */\r\n\t\t\tif (parseDigits(format.nationalPrefixFormattingRule()) === (nationalPrefix || '') + parseDigits('$1')) {\r\n\t\t\t\tnumberFormat = numberFormatWithNationalPrefix\r\n\t\t\t\tnationalPrefixIncludedInTemplate = true\r\n\t\t\t\t// Replace all digits of the national prefix in the formatting template\r\n\t\t\t\t// with `DIGIT_PLACEHOLDER`s.\r\n\t\t\t\tif (nationalPrefix) {\r\n\t\t\t\t\tlet i = nationalPrefix.length\r\n\t\t\t\t\twhile (i > 0) {\r\n\t\t\t\t\t\tnumberFormat = numberFormat.replace(/\\d/, DIGIT_PLACEHOLDER)\r\n\t\t\t\t\t\ti--\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Generate formatting template for this phone number format.\r\n\t\tlet template = digits\r\n\t\t\t// Format the dummy phone number according to the format.\r\n\t\t\t.replace(new RegExp(pattern), numberFormat)\r\n\t\t\t// Replace each dummy digit with a DIGIT_PLACEHOLDER.\r\n\t\t\t.replace(new RegExp(DUMMY_DIGIT, 'g'), DIGIT_PLACEHOLDER)\r\n\r\n\t\t// If a prefix of a national (significant) number is not as simple\r\n\t\t// as just a basic national prefix, then just prepend such prefix\r\n\t\t// before the national (significant) number, optionally spacing\r\n\t\t// the two with a whitespace.\r\n\t\tif (!nationalPrefixIncludedInTemplate) {\r\n\t\t\tif (complexPrefixBeforeNationalSignificantNumber) {\r\n\t\t\t\t// Prepend the prefix to the template manually.\r\n\t\t\t\ttemplate = repeat(DIGIT_PLACEHOLDER, complexPrefixBeforeNationalSignificantNumber.length) +\r\n\t\t\t\t\t' ' +\r\n\t\t\t\t\ttemplate\r\n\t\t\t} else if (nationalPrefix) {\r\n\t\t\t\t// Prepend national prefix to the template manually.\r\n\t\t\t\ttemplate = repeat(DIGIT_PLACEHOLDER, nationalPrefix.length) +\r\n\t\t\t\t\tthis.getSeparatorAfterNationalPrefix(format) +\r\n\t\t\t\t\ttemplate\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (international) {\r\n\t\t\ttemplate = applyInternationalSeparatorStyle(template)\r\n\t\t}\r\n\r\n\t\treturn template\r\n\t}\r\n\r\n\tformatNextNationalNumberDigits(digits) {\r\n\t\tconst result = populateTemplateWithDigits(\r\n\t\t\tthis.populatedNationalNumberTemplate,\r\n\t\t\tthis.populatedNationalNumberTemplatePosition,\r\n\t\t\tdigits\r\n\t\t)\r\n\r\n\t\tif (!result) {\r\n\t\t\t// Reset the format.\r\n\t\t\tthis.resetFormat()\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.populatedNationalNumberTemplate = result[0]\r\n\t\tthis.populatedNationalNumberTemplatePosition = result[1]\r\n\r\n\t\t// Return the formatted phone number so far.\r\n\t\treturn cutAndStripNonPairedParens(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1)\r\n\r\n\t\t// The old way which was good for `input-format` but is not so good\r\n\t\t// for `react-phone-number-input`'s default input (`InputBasic`).\r\n\t\t// return closeNonPairedParens(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1)\r\n\t\t// \t.replace(new RegExp(DIGIT_PLACEHOLDER, 'g'), ' ')\r\n\t}\r\n\r\n\tshouldTryNationalPrefixFormattingRule = (format, { international, nationalPrefix }) => {\r\n\t\tif (format.nationalPrefixFormattingRule()) {\r\n\t\t\t// In some countries, `national_prefix_formatting_rule` is `($1)`,\r\n\t\t\t// so it applies even if the user hasn't input a national prefix.\r\n\t\t\t// `format.usesNationalPrefix()` detects such cases.\r\n\t\t\tconst usesNationalPrefix = format.usesNationalPrefix()\r\n\t\t\tif ((usesNationalPrefix && nationalPrefix) ||\r\n\t\t\t\t(!usesNationalPrefix && !international)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import extractCountryCallingCode from './helpers/extractCountryCallingCode'\r\nimport extractCountryCallingCodeFromInternationalNumberWithoutPlusSign from './helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign'\r\nimport extractNationalNumberFromPossiblyIncompleteNumber from './helpers/extractNationalNumberFromPossiblyIncompleteNumber'\r\nimport stripIddPrefix from './helpers/stripIddPrefix'\r\nimport parseDigits from './helpers/parseDigits'\r\n\r\nimport {\r\n\tVALID_DIGITS,\r\n\tVALID_PUNCTUATION,\r\n\tPLUS_CHARS\r\n} from './constants'\r\n\r\nconst VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART =\r\n\t'[' +\r\n\t\tVALID_PUNCTUATION +\r\n\t\tVALID_DIGITS +\r\n\t']+'\r\n\r\nconst VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN = new RegExp('^' + VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART + '$', 'i')\r\n\r\nconst VALID_FORMATTED_PHONE_NUMBER_PART =\r\n\t'(?:' +\r\n\t\t'[' + PLUS_CHARS + ']' +\r\n\t\t'[' +\r\n\t\t\tVALID_PUNCTUATION +\r\n\t\t\tVALID_DIGITS +\r\n\t\t']*' +\r\n\t\t'|' +\r\n\t\t'[' +\r\n\t\t\tVALID_PUNCTUATION +\r\n\t\t\tVALID_DIGITS +\r\n\t\t']+' +\r\n\t')'\r\n\r\nconst AFTER_PHONE_NUMBER_DIGITS_END_PATTERN = new RegExp(\r\n\t'[^' +\r\n\t\tVALID_PUNCTUATION +\r\n\t\tVALID_DIGITS +\r\n\t']+' +\r\n\t'.*' +\r\n\t'$'\r\n)\r\n\r\n// Tests whether `national_prefix_for_parsing` could match\r\n// different national prefixes.\r\n// Matches anything that's not a digit or a square bracket.\r\nconst COMPLEX_NATIONAL_PREFIX = /[^\\d\\[\\]]/\r\n\r\nexport default class AsYouTypeParser {\r\n\tconstructor({\r\n\t\tdefaultCountry,\r\n\t\tdefaultCallingCode,\r\n\t\tmetadata,\r\n\t\tonNationalSignificantNumberChange\r\n\t}) {\r\n\t\tthis.defaultCountry = defaultCountry\r\n\t\tthis.defaultCallingCode = defaultCallingCode\r\n\t\tthis.metadata = metadata\r\n\t\tthis.onNationalSignificantNumberChange = onNationalSignificantNumberChange\r\n\t}\r\n\r\n\tinput(text, state) {\r\n\t\tconst [formattedDigits, hasPlus] = extractFormattedDigitsAndPlus(text)\r\n\t\tconst digits = parseDigits(formattedDigits)\r\n\t\t// Checks for a special case: just a leading `+` has been entered.\r\n\t\tlet justLeadingPlus\r\n\t\tif (hasPlus) {\r\n\t\t\tif (!state.digits) {\r\n\t\t\t\tstate.startInternationalNumber()\r\n\t\t\t\tif (!digits) {\r\n\t\t\t\t\tjustLeadingPlus = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (digits) {\r\n\t\t\tthis.inputDigits(digits, state)\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tdigits,\r\n\t\t\tjustLeadingPlus\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Inputs \"next\" phone number digits.\r\n\t * @param  {string} digits\r\n\t * @return {string} [formattedNumber] Formatted national phone number (if it can be formatted at this stage). Returning `undefined` means \"don't format the national phone number at this stage\".\r\n\t */\r\n\tinputDigits(nextDigits, state) {\r\n\t\tconst { digits } = state\r\n\t\tconst hasReceivedThreeLeadingDigits = digits.length < 3 && digits.length + nextDigits.length >= 3\r\n\r\n\t\t// Append phone number digits.\r\n\t\tstate.appendDigits(nextDigits)\r\n\r\n\t\t// Attempt to extract IDD prefix:\r\n\t\t// Some users input their phone number in international format,\r\n\t\t// but in an \"out-of-country\" dialing format instead of using the leading `+`.\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/185\r\n\t\t// Detect such numbers as soon as there're at least 3 digits.\r\n\t\t// Google's library attempts to extract IDD prefix at 3 digits,\r\n\t\t// so this library just copies that behavior.\r\n\t\t// I guess that's because the most commot IDD prefixes are\r\n\t\t// `00` (Europe) and `011` (US).\r\n\t\t// There exist really long IDD prefixes too:\r\n\t\t// for example, in Australia the default IDD prefix is `0011`,\r\n\t\t// and it could even be as long as `14880011`.\r\n\t\t// An IDD prefix is extracted here, and then every time when\r\n\t\t// there's a new digit and the number couldn't be formatted.\r\n\t\tif (hasReceivedThreeLeadingDigits) {\r\n\t\t\tthis.extractIddPrefix(state)\r\n\t\t}\r\n\r\n\t\tif (this.isWaitingForCountryCallingCode(state)) {\r\n\t\t\tif (!this.extractCountryCallingCode(state)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tstate.appendNationalSignificantNumberDigits(nextDigits)\r\n\t\t}\r\n\r\n\t\t// If a phone number is being input in international format,\r\n\t\t// then it's not valid for it to have a national prefix.\r\n\t\t// Still, some people incorrectly input such numbers with a national prefix.\r\n\t\t// In such cases, only attempt to strip a national prefix if the number becomes too long.\r\n\t\t// (but that is done later, not here)\r\n\t\tif (!state.international) {\r\n\t\t\tif (!this.hasExtractedNationalSignificantNumber) {\r\n\t\t\t\tthis.extractNationalSignificantNumber(state.getNationalDigits(), state.update)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisWaitingForCountryCallingCode({ international, callingCode }) {\r\n\t\treturn international && !callingCode\r\n\t}\r\n\r\n\t// Extracts a country calling code from a number\r\n\t// being entered in internatonal format.\r\n\textractCountryCallingCode(state) {\r\n\t\tconst { countryCallingCode, number } = extractCountryCallingCode(\r\n\t\t\t'+' + state.getDigitsWithoutInternationalPrefix(),\r\n\t\t\tthis.defaultCountry,\r\n\t\t\tthis.defaultCallingCode,\r\n\t\t\tthis.metadata.metadata\r\n\t\t)\r\n\t\tif (countryCallingCode) {\r\n\t\t\tstate.setCallingCode(countryCallingCode)\r\n\t\t\tstate.update({\r\n\t\t\t\tnationalSignificantNumber: number\r\n\t\t\t})\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\treset(numberingPlan) {\r\n\t\tif (numberingPlan) {\r\n\t\t\tthis.hasSelectedNumberingPlan = true\r\n\t\t\tconst nationalPrefixForParsing = numberingPlan._nationalPrefixForParsing()\r\n\t\t\tthis.couldPossiblyExtractAnotherNationalSignificantNumber = nationalPrefixForParsing && COMPLEX_NATIONAL_PREFIX.test(nationalPrefixForParsing)\r\n\t\t} else {\r\n\t\t\tthis.hasSelectedNumberingPlan = undefined\r\n\t\t\tthis.couldPossiblyExtractAnotherNationalSignificantNumber = undefined\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Extracts a national (significant) number from user input.\r\n\t * Google's library is different in that it only applies `national_prefix_for_parsing`\r\n\t * and doesn't apply `national_prefix_transform_rule` after that.\r\n\t * https://github.com/google/libphonenumber/blob/a3d70b0487875475e6ad659af404943211d26456/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L539\r\n\t * @return {boolean} [extracted]\r\n\t */\r\n\textractNationalSignificantNumber(nationalDigits, setState) {\r\n\t\tif (!this.hasSelectedNumberingPlan) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst {\r\n\t\t\tnationalPrefix,\r\n\t\t\tnationalNumber,\r\n\t\t\tcarrierCode\r\n\t\t} = extractNationalNumberFromPossiblyIncompleteNumber(\r\n\t\t\tnationalDigits,\r\n\t\t\tthis.metadata\r\n\t\t)\r\n\t\tif (nationalNumber === nationalDigits) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.onExtractedNationalNumber(\r\n\t\t\tnationalPrefix,\r\n\t\t\tcarrierCode,\r\n\t\t\tnationalNumber,\r\n\t\t\tnationalDigits,\r\n\t\t\tsetState\r\n\t\t)\r\n\t\treturn true\r\n\t}\r\n\r\n\t/**\r\n\t * In Google's code this function is called \"attempt to extract longer NDD\".\r\n\t * \"Some national prefixes are a substring of others\", they say.\r\n\t * @return {boolean} [result] — Returns `true` if extracting a national prefix produced different results from what they were.\r\n\t */\r\n\textractAnotherNationalSignificantNumber(nationalDigits, prevNationalSignificantNumber, setState) {\r\n\t\tif (!this.hasExtractedNationalSignificantNumber) {\r\n\t\t\treturn this.extractNationalSignificantNumber(nationalDigits, setState)\r\n\t\t}\r\n\t\tif (!this.couldPossiblyExtractAnotherNationalSignificantNumber) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst {\r\n\t\t\tnationalPrefix,\r\n\t\t\tnationalNumber,\r\n\t\t\tcarrierCode\r\n\t\t} = extractNationalNumberFromPossiblyIncompleteNumber(\r\n\t\t\tnationalDigits,\r\n\t\t\tthis.metadata\r\n\t\t)\r\n\t\t// If a national prefix has been extracted previously,\r\n\t\t// then it's always extracted as additional digits are added.\r\n\t\t// That's assuming `extractNationalNumberFromPossiblyIncompleteNumber()`\r\n\t\t// doesn't do anything different from what it currently does.\r\n\t\t// So, just in case, here's this check, though it doesn't occur.\r\n\t\t/* istanbul ignore if */\r\n\t\tif (nationalNumber === prevNationalSignificantNumber) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.onExtractedNationalNumber(\r\n\t\t\tnationalPrefix,\r\n\t\t\tcarrierCode,\r\n\t\t\tnationalNumber,\r\n\t\t\tnationalDigits,\r\n\t\t\tsetState\r\n\t\t)\r\n\t\treturn true\r\n\t}\r\n\r\n\tonExtractedNationalNumber(\r\n\t\tnationalPrefix,\r\n\t\tcarrierCode,\r\n\t\tnationalSignificantNumber,\r\n\t\tnationalDigits,\r\n\t\tsetState\r\n\t) {\r\n\t\tlet complexPrefixBeforeNationalSignificantNumber\r\n\t\tlet nationalSignificantNumberMatchesInput\r\n\t\t// This check also works with empty `this.nationalSignificantNumber`.\r\n\t\tconst nationalSignificantNumberIndex = nationalDigits.lastIndexOf(nationalSignificantNumber)\r\n\t\t// If the extracted national (significant) number is the\r\n\t\t// last substring of the `digits`, then it means that it hasn't been altered:\r\n\t\t// no digits have been removed from the national (significant) number\r\n\t\t// while applying `national_prefix_transform_rule`.\r\n\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/-/blob/master/METADATA.md#national_prefix_for_parsing--national_prefix_transform_rule\r\n\t\tif (nationalSignificantNumberIndex >= 0 &&\r\n\t\t\tnationalSignificantNumberIndex === nationalDigits.length - nationalSignificantNumber.length) {\r\n\t\t\tnationalSignificantNumberMatchesInput = true\r\n\t\t\t// If a prefix of a national (significant) number is not as simple\r\n\t\t\t// as just a basic national prefix, then such prefix is stored in\r\n\t\t\t// `this.complexPrefixBeforeNationalSignificantNumber` property and will be\r\n\t\t\t// prepended \"as is\" to the national (significant) number to produce\r\n\t\t\t// a formatted result.\r\n\t\t\tconst prefixBeforeNationalNumber = nationalDigits.slice(0, nationalSignificantNumberIndex)\r\n\t\t\t// `prefixBeforeNationalNumber` is always non-empty,\r\n\t\t\t// because `onExtractedNationalNumber()` isn't called\r\n\t\t\t// when a national (significant) number hasn't been actually \"extracted\":\r\n\t\t\t// when a national (significant) number is equal to the national part of `digits`,\r\n\t\t\t// then `onExtractedNationalNumber()` doesn't get called.\r\n\t\t\tif (prefixBeforeNationalNumber !== nationalPrefix) {\r\n\t\t\t\tcomplexPrefixBeforeNationalSignificantNumber = prefixBeforeNationalNumber\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetState({\r\n\t\t\tnationalPrefix,\r\n\t\t\tcarrierCode,\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tnationalSignificantNumberMatchesInput,\r\n\t\t\tcomplexPrefixBeforeNationalSignificantNumber\r\n\t\t})\r\n\t\t// `onExtractedNationalNumber()` is only called when\r\n\t\t// the national (significant) number actually did change.\r\n\t\tthis.hasExtractedNationalSignificantNumber = true\r\n\t\tthis.onNationalSignificantNumberChange()\r\n\t}\r\n\r\n\treExtractNationalSignificantNumber(state) {\r\n\t\t// Attempt to extract a national prefix.\r\n\t\t//\r\n\t\t// Some people incorrectly input national prefix\r\n\t\t// in an international phone number.\r\n\t\t// For example, some people write British phone numbers as `+44(0)...`.\r\n\t\t//\r\n\t\t// Also, in some rare cases, it is valid for a national prefix\r\n\t\t// to be a part of an international phone number.\r\n\t\t// For example, mobile phone numbers in Mexico are supposed to be\r\n\t\t// dialled internationally using a `1` national prefix,\r\n\t\t// so the national prefix will be part of an international number.\r\n\t\t//\r\n\t\t// Quote from:\r\n\t\t// https://www.mexperience.com/dialing-cell-phones-in-mexico/\r\n\t\t//\r\n\t\t// \"Dialing a Mexican cell phone from abroad\r\n\t\t// When you are calling a cell phone number in Mexico from outside Mexico,\r\n\t\t// it’s necessary to dial an additional “1” after Mexico’s country code\r\n\t\t// (which is “52”) and before the area code.\r\n\t\t// You also ignore the 045, and simply dial the area code and the\r\n\t\t// cell phone’s number.\r\n\t\t//\r\n\t\t// If you don’t add the “1”, you’ll receive a recorded announcement\r\n\t\t// asking you to redial using it.\r\n\t\t//\r\n\t\t// For example, if you are calling from the USA to a cell phone\r\n\t\t// in Mexico City, you would dial +52 – 1 – 55 – 1234 5678.\r\n\t\t// (Note that this is different to calling a land line in Mexico City\r\n\t\t// from abroad, where the number dialed would be +52 – 55 – 1234 5678)\".\r\n\t\t//\r\n\t\t// Google's demo output:\r\n\t\t// https://libphonenumber.appspot.com/phonenumberparser?number=%2b5215512345678&country=MX\r\n\t\t//\r\n\t\tif (this.extractAnotherNationalSignificantNumber(\r\n\t\t\tstate.getNationalDigits(),\r\n\t\t\tstate.nationalSignificantNumber,\r\n\t\t\tstate.update\r\n\t\t)) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// If no format matches the phone number, then it could be\r\n\t\t// \"a really long IDD\" (quote from a comment in Google's library).\r\n\t\t// An IDD prefix is first extracted when the user has entered at least 3 digits,\r\n\t\t// and then here — every time when there's a new digit and the number\r\n\t\t// couldn't be formatted.\r\n\t\t// For example, in Australia the default IDD prefix is `0011`,\r\n\t\t// and it could even be as long as `14880011`.\r\n\t\t//\r\n\t\t// Could also check `!hasReceivedThreeLeadingDigits` here\r\n\t\t// to filter out the case when this check duplicates the one\r\n\t\t// already performed when there're 3 leading digits,\r\n\t\t// but it's not a big deal, and in most cases there\r\n\t\t// will be a suitable `format` when there're 3 leading digits.\r\n\t\t//\r\n\t\tif (this.extractIddPrefix(state)) {\r\n\t\t\tthis.extractCallingCodeAndNationalSignificantNumber(state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// Google's AsYouType formatter supports sort of an \"autocorrection\" feature\r\n\t\t// when it \"autocorrects\" numbers that have been input for a country\r\n\t\t// with that country's calling code.\r\n\t\t// Such \"autocorrection\" feature looks weird, but different people have been requesting it:\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/376\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/375\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/316\r\n\t\tif (this.fixMissingPlus(state)) {\r\n\t\t\tthis.extractCallingCodeAndNationalSignificantNumber(state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\textractIddPrefix(state) {\r\n\t\t// An IDD prefix can't be present in a number written with a `+`.\r\n\t\t// Also, don't re-extract an IDD prefix if has already been extracted.\r\n\t\tconst {\r\n\t\t\tinternational,\r\n\t\t\tIDDPrefix,\r\n\t\t\tdigits,\r\n\t\t\tnationalSignificantNumber\r\n\t\t} = state\r\n\t\tif (international || IDDPrefix) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Some users input their phone number in \"out-of-country\"\r\n\t\t// dialing format instead of using the leading `+`.\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/185\r\n\t\t// Detect such numbers.\r\n\t\tconst numberWithoutIDD = stripIddPrefix(\r\n\t\t\tdigits,\r\n\t\t\tthis.defaultCountry,\r\n\t\t\tthis.defaultCallingCode,\r\n\t\t\tthis.metadata.metadata\r\n\t\t)\r\n\t\tif (numberWithoutIDD !== undefined && numberWithoutIDD !== digits) {\r\n\t\t\t// If an IDD prefix was stripped then convert the IDD-prefixed number\r\n\t\t\t// to international number for subsequent parsing.\r\n\t\t\tstate.update({\r\n\t\t\t\tIDDPrefix: digits.slice(0, digits.length - numberWithoutIDD.length)\r\n\t\t\t})\r\n\t\t\tthis.startInternationalNumber(state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\tfixMissingPlus(state) {\r\n\t\tif (!state.international) {\r\n\t\t\tconst {\r\n\t\t\t\tcountryCallingCode: newCallingCode,\r\n\t\t\t\tnumber\r\n\t\t\t} = extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(\r\n\t\t\t\tstate.digits,\r\n\t\t\t\tthis.defaultCountry,\r\n\t\t\t\tthis.defaultCallingCode,\r\n\t\t\t\tthis.metadata.metadata\r\n\t\t\t)\r\n\t\t\tif (newCallingCode) {\r\n\t\t\t\tstate.update({\r\n\t\t\t\t\tmissingPlus: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.startInternationalNumber(state)\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstartInternationalNumber(state) {\r\n\t\tstate.startInternationalNumber()\r\n\t\t// If a national (significant) number has been extracted before, reset it.\r\n\t\tif (state.nationalSignificantNumber) {\r\n\t\t\tstate.resetNationalSignificantNumber()\r\n\t\t\tthis.onNationalSignificantNumberChange()\r\n\t\t\tthis.hasExtractedNationalSignificantNumber = undefined\r\n\t\t}\r\n\t}\r\n\r\n\textractCallingCodeAndNationalSignificantNumber(state) {\r\n\t\tif (this.extractCountryCallingCode(state)) {\r\n\t\t\t// `this.extractCallingCode()` is currently called when the number\r\n\t\t\t// couldn't be formatted during the standard procedure.\r\n\t\t\t// Normally, the national prefix would be re-extracted\r\n\t\t\t// for an international number if such number couldn't be formatted,\r\n\t\t\t// but since it's already not able to be formatted,\r\n\t\t\t// there won't be yet another retry, so also extract national prefix here.\r\n\t\t\tthis.extractNationalSignificantNumber(state.getNationalDigits(), state.update)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Extracts formatted phone number from text (if there's any).\r\n * @param  {string} text\r\n * @return {string} [formattedPhoneNumber]\r\n */\r\nfunction extractFormattedPhoneNumber(text) {\r\n\t// Attempt to extract a possible number from the string passed in.\r\n\tconst startsAt = text.search(VALID_FORMATTED_PHONE_NUMBER_PART)\r\n\tif (startsAt < 0) {\r\n\t\treturn\r\n\t}\r\n\t// Trim everything to the left of the phone number.\r\n\ttext = text.slice(startsAt)\r\n\t// Trim the `+`.\r\n\tlet hasPlus\r\n\tif (text[0] === '+') {\r\n\t\thasPlus = true\r\n\t\ttext = text.slice('+'.length)\r\n\t}\r\n\t// Trim everything to the right of the phone number.\r\n\ttext = text.replace(AFTER_PHONE_NUMBER_DIGITS_END_PATTERN, '')\r\n\t// Re-add the previously trimmed `+`.\r\n\tif (hasPlus) {\r\n\t\ttext = '+' + text\r\n\t}\r\n\treturn text\r\n}\r\n\r\n/**\r\n * Extracts formatted phone number digits (and a `+`) from text (if there're any).\r\n * @param  {string} text\r\n * @return {any[]}\r\n */\r\nfunction _extractFormattedDigitsAndPlus(text) {\r\n\t// Extract a formatted phone number part from text.\r\n\tconst extractedNumber = extractFormattedPhoneNumber(text) || ''\r\n\t// Trim a `+`.\r\n\tif (extractedNumber[0] === '+') {\r\n\t\treturn [extractedNumber.slice('+'.length), true]\r\n\t}\r\n\treturn [extractedNumber]\r\n}\r\n\r\n/**\r\n * Extracts formatted phone number digits (and a `+`) from text (if there're any).\r\n * @param  {string} text\r\n * @return {any[]}\r\n */\r\nexport function extractFormattedDigitsAndPlus(text) {\r\n\tlet [formattedDigits, hasPlus] = _extractFormattedDigitsAndPlus(text)\r\n\t// If the extracted phone number part\r\n\t// can possibly be a part of some valid phone number\r\n\t// then parse phone number characters from a formatted phone number.\r\n\tif (!VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN.test(formattedDigits)) {\r\n\t\tformattedDigits = ''\r\n\t}\r\n\treturn [formattedDigits, hasPlus]\r\n}","import Metadata from './metadata'\r\nimport PhoneNumber from './PhoneNumber'\r\nimport AsYouTypeState from './AsYouTypeState'\r\nimport AsYouTypeFormatter, { DIGIT_PLACEHOLDER } from './AsYouTypeFormatter'\r\nimport AsYouTypeParser, { extractFormattedDigitsAndPlus } from './AsYouTypeParser'\r\nimport getCountryByCallingCode from './helpers/getCountryByCallingCode'\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\nexport default class AsYouType {\r\n\t/**\r\n\t * @param {(string|object)?} [optionsOrDefaultCountry] - The default country used for parsing non-international phone numbers. Can also be an `options` object.\r\n\t * @param {Object} metadata\r\n\t */\r\n\tconstructor(optionsOrDefaultCountry, metadata) {\r\n\t\tthis.metadata = new Metadata(metadata)\r\n\t\tconst [defaultCountry, defaultCallingCode] = this.getCountryAndCallingCode(optionsOrDefaultCountry)\r\n\t\tthis.defaultCountry = defaultCountry\r\n\t\tthis.defaultCallingCode = defaultCallingCode\r\n\t\tthis.reset()\r\n\t}\r\n\r\n\tgetCountryAndCallingCode(optionsOrDefaultCountry) {\r\n\t\t// Set `defaultCountry` and `defaultCallingCode` options.\r\n\t\tlet defaultCountry\r\n\t\tlet defaultCallingCode\r\n\t\t// Turns out `null` also has type \"object\". Weird.\r\n\t\tif (optionsOrDefaultCountry) {\r\n\t\t\tif (typeof optionsOrDefaultCountry === 'object') {\r\n\t\t\t\tdefaultCountry = optionsOrDefaultCountry.defaultCountry\r\n\t\t\t\tdefaultCallingCode = optionsOrDefaultCountry.defaultCallingCode\r\n\t\t\t} else {\r\n\t\t\t\tdefaultCountry = optionsOrDefaultCountry\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (defaultCountry && !this.metadata.hasCountry(defaultCountry)) {\r\n\t\t\tdefaultCountry = undefined\r\n\t\t}\r\n\t\tif (defaultCallingCode) {\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t\tif (this.metadata.isNonGeographicCallingCode(defaultCallingCode)) {\r\n\t\t\t\t\tdefaultCountry = '001'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [defaultCountry, defaultCallingCode]\r\n\t}\r\n\r\n\t/**\r\n\t * Inputs \"next\" phone number characters.\r\n\t * @param  {string} text\r\n\t * @return {string} Formatted phone number characters that have been input so far.\r\n\t */\r\n\tinput(text) {\r\n\t\tconst {\r\n\t\t\tdigits,\r\n\t\t\tjustLeadingPlus\r\n\t\t} = this.parser.input(text, this.state)\r\n\t\tif (justLeadingPlus) {\r\n\t\t\tthis.formattedOutput = '+'\r\n\t\t} else if (digits) {\r\n\t\t\tthis.determineTheCountryIfNeeded()\r\n\t\t\t// Match the available formats by the currently available leading digits.\r\n\t\t\tif (this.state.nationalSignificantNumber) {\r\n\t\t\t\tthis.formatter.narrowDownMatchingFormats(this.state)\r\n\t\t\t}\r\n\t\t\tlet formattedNationalNumber\r\n\t\t\tif (this.metadata.hasSelectedNumberingPlan()) {\r\n\t\t\t\tformattedNationalNumber = this.formatter.format(digits, this.state)\r\n\t\t\t}\r\n\t\t\tif (formattedNationalNumber === undefined) {\r\n\t\t\t\t// See if another national (significant) number could be re-extracted.\r\n\t\t\t\tif (this.parser.reExtractNationalSignificantNumber(this.state)) {\r\n\t\t\t\t\tthis.determineTheCountryIfNeeded()\r\n\t\t\t\t\t// If it could, then re-try formatting the new national (significant) number.\r\n\t\t\t\t\tconst nationalDigits = this.state.getNationalDigits()\r\n\t\t\t\t\tif (nationalDigits) {\r\n\t\t\t\t\t\tformattedNationalNumber = this.formatter.format(nationalDigits, this.state)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.formattedOutput = formattedNationalNumber\r\n\t\t\t\t? this.getFullNumber(formattedNationalNumber)\r\n\t\t\t\t: this.getNonFormattedNumber()\r\n\t\t}\r\n\t\treturn this.formattedOutput\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.state = new AsYouTypeState({\r\n\t\t\tonCountryChange: (country) => {\r\n\t\t\t\t// Before version `1.6.0`, the official `AsYouType` formatter API\r\n\t\t\t\t// included the `.country` property of an `AsYouType` instance.\r\n\t\t\t\t// Since that property (along with the others) have been moved to\r\n\t\t\t\t// `this.state`, `this.country` property is emulated for compatibility\r\n\t\t\t\t// with the old versions.\r\n\t\t\t\tthis.country = country\r\n\t\t\t},\r\n\t\t\tonCallingCodeChange: (country, callingCode) => {\r\n\t\t\t\tthis.metadata.selectNumberingPlan(country, callingCode)\r\n\t\t\t\tthis.formatter.reset(this.metadata.numberingPlan, this.state)\r\n\t\t\t\tthis.parser.reset(this.metadata.numberingPlan)\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.formatter = new AsYouTypeFormatter({\r\n\t\t\tstate: this.state,\r\n\t\t\tmetadata: this.metadata\r\n\t\t})\r\n\t\tthis.parser = new AsYouTypeParser({\r\n\t\t\tdefaultCountry: this.defaultCountry,\r\n\t\t\tdefaultCallingCode: this.defaultCallingCode,\r\n\t\t\tmetadata: this.metadata,\r\n\t\t\tstate: this.state,\r\n\t\t\tonNationalSignificantNumberChange: () => {\r\n\t\t\t\tthis.determineTheCountryIfNeeded()\r\n\t\t\t\tthis.formatter.reset(this.metadata.numberingPlan, this.state)\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.state.reset(this.defaultCountry, this.defaultCallingCode)\r\n\t\tthis.formattedOutput = ''\r\n\t\treturn this\r\n\t}\r\n\r\n\t/**\r\n\t * Returns `true` if the phone number is being input in international format.\r\n\t * In other words, returns `true` if and only if the parsed phone number starts with a `\"+\"`.\r\n\t * @return {boolean}\r\n\t */\r\n\tisInternational() {\r\n\t\treturn this.state.international\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the \"country calling code\" part of the phone number.\r\n\t * Returns `undefined` if the number is not being input in international format.\r\n\t * Returns \"country calling code\" for \"non-geographic\" phone numbering plans too.\r\n\t * @return {string} [callingCode]\r\n\t */\r\n\tgetCallingCode() {\r\n\t\treturn this.state.callingCode\r\n\t}\r\n\r\n\t// A legacy alias.\r\n\tgetCountryCallingCode() {\r\n\t\treturn this.getCallingCode()\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a two-letter country code of the phone number.\r\n\t * Returns `undefined` for \"non-geographic\" phone numbering plans.\r\n\t * Returns `undefined` if no phone number has been input yet.\r\n\t * @return {string} [country]\r\n\t */\r\n\tgetCountry() {\r\n\t\tconst { digits, country } = this.state\r\n\t\t// If no digits have been input yet,\r\n\t\t// then `this.country` is the `defaultCountry`.\r\n\t\t// Won't return the `defaultCountry` in such case.\r\n\t\tif (!digits) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet countryCode = country\r\n\t\t/* istanbul ignore if */\r\n\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t// `AsYouType.getCountry()` returns `undefined`\r\n\t\t\t// for \"non-geographic\" phone numbering plans.\r\n\t\t\tif (countryCode === '001') {\r\n\t\t\t\tcountryCode = undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn countryCode\r\n\t}\r\n\r\n\tdetermineTheCountryIfNeeded() {\r\n\t\t// Suppose a user enters a phone number in international format,\r\n\t\t// and there're several countries corresponding to that country calling code,\r\n\t\t// and a country has been derived from the number, and then\r\n\t\t// a user enters one more digit and the number is no longer\r\n\t\t// valid for the derived country, so the country should be re-derived\r\n\t\t// on every new digit in those cases.\r\n\t\t//\r\n\t\t// If the phone number is being input in national format,\r\n\t\t// then it could be a case when `defaultCountry` wasn't specified\r\n\t\t// when creating `AsYouType` instance, and just `defaultCallingCode` was specified,\r\n\t\t// and that \"calling code\" could correspond to a \"non-geographic entity\",\r\n\t\t// or there could be several countries corresponding to that country calling code.\r\n\t\t// In those cases, `this.country` is `undefined` and should be derived\r\n\t\t// from the number. Again, if country calling code is ambiguous, then\r\n\t\t// `this.country` should be re-derived with each new digit.\r\n\t\t//\r\n\t\tif (!this.state.country || this.isCountryCallingCodeAmbiguous()) {\r\n\t\t\tthis.determineTheCountry()\r\n\t\t}\r\n\t}\r\n\r\n\t// Prepends `+CountryCode ` in case of an international phone number\r\n\tgetFullNumber(formattedNationalNumber) {\r\n\t\tif (this.isInternational()) {\r\n\t\t\tconst prefix = (text) => this.formatter.getInternationalPrefixBeforeCountryCallingCode(this.state, {\r\n\t\t\t\tspacing: text ? true : false\r\n\t\t\t}) + text\r\n\t\t\tconst { callingCode } = this.state\r\n\t\t\tif (!callingCode) {\r\n\t\t\t\treturn prefix(`${this.state.getDigitsWithoutInternationalPrefix()}`)\r\n\t\t\t}\r\n\t\t\tif (!formattedNationalNumber) {\r\n\t\t\t\treturn prefix(callingCode)\r\n\t\t\t}\r\n\t\t\treturn prefix(`${callingCode} ${formattedNationalNumber}`)\r\n\t\t}\r\n\t\treturn formattedNationalNumber\r\n\t}\r\n\r\n\tgetNonFormattedNationalNumberWithPrefix() {\r\n\t\tconst {\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tcomplexPrefixBeforeNationalSignificantNumber,\r\n\t\t\tnationalPrefix\r\n\t\t} = this.state\r\n\t\tlet number = nationalSignificantNumber\r\n\t\tconst prefix = complexPrefixBeforeNationalSignificantNumber || nationalPrefix\r\n\t\tif (prefix) {\r\n\t\t\tnumber = prefix + number\r\n\t\t}\r\n\t\treturn number\r\n\t}\r\n\r\n\tgetNonFormattedNumber() {\r\n\t\tconst { nationalSignificantNumberMatchesInput } = this.state\r\n\t\treturn this.getFullNumber(\r\n\t\t\tnationalSignificantNumberMatchesInput\r\n\t\t\t\t? this.getNonFormattedNationalNumberWithPrefix()\r\n\t\t\t\t: this.state.getNationalDigits()\r\n\t\t)\r\n\t}\r\n\r\n\tgetNonFormattedTemplate() {\r\n\t\tconst number = this.getNonFormattedNumber()\r\n\t\tif (number) {\r\n\t\t\treturn number.replace(/[\\+\\d]/g, DIGIT_PLACEHOLDER)\r\n\t\t}\r\n\t}\r\n\r\n\tisCountryCallingCodeAmbiguous() {\r\n\t\tconst { callingCode } = this.state\r\n\t\tconst countryCodes = this.metadata.getCountryCodesForCallingCode(callingCode)\r\n\t\treturn countryCodes && countryCodes.length > 1\r\n\t}\r\n\r\n\t// Determines the country of the phone number\r\n\t// entered so far based on the country phone code\r\n\t// and the national phone number.\r\n\tdetermineTheCountry() {\r\n\t\tthis.state.setCountry(getCountryByCallingCode(\r\n\t\t\tthis.isInternational() ? this.state.callingCode : this.defaultCallingCode,\r\n\t\t\tthis.state.nationalSignificantNumber,\r\n\t\t\tthis.metadata\r\n\t\t))\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an instance of `PhoneNumber` class.\r\n\t * Will return `undefined` if no national (significant) number\r\n\t * digits have been entered so far, or if no `defaultCountry` has been\r\n\t * set and the user enters a phone number not in international format.\r\n\t */\r\n\tgetNumber() {\r\n\t\tlet {\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tcarrierCode\r\n\t\t} = this.state\r\n\t\tif (this.isInternational()) {\r\n\t\t\tif (!this.state.callingCode) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!this.state.country && !this.defaultCallingCode) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!nationalSignificantNumber) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst countryCode = this.getCountry()\r\n\t\tconst callingCode = this.getCountryCallingCode() || this.defaultCallingCode\r\n\t\tconst phoneNumber = new PhoneNumber(\r\n\t\t\tcountryCode || callingCode,\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tthis.metadata.metadata\r\n\t\t)\r\n\t\tif (carrierCode) {\r\n\t\t\tphoneNumber.carrierCode = carrierCode\r\n\t\t}\r\n\t\t// Phone number extensions are not supported by \"As You Type\" formatter.\r\n\t\treturn phoneNumber\r\n\t}\r\n\r\n\t/**\r\n\t * Returns `true` if the phone number is \"possible\".\r\n\t * Is just a shortcut for `PhoneNumber.isPossible()`.\r\n\t * @return {boolean}\r\n\t */\r\n\tisPossible() {\r\n\t\tconst phoneNumber = this.getNumber()\r\n\t\tif (!phoneNumber) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn phoneNumber.isPossible()\r\n\t}\r\n\r\n\t/**\r\n\t * Returns `true` if the phone number is \"valid\".\r\n\t * Is just a shortcut for `PhoneNumber.isValid()`.\r\n\t * @return {boolean}\r\n\t */\r\n\tisValid() {\r\n\t\tconst phoneNumber = this.getNumber()\r\n\t\tif (!phoneNumber) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn phoneNumber.isValid()\r\n\t}\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t * This method is used in `react-phone-number-input/source/input-control.js`\r\n\t * in versions before `3.0.16`.\r\n\t */\r\n\tgetNationalNumber() {\r\n\t\treturn this.state.nationalSignificantNumber\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the phone number characters entered by the user.\r\n\t * @return {string}\r\n\t */\r\n\tgetChars() {\r\n\t\treturn (this.state.international ? '+' : '') + this.state.digits\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the template for the formatted phone number.\r\n\t * @return {string}\r\n\t */\r\n\tgetTemplate() {\r\n\t\treturn this.formatter.getTemplate(this.state) || this.getNonFormattedTemplate() || ''\r\n\t}\r\n}","import { getCountryCallingCode } from 'libphonenumber-js/core'\r\n\r\nexport function getInputValuePrefix({\r\n\tcountry,\r\n\tinternational,\r\n\twithCountryCallingCode,\r\n\tmetadata\r\n}) {\r\n\treturn country && international && !withCountryCallingCode ?\r\n\t\t`+${getCountryCallingCode(country, metadata)}` :\r\n\t\t''\r\n}\r\n\r\nexport function removeInputValuePrefix(value, prefix) {\r\n\tif (prefix) {\r\n\t\tvalue = value.slice(prefix.length)\r\n\t\tif (value[0] === ' ') {\r\n\t\t\tvalue = value.slice(1)\r\n\t\t}\r\n\t}\r\n\treturn value\r\n}","import React, { useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Input from 'input-format/react'\r\nimport { AsYouType, parsePhoneNumberCharacter } from 'libphonenumber-js/core'\r\n\r\nimport { getInputValuePrefix, removeInputValuePrefix } from './helpers/inputValuePrefix'\r\n\r\nexport function createInput(defaultMetadata)\r\n{\r\n\t/**\r\n\t * `InputSmart` is a \"smarter\" implementation of a `Component`\r\n\t * that can be passed to `<PhoneInput/>`. It parses and formats\r\n\t * the user's and maintains the caret's position in the process.\r\n\t * The caret positioning is maintained using `input-format` library.\r\n\t * Relies on being run in a DOM environment for calling caret positioning functions.\r\n\t */\r\n\tfunction InputSmart({\r\n\t\tcountry,\r\n\t\tinternational,\r\n\t\twithCountryCallingCode,\r\n\t\tmetadata,\r\n\t\t...rest\r\n\t}, ref) {\r\n\t\tconst format = useCallback((value) => {\r\n\t\t\t// \"As you type\" formatter.\r\n\t\t\tconst formatter = new AsYouType(country, metadata)\r\n\t\t\tconst prefix = getInputValuePrefix({\r\n\t\t\t\tcountry,\r\n\t\t\t\tinternational,\r\n\t\t\t\twithCountryCallingCode,\r\n\t\t\t\tmetadata\r\n\t\t\t})\r\n\t\t\t// Format the number.\r\n\t\t\tlet text = formatter.input(prefix + value)\r\n\t\t\tlet template = formatter.getTemplate()\r\n\t\t\tif (prefix) {\r\n\t\t\t\ttext = removeInputValuePrefix(text, prefix)\r\n\t\t\t\t// `AsYouType.getTemplate()` can be `undefined`.\r\n\t\t\t\tif (template) {\r\n\t\t\t\t\ttemplate = removeInputValuePrefix(template, prefix)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttext,\r\n\t\t\t\ttemplate\r\n\t\t\t}\r\n\t\t}, [country, metadata])\r\n\t\treturn (\r\n\t\t\t<Input\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ref}\r\n\t\t\t\tparse={parsePhoneNumberCharacter}\r\n\t\t\t\tformat={format}/>\r\n\t\t)\r\n\t}\r\n\r\n\tInputSmart = React.forwardRef(InputSmart)\r\n\r\n\tInputSmart.propTypes = {\r\n\t\t/**\r\n\t\t * The parsed phone number.\r\n\t\t * \"Parsed\" not in a sense of \"E.164\"\r\n\t\t * but rather in a sense of \"having only\r\n\t\t * digits and possibly a leading plus character\".\r\n\t\t * Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n\t\t */\r\n\t\tvalue: PropTypes.string.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A function of `value: string`.\r\n\t\t * Updates the `value` property.\r\n\t\t */\r\n\t\tonChange: PropTypes.func.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A two-letter country code for formatting `value`\r\n\t\t * as a national phone number (e.g. `(800) 555 35 35`).\r\n\t\t * E.g. \"US\", \"RU\", etc.\r\n\t\t * If no `country` is passed then `value`\r\n\t\t * is formatted as an international phone number.\r\n\t\t * (e.g. `+7 800 555 35 35`)\r\n\t\t * Perhaps the `country` property should have been called `defaultCountry`\r\n\t\t * because if `value` is an international number then `country` is ignored.\r\n\t\t */\r\n\t\tcountry: PropTypes.string,\r\n\r\n\t\t/**\r\n\t\t * If `country` property is passed along with `international={true}` property\r\n\t\t * then the phone number will be input in \"international\" format for that `country`\r\n\t\t * (without \"country calling code\").\r\n\t\t * For example, if `country=\"US\"` property is passed to \"without country select\" input\r\n\t\t * then the phone number will be input in the \"national\" format for `US` (`(213) 373-4253`).\r\n\t\t * But if both `country=\"US\"` and `international={true}` properties are passed then\r\n\t\t * the phone number will be input in the \"international\" format for `US` (`213 373 4253`)\r\n\t\t * (without \"country calling code\" `+1`).\r\n\t\t */\r\n\t\tinternational: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * If `country` and `international` properties are set,\r\n\t\t * then by default it won't include \"country calling code\" in the input field.\r\n\t\t * To change that, pass `withCountryCallingCode` property,\r\n\t\t * and it will include \"country calling code\" in the input field.\r\n\t\t */\r\n\t\twithCountryCallingCode: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * `libphonenumber-js` metadata.\r\n\t\t */\r\n\t\tmetadata: PropTypes.object.isRequired\r\n\t}\r\n\r\n\tInputSmart.defaultProps = {\r\n\t\tmetadata: defaultMetadata\r\n\t}\r\n\r\n\treturn InputSmart\r\n}\r\n\r\nexport default createInput()","import React, { useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { parseIncompletePhoneNumber, formatIncompletePhoneNumber } from 'libphonenumber-js/core'\r\n\r\nimport { getInputValuePrefix, removeInputValuePrefix } from './helpers/inputValuePrefix'\r\n\r\nexport function createInput(defaultMetadata) {\r\n\t/**\r\n\t * `InputBasic` is the most basic implementation of a `Component`\r\n\t * that can be passed to `<PhoneInput/>`. It parses and formats\r\n\t * the user's input but doesn't control the caret in the process:\r\n\t * when erasing or inserting digits in the middle of a phone number\r\n\t * the caret usually jumps to the end (this is the expected behavior).\r\n\t * Why does `InputBasic` exist when there's `InputSmart`?\r\n\t * One reason is working around the [Samsung Galaxy smart caret positioning bug]\r\n\t * (https://github.com/catamphetamine/react-phone-number-input/issues/75).\r\n\t * Another reason is that, unlike `InputSmart`, it doesn't require DOM environment.\r\n\t */\r\n\tfunction InputBasic({\r\n\t\tvalue,\r\n\t\tonChange,\r\n\t\tcountry,\r\n\t\tinternational,\r\n\t\twithCountryCallingCode,\r\n\t\tmetadata,\r\n\t\tinputComponent: Input,\r\n\t\t...rest\r\n\t}, ref) {\r\n\t\tconst prefix = getInputValuePrefix({\r\n\t\t\tcountry,\r\n\t\t\tinternational,\r\n\t\t\twithCountryCallingCode,\r\n\t\t\tmetadata\r\n\t\t})\r\n\r\n\t\tconst _onChange = useCallback((event) => {\r\n\t\t\tlet newValue = parseIncompletePhoneNumber(event.target.value)\r\n\t\t\t// By default, if a value is something like `\"(123)\"`\r\n\t\t\t// then Backspace would only erase the rightmost brace\r\n\t\t\t// becoming something like `\"(123\"`\r\n\t\t\t// which would give the same `\"123\"` value\r\n\t\t\t// which would then be formatted back to `\"(123)\"`\r\n\t\t\t// and so a user wouldn't be able to erase the phone number.\r\n\t\t\t// Working around this issue with this simple hack.\r\n\t\t\tif (newValue === value) {\r\n\t\t\t\tconst newValueFormatted = format(prefix, newValue, country, metadata)\r\n\t\t\t\tif (newValueFormatted.indexOf(event.target.value) === 0) {\r\n\t\t\t\t\t// Trim the last digit (or plus sign).\r\n\t\t\t\t\tnewValue = newValue.slice(0, -1)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tonChange(newValue)\r\n\t\t}, [\r\n\t\t\tprefix,\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tcountry,\r\n\t\t\tmetadata\r\n\t\t])\r\n\r\n\t\treturn (\r\n\t\t\t<Input\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ref}\r\n\t\t\t\tvalue={format(prefix, value, country, metadata)}\r\n\t\t\t\tonChange={_onChange}/>\r\n\t\t)\r\n\t}\r\n\r\n\tInputBasic = React.forwardRef(InputBasic)\r\n\r\n\tInputBasic.propTypes = {\r\n\t\t/**\r\n\t\t * The parsed phone number.\r\n\t\t * \"Parsed\" not in a sense of \"E.164\"\r\n\t\t * but rather in a sense of \"having only\r\n\t\t * digits and possibly a leading plus character\".\r\n\t\t * Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n\t\t */\r\n\t\tvalue: PropTypes.string.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A function of `value: string`.\r\n\t\t * Updates the `value` property.\r\n\t\t */\r\n\t\tonChange: PropTypes.func.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A two-letter country code for formatting `value`\r\n\t\t * as a national phone number (e.g. `(800) 555 35 35`).\r\n\t\t * E.g. \"US\", \"RU\", etc.\r\n\t\t * If no `country` is passed then `value`\r\n\t\t * is formatted as an international phone number.\r\n\t\t * (e.g. `+7 800 555 35 35`)\r\n\t\t * Perhaps the `country` property should have been called `defaultCountry`\r\n\t\t * because if `value` is an international number then `country` is ignored.\r\n\t\t */\r\n\t\tcountry : PropTypes.string,\r\n\r\n\t\t/**\r\n\t\t * If `country` property is passed along with `international={true}` property\r\n\t\t * then the phone number will be input in \"international\" format for that `country`\r\n\t\t * (without \"country calling code\").\r\n\t\t * For example, if `country=\"US\"` property is passed to \"without country select\" input\r\n\t\t * then the phone number will be input in the \"national\" format for `US` (`(213) 373-4253`).\r\n\t\t * But if both `country=\"US\"` and `international={true}` properties are passed then\r\n\t\t * the phone number will be input in the \"international\" format for `US` (`213 373 4253`)\r\n\t\t * (without \"country calling code\" `+1`).\r\n\t\t */\r\n\t\tinternational: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * If `country` and `international` properties are set,\r\n\t\t * then by default it won't include \"country calling code\" in the input field.\r\n\t\t * To change that, pass `withCountryCallingCode` property,\r\n\t\t * and it will include \"country calling code\" in the input field.\r\n\t\t */\r\n\t\twithCountryCallingCode: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * `libphonenumber-js` metadata.\r\n\t\t */\r\n\t\tmetadata: PropTypes.object.isRequired,\r\n\r\n\t\t/**\r\n\t\t * The `<input/>` component.\r\n\t\t */\r\n\t\tinputComponent: PropTypes.elementType.isRequired\r\n\t}\r\n\r\n\tInputBasic.defaultProps = {\r\n\t\tmetadata: defaultMetadata,\r\n\t\tinputComponent: 'input'\r\n\t}\r\n\r\n\treturn InputBasic\r\n}\r\n\r\nexport default createInput()\r\n\r\nfunction format(prefix, value, country, metadata) {\r\n\treturn removeInputValuePrefix(\r\n\t\tformatIncompletePhoneNumber(\r\n\t\t\tprefix + value,\r\n\t\t\tcountry,\r\n\t\t\tmetadata\r\n\t\t),\r\n\t\tprefix\r\n\t)\r\n}","import AsYouType from './AsYouType'\r\n\r\n/**\r\n * Formats a (possibly incomplete) phone number.\r\n * The phone number can be either in E.164 format\r\n * or in a form of national number digits.\r\n * @param {string} value - A possibly incomplete phone number. Either in E.164 format or in a form of national number digits.\r\n * @param {string?} country - Two-letter (\"ISO 3166-1 alpha-2\") country code.\r\n * @return {string} Formatted (possibly incomplete) phone number.\r\n */\r\nexport default function formatIncompletePhoneNumber(value, country, metadata) {\r\n\tif (!metadata) {\r\n\t\tmetadata = country\r\n\t\tcountry = undefined\r\n\t}\r\n\treturn new AsYouType(country, metadata).input(value)\r\n}","/**\r\n * Creates Unicode flag from a two-letter ISO country code.\r\n * https://stackoverflow.com/questions/24050671/how-to-put-japan-flag-character-in-a-string\r\n * @param  {string} country — A two-letter ISO country code (case-insensitive).\r\n * @return {string}\r\n */\r\nexport default function getCountryFlag(country) {\r\n\treturn getRegionalIndicatorSymbol(country[0]) + getRegionalIndicatorSymbol(country[1])\r\n}\r\n\r\n/**\r\n * Converts a letter to a Regional Indicator Symbol.\r\n * @param  {string} letter\r\n * @return {string}\r\n */\r\nfunction getRegionalIndicatorSymbol(letter) {\r\n\treturn String.fromCodePoint(0x1F1E6 - 65 + letter.toUpperCase().charCodeAt(0))\r\n}","import React, { useCallback, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport getUnicodeFlagIcon from 'country-flag-icons/unicode'\r\n\r\nexport default function CountrySelect({\r\n\tvalue,\r\n\tonChange,\r\n\toptions,\r\n\t...rest\r\n}) {\r\n\tconst onChange_ = useCallback((event) => {\r\n\t\tconst value = event.target.value\r\n\t\tonChange(value === 'ZZ' ? undefined : value)\r\n\t}, [onChange])\r\n\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\t// \"ZZ\" means \"International\".\r\n\t// (HTML requires each `<option/>` have some string `value`).\r\n\treturn (\r\n\t\t<select\r\n\t\t\t{...rest}\r\n\t\t\tvalue={value || 'ZZ'}\r\n\t\t\tonChange={onChange_}>\r\n\t\t\t{options.map(({ value, label, divider }) => (\r\n\t\t\t\t<option\r\n\t\t\t\t\tkey={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tvalue={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tdisabled={divider ? true : false}\r\n\t\t\t\t\tstyle={divider ? DIVIDER_STYLE : undefined}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</option>\r\n\t\t\t))}\r\n\t\t</select>\r\n\t)\r\n}\r\n\r\nCountrySelect.propTypes = {\r\n\t/**\r\n\t * A two-letter country code.\r\n\t * Example: \"US\", \"RU\", etc.\r\n\t */\r\n\tvalue: PropTypes.string,\r\n\r\n\t/**\r\n\t * A function of `value: string`.\r\n\t * Updates the `value` property.\r\n\t */\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t// `<select/>` options.\r\n\toptions: PropTypes.arrayOf(PropTypes.shape({\r\n\t\tvalue: PropTypes.string,\r\n\t\tlabel: PropTypes.string,\r\n\t\tdivider: PropTypes.bool\r\n\t})).isRequired\r\n}\r\n\r\nconst DIVIDER_STYLE = {\r\n\tfontSize: '1px',\r\n\tbackgroundColor: 'currentColor',\r\n\tcolor: 'inherit'\r\n}\r\n\r\nexport function CountrySelectWithIcon({\r\n\tvalue,\r\n\toptions,\r\n\tclassName,\r\n\ticonComponent: Icon,\r\n\tgetIconAspectRatio,\r\n\tarrowComponent: Arrow,\r\n\tunicodeFlags,\r\n\t...rest\r\n}) {\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\treturn (\r\n\t\t<div className=\"PhoneInputCountry\">\r\n\t\t\t<CountrySelect\r\n\t\t\t\t{...rest}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tclassName={classNames('PhoneInputCountrySelect', className)}/>\r\n\r\n\t\t\t{/* Either a Unicode flag icon. */}\r\n\t\t\t{(unicodeFlags && value) &&\r\n\t\t\t\t<div className=\"PhoneInputCountryIconUnicode\">\r\n\t\t\t\t\t{getUnicodeFlagIcon(value)}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{/* Or an SVG flag icon. */}\r\n\t\t\t{!(unicodeFlags && value) &&\r\n\t\t\t\t<Icon\r\n\t\t\t\t\tcountry={value}\r\n\t\t\t\t\tlabel={selectedOption && selectedOption.label}\r\n\t\t\t\t\taspectRatio={unicodeFlags ? 1 : undefined}/>\r\n\t\t\t}\r\n\r\n\t\t\t<Arrow/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCountrySelectWithIcon.propTypes = {\r\n\t// Country flag component.\r\n\ticonComponent: PropTypes.elementType,\r\n\r\n\t// Select arrow component.\r\n\tarrowComponent: PropTypes.elementType.isRequired,\r\n\r\n\t// Set to `true` to render Unicode flag icons instead of SVG images.\r\n\tunicodeFlags: PropTypes.bool\r\n}\r\n\r\nCountrySelectWithIcon.defaultProps = {\r\n\t// Is \"International\" icon square?\r\n\tarrowComponent: () => <div className=\"PhoneInputCountrySelectArrow\"/>\r\n}\r\n\r\nfunction getSelectedOption(options, value) {\r\n\tfor (const option of options) {\r\n\t\tif (!option.divider && option.value === value) {\r\n\t\t\treturn option\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// Default country flag icon.\r\n// `<img/>` is wrapped in a `<div/>` to prevent SVGs from exploding in size in IE 11.\r\n// https://github.com/catamphetamine/react-phone-number-input/issues/111\r\nexport default function FlagComponent({\r\n\tcountry,\r\n\tcountryName,\r\n\tflags,\r\n\tflagUrl,\r\n\t...rest\r\n}) {\r\n\tif (flags && flags[country]) {\r\n\t\treturn flags[country]({ title: countryName })\r\n\t}\r\n\treturn (\r\n\t\t<img\r\n\t\t\t{...rest}\r\n\t\t\talt={countryName}\r\n\t\t\trole={countryName ? undefined : \"presentation\"}\r\n\t\t\tsrc={flagUrl.replace('{XX}', country).replace('{xx}', country.toLowerCase())}/>\r\n\t)\r\n}\r\n\r\nFlagComponent.propTypes = {\r\n\t// The country to be selected by default.\r\n\t// Two-letter country code (\"ISO 3166-1 alpha-2\").\r\n\tcountry: PropTypes.string.isRequired,\r\n\r\n\t// Will be HTML `title` attribute of the `<img/>`.\r\n\tcountryName: PropTypes.string.isRequired,\r\n\r\n\t// Country flag icon components.\r\n\t// By default flag icons are inserted as `<img/>`s\r\n\t// with their `src` pointed to `country-flag-icons` gitlab pages website.\r\n\t// There might be cases (e.g. an offline application)\r\n\t// where having a large (3 megabyte) `<svg/>` flags\r\n\t// bundle is more appropriate.\r\n\t// `import flags from 'react-phone-number-input/flags'`.\r\n\tflags: PropTypes.objectOf(PropTypes.elementType),\r\n\r\n\t// A URL for a country flag icon.\r\n\t// By default it points to `country-flag-icons` gitlab pages website.\r\n\tflagUrl: PropTypes.string.isRequired\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default function InternationalIcon({ aspectRatio, ...rest }) {\r\n\tif (aspectRatio === 1) {\r\n\t\treturn <InternationalIcon1x1 {...rest}/>\r\n\t} else {\r\n\t\treturn <InternationalIcon3x2 {...rest}/>\r\n\t}\r\n}\r\n\r\nInternationalIcon.propTypes = {\r\n\ttitle: PropTypes.string.isRequired,\r\n\taspectRatio: PropTypes.number\r\n}\r\n\r\n// 3x2.\r\n// Using `<title/>` in `<svg/>`s:\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title\r\nfunction InternationalIcon3x2({ title, ...rest }) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\t{...rest}\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\tviewBox=\"0 0 75 50\">\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<g\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconGlobe\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\tstrokeMiterlimit=\"10\">\r\n\t\t\t\t<path strokeLinecap=\"round\" d=\"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3\"/>\r\n\t\t\t\t<path d=\"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3\"/>\r\n\t\t\t\t<line x1=\"26\" y1=\"25\" x2=\"74\" y2=\"25\"/>\r\n\t\t\t\t<line x1=\"50\" y1=\"1\" x2=\"50\" y2=\"49\"/>\r\n\t\t\t\t<path strokeLinecap=\"round\" d=\"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8\"/>\r\n\t\t\t\t<path strokeLinecap=\"round\" d=\"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2\"/>\r\n\t\t\t</g>\r\n\t\t\t<path\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconPhone\"\r\n\t\t\t\tstroke=\"none\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\td=\"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z\"/>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nInternationalIcon3x2.propTypes = {\r\n\ttitle: PropTypes.string.isRequired\r\n}\r\n\r\n// 1x1.\r\n// Using `<title/>` in `<svg/>`s:\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title\r\nfunction InternationalIcon1x1({ title, ...rest }) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\t{...rest}\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\tviewBox=\"0 0 50 50\">\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<g\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconGlobe\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\tstrokeLinecap=\"round\">\r\n\t\t\t\t<path d=\"M8.45,13A21.44,21.44,0,1,1,37.08,41.56\"/>\r\n\t\t\t\t<path d=\"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21\"/>\r\n\t\t\t\t<path d=\"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86\"/>\r\n\t\t\t\t<path d=\"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54\"/>\r\n\t\t\t\t<line x1=\"27.8\" y1=\"0.85\" x2=\"27.8\" y2=\"34.61\"/>\r\n\t\t\t\t<line x1=\"15.2\" y1=\"22.23\" x2=\"49.15\" y2=\"22.23\"/>\r\n\t\t\t</g>\r\n\t\t\t<path\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconPhone\"\r\n\t\t\t\tstroke=\"transparent\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\td=\"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z\"/>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nInternationalIcon1x1.propTypes = {\r\n\ttitle: PropTypes.string.isRequired\r\n}\r\n","import { isSupportedCountry } from 'libphonenumber-js/core'\r\nexport { getCountries } from 'libphonenumber-js/core'\r\n\r\n/**\r\n * Sorts country `<select/>` options.\r\n * Can move some country `<select/>` options\r\n * to the top of the list, for example.\r\n * @param  {object[]} countryOptions — Country `<select/>` options.\r\n * @param  {string[]} [countryOptionsOrder] — Country `<select/>` options order. Example: `[\"US\", \"CA\", \"AU\", \"|\", \"...\"]`.\r\n * @return {object[]}\r\n */\r\nexport function sortCountryOptions(options, order) {\r\n\tif (!order) {\r\n\t\treturn options\r\n\t}\r\n\tconst optionsOnTop = []\r\n\tconst optionsOnBottom = []\r\n\tlet appendTo = optionsOnTop\r\n\tfor (const element of order) {\r\n\t\tif (element === '|') {\r\n\t\t\tappendTo.push({ divider: true })\r\n\t\t} else if (element === '...' || element === '…') {\r\n\t\t\tappendTo = optionsOnBottom\r\n\t\t} else {\r\n\t\t\tlet countryCode\r\n\t\t\tif (element === '🌐') {\r\n\t\t\t\tcountryCode = undefined\r\n\t\t\t} else {\r\n\t\t\t\tcountryCode = element\r\n\t\t\t}\r\n\t\t\t// Find the position of the option.\r\n\t\t\tconst index = options.indexOf(options.filter(option => option.value === countryCode)[0])\r\n\t\t\t// Get the option.\r\n\t\t\tconst option = options[index]\r\n\t\t\t// Remove the option from its default position.\r\n\t\t\toptions.splice(index, 1)\r\n\t\t\t// Add the option on top.\r\n\t\t\tappendTo.push(option)\r\n\t\t}\r\n\t}\r\n\treturn optionsOnTop.concat(options).concat(optionsOnBottom)\r\n}\r\n\r\nexport function getSupportedCountryOptions(countryOptions, metadata) {\r\n\tif (countryOptions) {\r\n\t\tcountryOptions = countryOptions.filter((option) => {\r\n\t\t\tswitch (option) {\r\n\t\t\t\tcase '🌐':\r\n\t\t\t\tcase '|':\r\n\t\t\t\tcase '...':\r\n\t\t\t\tcase '…':\r\n\t\t\t\t\treturn true\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn isCountrySupportedWithError(option, metadata)\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (countryOptions.length > 0) {\r\n\t\t\treturn countryOptions\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isCountrySupportedWithError(country, metadata) {\r\n\tif (isSupportedCountry(country, metadata)) {\r\n\t\treturn true\r\n\t} else {\r\n\t\tconsole.error(`Country not found: ${country}`)\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport function getSupportedCountries(countries, metadata) {\r\n\tif (countries) {\r\n\t\tcountries = countries.filter(country => isCountrySupportedWithError(country, metadata))\r\n\t\tif (countries.length === 0) {\r\n\t\t\tcountries = undefined\r\n\t\t}\r\n\t}\r\n\treturn countries\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport DefaultInternationalIcon from './InternationalIcon'\r\nimport Flag from './Flag'\r\n\r\nexport function createCountryIconComponent({\r\n\tflags,\r\n\tflagUrl,\r\n\tflagComponent: FlagComponent,\r\n\tinternationalIcon: InternationalIcon\r\n}) {\r\n\tfunction CountryIcon({\r\n\t\tcountry,\r\n\t\tlabel,\r\n\t\taspectRatio\r\n\t}) {\r\n\t\t// `aspectRatio` is currently a hack for the default \"International\" icon\r\n\t\t// to render it as a square when Unicode flag icons are used.\r\n\t\t// So `aspectRatio` property is only used with the default \"International\" icon.\r\n\t\tconst _aspectRatio = InternationalIcon === DefaultInternationalIcon ? aspectRatio : undefined\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classNames('PhoneInputCountryIcon', {\r\n\t\t\t\t\t'PhoneInputCountryIcon--square': _aspectRatio === 1,\r\n\t\t\t\t\t'PhoneInputCountryIcon--border': country\r\n\t\t\t\t})}>\r\n\t\t\t\t{\r\n\t\t\t\t\tcountry\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<FlagComponent\r\n\t\t\t\t\t\tcountry={country}\r\n\t\t\t\t\t\tcountryName={label}\r\n\t\t\t\t\t\tflags={flags}\r\n\t\t\t\t\t\tflagUrl={flagUrl}\r\n\t\t\t\t\t\tclassName=\"PhoneInputCountryIconImg\"/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<InternationalIcon\r\n\t\t\t\t\t\ttitle={label}\r\n\t\t\t\t\t\taspectRatio={_aspectRatio}\r\n\t\t\t\t\t\tclassName=\"PhoneInputCountryIconImg\"/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tCountryIcon.propTypes = {\r\n\t\tcountry: PropTypes.string,\r\n\t\tlabel: PropTypes.string.isRequired,\r\n\t\taspectRatio: PropTypes.number\r\n\t}\r\n\r\n\treturn CountryIcon\r\n}\r\n\r\nexport default createCountryIconComponent({\r\n\t// Must be equal to `defaultProps.flagUrl` in `./PhoneInputWithCountry.js`.\r\n\tflagUrl: 'https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg',\r\n\tflagComponent: Flag,\r\n\tinternationalIcon: DefaultInternationalIcon\r\n})","import {\r\n\tgetCountryCallingCode,\r\n\tMetadata\r\n} from 'libphonenumber-js/core'\r\n\r\nconst ONLY_DIGITS_REGEXP = /^\\d+$/\r\nexport default function getInternationalPhoneNumberPrefix(country, metadata) {\r\n\t// Standard international phone number prefix: \"+\" and \"country calling code\".\r\n\tlet prefix = '+' + getCountryCallingCode(country, metadata)\r\n\t// Get \"leading digits\" for a phone number of the country.\r\n\t// If there're \"leading digits\" then they can be part of the prefix too.\r\n\tmetadata = new Metadata(metadata)\r\n\tmetadata.selectNumberingPlan(country)\r\n\tif (metadata.numberingPlan.leadingDigits() && ONLY_DIGITS_REGEXP.test(metadata.numberingPlan.leadingDigits())) {\r\n\t\tprefix += metadata.numberingPlan.leadingDigits()\r\n\t}\r\n\treturn prefix\r\n}","import parsePhoneNumber_, {\r\n\tgetCountryCallingCode,\r\n\tAsYouType,\r\n\tMetadata\r\n} from 'libphonenumber-js/core'\r\n\r\nimport getInternationalPhoneNumberPrefix from './getInternationalPhoneNumberPrefix'\r\n\r\n/**\r\n * Decides which country should be pre-selected\r\n * when the phone number input component is first mounted.\r\n * @param  {object?} phoneNumber - An instance of `PhoneNumber` class.\r\n * @param  {string?} country - Pre-defined country (two-letter code).\r\n * @param  {string[]?} countries - A list of countries available.\r\n * @param  {object} metadata - `libphonenumber-js` metadata\r\n * @return {string?}\r\n */\r\nexport function getPreSelectedCountry({\r\n\tvalue,\r\n\tphoneNumber,\r\n\tdefaultCountry,\r\n\tgetAnyCountry,\r\n\tcountries,\r\n\trequired,\r\n\tmetadata\r\n}) {\r\n\tlet country\r\n\r\n\t// If can get country from E.164 phone number\r\n\t// then it overrides the `country` passed (or not passed).\r\n\tif (phoneNumber && phoneNumber.country) {\r\n\t\t// `country` will be left `undefined` in case of non-detection.\r\n\t\tcountry = phoneNumber.country\r\n\t} else if (defaultCountry) {\r\n\t\tif (!value || couldNumberBelongToCountry(value, defaultCountry, metadata)) {\r\n\t\t\tcountry = defaultCountry\r\n\t\t}\r\n\t}\r\n\r\n\t// Only pre-select a country if it's in the available `countries` list.\r\n\tif (countries && countries.indexOf(country) < 0) {\r\n\t\tcountry = undefined\r\n\t}\r\n\r\n\t// If there will be no \"International\" option\r\n\t// then some `country` must be selected.\r\n\t// It will still be the wrong country though.\r\n\t// But still country `<select/>` can't be left in a broken state.\r\n\tif (!country && required && countries && countries.length > 0) {\r\n\t\tcountry = getAnyCountry()\r\n\t\t// noCountryMatchesTheNumber = true\r\n\t}\r\n\r\n\treturn country\r\n}\r\n\r\n/**\r\n * Generates a sorted list of country `<select/>` options.\r\n * @param  {string[]} countries - A list of two-letter (\"ISO 3166-1 alpha-2\") country codes.\r\n * @param  {object} labels - Custom country labels. E.g. `{ RU: 'Россия', US: 'США', ... }`.\r\n * @param  {boolean} addInternationalOption - Whether should include \"International\" option at the top of the list.\r\n * @return {object[]} A list of objects having shape `{ value : string, label : string }`.\r\n */\r\nexport function getCountrySelectOptions({\r\n\tcountries,\r\n\tcountryNames,\r\n\taddInternationalOption,\r\n\t// `locales` are only used in country name comparator:\r\n\t// depending on locale, string sorting order could be different.\r\n\tcompareStringsLocales,\r\n\tcompareStrings: _compareStrings\r\n}) {\r\n\t// Default country name comparator uses `String.localeCompare()`.\r\n\tif (!_compareStrings) {\r\n\t\t_compareStrings = compareStrings\r\n\t}\r\n\r\n\t// Generates a `<Select/>` option for each country.\r\n\tconst countrySelectOptions = countries.map((country) => ({\r\n\t\tvalue: country,\r\n\t\t// All `locale` country names included in this library\r\n\t\t// include all countries (this is checked at build time).\r\n\t\t// The only case when a country name might be missing\r\n\t\t// is when a developer supplies their own `labels` property.\r\n\t\t// To guard against such cases, a missing country name\r\n\t\t// is substituted by country code.\r\n\t\tlabel: countryNames[country] || country\r\n\t}))\r\n\r\n\t// Sort the list of countries alphabetically.\r\n\tcountrySelectOptions.sort((a, b) => _compareStrings(a.label, b.label, compareStringsLocales))\r\n\r\n\t// Add the \"International\" option to the country list (if suitable)\r\n\tif (addInternationalOption) {\r\n\t\tcountrySelectOptions.unshift({\r\n\t\t\tlabel: countryNames.ZZ\r\n\t\t})\r\n\t}\r\n\r\n\treturn countrySelectOptions\r\n}\r\n\r\n/**\r\n * Parses a E.164 phone number to an instance of `PhoneNumber` class.\r\n * @param {string?} value = E.164 phone number.\r\n * @param  {object} metadata - `libphonenumber-js` metadata\r\n * @return {object} Object having shape `{ country: string?, countryCallingCode: string, number: string }`. `PhoneNumber`: https://gitlab.com/catamphetamine/libphonenumber-js#phonenumber.\r\n * @example\r\n * parsePhoneNumber('+78005553535')\r\n */\r\nexport function parsePhoneNumber(value, metadata) {\r\n\treturn parsePhoneNumber_(value || '', metadata)\r\n}\r\n\r\n/**\r\n * Generates national number digits for a parsed phone.\r\n * May prepend national prefix.\r\n * The phone number must be a complete and valid phone number.\r\n * @param  {object} phoneNumber - An instance of `PhoneNumber` class.\r\n * @param  {object} metadata - `libphonenumber-js` metadata\r\n * @return {string}\r\n * @example\r\n * getNationalNumberDigits({ country: 'RU', phone: '8005553535' })\r\n * // returns '88005553535'\r\n */\r\nexport function generateNationalNumberDigits(phoneNumber) {\r\n\treturn phoneNumber.formatNational().replace(/\\D/g, '')\r\n}\r\n\r\n/**\r\n * Migrates parsed `<input/>` `value` for the newly selected `country`.\r\n * @param {string?} phoneDigits - Phone number digits (and `+`) parsed from phone number `<input/>` (it's not the same as the `value` property).\r\n * @param {string?} prevCountry - Previously selected country.\r\n * @param {string?} newCountry - Newly selected country. Can't be same as previously selected country.\r\n * @param {object} metadata - `libphonenumber-js` metadata.\r\n * @param {boolean} useNationalFormat - whether should attempt to convert from international to national number for the new country.\r\n * @return {string?}\r\n */\r\nexport function getPhoneDigitsForNewCountry(phoneDigits, {\r\n\tprevCountry,\r\n\tnewCountry,\r\n\tmetadata,\r\n\tuseNationalFormat\r\n}) {\r\n\t// If `parsed_input` is empty\r\n\t// then no need to migrate anything.\r\n\tif (!phoneDigits) {\r\n\t\tif (useNationalFormat) {\r\n\t\t\treturn ''\r\n\t\t} else {\r\n\t\t\t// If `phoneDigits` is empty then set `phoneDigits` to\r\n\t\t\t// `+{getCountryCallingCode(newCountry)}`.\r\n\t\t\treturn getInternationalPhoneNumberPrefix(newCountry, metadata)\r\n\t\t}\r\n\t}\r\n\r\n\t// If switching to some country.\r\n\t// (from \"International\" or another country)\r\n\t// If switching from \"International\" then `phoneDigits` starts with a `+`.\r\n\t// Otherwise it may or may not start with a `+`.\r\n\tif (newCountry) {\r\n\t\t// If the phone number was entered in international format\r\n\t\t// then migrate it to the newly selected country.\r\n\t\t// The phone number may be incomplete.\r\n\t\t// The phone number entered not necessarily starts with\r\n\t\t// the previously selected country phone prefix.\r\n\t\tif (phoneDigits[0] === '+') {\r\n\t\t\t// If the international phone number is for the new country\r\n\t\t\t// then convert it to local if required.\r\n\t\t\tif (useNationalFormat) {\r\n\t\t\t\t// // If a phone number is being input in international form\r\n\t\t\t\t// // and the country can already be derived from it,\r\n\t\t\t\t// // and if it is the new country, then format as a national number.\r\n\t\t\t\t// const derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(phoneDigits, metadata)\r\n\t\t\t\t// if (derived_country === newCountry) {\r\n\t\t\t\t// \treturn stripCountryCallingCode(phoneDigits, derived_country, metadata)\r\n\t\t\t\t// }\r\n\r\n\t\t\t\t// Actually, the two countries don't necessarily need to match:\r\n\t\t\t\t// the condition could be looser here, because several countries\r\n\t\t\t\t// might share the same international phone number format\r\n\t\t\t\t// (for example, \"NANPA\" countries like US, Canada, etc).\r\n\t\t\t\t// The looser condition would be just \"same nternational phone number format\"\r\n\t\t\t\t// which would mean \"same country calling code\" in the context of `libphonenumber-js`.\r\n\t\t\t\tif (phoneDigits.indexOf('+' + getCountryCallingCode(newCountry, metadata)) === 0) {\r\n\t\t\t\t\treturn stripCountryCallingCode(phoneDigits, newCountry, metadata)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Simply discard the previously entered international phone number,\r\n\t\t\t\t// because otherwise any \"smart\" transformation like getting the\r\n\t\t\t\t// \"national (significant) number\" part and then prepending the\r\n\t\t\t\t// newly selected country's \"country calling code\" to it\r\n\t\t\t\t// would just be confusing for a user without being actually useful.\r\n\t\t\t\treturn ''\r\n\r\n\t\t\t\t// // Simply strip the leading `+` character\r\n\t\t\t\t// // therefore simply converting all digits into a \"local\" phone number.\r\n\t\t\t\t// // https://github.com/catamphetamine/react-phone-number-input/issues/287\r\n\t\t\t\t// return phoneDigits.slice(1)\r\n\t\t\t}\r\n\r\n\t\t\tif (prevCountry) {\r\n\t\t\t\tconst newCountryPrefix = getInternationalPhoneNumberPrefix(newCountry, metadata)\r\n\t\t\t\tif (phoneDigits.indexOf(newCountryPrefix) === 0) {\r\n\t\t\t\t\treturn phoneDigits\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn newCountryPrefix\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst defaultValue = getInternationalPhoneNumberPrefix(newCountry, metadata)\r\n\t\t\t\t// If `phoneDigits`'s country calling code part is the same\r\n\t\t\t\t// as for the new `country`, then leave `phoneDigits` as is.\r\n\t\t\t\tif (phoneDigits.indexOf(defaultValue) === 0) {\r\n\t\t\t\t\treturn phoneDigits\r\n\t\t\t\t}\r\n\t\t\t\t// If `phoneDigits`'s country calling code part is not the same\r\n\t\t\t\t// as for the new `country`, then set `phoneDigits` to\r\n\t\t\t\t// `+{getCountryCallingCode(newCountry)}`.\r\n\t\t\t\treturn defaultValue\r\n\t\t\t}\r\n\r\n\t\t\t// // If the international phone number already contains\r\n\t\t\t// // any country calling code then trim the country calling code part.\r\n\t\t\t// // (that could also be the newly selected country phone code prefix as well)\r\n\t\t\t// // `phoneDigits` doesn't neccessarily belong to `prevCountry`.\r\n\t\t\t// // (e.g. if a user enters an international number\r\n\t\t\t// //  not belonging to any of the reduced `countries` list).\r\n\t\t\t// phoneDigits = stripCountryCallingCode(phoneDigits, prevCountry, metadata)\r\n\r\n\t\t\t// // Prepend country calling code prefix\r\n\t\t\t// // for the newly selected country.\r\n\t\t\t// return e164(phoneDigits, newCountry, metadata) || `+${getCountryCallingCode(newCountry, metadata)}`\r\n\t\t}\r\n\t}\r\n\t// If switching to \"International\" from a country.\r\n\telse {\r\n\t\t// If the phone number was entered in national format.\r\n\t\tif (phoneDigits[0] !== '+') {\r\n\t\t\t// Format the national phone number as an international one.\r\n\t\t\t// The phone number entered not necessarily even starts with\r\n\t\t\t// the previously selected country phone prefix.\r\n\t\t\t// Even if the phone number belongs to whole another country\r\n\t\t\t// it will still be parsed into some national phone number.\r\n\t\t\treturn e164(phoneDigits, prevCountry, metadata) || ''\r\n\t\t}\r\n\t}\r\n\r\n\treturn phoneDigits\r\n}\r\n\r\n/**\r\n * Converts phone number digits to a (possibly incomplete) E.164 phone number.\r\n * @param  {string?} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.\r\n * @param  {string?} country\r\n * @param  {[object} metadata - `libphonenumber-js` metadata.\r\n * @return {string?}\r\n */\r\nexport function e164(number, country, metadata) {\r\n\tif (!number) {\r\n\t\treturn\r\n\t}\r\n\t// If the phone number is being input in international format.\r\n\tif (number[0] === '+') {\r\n\t\t// If it's just the `+` sign then return nothing.\r\n\t\tif (number === '+') {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// If there are any digits then the `value` is returned as is.\r\n\t\treturn number\r\n\t}\r\n\t// For non-international phone numbers\r\n\t// an accompanying country code is required.\r\n\tif (!country) {\r\n\t\treturn\r\n\t}\r\n\tconst partial_national_significant_number = getNationalSignificantNumberDigits(number, country, metadata)\r\n\tif (partial_national_significant_number) {\r\n\t\treturn `+${getCountryCallingCode(country, metadata)}${partial_national_significant_number}`\r\n\t}\r\n}\r\n\r\n/**\r\n * Trims phone number digits if they exceed the maximum possible length\r\n * for a national (significant) number for the country.\r\n * @param  {string} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.\r\n * @param  {string} country\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string} Can be empty.\r\n */\r\nexport function trimNumber(number, country, metadata) {\r\n\tconst nationalSignificantNumberPart = getNationalSignificantNumberDigits(number, country, metadata)\r\n\tif (nationalSignificantNumberPart) {\r\n\t\tconst overflowDigitsCount = nationalSignificantNumberPart.length - getMaxNumberLength(country, metadata)\r\n\t\tif (overflowDigitsCount > 0) {\r\n\t\t\treturn number.slice(0, number.length - overflowDigitsCount)\r\n\t\t}\r\n\t}\r\n\treturn number\r\n}\r\n\r\nfunction getMaxNumberLength(country, metadata) {\r\n\t// Get \"possible lengths\" for a phone number of the country.\r\n\tmetadata = new Metadata(metadata)\r\n\tmetadata.selectNumberingPlan(country)\r\n\t// Return the last \"possible length\".\r\n\treturn metadata.numberingPlan.possibleLengths()[metadata.numberingPlan.possibleLengths().length - 1]\r\n}\r\n\r\n// If the phone number being input is an international one\r\n// then tries to derive the country from the phone number.\r\n// (regardless of whether there's any country currently selected)\r\n/**\r\n * @param {string} partialE164Number - A possibly incomplete E.164 phone number.\r\n * @param {string?} country - Currently selected country.\r\n * @param {string[]?} countries - A list of available countries. If not passed then \"all countries\" are assumed.\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string?}\r\n */\r\nexport function getCountryForPartialE164Number(partialE164Number, {\r\n\tcountry,\r\n\tcountries,\r\n\trequired,\r\n\tmetadata\r\n}) {\r\n\tif (partialE164Number === '+') {\r\n\t\t// Don't change the currently selected country yet.\r\n\t\treturn country\r\n\t}\r\n\r\n\tconst derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(partialE164Number, metadata)\r\n\r\n\t// If a phone number is being input in international form\r\n\t// and the country can already be derived from it,\r\n\t// then select that country.\r\n\tif (derived_country && (!countries || (countries.indexOf(derived_country) >= 0))) {\r\n\t\treturn derived_country\r\n\t}\r\n\t// If \"International\" country option has not been disabled\r\n\t// and the international phone number entered doesn't correspond\r\n\t// to the currently selected country then reset the currently selected country.\r\n\telse if (country &&\r\n\t\t!required &&\r\n\t\t!couldNumberBelongToCountry(partialE164Number, country, metadata)) {\r\n\t\treturn undefined\r\n\t}\r\n\r\n\t// Don't change the currently selected country.\r\n\treturn country\r\n}\r\n\r\n/**\r\n * Parses `<input/>` value. Derives `country` from `input`. Derives an E.164 `value`.\r\n * @param  {string?} phoneDigits — Parsed `<input/>` value. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n * @param  {string?} prevPhoneDigits — Previous parsed `<input/>` value. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n * @param  {string?} country - Currently selected country.\r\n * @param  {boolean} countryRequired - Is selecting some country required.\r\n * @param  {function} getAnyCountry - Can be used to get any country when selecting some country required.\r\n * @param  {string[]?} countries - A list of available countries. If not passed then \"all countries\" are assumed.\r\n * @param  {boolean} international - Set to `true` to force international phone number format (leading `+`). Set to `false` to force \"national\" phone number format. Is `undefined` by default.\r\n * @param  {boolean} limitMaxLength — Whether to enable limiting phone number max length.\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {object} An object of shape `{ input, country, value }`.\r\n */\r\nexport function onPhoneDigitsChange(phoneDigits, {\r\n\tprevPhoneDigits,\r\n\tcountry,\r\n\tdefaultCountry,\r\n\tcountryRequired,\r\n\tgetAnyCountry,\r\n\tcountries,\r\n\tinternational,\r\n\tlimitMaxLength,\r\n\tcountryCallingCodeEditable,\r\n\tmetadata\r\n}) {\r\n\tif (international && countryCallingCodeEditable === false) {\r\n\t\tconst prefix = getInternationalPhoneNumberPrefix(country, metadata)\r\n\t\t// The `<input/>` value must start with the country calling code.\r\n\t\tif (phoneDigits.indexOf(prefix) !== 0) {\r\n\t\t\tlet value\r\n\t\t\t// If a phone number input is declared as\r\n\t\t\t// `international` and `withCountryCallingCode`,\r\n\t\t\t// then it's gonna be non-empty even before the user\r\n\t\t\t// has input anything in it.\r\n\t\t\t// This will result in its contents (the country calling code part)\r\n\t\t\t// being selected when the user tabs into such field.\r\n\t\t\t// If the user then starts inputting the national part digits,\r\n\t\t\t// then `<input/>` value changes from `+xxx` to `y`\r\n\t\t\t// because inputting anything while having the `<input/>` value\r\n\t\t\t// selected results in erasing the `<input/>` value\r\n\t\t\t// So, the component handles such case by restoring\r\n\t\t\t// the intended `<input/>`` value: `+xxxy`.\r\n\t\t\t// https://gitlab.com/catamphetamine/react-phone-number-input/-/issues/43\r\n\t\t\tif (phoneDigits && phoneDigits[0] !== '+') {\r\n\t\t\t\tphoneDigits = prefix + phoneDigits\r\n\t\t\t\tvalue = phoneDigits\r\n\t\t\t} else {\r\n\t\t\t\tphoneDigits = prefix\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tphoneDigits,\r\n\t\t\t\tvalue,\r\n\t\t\t\tcountry\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// If `international` property is `false`, then it means\r\n\t// \"enforce national-only format during input\",\r\n\t// so, if that's the case, then remove all `+` characters,\r\n\t// but only if some country is currently selected.\r\n\t// (not if \"International\" country is selected).\r\n\tif (international === false && country && phoneDigits && phoneDigits[0] === '+') {\r\n\t\tphoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata)\r\n\t}\r\n\r\n\t// Trim the input to not exceed the maximum possible number length.\r\n\tif (phoneDigits && country && limitMaxLength) {\r\n\t\tphoneDigits = trimNumber(phoneDigits, country, metadata)\r\n\t}\r\n\r\n\t// If this `onChange()` event was triggered\r\n\t// as a result of selecting \"International\" country,\r\n\t// then force-prepend a `+` sign if the phone number\r\n\t// `<input/>` value isn't in international format.\r\n\t// Also, force-prepend a `+` sign if international\r\n\t// phone number input format is set.\r\n\tif (phoneDigits && phoneDigits[0] !== '+' && (!country || international)) {\r\n\t\tphoneDigits = '+' + phoneDigits\r\n\t}\r\n\r\n\t// If the previously entered phone number\r\n\t// has been entered in international format\r\n\t// and the user decides to erase it,\r\n\t// then also reset the `country`\r\n\t// because it was most likely automatically selected\r\n\t// while the user was typing in the phone number\r\n\t// in international format.\r\n\t// This fixes the issue when a user is presented\r\n\t// with a phone number input with no country selected\r\n\t// and then types in their local phone number\r\n\t// then discovers that the input's messed up\r\n\t// (a `+` has been prepended at the start of their input\r\n\t//  and a random country has been selected),\r\n\t// decides to undo it all by erasing everything\r\n\t// and then types in their local phone number again\r\n\t// resulting in a seemingly correct phone number\r\n\t// but in reality that phone number has incorrect country.\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/273\r\n\tif (!phoneDigits && prevPhoneDigits && prevPhoneDigits[0] === '+') {\r\n\t\tif (international) {\r\n\t\t\tcountry = undefined\r\n\t\t} else {\r\n\t\t\tcountry = defaultCountry\r\n\t\t}\r\n\t}\r\n\t// Also resets such \"randomly\" selected country\r\n\t// as soon as the user erases the number\r\n\t// digit-by-digit up to the leading `+` sign.\r\n\tif (phoneDigits === '+' && prevPhoneDigits && prevPhoneDigits[0] === '+' && prevPhoneDigits.length > '+'.length) {\r\n\t\tcountry = undefined\r\n\t}\r\n\r\n\t// Generate the new `value` property.\r\n\tlet value\r\n\tif (phoneDigits) {\r\n\t\tif (phoneDigits[0] === '+') {\r\n\t\t\tif (phoneDigits === '+') {\r\n\t\t\t\tvalue = undefined\r\n\t\t\t} else if (country && getInternationalPhoneNumberPrefix(country, metadata).indexOf(phoneDigits) === 0) {\r\n\t\t\t\tvalue = undefined\r\n\t\t\t} else {\r\n\t\t\t\tvalue = phoneDigits\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvalue = e164(phoneDigits, country, metadata)\r\n\t\t}\r\n\t}\r\n\r\n\t// Derive the country from the phone number.\r\n\t// (regardless of whether there's any country currently selected,\r\n\t//  because there could be several countries corresponding to one country calling code)\r\n\tif (value) {\r\n\t\tcountry = getCountryForPartialE164Number(value, {\r\n\t\t\tcountry,\r\n\t\t\tcountries,\r\n\t\t\tmetadata\r\n\t\t})\r\n\t\t// If `international` property is `false`, then it means\r\n\t\t// \"enforce national-only format during input\",\r\n\t\t// so, if that's the case, then remove all `+` characters,\r\n\t\t// but only if some country is currently selected.\r\n\t\t// (not if \"International\" country is selected).\r\n\t\tif (international === false && country && phoneDigits && phoneDigits[0] === '+') {\r\n\t\t\tphoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata)\r\n\t\t\t// Re-calculate `value` because `phoneDigits` has changed.\r\n\t\t\tvalue = e164(phoneDigits, country, metadata)\r\n\t\t}\r\n\t}\r\n\r\n\tif (!country && countryRequired) {\r\n\t\tcountry = defaultCountry || getAnyCountry()\r\n\t}\r\n\r\n\treturn {\r\n\t\tphoneDigits,\r\n\t\tcountry,\r\n\t\tvalue\r\n\t}\r\n}\r\n\r\nfunction convertInternationalPhoneDigitsToNational(input, country, metadata) {\r\n\t// Handle the case when a user might have pasted\r\n\t// a phone number in international format.\r\n\tif (input.indexOf(getInternationalPhoneNumberPrefix(country, metadata)) === 0) {\r\n\t\t// Create \"as you type\" formatter.\r\n\t\tconst formatter = new AsYouType(country, metadata)\r\n\t\t// Input partial national phone number.\r\n\t\tformatter.input(input)\r\n\t\t// Return the parsed partial national phone number.\r\n\t\tconst phoneNumber = formatter.getNumber()\r\n\t\tif (phoneNumber) {\r\n\t\t\t// Transform the number to a national one,\r\n\t\t\t// and remove all non-digits.\r\n\t\t\treturn phoneNumber.formatNational().replace(/\\D/g, '')\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t} else {\r\n\t\t// Just remove the `+` sign.\r\n\t\treturn input.replace(/\\D/g, '')\r\n\t}\r\n}\r\n\r\n/**\r\n * Determines the country for a given (possibly incomplete) E.164 phone number.\r\n * @param  {string} number - A possibly incomplete E.164 phone number.\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string?}\r\n */\r\nexport function getCountryFromPossiblyIncompleteInternationalPhoneNumber(number, metadata) {\r\n\tconst formatter = new AsYouType(null, metadata)\r\n\tformatter.input(number)\r\n\t// // `001` is a special \"non-geograpical entity\" code\r\n\t// // in Google's `libphonenumber` library.\r\n\t// if (formatter.getCountry() === '001') {\r\n\t// \treturn\r\n\t// }\r\n\treturn formatter.getCountry()\r\n}\r\n\r\n/**\r\n * Compares two strings.\r\n * A helper for `Array.sort()`.\r\n * @param {string} a — First string.\r\n * @param {string} b — Second string.\r\n * @param {(string[]|string)} [locales] — The `locales` argument of `String.localeCompare`.\r\n */\r\nexport function compareStrings(a, b, locales) {\r\n  // Use `String.localeCompare` if it's available.\r\n  // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\r\n  // Which means everyone except IE <= 10 and Safari <= 10.\r\n  // `localeCompare()` is available in latest Node.js versions.\r\n  /* istanbul ignore else */\r\n  if (String.prototype.localeCompare) {\r\n    return a.localeCompare(b, locales);\r\n  }\r\n  /* istanbul ignore next */\r\n  return a < b ? -1 : (a > b ? 1 : 0);\r\n}\r\n\r\n/**\r\n * Strips `+${countryCallingCode}` prefix from an E.164 phone number.\r\n * @param {string} number - (possibly incomplete) E.164 phone number.\r\n * @param {string?} country - A possible country for this phone number.\r\n * @param {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string}\r\n */\r\nexport function stripCountryCallingCode(number, country, metadata) {\r\n\t// Just an optimization, so that it\r\n\t// doesn't have to iterate through all country calling codes.\r\n\tif (country) {\r\n\t\tconst countryCallingCodePrefix = '+' + getCountryCallingCode(country, metadata)\r\n\r\n\t\t// If `country` fits the actual `number`.\r\n\t\tif (number.length < countryCallingCodePrefix.length) {\r\n\t\t\tif (countryCallingCodePrefix.indexOf(number) === 0) {\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (number.indexOf(countryCallingCodePrefix) === 0) {\r\n\t\t\t\treturn number.slice(countryCallingCodePrefix.length)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// If `country` doesn't fit the actual `number`.\r\n\t// Try all available country calling codes.\r\n\tfor (const country_calling_code of Object.keys(metadata.country_calling_codes)) {\r\n\t\tif (number.indexOf(country_calling_code) === '+'.length) {\r\n\t\t\treturn number.slice('+'.length + country_calling_code.length)\r\n\t\t}\r\n\t}\r\n\r\n\treturn ''\r\n}\r\n\r\n/**\r\n * Parses a partially entered national phone number digits\r\n * (or a partially entered E.164 international phone number)\r\n * and returns the national significant number part.\r\n * National significant number returned doesn't come with a national prefix.\r\n * @param {string} number - National number digits. Or possibly incomplete E.164 phone number.\r\n * @param {string?} country\r\n * @param {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string} [result]\r\n */\r\nexport function getNationalSignificantNumberDigits(number, country, metadata) {\r\n\t// Create \"as you type\" formatter.\r\n\tconst formatter = new AsYouType(country, metadata)\r\n\t// Input partial national phone number.\r\n\tformatter.input(number)\r\n\t// Return the parsed partial national phone number.\r\n\tconst phoneNumber = formatter.getNumber()\r\n\treturn phoneNumber && phoneNumber.nationalNumber\r\n}\r\n\r\n/**\r\n * Checks if a partially entered E.164 phone number could belong to a country.\r\n * @param  {string} number\r\n * @param  {string} country\r\n * @return {boolean}\r\n */\r\nexport function couldNumberBelongToCountry(number, country, metadata) {\r\n\tconst intlPhoneNumberPrefix = getInternationalPhoneNumberPrefix(country, metadata)\r\n\tlet i = 0\r\n\twhile (i < number.length && i < intlPhoneNumberPrefix.length) {\r\n\t\tif (number[i] !== intlPhoneNumberPrefix[i]) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\treturn true\r\n}\r\n\r\n/**\r\n * Gets initial \"phone digits\" (including `+`, if using international format).\r\n * @return {string} [phoneDigits] Returns `undefined` if there should be no initial \"phone digits\".\r\n */\r\nexport function getInitialPhoneDigits({\r\n\tvalue,\r\n\tphoneNumber,\r\n\tdefaultCountry,\r\n\tinternational,\r\n\tuseNationalFormat,\r\n\tmetadata\r\n}) {\r\n\t// If the `value` (E.164 phone number)\r\n\t// belongs to the currently selected country\r\n\t// and `useNationalFormat` is `true`\r\n\t// then convert `value` (E.164 phone number)\r\n\t// to a local phone number digits.\r\n\t// E.g. '+78005553535' -> '88005553535'.\r\n\tif ((international === false || useNationalFormat) && phoneNumber && phoneNumber.country) {\r\n\t\treturn generateNationalNumberDigits(phoneNumber)\r\n\t}\r\n\t// If `international` property is `true`,\r\n\t// meaning \"enforce international phone number format\",\r\n\t// then always show country calling code in the input field.\r\n\tif (!value && international && defaultCountry) {\r\n\t\treturn getInternationalPhoneNumberPrefix(defaultCountry, metadata)\r\n\t}\r\n\treturn value\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport InputSmart from './InputSmart'\r\nimport InputBasic from './InputBasic'\r\n\r\nimport { CountrySelectWithIcon as CountrySelect } from './CountrySelect'\r\n\r\nimport Flag from './Flag'\r\nimport InternationalIcon from './InternationalIcon'\r\n\r\nimport {\r\n\tsortCountryOptions,\r\n\tisCountrySupportedWithError,\r\n\tgetSupportedCountries,\r\n\tgetSupportedCountryOptions,\r\n\tgetCountries\r\n} from './helpers/countries'\r\n\r\nimport { createCountryIconComponent } from './CountryIcon'\r\n\r\nimport {\r\n\tmetadata as metadataPropType,\r\n\tlabels as labelsPropType\r\n} from './PropTypes'\r\n\r\nimport {\r\n\tgetPreSelectedCountry,\r\n\tgetCountrySelectOptions,\r\n\tparsePhoneNumber,\r\n\tgenerateNationalNumberDigits,\r\n\tgetPhoneDigitsForNewCountry,\r\n\tgetInitialPhoneDigits,\r\n\tonPhoneDigitsChange,\r\n\te164\r\n} from './helpers/phoneInputHelpers'\r\n\r\nimport getPhoneInputWithCountryStateUpdateFromNewProps from './helpers/getPhoneInputWithCountryStateUpdateFromNewProps'\r\n\r\nclass PhoneNumberInput_ extends React.PureComponent {\r\n\tinputRef = React.createRef()\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\tlabels,\r\n\t\t\tinternational,\r\n\t\t\taddInternationalOption,\r\n\t\t\t// `displayInitialValueAsLocalNumber` property has been\r\n\t\t\t// superceded by `initialValueFormat` property.\r\n\t\t\tdisplayInitialValueAsLocalNumber,\r\n\t\t\tinitialValueFormat,\r\n\t\t\tmetadata\r\n\t\t} = this.props\r\n\r\n\t\tlet {\r\n\t\t\tdefaultCountry,\r\n\t\t\tcountries\r\n\t\t} = this.props\r\n\r\n\t\t// Validate `defaultCountry`.\r\n\t\tif (defaultCountry) {\r\n\t\t\tif (!this.isCountrySupportedWithError(defaultCountry)) {\r\n\t\t\t\tdefaultCountry = undefined\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Validate `countries`.\r\n\t\tcountries = getSupportedCountries(countries, metadata)\r\n\r\n\t\tconst phoneNumber = parsePhoneNumber(value, metadata)\r\n\r\n\t\tthis.CountryIcon = createCountryIconComponent(this.props)\r\n\r\n\t\tconst preSelectedCountry = getPreSelectedCountry({\r\n\t\t\tvalue,\r\n\t\t\tphoneNumber,\r\n\t\t\tdefaultCountry,\r\n\t\t\trequired: !addInternationalOption,\r\n\t\t\tcountries: countries || getCountries(metadata),\r\n\t\t\tgetAnyCountry: () => this.getFirstSupportedCountry({ countries }),\r\n\t\t\tmetadata\r\n\t\t})\r\n\r\n\t\tthis.state = {\r\n\t\t\t// Workaround for `this.props` inside `getDerivedStateFromProps()`.\r\n\t\t\tprops: this.props,\r\n\r\n\t\t\t// The country selected.\r\n\t\t\tcountry: preSelectedCountry,\r\n\r\n\t\t\t// `countries` are stored in `this.state` because they're filtered.\r\n\t\t\t// For example, a developer might theoretically pass some unsupported\r\n\t\t\t// countries as part of the `countries` property, and because of that\r\n\t\t\t// the component uses `this.state.countries` (which are filtered)\r\n\t\t\t// instead of `this.props.countries`\r\n\t\t\t// (which could potentially contain unsupported countries).\r\n\t\t\tcountries,\r\n\r\n\t\t\t// `phoneDigits` state property holds non-formatted user's input.\r\n\t\t\t// The reason is that there's no way of finding out\r\n\t\t\t// in which form should `value` be displayed: international or national.\r\n\t\t\t// E.g. if `value` is `+78005553535` then it could be input\r\n\t\t\t// by a user both as `8 (800) 555-35-35` and `+7 800 555 35 35`.\r\n\t\t\t// Hence storing just `value` is not sufficient for correct formatting.\r\n\t\t\t// E.g. if a user entered `8 (800) 555-35-35`\r\n\t\t\t// then value is `+78005553535` and `phoneDigits` are `88005553535`\r\n\t\t\t// and if a user entered `+7 800 555 35 35`\r\n\t\t\t// then value is `+78005553535` and `phoneDigits` are `+78005553535`.\r\n\t\t\tphoneDigits: getInitialPhoneDigits({\r\n\t\t\t\tvalue,\r\n\t\t\t\tphoneNumber,\r\n\t\t\t\tdefaultCountry,\r\n\t\t\t\tinternational,\r\n\t\t\t\tuseNationalFormat: displayInitialValueAsLocalNumber || initialValueFormat === 'national',\r\n\t\t\t\tmetadata\r\n\t\t\t}),\r\n\r\n\t\t\t// `value` property is duplicated in state.\r\n\t\t\t// The reason is that `getDerivedStateFromProps()`\r\n\t\t\t// needs this `value` to compare to the new `value` property\r\n\t\t\t// to find out if `phoneDigits` needs updating:\r\n\t\t\t// If the `value` property was changed externally\r\n\t\t\t// then it won't be equal to `state.value`\r\n\t\t\t// in which case `phoneDigits` and `country` should be updated.\r\n\t\t\tvalue\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { onCountryChange } = this.props\r\n\t\tlet { defaultCountry } = this.props\r\n\t\tconst { country: selectedCountry } = this.state\r\n\t\tif (onCountryChange) {\r\n\t\t\tif (defaultCountry) {\r\n\t\t\t\tif (!this.isCountrySupportedWithError(defaultCountry)) {\r\n\t\t\t\t\tdefaultCountry = undefined\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (selectedCountry !== defaultCountry) {\r\n\t\t\t\tonCountryChange(selectedCountry)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { onCountryChange } = this.props\r\n\t\tconst { country } = this.state\r\n\t\t// Call `onCountryChange` when user selects another country.\r\n\t\tif (onCountryChange && country !== prevState.country) {\r\n\t\t\tonCountryChange(country)\r\n\t\t}\r\n\t}\r\n\r\n\tsetInputRef = (instance) => {\r\n\t\tthis.inputRef.current = instance\r\n\t\tconst { inputRef: ref } = this.props\r\n\t\tif (ref) {\r\n\t\t\tif (typeof ref === 'function') {\r\n\t\t\t\tref(instance)\r\n\t\t\t} else {\r\n\t\t\t\tref.current = instance\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetCountrySelectOptions({ countries }) {\r\n\t\tconst {\r\n\t\t\tinternational,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tcountryOptionsOrder,\r\n\t\t\taddInternationalOption,\r\n\t\t\tlabels,\r\n\t\t\tlocales,\r\n\t\t\tmetadata\r\n\t\t} = this.props\r\n\t\treturn useMemoCountrySelectOptions(() => {\r\n\t\t\treturn sortCountryOptions(\r\n\t\t\t\tgetCountrySelectOptions({\r\n\t\t\t\t\tcountries: countries || getCountries(metadata),\r\n\t\t\t\t\tcountryNames: labels,\r\n\t\t\t\t\taddInternationalOption: (international && countryCallingCodeEditable === false) ? false : addInternationalOption,\r\n\t\t\t\t\tcompareStringsLocales: locales,\r\n\t\t\t\t\t// compareStrings\r\n\t\t\t\t}),\r\n\t\t\t\tgetSupportedCountryOptions(countryOptionsOrder, metadata)\r\n\t\t\t)\r\n\t\t}, [\r\n\t\t\tcountries,\r\n\t\t\tcountryOptionsOrder,\r\n\t\t\taddInternationalOption,\r\n\t\t\tlabels,\r\n\t\t\tmetadata\r\n\t\t])\r\n\t}\r\n\r\n\tgetFirstSupportedCountry({ countries }) {\r\n\t\tconst countryOptions = this.getCountrySelectOptions({ countries })\r\n\t\treturn countryOptions[0].value\r\n\t}\r\n\r\n\t// A shorthand for not passing `metadata` as a second argument.\r\n\tisCountrySupportedWithError = (country) => {\r\n\t\tconst { metadata } = this.props\r\n\t\treturn isCountrySupportedWithError(country, metadata)\r\n\t}\r\n\r\n\t// Country `<select/>` `onChange` handler.\r\n\tonCountryChange = (newCountry) => {\r\n\t\tconst {\r\n\t\t\tinternational,\r\n\t\t\tmetadata,\r\n\t\t\tonChange,\r\n\t\t\tfocusInputOnCountrySelection\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tphoneDigits: prevPhoneDigits,\r\n\t\t\tcountry: prevCountry\r\n\t\t} = this.state\r\n\r\n\t\t// After the new `country` has been selected,\r\n\t\t// if the phone number `<input/>` holds any digits\r\n\t\t// then migrate those digits for the new `country`.\r\n\t\tconst newPhoneDigits = getPhoneDigitsForNewCountry(prevPhoneDigits, {\r\n\t\t\tprevCountry,\r\n\t\t\tnewCountry,\r\n\t\t\tmetadata,\r\n\t\t\t// Convert the phone number to \"national\" format\r\n\t\t\t// when the user changes the selected country by hand.\r\n\t\t\tuseNationalFormat: !international\r\n\t\t})\r\n\r\n\t\tconst newValue = e164(newPhoneDigits, newCountry, metadata)\r\n\r\n\t\t// Focus phone number `<input/>` upon country selection.\r\n\t\tif (focusInputOnCountrySelection) {\r\n\t\t\tthis.inputRef.current.focus()\r\n\t\t}\r\n\r\n\t\t// If the user has already manually selected a country\r\n\t\t// then don't override that already selected country\r\n\t\t// if the `defaultCountry` property changes.\r\n\t\t// That's what `hasUserSelectedACountry` flag is for.\r\n\r\n\t\tthis.setState({\r\n\t\t\tcountry: newCountry,\r\n\t\t\thasUserSelectedACountry: true,\r\n\t\t\tphoneDigits: newPhoneDigits,\r\n\t\t\tvalue: newValue\r\n\t\t},\r\n\t\t() => {\r\n\t\t\t// Update the new `value` property.\r\n\t\t\t// Doing it after the `state` has been updated\r\n\t\t\t// because `onChange()` will trigger `getDerivedStateFromProps()`\r\n\t\t\t// with the new `value` which will be compared to `state.value` there.\r\n\t\t\tonChange(newValue)\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * `<input/>` `onChange()` handler.\r\n\t * Updates `value` property accordingly (so that they are kept in sync).\r\n\t * @param {string?} input — Either a parsed phone number or an empty string. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n\t */\r\n\tonChange = (_phoneDigits) => {\r\n\t\tconst {\r\n\t\t\tdefaultCountry,\r\n\t\t\tonChange,\r\n\t\t\taddInternationalOption,\r\n\t\t\tinternational,\r\n\t\t\tlimitMaxLength,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tmetadata\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tcountries,\r\n\t\t\tphoneDigits: prevPhoneDigits,\r\n\t\t\tcountry: currentlySelectedCountry\r\n\t\t} = this.state\r\n\r\n\t\tconst {\r\n\t\t\tphoneDigits,\r\n\t\t\tcountry,\r\n\t\t\tvalue\r\n\t\t} = onPhoneDigitsChange(_phoneDigits, {\r\n\t\t\tprevPhoneDigits,\r\n\t\t\tcountry: currentlySelectedCountry,\r\n\t\t\tcountryRequired: !addInternationalOption,\r\n\t\t\tdefaultCountry,\r\n\t\t\tgetAnyCountry: () => this.getFirstSupportedCountry({ countries }),\r\n\t\t\tcountries,\r\n\t\t\tinternational,\r\n\t\t\tlimitMaxLength,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tmetadata\r\n\t\t})\r\n\r\n\t\tconst stateUpdate = {\r\n\t\t\tphoneDigits,\r\n\t\t\tvalue,\r\n\t\t\tcountry\r\n\t\t}\r\n\r\n\t\tif (countryCallingCodeEditable === false) {\r\n\t\t\t// If it simply did `setState({ phoneDigits: intlPrefix })` here,\r\n\t\t\t// then it would have no effect when erasing an inital international prefix\r\n\t\t\t// via Backspace, because `phoneDigits` in `state` wouldn't change\r\n\t\t\t// as a result, because it was `prefix` and it became `prefix`,\r\n\t\t\t// so the component wouldn't rerender, and the user would be able\r\n\t\t\t// to erase the country calling code part, and that part is\r\n\t\t\t// assumed to be non-eraseable. That's why the component is\r\n\t\t\t// forcefully rerendered here.\r\n\t\t\t// https://github.com/catamphetamine/react-phone-number-input/issues/367#issuecomment-721703501\r\n\t\t\tif (!value && phoneDigits === this.state.phoneDigits) {\r\n\t\t\t\t// Force a re-render of the `<input/>` in order to reset its value.\r\n\t\t\t\tstateUpdate.forceRerender = {}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState(\r\n\t\t\tstateUpdate,\r\n\t\t\t// Update the new `value` property.\r\n\t\t\t// Doing it after the `state` has been updated\r\n\t\t\t// because `onChange()` will trigger `getDerivedStateFromProps()`\r\n\t\t\t// with the new `value` which will be compared to `state.value` there.\r\n\t\t\t() => onChange(value)\r\n\t\t)\r\n\t}\r\n\r\n\t// Toggles the `--focus` CSS class.\r\n\t_onFocus = () => this.setState({ isFocused: true })\r\n\r\n\t// Toggles the `--focus` CSS class.\r\n\t_onBlur = () => this.setState({ isFocused: false })\r\n\r\n\tonFocus = (event) => {\r\n\t\tthis._onFocus()\r\n\t\tconst { onFocus } = this.props\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { onBlur } = this.props\r\n\t\tthis._onBlur()\r\n\t\tif (onBlur) {\r\n\t\t\tonBlur(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonCountryFocus = (event) => {\r\n\t\tthis._onFocus()\r\n\t\t// this.setState({ countrySelectFocused: true })\r\n\t\tconst { countrySelectProps } = this.props\r\n\t\tif (countrySelectProps) {\r\n\t\t\tconst { onFocus } = countrySelectProps\r\n\t\t\tif (onFocus) {\r\n\t\t\t\tonFocus(event)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonCountryBlur = (event) => {\r\n\t\tthis._onBlur()\r\n\t\t// this.setState({ countrySelectFocused: false })\r\n\t\tconst { countrySelectProps } = this.props\r\n\t\tif (countrySelectProps) {\r\n\t\t\tconst { onBlur } = countrySelectProps\r\n\t\t\tif (onBlur) {\r\n\t\t\t\tonBlur(event)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// `state` holds previous props as `props`, and also:\r\n\t// * `country` — The currently selected country, e.g. `\"RU\"`.\r\n\t// * `value` — The currently entered phone number (E.164), e.g. `+78005553535`.\r\n\t// * `phoneDigits` — The parsed `<input/>` value, e.g. `8005553535`.\r\n\t// (and a couple of other less significant properties)\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\treturn {\r\n\t\t\t// Emulate `prevProps` via `state.props`.\r\n\t\t\tprops,\r\n\t\t\t...getPhoneInputWithCountryStateUpdateFromNewProps(props, state.props, state)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\t// Generic HTML attributes.\r\n\t\t\tname,\r\n\t\t\tdisabled,\r\n\t\t\tautoComplete,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\r\n\t\t\t// Number `<input/>` properties.\r\n\t\t\tinputRef,\r\n\t\t\tinputComponent,\r\n\t\t\tnumberInputProps,\r\n\t\t\tsmartCaret,\r\n\r\n\t\t\t// Country `<select/>` properties.\r\n\t\t\tcountrySelectComponent: CountrySelectComponent,\r\n\t\t\tcountrySelectProps,\r\n\r\n\t\t\t// Container `<div/>` properties.\r\n\t\t\tcontainerComponent: ContainerComponent,\r\n\r\n\t\t\t// Get \"rest\" properties (passed through to number `<input/>`).\r\n\t\t\tdefaultCountry,\r\n\t\t\tcountries: countriesProperty,\r\n\t\t\tcountryOptionsOrder,\r\n\t\t\tlabels,\r\n\t\t\tflags,\r\n\t\t\tflagComponent,\r\n\t\t\tflagUrl,\r\n\t\t\taddInternationalOption,\r\n\t\t\tinternationalIcon,\r\n\t\t\t// `displayInitialValueAsLocalNumber` property has been\r\n\t\t\t// superceded by `initialValueFormat` property.\r\n\t\t\tdisplayInitialValueAsLocalNumber,\r\n\t\t\tinitialValueFormat,\r\n\t\t\tonCountryChange,\r\n\t\t\tlimitMaxLength,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tfocusInputOnCountrySelection,\r\n\t\t\treset,\r\n\t\t\tmetadata,\r\n\t\t\tinternational,\r\n\t\t\tlocales,\r\n\t\t\t// compareStrings,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tcountry,\r\n\t\t\tcountries,\r\n\t\t\tphoneDigits,\r\n\t\t\tisFocused\r\n\t\t} = this.state\r\n\r\n\t\tconst InputComponent = smartCaret ? InputSmart : InputBasic\r\n\r\n\t\tconst countrySelectOptions = this.getCountrySelectOptions({ countries })\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerComponent\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'PhoneInput', {\r\n\t\t\t\t\t'PhoneInput--focus': isFocused\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t{/* Country `<select/>` */}\r\n\t\t\t\t<CountrySelectComponent\r\n\t\t\t\t\tname={name ? `${name}Country` : undefined}\r\n\t\t\t\t\taria-label={labels.country}\r\n\t\t\t\t\t{...countrySelectProps}\r\n\t\t\t\t\tvalue={country}\r\n\t\t\t\t\toptions={countrySelectOptions}\r\n\t\t\t\t\tonChange={this.onCountryChange}\r\n\t\t\t\t\tonFocus={this.onCountryFocus}\r\n\t\t\t\t\tonBlur={this.onCountryBlur}\r\n\t\t\t\t\tdisabled={disabled || (countrySelectProps && countrySelectProps.disabled)}\r\n\t\t\t\t\ticonComponent={this.CountryIcon}/>\r\n\r\n\t\t\t\t{/* Phone number `<input/>` */}\r\n\t\t\t\t<InputComponent\r\n\t\t\t\t\tref={this.setInputRef}\r\n\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\tautoComplete={autoComplete}\r\n\t\t\t\t\t{...numberInputProps}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t\tmetadata={metadata}\r\n\t\t\t\t\tcountry={country}\r\n\t\t\t\t\tvalue={phoneDigits || ''}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\tonFocus={this.onFocus}\r\n\t\t\t\t\tonBlur={this.onBlur}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tinputComponent={inputComponent}\r\n\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t'PhoneInputInput',\r\n\t\t\t\t\t\tnumberInputProps && numberInputProps.className,\r\n\t\t\t\t\t\trest.className\r\n\t\t\t\t\t)}/>\r\n\t\t\t</ContainerComponent>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// This wrapper is only to `.forwardRef()` to the `<input/>`.\r\nconst PhoneNumberInput = React.forwardRef((props, ref) => (\r\n\t<PhoneNumberInput_ {...props} inputRef={ref}/>\r\n))\r\n\r\nPhoneNumberInput.propTypes = {\r\n\t/**\r\n\t * Phone number in `E.164` format.\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `\"+12223333333\"`\r\n\t */\r\n\tvalue: PropTypes.string,\r\n\r\n\t/**\r\n\t * A function of `value: string?`.\r\n\t *\r\n\t * Updates the `value` property as the user inputs a phone number.\r\n\t */\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t/**\r\n\t * Toggles the `--focus` CSS class.\r\n\t * @ignore\r\n\t */\r\n\tonFocus: PropTypes.func,\r\n\r\n\t/**\r\n\t * `onBlur` is usually passed by `redux-form`.\r\n\t * @ignore\r\n\t */\r\n\tonBlur: PropTypes.func,\r\n\r\n\t/**\r\n\t * Set to `true` to disable both the phone number `<input/>`\r\n\t * and the country `<select/>`.\r\n\t */\r\n\tdisabled: PropTypes.bool,\r\n\r\n\t/**\r\n\t * Sets `autoComplete` property for phone number `<input/>`.\r\n\t *\r\n\t * Web browser's \"autocomplete\" feature\r\n\t * remembers the phone number being input\r\n\t * and can also autofill the `<input/>`\r\n\t * with previously remembered phone numbers.\r\n\t *\r\n\t * https://developers.google.com\r\n\t * /web/updates/2015/06/checkout-faster-with-autofill\r\n\t *\r\n\t * For example, can be used to turn it off:\r\n\t *\r\n\t * \"So when should you use `autocomplete=\"off\"`?\r\n\t *  One example is when you've implemented your own version\r\n\t *  of autocomplete for search. Another example is any form field\r\n\t *  where users will input and submit different kinds of information\r\n\t *  where it would not be useful to have the browser remember\r\n\t *  what was submitted previously\".\r\n\t */\r\n\t// (is `\"tel\"` by default)\r\n\tautoComplete: PropTypes.string.isRequired,\r\n\r\n\t/**\r\n\t * Set to `\"national\"` to show the initial `value` in\r\n\t * \"national\" format rather than \"international\".\r\n\t *\r\n\t * For example, if `initialValueFormat` is `\"national\"`\r\n\t * and the initial `value=\"+12133734253\"` is passed\r\n\t * then the `<input/>` value will be `\"(213) 373-4253\"`.\r\n\t *\r\n\t * By default, `initialValueFormat` is `undefined`,\r\n\t * meaning that if the initial `value=\"+12133734253\"` is passed\r\n\t * then the `<input/>` value will be `\"+1 213 373 4253\"`.\r\n\t *\r\n\t * The reason for such default behaviour is that\r\n\t * the newer generation grows up when there are no stationary phones\r\n\t * and therefore everyone inputs phone numbers in international format\r\n\t * in their smartphones so people gradually get more accustomed to\r\n\t * writing phone numbers in international format rather than in local format.\r\n\t * Future people won't be using \"national\" format, only \"international\".\r\n\t */\r\n\t// (is `undefined` by default)\r\n\tinitialValueFormat: PropTypes.oneOf(['national']),\r\n\r\n\t// `displayInitialValueAsLocalNumber` property has been\r\n\t// superceded by `initialValueFormat` property.\r\n\tdisplayInitialValueAsLocalNumber: PropTypes.bool,\r\n\r\n\t/**\r\n\t * The country to be selected by default.\r\n\t * For example, can be set after a GeoIP lookup.\r\n\t *\r\n\t * Example: `\"US\"`.\r\n\t */\r\n\t// A two-letter country code (\"ISO 3166-1 alpha-2\").\r\n\tdefaultCountry: PropTypes.string,\r\n\r\n\t/**\r\n\t * If specified, only these countries will be available for selection.\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `[\"RU\", \"UA\", \"KZ\"]`\r\n\t */\r\n\tcountries: PropTypes.arrayOf(PropTypes.string),\r\n\r\n\t/**\r\n\t * Custom country `<select/>` option names.\r\n\t * Also some labels like \"ext\" and country `<select/>` `aria-label`.\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `{ \"ZZ\": \"Международный\", RU: \"Россия\", US: \"США\", ... }`\r\n\t *\r\n\t * See the `locales` directory for examples.\r\n\t */\r\n\tlabels: labelsPropType.isRequired,\r\n\r\n\t/**\r\n\t * Country `<select/>` options are sorted by their labels.\r\n\t * The default sorting function uses `a.localeCompare(b, locales)`,\r\n\t * and, if that's not available, falls back to simple `a > b` / `a < b`.\r\n\t * Some languages, like Chinese, support multiple sorting variants\r\n\t * (called \"collations\"), and the user might prefer one or another.\r\n\t * Also, sometimes the Operating System language is not always\r\n\t * the preferred language for a person using a website or an application,\r\n\t * so there should be a way to specify custom locale.\r\n\t * This `locales` property mimicks the `locales` argument of `Intl` constructors,\r\n\t * and can be either a Unicode BCP 47 locale identifier or an array of such locale identifiers.\r\n\t * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#locales_argument\r\n\t */\r\n\tlocales: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.arrayOf(PropTypes.string)\r\n\t]),\r\n\r\n\t/*\r\n\t * Custom country `<select/>` options sorting function.\r\n\t * The default one uses `a.localeCompare(b)`, and,\r\n\t * if that's not available, falls back to simple `a > b`/`a < b`.\r\n\t * There have been requests to add custom sorter for cases\r\n\t * like Chinese language and \"pinyin\" (non-default) sorting order.\r\n\t * https://stackoverflow.com/questions/22907288/chinese-sorting-by-pinyin-in-javascript-with-localecompare\r\n\tcompareStrings: PropTypes.func,\r\n\t */\r\n\r\n\t/**\r\n\t * A URL template of a country flag, where\r\n\t * \"{XX}\" is a two-letter country code in upper case,\r\n\t * or where \"{xx}\" is a two-letter country code in lower case.\r\n\t * By default it points to `country-flag-icons` gitlab pages website.\r\n\t * I imagine someone might want to download those country flag icons\r\n\t * and host them on their own servers instead\r\n\t * (all flags are available in the `country-flag-icons` library).\r\n\t * There's a catch though: new countries may be added in future,\r\n\t * so when hosting country flag icons on your own server\r\n\t * one should check the `CHANGELOG.md` every time before updating this library,\r\n\t * otherwise there's a possibility that some new country flag would be missing.\r\n\t */\r\n\tflagUrl: PropTypes.string.isRequired,\r\n\r\n\t/**\r\n\t * Custom country flag icon components.\r\n\t * These flags will be used instead of the default ones.\r\n\t * The the \"Flags\" section of the readme for more info.\r\n\t *\r\n\t * The shape is an object where keys are country codes\r\n\t * and values are flag icon components.\r\n\t * Flag icon components receive the same properties\r\n\t * as `flagComponent` (see below).\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `{ \"RU\": (props) => <img src=\"...\"/> }`\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `import flags from 'country-flag-icons/react/3x2'`\r\n\t *\r\n\t * `import PhoneInput from 'react-phone-number-input'`\r\n\t *\r\n\t * `<PhoneInput flags={flags} .../>`\r\n\t */\r\n\tflags: PropTypes.objectOf(PropTypes.elementType),\r\n\r\n\t/**\r\n\t * Country flag icon component.\r\n\t *\r\n\t * Takes properties:\r\n\t *\r\n\t * * `country: string` — The country code.\r\n\t * * `countryName: string` — The country name.\r\n\t * * `flagUrl: string` — The `flagUrl` property (see above).\r\n\t * * `flags: object` — The `flags` property (see above).\r\n\t */\r\n\tflagComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Set to `false` to remove the \"International\" option from country `<select/>`.\r\n\t */\r\n\taddInternationalOption: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * \"International\" icon component.\r\n\t * Should have the same aspect ratio.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `title: string` — \"International\" country option label.\r\n\t */\r\n\tinternationalIcon: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Can be used to place some countries on top of the list of country `<select/>` options.\r\n\t *\r\n\t * * `\"XX\"` — inserts an option for \"XX\" country.\r\n\t * * `\"🌐\"` — inserts \"International\" option.\r\n\t * * `\"|\"` — inserts a separator.\r\n\t * * `\"...\"` — inserts options for the rest of the countries (can be omitted, in which case it will be automatically added at the end).\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `[\"US\", \"CA\", \"AU\", \"|\", \"...\"]`\r\n\t */\r\n\tcountryOptionsOrder: PropTypes.arrayOf(PropTypes.string),\r\n\r\n\t/**\r\n\t * `<Phone/>` component CSS style object.\r\n\t */\r\n\tstyle: PropTypes.object,\r\n\r\n\t/**\r\n\t * `<Phone/>` component CSS class.\r\n\t */\r\n\tclassName: PropTypes.string,\r\n\r\n\t/**\r\n\t * Country `<select/>` component.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `name: string?` — HTML `name` attribute.\r\n\t * * `value: string?` — The currently selected country code.\r\n\t * * `onChange(value: string?)` — Updates the `value`.\r\n\t * * `onFocus()` — Is used to toggle the `--focus` CSS class.\r\n\t * * `onBlur()` — Is used to toggle the `--focus` CSS class.\r\n\t * * `options: object[]` — The list of all selectable countries (including \"International\") each being an object of shape `{ value: string?, label: string }`.\r\n\t * * `iconComponent: PropTypes.elementType` — React component that renders a country icon: `<Icon country={value}/>`. If `country` is `undefined` then it renders an \"International\" icon.\r\n\t * * `disabled: boolean?` — HTML `disabled` attribute.\r\n\t * * `tabIndex: (number|string)?` — HTML `tabIndex` attribute.\r\n\t * * `className: string` — CSS class name.\r\n\t */\r\n\tcountrySelectComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Country `<select/>` component props.\r\n\t * Along with the usual DOM properties such as `aria-label` and `tabIndex`,\r\n\t * some custom properties are supported, such as `arrowComponent` and `unicodeFlags`.\r\n\t */\r\n\tcountrySelectProps: PropTypes.object,\r\n\r\n\t/**\r\n\t * Phone number `<input/>` component.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `value: string` — The formatted `value`.\r\n\t * * `onChange(event: Event)` — Updates the formatted `value` from `event.target.value`.\r\n\t * * `onFocus()` — Is used to toggle the `--focus` CSS class.\r\n\t * * `onBlur()` — Is used to toggle the `--focus` CSS class.\r\n\t * * Other properties like `type=\"tel\"` or `autoComplete=\"tel\"` that should be passed through to the DOM `<input/>`.\r\n\t *\r\n\t * Must also either use `React.forwardRef()` to \"forward\" `ref` to the `<input/>` or implement `.focus()` method.\r\n\t */\r\n\tinputComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Wrapping `<div/>` component.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `style: object` — A component CSS style object.\r\n\t * * `className: string` — Classes to attach to the component, typically changes when component focuses or blurs.\r\n\t */\r\n\tcontainerComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Phone number `<input/>` component props.\r\n\t */\r\n\tnumberInputProps: PropTypes.object,\r\n\r\n\t/**\r\n\t * By default, the caret position is being \"intelligently\" managed\r\n\t * while a user inputs a phone number.\r\n\t * This \"smart\" caret behavior can be turned off\r\n\t * by passing `smartCaret={false}` property.\r\n\t * This is just an \"escape hatch\" for any possible caret position issues.\r\n\t */\r\n\t// Is `true` by default.\r\n\tsmartCaret: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * Set to `true` to force \"international\" phone number format.\r\n\t * Set to `false` to force \"national\" phone number format.\r\n\t * By default it's `undefined` meaning that it doesn't enforce any phone number format.\r\n\t */\r\n\tinternational: PropTypes.bool,\r\n\r\n\t/**\r\n\t * If set to `true`, the phone number input will get trimmed\r\n\t * if it exceeds the maximum length for the country.\r\n\t */\r\n\tlimitMaxLength: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * If set to `false`, and `international` is `true`, then\r\n\t * users won't be able to erase the \"country calling part\"\r\n\t * of a phone number in the `<input/>`.\r\n\t */\r\n\tcountryCallingCodeEditable: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * `libphonenumber-js` metadata.\r\n\t *\r\n\t * Can be used to pass custom `libphonenumber-js` metadata\r\n\t * to reduce the overall bundle size for those who compile \"custom\" metadata.\r\n\t */\r\n\tmetadata: metadataPropType.isRequired,\r\n\r\n\t/**\r\n\t * Is called every time the selected country changes:\r\n\t * either programmatically or when user selects it manually from the list.\r\n\t */\r\n\t// People have been asking for a way to get the selected country.\r\n\t// @see  https://github.com/catamphetamine/react-phone-number-input/issues/128\r\n\t// For some it's just a \"business requirement\".\r\n\t// I guess it's about gathering as much info on the user as a website can\r\n\t// without introducing any addional fields that would complicate the form\r\n\t// therefore reducing \"conversion\" (that's a marketing term).\r\n\t// Assuming that the phone number's country is the user's country\r\n\t// is not 100% correct but in most cases I guess it's valid.\r\n\tonCountryChange: PropTypes.func,\r\n\r\n\t/**\r\n\t * If set to `false`, will not focus the `<input/>` component\r\n\t * when the user selects a country from the list of countries.\r\n\t * This can be used to conform to the Web Content Accessibility Guidelines (WCAG).\r\n\t * Quote:\r\n\t * \"On input: Changing the setting of any user interface component\r\n\t *  does not automatically cause a change of context unless the user\r\n\t *  has been advised of the behaviour before using the component.\"\r\n\t */\r\n\tfocusInputOnCountrySelection: PropTypes.bool.isRequired\r\n}\r\n\r\nPhoneNumberInput.defaultProps = {\r\n\t/**\r\n\t * Remember (and autofill) the value as a phone number.\r\n\t */\r\n\tautoComplete: 'tel',\r\n\r\n\t/**\r\n\t * Country `<select/>` component.\r\n\t */\r\n\tcountrySelectComponent: CountrySelect,\r\n\r\n\t/**\r\n\t * Flag icon component.\r\n\t */\r\n\tflagComponent: Flag,\r\n\r\n\t/**\r\n\t * By default, uses icons from `country-flag-icons` gitlab pages website.\r\n\t */\r\n\t// Must be equal to `flagUrl` in `./CountryIcon.js`.\r\n\tflagUrl: 'https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg',\r\n\r\n\t/**\r\n\t * Default \"International\" country `<select/>` option icon.\r\n\t */\r\n\tinternationalIcon: InternationalIcon,\r\n\r\n\t/**\r\n\t * Phone number `<input/>` component.\r\n\t */\r\n\tinputComponent: 'input',\r\n\r\n\t/**\r\n\t * Wrapping `<div/>` component.\r\n\t */\r\n\tcontainerComponent: 'div',\r\n\r\n\t/**\r\n\t * Some users requested a way to reset the component:\r\n\t * both number `<input/>` and country `<select/>`.\r\n\t * Whenever `reset` property changes both number `<input/>`\r\n\t * and country `<select/>` are reset.\r\n\t * It's not implemented as some instance `.reset()` method\r\n\t * because `ref` is forwarded to `<input/>`.\r\n\t * It's also not replaced with just resetting `country` on\r\n\t * external `value` reset, because a user could select a country\r\n\t * and then not input any `value`, and so the selected country\r\n\t * would be \"stuck\", if not using this `reset` property.\r\n\t */\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/300\r\n\treset: PropTypes.any,\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\r\n\t/**\r\n\t * Set to `false` to use \"basic\" caret instead of the \"smart\" one.\r\n\t */\r\n\tsmartCaret: true,\r\n\r\n\t/**\r\n\t * Whether to add the \"International\" option\r\n\t * to the list of countries.\r\n\t */\r\n\taddInternationalOption: true,\r\n\r\n\t/**\r\n\t * If set to `true` the phone number input will get trimmed\r\n\t * if it exceeds the maximum length for the country.\r\n\t */\r\n\tlimitMaxLength: false,\r\n\r\n\t/**\r\n\t * If set to `false`, and `international` is `true`, then\r\n\t * users won't be able to erase the \"country calling part\"\r\n\t * of a phone number in the `<input/>`.\r\n\t */\r\n\tcountryCallingCodeEditable: true,\r\n\r\n\t/**\r\n\t * If set to `false`, will not focus the `<input/>` component\r\n\t * when the user selects a country from the list of countries.\r\n\t * This can be used to conform to the Web Content Accessibility Guidelines (WCAG).\r\n\t * Quote:\r\n\t * \"On input: Changing the setting of any user interface component\r\n\t *  does not automatically cause a change of context unless the user\r\n\t *  has been advised of the behaviour before using the component.\"\r\n\t */\r\n\tfocusInputOnCountrySelection: true\r\n}\r\n\r\nexport default PhoneNumberInput\r\n\r\nlet countrySelectOptionsMemo\r\nlet countrySelectOptionsMemoDependencies\r\nfunction useMemoCountrySelectOptions(generator, dependencies) {\r\n\tif (!countrySelectOptionsMemoDependencies ||\r\n\t\t!areEqualArrays(dependencies, countrySelectOptionsMemoDependencies)) {\r\n\t\tcountrySelectOptionsMemo = generator()\r\n\t\tcountrySelectOptionsMemoDependencies = dependencies\r\n\t}\r\n\treturn countrySelectOptionsMemo\r\n}\r\n\r\nfunction areEqualArrays(a, b) {\r\n\tif (a.length !== b.length) {\r\n\t\treturn false\r\n\t}\r\n\tlet i = 0\r\n\twhile (i < a.length) {\r\n\t\tif (a[i] !== b[i]) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\treturn true\r\n}","import {\r\n\tgetInitialPhoneDigits,\r\n\tgetCountryForPartialE164Number,\r\n\tparsePhoneNumber\r\n} from './phoneInputHelpers'\r\n\r\nimport {\r\n\tisCountrySupportedWithError,\r\n\tgetSupportedCountries\r\n} from './countries'\r\n\r\nexport default function getPhoneInputWithCountryStateUpdateFromNewProps(props, prevProps, state) {\r\n\tconst {\r\n\t\tmetadata,\r\n\t\tcountries,\r\n\t\tdefaultCountry: newDefaultCountry,\r\n\t\tvalue: newValue,\r\n\t\treset: newReset,\r\n\t\tinternational,\r\n\t\t// `displayInitialValueAsLocalNumber` property has been\r\n\t\t// superceded by `initialValueFormat` property.\r\n\t\tdisplayInitialValueAsLocalNumber,\r\n\t\tinitialValueFormat\r\n\t} = props\r\n\r\n\tconst {\r\n\t\tdefaultCountry: prevDefaultCountry,\r\n\t\tvalue: prevValue,\r\n\t\treset: prevReset\r\n\t} = prevProps\r\n\r\n\tconst {\r\n\t\tcountry,\r\n\t\tvalue,\r\n\t\t// If the user has already manually selected a country\r\n\t\t// then don't override that already selected country\r\n\t\t// if the `defaultCountry` property changes.\r\n\t\t// That's what `hasUserSelectedACountry` flag is for.\r\n\t\thasUserSelectedACountry\r\n\t} = state\r\n\r\n\tconst _getInitialPhoneDigits = (parameters) => getInitialPhoneDigits({\r\n\t\t...parameters,\r\n\t\tinternational,\r\n\t\tuseNationalFormat: displayInitialValueAsLocalNumber || initialValueFormat === 'national',\r\n\t\tmetadata\r\n\t})\r\n\r\n\t// Some users requested a way to reset the component\r\n\t// (both number `<input/>` and country `<select/>`).\r\n\t// Whenever `reset` property changes both number `<input/>`\r\n\t// and country `<select/>` are reset.\r\n\t// It's not implemented as some instance `.reset()` method\r\n\t// because `ref` is forwarded to `<input/>`.\r\n\t// It's also not replaced with just resetting `country` on\r\n\t// external `value` reset, because a user could select a country\r\n\t// and then not input any `value`, and so the selected country\r\n\t// would be \"stuck\", if not using this `reset` property.\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/300\r\n\tif (newReset !== prevReset) {\r\n\t\treturn {\r\n\t\t\tphoneDigits: _getInitialPhoneDigits({\r\n\t\t\t\tvalue: undefined,\r\n\t\t\t\tdefaultCountry: newDefaultCountry\r\n\t\t\t}),\r\n\t\t\tvalue: undefined,\r\n\t\t\tcountry: newDefaultCountry,\r\n\t\t\thasUserSelectedACountry: undefined\r\n\t\t}\r\n\t}\r\n\r\n\t// `value` is the value currently shown in the component:\r\n\t// it's stored in the component's `state`, and it's not the `value` property.\r\n\t// `prevValue` is \"previous `value` property\".\r\n\t// `newValue` is \"new `value` property\".\r\n\r\n\t// If the default country changed\r\n\t// (e.g. in case of ajax GeoIP detection after page loaded)\r\n\t// then select it, but only if the user hasn't already manually\r\n\t// selected a country, and no phone number has been manually entered so far.\r\n\t// Because if the user has already started inputting a phone number\r\n\t// then they're okay with no country being selected at all (\"International\")\r\n\t// and they don't want to be disturbed, don't want their input to be screwed, etc.\r\n\tif (newDefaultCountry !== prevDefaultCountry) {\r\n\t\tconst isNewDefaultCountrySupported = !newDefaultCountry || isCountrySupportedWithError(newDefaultCountry, metadata)\r\n\t\tconst noValueHasBeenEnteredByTheUser = (\r\n\t\t\t// By default, \"no value has been entered\" means `value` is `undefined`.\r\n\t\t\t!value ||\r\n\t\t\t// When `international` is `true`, and some country has been pre-selected,\r\n\t\t\t// then the `<input/>` contains a pre-filled value of `+${countryCallingCode}${leadingDigits}`,\r\n\t\t\t// so in case of `international` being `true`, \"the user hasn't entered anything\" situation\r\n\t\t\t// doesn't just mean `value` is `undefined`, but could also mean `value` is `+${countryCallingCode}`.\r\n\t\t\t(international && value === _getInitialPhoneDigits({\r\n\t\t\t\tvalue: undefined,\r\n\t\t\t\tdefaultCountry: prevDefaultCountry\r\n\t\t\t}))\r\n\t\t)\r\n\t\t// Only update the `defaultCountry` property if no phone number\r\n\t\t// has been entered by the user or pre-set by the application.\r\n\t\tconst noValueHasBeenEntered = !newValue && noValueHasBeenEnteredByTheUser\r\n\t\tif (!hasUserSelectedACountry && isNewDefaultCountrySupported && noValueHasBeenEntered) {\r\n\t\t\treturn {\r\n\t\t\t\tcountry: newDefaultCountry,\r\n\t\t\t\t// If `phoneDigits` is empty, then automatically select the new `country`\r\n\t\t\t\t// and set `phoneDigits` to `+{getCountryCallingCode(newCountry)}`.\r\n\t\t\t\t// The code assumes that \"no phone number has been entered by the user\",\r\n\t\t\t\t// and no `value` property has been passed, so the `phoneNumber` parameter\r\n\t\t\t\t// of `_getInitialPhoneDigits({ value, phoneNumber, ... })` is `undefined`.\r\n\t\t\t\tphoneDigits: _getInitialPhoneDigits({\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tdefaultCountry: newDefaultCountry\r\n\t\t\t\t}),\r\n\t\t\t\t// `value` is `undefined` and it stays so.\r\n\t\t\t\tvalue: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// If a new `value` is set externally.\r\n\t// (e.g. as a result of an ajax API request\r\n\t//  to get user's phone after page loaded)\r\n\t// The first part — `newValue !== prevValue` —\r\n\t// is basically `props.value !== prevProps.value`\r\n\t// so it means \"if value property was changed externally\".\r\n\t// The second part — `newValue !== value` —\r\n\t// is for ignoring the `getDerivedStateFromProps()` call\r\n\t// which happens in `this.onChange()` right after `this.setState()`.\r\n\t// If this `getDerivedStateFromProps()` call isn't ignored\r\n\t// then the country flag would reset on each input.\r\n\tif (newValue !== prevValue && newValue !== value) {\r\n\t\tlet phoneNumber\r\n\t\tlet parsedCountry\r\n\t\tif (newValue) {\r\n\t\t\tphoneNumber = parsePhoneNumber(newValue, metadata)\r\n\t\t\tconst supportedCountries = getSupportedCountries(countries, metadata)\r\n\t\t\tif (phoneNumber && phoneNumber.country) {\r\n\t\t\t\t// Ignore `else` because all countries are supported in metadata.\r\n\t\t\t\t/* istanbul ignore next */\r\n\t\t\t\tif (!supportedCountries || supportedCountries.indexOf(phoneNumber.country) >= 0) {\r\n\t\t\t\t\tparsedCountry = phoneNumber.country\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tparsedCountry = getCountryForPartialE164Number(newValue, {\r\n\t\t\t\t\tcountry: undefined,\r\n\t\t\t\t\tcountries: supportedCountries,\r\n\t\t\t\t\tmetadata\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet hasUserSelectedACountryUpdate\r\n\t\tif (!newValue) {\r\n\t\t\t// Reset `hasUserSelectedACountry` flag in `state`.\r\n\t\t\thasUserSelectedACountryUpdate = {\r\n\t\t\t\thasUserSelectedACountry: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t...hasUserSelectedACountryUpdate,\r\n\t\t\tphoneDigits: _getInitialPhoneDigits({\r\n\t\t\t\tphoneNumber,\r\n\t\t\t\tvalue: newValue,\r\n\t\t\t\tdefaultCountry: newDefaultCountry\r\n\t\t\t}),\r\n\t\t\tvalue: newValue,\r\n\t\t\tcountry: newValue ? parsedCountry : newDefaultCountry\r\n\t\t}\r\n\t}\r\n\r\n\t// `defaultCountry` didn't change.\r\n\t// `value` didn't change.\r\n\t// `phoneDigits` didn't change, because `value` didn't change.\r\n\t//\r\n\t// So no need to update state.\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport labels from '../locale/en.json'\r\n\r\nimport {\r\n\tmetadata as metadataPropType,\r\n\tlabels as labelsPropType\r\n} from './PropTypes'\r\n\r\nimport PhoneInput from './PhoneInputWithCountry'\r\n\r\nexport function createPhoneInput(defaultMetadata) {\r\n\tconst PhoneInputDefault = React.forwardRef((props, ref) => (\r\n\t\t<PhoneInput ref={ref} {...props}/>\r\n\t))\r\n\r\n\tPhoneInputDefault.propTypes = {\r\n\t\tmetadata: metadataPropType.isRequired,\r\n\t\tlabels: labelsPropType.isRequired\r\n\t}\r\n\r\n\tPhoneInputDefault.defaultProps = {\r\n\t\tmetadata: defaultMetadata,\r\n\t\tlabels\r\n\t}\r\n\r\n\treturn PhoneInputDefault\r\n}\r\n\r\nexport default createPhoneInput()","import metadata from 'libphonenumber-js/metadata.min.json'\r\n\r\nimport {\r\n\tparsePhoneNumber as _parsePhoneNumber,\r\n\tformatPhoneNumber as _formatPhoneNumber,\r\n\tformatPhoneNumberIntl as _formatPhoneNumberIntl,\r\n\tisValidPhoneNumber as _isValidPhoneNumber,\r\n\tisPossiblePhoneNumber as _isPossiblePhoneNumber,\r\n\tgetCountries as _getCountries,\r\n\tgetCountryCallingCode as _getCountryCallingCode,\r\n\tisSupportedCountry as _isSupportedCountry\r\n} from '../core/index'\r\n\r\nimport { createPhoneInput } from '../modules/PhoneInputWithCountryDefault'\r\n\r\nfunction call(func, _arguments) {\r\n\tvar args = Array.prototype.slice.call(_arguments)\r\n\targs.push(metadata)\r\n\treturn func.apply(this, args)\r\n}\r\n\r\nexport default createPhoneInput(metadata)\r\n\r\nexport function parsePhoneNumber() {\r\n\treturn call(_parsePhoneNumber, arguments)\r\n}\r\n\r\nexport function formatPhoneNumber() {\r\n\treturn call(_formatPhoneNumber, arguments)\r\n}\r\n\r\nexport function formatPhoneNumberIntl() {\r\n\treturn call(_formatPhoneNumberIntl, arguments)\r\n}\r\n\r\nexport function isValidPhoneNumber() {\r\n\treturn call(_isValidPhoneNumber, arguments)\r\n}\r\n\r\nexport function isPossiblePhoneNumber() {\r\n\treturn call(_isPossiblePhoneNumber, arguments)\r\n}\r\n\r\nexport function getCountries() {\r\n\treturn call(_getCountries, arguments)\r\n}\r\n\r\nexport function getCountryCallingCode() {\r\n\treturn call(_getCountryCallingCode, arguments)\r\n}\r\n\r\nexport function isSupportedCountry() {\r\n\treturn call(_isSupportedCountry, arguments)\r\n}","export default function mergeClassNames() {\n  return Array.prototype.slice.call(arguments).reduce(function (classList, arg) {\n    return classList.concat(arg);\n  }, []).filter(function (arg) {\n    return typeof arg === 'string';\n  }).join(' ');\n}","import once from 'lodash.once';\n\nfunction filterDuplicates(arr) {\n  return arr.filter(function (el, index, self) {\n    return self.indexOf(el) === index;\n  });\n}\n\nfunction fixLowercaseProperties(arr) {\n  return arr.map(function (el) {\n    if (!el || el.indexOf('-') === -1 || el.toLowerCase() !== el) {\n      return el;\n    }\n\n    var splitEl = el.split('-');\n    return \"\".concat(splitEl[0], \"-\").concat(splitEl[1].toUpperCase());\n  });\n}\n\nfunction getUserLocalesInternal() {\n  var languageList = [];\n\n  if (typeof window !== 'undefined') {\n    if (window.navigator.languages) {\n      languageList = languageList.concat(window.navigator.languages);\n    }\n\n    if (window.navigator.language) {\n      languageList.push(window.navigator.language);\n    }\n\n    if (window.navigator.userLanguage) {\n      languageList.push(window.navigator.userLanguage);\n    }\n\n    if (window.navigator.browserLanguage) {\n      languageList.push(window.navigator.browserLanguage);\n    }\n\n    if (window.navigator.systemLanguage) {\n      languageList.push(window.navigator.systemLanguage);\n    }\n  }\n\n  languageList.push('en-US'); // Fallback\n\n  return fixLowercaseProperties(filterDuplicates(languageList));\n}\n\nexport var getUserLocales = once(getUserLocalesInternal);\n\nfunction getUserLocaleInternal() {\n  return getUserLocales()[0];\n}\n\nexport var getUserLocale = once(getUserLocaleInternal);\nexport default getUserLocale;","/**\n * Utils\n */\nfunction makeGetEdgeOfNeighbor(getPeriod, getEdgeOfPeriod, defaultOffset) {\n  return function makeGetEdgeOfNeighborInternal(date) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOffset;\n    var previousPeriod = getPeriod(date) + offset;\n    return getEdgeOfPeriod(previousPeriod);\n  };\n}\n\nfunction makeGetEnd(getBeginOfNextPeriod) {\n  return function makeGetEndInternal(date) {\n    return new Date(getBeginOfNextPeriod(date).getTime() - 1);\n  };\n}\n\nfunction makeGetRange(functions) {\n  return function makeGetRangeInternal(date) {\n    return functions.map(function (fn) {\n      return fn(date);\n    });\n  };\n}\n/**\n * Simple getters - getting a property of a given point in time\n */\n\n/**\n * Gets year from date.\n *\n * @param {Date|number|string} date Date to get year from.\n */\n\n\nexport function getYear(date) {\n  if (date instanceof Date) {\n    return date.getFullYear();\n  }\n\n  if (typeof date === 'number') {\n    return date;\n  }\n\n  var year = parseInt(date, 10);\n\n  if (typeof date === 'string' && !isNaN(year)) {\n    return year;\n  }\n\n  throw new Error(\"Failed to get year from date: \".concat(date, \".\"));\n}\n/**\n * Gets month from date.\n *\n * @param {Date} date Date to get month from.\n */\n\nexport function getMonth(date) {\n  if (date instanceof Date) {\n    return date.getMonth();\n  }\n\n  throw new Error(\"Failed to get month from date: \".concat(date, \".\"));\n}\n/**\n * Gets human-readable month from date.\n *\n * @param {Date} date Date to get human-readable month from.\n */\n\nexport function getMonthHuman(date) {\n  if (date instanceof Date) {\n    return date.getMonth() + 1;\n  }\n\n  throw new Error(\"Failed to get human-readable month from date: \".concat(date, \".\"));\n}\n/**\n * Gets human-readable day of the month from date.\n *\n * @param {Date} date Date to get day of the month from.\n */\n\nexport function getDate(date) {\n  if (date instanceof Date) {\n    return date.getDate();\n  }\n\n  throw new Error(\"Failed to get year from date: \".concat(date, \".\"));\n}\n/**\n * Gets hours from date.\n *\n * @param {Date|string} date Date to get hours from.\n */\n\nexport function getHours(date) {\n  if (date instanceof Date) {\n    return date.getHours();\n  }\n\n  if (typeof date === 'string') {\n    var datePieces = date.split(':');\n\n    if (datePieces.length >= 2) {\n      var hoursString = datePieces[0];\n      var hours = parseInt(hoursString, 10);\n\n      if (!isNaN(hours)) {\n        return hours;\n      }\n    }\n  }\n\n  throw new Error(\"Failed to get hours from date: \".concat(date, \".\"));\n}\n/**\n * Gets minutes from date.\n *\n * @param {Date|string} date Date to get minutes from.\n */\n\nexport function getMinutes(date) {\n  if (date instanceof Date) {\n    return date.getMinutes();\n  }\n\n  if (typeof date === 'string') {\n    var datePieces = date.split(':');\n\n    if (datePieces.length >= 2) {\n      var minutesString = datePieces[1] || 0;\n      var minutes = parseInt(minutesString, 10);\n\n      if (!isNaN(minutes)) {\n        return minutes;\n      }\n    }\n  }\n\n  throw new Error(\"Failed to get minutes from date: \".concat(date, \".\"));\n}\n/**\n * Gets seconds from date.\n *\n * @param {Date|string} date Date to get seconds from.\n */\n\nexport function getSeconds(date) {\n  if (date instanceof Date) {\n    return date.getSeconds();\n  }\n\n  if (typeof date === 'string') {\n    var datePieces = date.split(':');\n\n    if (datePieces.length >= 2) {\n      var secondsString = datePieces[2] || 0;\n      var seconds = parseInt(secondsString, 10);\n\n      if (!isNaN(seconds)) {\n        return seconds;\n      }\n    }\n  }\n\n  throw new Error(\"Failed to get seconds from date: \".concat(date, \".\"));\n}\n/**\n * Century\n */\n\nexport function getCenturyStart(date) {\n  var year = getYear(date);\n  var centuryStartYear = year + (-year + 1) % 100;\n  var centuryStartDate = new Date();\n  centuryStartDate.setFullYear(centuryStartYear, 0, 1);\n  centuryStartDate.setHours(0, 0, 0, 0);\n  return centuryStartDate;\n}\nexport var getPreviousCenturyStart = makeGetEdgeOfNeighbor(getYear, getCenturyStart, -100);\nexport var getNextCenturyStart = makeGetEdgeOfNeighbor(getYear, getCenturyStart, 100);\nexport var getCenturyEnd = makeGetEnd(getNextCenturyStart);\nexport var getPreviousCenturyEnd = makeGetEdgeOfNeighbor(getYear, getCenturyEnd, -100);\nexport var getNextCenturyEnd = makeGetEdgeOfNeighbor(getYear, getCenturyEnd, 100);\nexport var getCenturyRange = makeGetRange([getCenturyStart, getCenturyEnd]);\n/**\n * Decade\n */\n\nexport function getDecadeStart(date) {\n  var year = getYear(date);\n  var decadeStartYear = year + (-year + 1) % 10;\n  var decadeStartDate = new Date();\n  decadeStartDate.setFullYear(decadeStartYear, 0, 1);\n  decadeStartDate.setHours(0, 0, 0, 0);\n  return decadeStartDate;\n}\nexport var getPreviousDecadeStart = makeGetEdgeOfNeighbor(getYear, getDecadeStart, -10);\nexport var getNextDecadeStart = makeGetEdgeOfNeighbor(getYear, getDecadeStart, 10);\nexport var getDecadeEnd = makeGetEnd(getNextDecadeStart);\nexport var getPreviousDecadeEnd = makeGetEdgeOfNeighbor(getYear, getDecadeEnd, -10);\nexport var getNextDecadeEnd = makeGetEdgeOfNeighbor(getYear, getDecadeEnd, 10);\nexport var getDecadeRange = makeGetRange([getDecadeStart, getDecadeEnd]);\n/**\n * Year\n */\n\nexport function getYearStart(date) {\n  var year = getYear(date);\n  var yearStartDate = new Date();\n  yearStartDate.setFullYear(year, 0, 1);\n  yearStartDate.setHours(0, 0, 0, 0);\n  return yearStartDate;\n}\nexport var getPreviousYearStart = makeGetEdgeOfNeighbor(getYear, getYearStart, -1);\nexport var getNextYearStart = makeGetEdgeOfNeighbor(getYear, getYearStart, 1);\nexport var getYearEnd = makeGetEnd(getNextYearStart);\nexport var getPreviousYearEnd = makeGetEdgeOfNeighbor(getYear, getYearEnd, -1);\nexport var getNextYearEnd = makeGetEdgeOfNeighbor(getYear, getYearEnd, 1);\nexport var getYearRange = makeGetRange([getYearStart, getYearEnd]);\n/**\n * Month\n */\n\nfunction makeGetEdgeOfNeighborMonth(getEdgeOfPeriod, defaultOffset) {\n  return function makeGetEdgeOfNeighborMonthInternal(date) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOffset;\n    var year = getYear(date);\n    var month = getMonth(date) + offset;\n    var previousPeriod = new Date();\n    previousPeriod.setFullYear(year, month, 1);\n    previousPeriod.setHours(0, 0, 0, 0);\n    return getEdgeOfPeriod(previousPeriod);\n  };\n}\n\nexport function getMonthStart(date) {\n  var year = getYear(date);\n  var month = getMonth(date);\n  var monthStartDate = new Date();\n  monthStartDate.setFullYear(year, month, 1);\n  monthStartDate.setHours(0, 0, 0, 0);\n  return monthStartDate;\n}\nexport var getPreviousMonthStart = makeGetEdgeOfNeighborMonth(getMonthStart, -1);\nexport var getNextMonthStart = makeGetEdgeOfNeighborMonth(getMonthStart, 1);\nexport var getMonthEnd = makeGetEnd(getNextMonthStart);\nexport var getPreviousMonthEnd = makeGetEdgeOfNeighborMonth(getMonthEnd, -1);\nexport var getNextMonthEnd = makeGetEdgeOfNeighborMonth(getMonthEnd, 1);\nexport var getMonthRange = makeGetRange([getMonthStart, getMonthEnd]);\n/**\n * Day\n */\n\nfunction makeGetEdgeOfNeighborDay(getEdgeOfPeriod, defaultOffset) {\n  return function makeGetEdgeOfNeighborDayInternal(date) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOffset;\n    var year = getYear(date);\n    var month = getMonth(date);\n    var day = getDate(date) + offset;\n    var previousPeriod = new Date();\n    previousPeriod.setFullYear(year, month, day);\n    previousPeriod.setHours(0, 0, 0, 0);\n    return getEdgeOfPeriod(previousPeriod);\n  };\n}\n\nexport function getDayStart(date) {\n  var year = getYear(date);\n  var month = getMonth(date);\n  var day = getDate(date);\n  var dayStartDate = new Date();\n  dayStartDate.setFullYear(year, month, day);\n  dayStartDate.setHours(0, 0, 0, 0);\n  return dayStartDate;\n}\nexport var getPreviousDayStart = makeGetEdgeOfNeighborDay(getDayStart, -1);\nexport var getNextDayStart = makeGetEdgeOfNeighborDay(getDayStart, 1);\nexport var getDayEnd = makeGetEnd(getNextDayStart);\nexport var getPreviousDayEnd = makeGetEdgeOfNeighborDay(getDayEnd, -1);\nexport var getNextDayEnd = makeGetEdgeOfNeighborDay(getDayEnd, 1);\nexport var getDayRange = makeGetRange([getDayStart, getDayEnd]);\n/**\n * Other\n */\n\n/**\n * Returns a number of days in a month of a given date.\n *\n * @param {Date} date Date.\n */\n\nexport function getDaysInMonth(date) {\n  return getDate(getMonthEnd(date));\n}\n\nfunction padStart(num) {\n  var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var numStr = \"\".concat(num);\n\n  if (numStr.length >= val) {\n    return num;\n  }\n\n  return \"0000\".concat(numStr).slice(-val);\n}\n/**\n * Returns local hours and minutes (hh:mm).\n */\n\n\nexport function getHoursMinutes(date) {\n  var hours = padStart(getHours(date));\n  var minutes = padStart(getMinutes(date));\n  return \"\".concat(hours, \":\").concat(minutes);\n}\n/**\n * Returns local hours, minutes and seconds (hh:mm:ss).\n */\n\nexport function getHoursMinutesSeconds(date) {\n  var hours = padStart(getHours(date));\n  var minutes = padStart(getMinutes(date));\n  var seconds = padStart(getSeconds(date));\n  return \"\".concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n}\n/**\n * Returns local month in ISO-like format (YYYY-MM).\n */\n\nexport function getISOLocalMonth(date) {\n  var year = padStart(getYear(date), 4);\n  var month = padStart(getMonthHuman(date));\n  return \"\".concat(year, \"-\").concat(month);\n}\n/**\n * Returns local date in ISO-like format (YYYY-MM-DD).\n */\n\nexport function getISOLocalDate(date) {\n  var year = padStart(getYear(date), 4);\n  var month = padStart(getMonthHuman(date));\n  var day = padStart(getDate(date));\n  return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n}\n/**\n * Returns local date & time in ISO-like format (YYYY-MM-DDThh:mm:ss).\n */\n\nexport function getISOLocalDateTime(date) {\n  return \"\".concat(getISOLocalDate(date), \"T\").concat(getHoursMinutesSeconds(date));\n}","var _CALENDAR_TYPE_LOCALE;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var CALENDAR_TYPES = {\n  ARABIC: 'Arabic',\n  HEBREW: 'Hebrew',\n  ISO_8601: 'ISO 8601',\n  US: 'US'\n};\nexport var CALENDAR_TYPE_LOCALES = (_CALENDAR_TYPE_LOCALE = {}, _defineProperty(_CALENDAR_TYPE_LOCALE, CALENDAR_TYPES.US, ['en-CA', 'en-US', 'es-AR', 'es-BO', 'es-CL', 'es-CO', 'es-CR', 'es-DO', 'es-EC', 'es-GT', 'es-HN', 'es-MX', 'es-NI', 'es-PA', 'es-PE', 'es-PR', 'es-SV', 'es-VE', 'pt-BR']), _defineProperty(_CALENDAR_TYPE_LOCALE, CALENDAR_TYPES.ARABIC, [// ar-LB, ar-MA intentionally missing\n'ar', 'ar-AE', 'ar-BH', 'ar-DZ', 'ar-EG', 'ar-IQ', 'ar-JO', 'ar-KW', 'ar-LY', 'ar-OM', 'ar-QA', 'ar-SA', 'ar-SD', 'ar-SY', 'ar-YE', 'dv', 'dv-MV', 'ps', 'ps-AR']), _defineProperty(_CALENDAR_TYPE_LOCALE, CALENDAR_TYPES.HEBREW, ['he', 'he-IL']), _CALENDAR_TYPE_LOCALE);\nexport var WEEKDAYS = _toConsumableArray(Array(7)).map(function (el, index) {\n  return index;\n});","import getUserLocale from 'get-user-locale';\n\nfunction getFormatter(options) {\n  return function (locale, date) {\n    return date.toLocaleString(locale || getUserLocale(), options);\n  };\n}\n/**\n * Changes the hour in a Date to ensure right date formatting even if DST is messed up.\n * Workaround for bug in WebKit and Firefox with historical dates.\n * For more details, see:\n * https://bugs.chromium.org/p/chromium/issues/detail?id=750465\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1385643\n *\n * @param {Date} date Date.\n */\n\n\nfunction toSafeHour(date) {\n  var safeDate = new Date(date);\n  return new Date(safeDate.setHours(12));\n}\n\nfunction getSafeFormatter(options) {\n  return function (locale, date) {\n    return getFormatter(options)(locale, toSafeHour(date));\n  };\n}\n\nvar formatDateOptions = {\n  day: 'numeric',\n  month: 'numeric',\n  year: 'numeric'\n};\nvar formatDayOptions = {\n  day: 'numeric'\n};\nvar formatLongDateOptions = {\n  day: 'numeric',\n  month: 'long',\n  year: 'numeric'\n};\nvar formatMonthOptions = {\n  month: 'long'\n};\nvar formatMonthYearOptions = {\n  month: 'long',\n  year: 'numeric'\n};\nvar formatShortWeekdayOptions = {\n  weekday: 'short'\n};\nvar formatWeekdayOptions = {\n  weekday: 'long'\n};\nvar formatYearOptions = {\n  year: 'numeric'\n};\nexport var formatDate = getSafeFormatter(formatDateOptions);\nexport var formatDay = getSafeFormatter(formatDayOptions);\nexport var formatLongDate = getSafeFormatter(formatLongDateOptions);\nexport var formatMonth = getSafeFormatter(formatMonthOptions);\nexport var formatMonthYear = getSafeFormatter(formatMonthYearOptions);\nexport var formatShortWeekday = getSafeFormatter(formatShortWeekdayOptions);\nexport var formatWeekday = getSafeFormatter(formatWeekdayOptions);\nexport var formatYear = getSafeFormatter(formatYearOptions);","import { getYear, getMonth as getMonthIndex, getCenturyStart, getPreviousCenturyStart, getNextCenturyStart, getCenturyEnd, getPreviousCenturyEnd, getCenturyRange, getDecadeStart, getPreviousDecadeStart, getNextDecadeStart, getDecadeEnd, getPreviousDecadeEnd, getDecadeRange, getYearStart, getPreviousYearStart, getNextYearStart, getYearEnd, getPreviousYearEnd, getYearRange, getMonthStart, getPreviousMonthStart, getNextMonthStart, getMonthEnd, getPreviousMonthEnd, getMonthRange, getDayStart, getDayEnd, getDayRange } from '@wojtekmaj/date-utils';\nimport { CALENDAR_TYPES, WEEKDAYS } from './const';\nimport { formatYear as defaultFormatYear } from './dateFormatter';\nvar SUNDAY = WEEKDAYS[0];\nvar FRIDAY = WEEKDAYS[5];\nvar SATURDAY = WEEKDAYS[6];\n/* Simple getters - getting a property of a given point in time */\n\nexport function getDayOfWeek(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var weekday = date.getDay();\n\n  switch (calendarType) {\n    case CALENDAR_TYPES.ISO_8601:\n      // Shifts days of the week so that Monday is 0, Sunday is 6\n      return (weekday + 6) % 7;\n\n    case CALENDAR_TYPES.ARABIC:\n      return (weekday + 1) % 7;\n\n    case CALENDAR_TYPES.HEBREW:\n    case CALENDAR_TYPES.US:\n      return weekday;\n\n    default:\n      throw new Error('Unsupported calendar type.');\n  }\n}\n/**\n * Century\n */\n\nexport function getBeginOfCenturyYear(date) {\n  var beginOfCentury = getCenturyStart(date);\n  return getYear(beginOfCentury);\n}\n/**\n * Decade\n */\n\nexport function getBeginOfDecadeYear(date) {\n  var beginOfDecade = getDecadeStart(date);\n  return getYear(beginOfDecade);\n}\n/**\n * Week\n */\n\n/**\n * Returns the beginning of a given week.\n *\n * @param {Date} date Date.\n * @param {string} calendarType Calendar type. Can be ISO 8601 or US.\n */\n\nexport function getBeginOfWeek(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var year = getYear(date);\n  var monthIndex = getMonthIndex(date);\n  var day = date.getDate() - getDayOfWeek(date, calendarType);\n  return new Date(year, monthIndex, day);\n}\n/**\n * Gets week number according to ISO 8601 or US standard.\n * In ISO 8601, Arabic and Hebrew week 1 is the one with January 4.\n * In US calendar week 1 is the one with January 1.\n *\n * @param {Date} date Date.\n * @param {string} calendarType Calendar type. Can be ISO 8601 or US.\n */\n\nexport function getWeekNumber(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var calendarTypeForWeekNumber = calendarType === CALENDAR_TYPES.US ? CALENDAR_TYPES.US : CALENDAR_TYPES.ISO_8601;\n  var beginOfWeek = getBeginOfWeek(date, calendarTypeForWeekNumber);\n  var year = getYear(date) + 1;\n  var dayInWeekOne;\n  var beginOfFirstWeek; // Look for the first week one that does not come after a given date\n\n  do {\n    dayInWeekOne = new Date(year, 0, calendarTypeForWeekNumber === CALENDAR_TYPES.ISO_8601 ? 4 : 1);\n    beginOfFirstWeek = getBeginOfWeek(dayInWeekOne, calendarTypeForWeekNumber);\n    year -= 1;\n  } while (date - beginOfFirstWeek < 0);\n\n  return Math.round((beginOfWeek - beginOfFirstWeek) / (8.64e7 * 7)) + 1;\n}\n/**\n * Others\n */\n\n/**\n * Returns the beginning of a given range.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date Date.\n */\n\nexport function getBegin(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getCenturyStart(date);\n\n    case 'decade':\n      return getDecadeStart(date);\n\n    case 'year':\n      return getYearStart(date);\n\n    case 'month':\n      return getMonthStart(date);\n\n    case 'day':\n      return getDayStart(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport function getBeginPrevious(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getPreviousCenturyStart(date);\n\n    case 'decade':\n      return getPreviousDecadeStart(date);\n\n    case 'year':\n      return getPreviousYearStart(date);\n\n    case 'month':\n      return getPreviousMonthStart(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport function getBeginNext(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getNextCenturyStart(date);\n\n    case 'decade':\n      return getNextDecadeStart(date);\n\n    case 'year':\n      return getNextYearStart(date);\n\n    case 'month':\n      return getNextMonthStart(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport var getBeginPrevious2 = function getBeginPrevious2(rangeType, date) {\n  switch (rangeType) {\n    case 'decade':\n      return getPreviousDecadeStart(date, -100);\n\n    case 'year':\n      return getPreviousYearStart(date, -10);\n\n    case 'month':\n      return getPreviousMonthStart(date, -12);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n};\nexport var getBeginNext2 = function getBeginNext2(rangeType, date) {\n  switch (rangeType) {\n    case 'decade':\n      return getNextDecadeStart(date, 100);\n\n    case 'year':\n      return getNextYearStart(date, 10);\n\n    case 'month':\n      return getNextMonthStart(date, 12);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n};\n/**\n * Returns the end of a given range.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date Date.\n */\n\nexport function getEnd(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getCenturyEnd(date);\n\n    case 'decade':\n      return getDecadeEnd(date);\n\n    case 'year':\n      return getYearEnd(date);\n\n    case 'month':\n      return getMonthEnd(date);\n\n    case 'day':\n      return getDayEnd(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport function getEndPrevious(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getPreviousCenturyEnd(date);\n\n    case 'decade':\n      return getPreviousDecadeEnd(date);\n\n    case 'year':\n      return getPreviousYearEnd(date);\n\n    case 'month':\n      return getPreviousMonthEnd(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport var getEndPrevious2 = function getEndPrevious2(rangeType, date) {\n  switch (rangeType) {\n    case 'decade':\n      return getPreviousDecadeEnd(date, -100);\n\n    case 'year':\n      return getPreviousYearEnd(date, -10);\n\n    case 'month':\n      return getPreviousMonthEnd(date, -12);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n};\n/**\n * Returns an array with the beginning and the end of a given range.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date Date.\n */\n\nexport function getRange(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getCenturyRange(date);\n\n    case 'decade':\n      return getDecadeRange(date);\n\n    case 'year':\n      return getYearRange(date);\n\n    case 'month':\n      return getMonthRange(date);\n\n    case 'day':\n      return getDayRange(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\n/**\n * Creates a range out of two values, ensuring they are in order and covering entire period ranges.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date1 First date.\n * @param {Date} date2 Second date.\n */\n\nexport function getValueRange(rangeType, date1, date2) {\n  var rawNextValue = [date1, date2].sort(function (a, b) {\n    return a - b;\n  });\n  return [getBegin(rangeType, rawNextValue[0]), getEnd(rangeType, rawNextValue[1])];\n}\n\nfunction toYearLabel(locale) {\n  var formatYear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultFormatYear;\n  var dates = arguments.length > 2 ? arguments[2] : undefined;\n  return dates.map(function (date) {\n    return formatYear(locale, date);\n  }).join(' – ');\n}\n/**\n * Returns a string labelling a century of a given date.\n * For example, for 2017 it will return 2001-2100.\n *\n * @param {Date|String|Number} date Date or a year as a string or as a number.\n */\n\n\nexport function getCenturyLabel(locale, formatYear, date) {\n  return toYearLabel(locale, formatYear, getCenturyRange(date));\n}\n/**\n * Returns a string labelling a century of a given date.\n * For example, for 2017 it will return 2011-2020.\n *\n * @param {Date|String|Number} date Date or a year as a string or as a number.\n */\n\nexport function getDecadeLabel(locale, formatYear, date) {\n  return toYearLabel(locale, formatYear, getDecadeRange(date));\n}\n/**\n * Returns a boolean determining whether a given date is on Saturday or Sunday.\n *\n * @param {Date} date Date.\n */\n\nexport function isWeekend(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var weekday = date.getDay();\n\n  switch (calendarType) {\n    case CALENDAR_TYPES.ARABIC:\n    case CALENDAR_TYPES.HEBREW:\n      return weekday === FRIDAY || weekday === SATURDAY;\n\n    case CALENDAR_TYPES.ISO_8601:\n    case CALENDAR_TYPES.US:\n      return weekday === SATURDAY || weekday === SUNDAY;\n\n    default:\n      throw new Error('Unsupported calendar type.');\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport PropTypes from 'prop-types';\nimport { CALENDAR_TYPES } from './const';\nvar calendarTypes = Object.values(CALENDAR_TYPES);\nvar allViews = ['century', 'decade', 'year', 'month'];\nexport var isCalendarType = PropTypes.oneOf(calendarTypes);\nexport var isClassName = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]);\nexport var isMinDate = function isMinDate(props, propName, componentName) {\n  var minDate = props[propName];\n\n  if (!minDate) {\n    return null;\n  }\n\n  if (!(minDate instanceof Date)) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(minDate), \"` supplied to `\").concat(componentName, \"`, expected instance of `Date`.\"));\n  }\n\n  var maxDate = props.maxDate;\n\n  if (maxDate && minDate > maxDate) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(minDate), \"` supplied to `\").concat(componentName, \"`, minDate cannot be larger than maxDate.\"));\n  }\n\n  return null;\n};\nexport var isMaxDate = function isMaxDate(props, propName, componentName) {\n  var maxDate = props[propName];\n\n  if (!maxDate) {\n    return null;\n  }\n\n  if (!(maxDate instanceof Date)) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(maxDate), \"` supplied to `\").concat(componentName, \"`, expected instance of `Date`.\"));\n  }\n\n  var minDate = props.minDate;\n\n  if (minDate && maxDate < minDate) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(maxDate), \"` supplied to `\").concat(componentName, \"`, maxDate cannot be smaller than minDate.\"));\n  }\n\n  return null;\n};\nexport var isRef = PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n  // eslint-disable-next-line react/forbid-prop-types\n  current: PropTypes.any\n})]);\nexport var isValue = PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.arrayOf(PropTypes.instanceOf(Date))]);\nexport var isViews = PropTypes.arrayOf(PropTypes.oneOf(allViews));\nexport var isView = function isView(props, propName, componentName) {\n  var view = props[propName];\n  var views = props.views;\n  var allowedViews = views || allViews;\n\n  if (view !== undefined && allowedViews.indexOf(view) === -1) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of value `\").concat(view, \"` supplied to `\").concat(componentName, \"`, expected one of [\").concat(allowedViews.map(function (a) {\n      return \"\\\"\".concat(a, \"\\\"\");\n    }).join(', '), \"].\"));\n  } // Everything is fine\n\n\n  return null;\n};\n\nisView.isRequired = function (props, propName, componentName) {\n  var view = props[propName];\n\n  if (!view) {\n    return new Error(\"The prop `\".concat(propName, \"` is marked as required in `\").concat(componentName, \"`, but its value is `\").concat(view, \"`.\"));\n  }\n\n  return isView(props, propName, componentName);\n};\n\nexport var tileGroupProps = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  hover: PropTypes.instanceOf(Date),\n  locale: PropTypes.string,\n  maxDate: isMaxDate,\n  minDate: isMinDate,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  tileClassName: PropTypes.oneOfType([PropTypes.func, isClassName]),\n  tileContent: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  value: isValue,\n  valueType: PropTypes.string\n};\nexport var tileProps = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  date: PropTypes.instanceOf(Date).isRequired,\n  locale: PropTypes.string,\n  maxDate: isMaxDate,\n  minDate: isMinDate,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  style: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  tileClassName: PropTypes.oneOfType([PropTypes.func, isClassName]),\n  tileContent: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  tileDisabled: PropTypes.func\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getUserLocale } from 'get-user-locale';\nimport { getCenturyLabel, getDecadeLabel, getBeginNext, getBeginNext2, getBeginPrevious, getBeginPrevious2, getEndPrevious, getEndPrevious2 } from '../shared/dates';\nimport { formatMonthYear as defaultFormatMonthYear, formatYear as defaultFormatYear } from '../shared/dateFormatter';\nimport { isView, isViews } from '../shared/propTypes';\nvar className = 'react-calendar__navigation';\nexport default function Navigation(_ref) {\n  var activeStartDate = _ref.activeStartDate,\n      drillUp = _ref.drillUp,\n      _ref$formatMonthYear = _ref.formatMonthYear,\n      formatMonthYear = _ref$formatMonthYear === void 0 ? defaultFormatMonthYear : _ref$formatMonthYear,\n      _ref$formatYear = _ref.formatYear,\n      formatYear = _ref$formatYear === void 0 ? defaultFormatYear : _ref$formatYear,\n      locale = _ref.locale,\n      maxDate = _ref.maxDate,\n      minDate = _ref.minDate,\n      _ref$navigationAriaLa = _ref.navigationAriaLabel,\n      navigationAriaLabel = _ref$navigationAriaLa === void 0 ? '' : _ref$navigationAriaLa,\n      navigationLabel = _ref.navigationLabel,\n      _ref$next2AriaLabel = _ref.next2AriaLabel,\n      next2AriaLabel = _ref$next2AriaLabel === void 0 ? '' : _ref$next2AriaLabel,\n      _ref$next2Label = _ref.next2Label,\n      next2Label = _ref$next2Label === void 0 ? '»' : _ref$next2Label,\n      _ref$nextAriaLabel = _ref.nextAriaLabel,\n      nextAriaLabel = _ref$nextAriaLabel === void 0 ? '' : _ref$nextAriaLabel,\n      _ref$nextLabel = _ref.nextLabel,\n      nextLabel = _ref$nextLabel === void 0 ? '›' : _ref$nextLabel,\n      _ref$prev2AriaLabel = _ref.prev2AriaLabel,\n      prev2AriaLabel = _ref$prev2AriaLabel === void 0 ? '' : _ref$prev2AriaLabel,\n      _ref$prev2Label = _ref.prev2Label,\n      prev2Label = _ref$prev2Label === void 0 ? '«' : _ref$prev2Label,\n      _ref$prevAriaLabel = _ref.prevAriaLabel,\n      prevAriaLabel = _ref$prevAriaLabel === void 0 ? '' : _ref$prevAriaLabel,\n      _ref$prevLabel = _ref.prevLabel,\n      prevLabel = _ref$prevLabel === void 0 ? '‹' : _ref$prevLabel,\n      setActiveStartDate = _ref.setActiveStartDate,\n      showDoubleView = _ref.showDoubleView,\n      view = _ref.view,\n      views = _ref.views;\n  var drillUpAvailable = views.indexOf(view) > 0;\n  var shouldShowPrevNext2Buttons = view !== 'century';\n  var previousActiveStartDate = getBeginPrevious(view, activeStartDate);\n  var previousActiveStartDate2 = shouldShowPrevNext2Buttons && getBeginPrevious2(view, activeStartDate);\n  var nextActiveStartDate = getBeginNext(view, activeStartDate);\n  var nextActiveStartDate2 = shouldShowPrevNext2Buttons && getBeginNext2(view, activeStartDate);\n\n  var prevButtonDisabled = function () {\n    if (previousActiveStartDate.getFullYear() < 0) {\n      return true;\n    }\n\n    var previousActiveEndDate = getEndPrevious(view, activeStartDate);\n    return minDate && minDate >= previousActiveEndDate;\n  }();\n\n  var prev2ButtonDisabled = shouldShowPrevNext2Buttons && function () {\n    if (previousActiveStartDate2.getFullYear() < 0) {\n      return true;\n    }\n\n    var previousActiveEndDate = getEndPrevious2(view, activeStartDate);\n    return minDate && minDate >= previousActiveEndDate;\n  }();\n\n  var nextButtonDisabled = maxDate && maxDate <= nextActiveStartDate;\n  var next2ButtonDisabled = shouldShowPrevNext2Buttons && maxDate && maxDate <= nextActiveStartDate2;\n\n  function onClickPrevious() {\n    setActiveStartDate(previousActiveStartDate);\n  }\n\n  function onClickPrevious2() {\n    setActiveStartDate(previousActiveStartDate2);\n  }\n\n  function onClickNext() {\n    setActiveStartDate(nextActiveStartDate);\n  }\n\n  function onClickNext2() {\n    setActiveStartDate(nextActiveStartDate2);\n  }\n\n  function renderLabel(date) {\n    var label = function () {\n      switch (view) {\n        case 'century':\n          return getCenturyLabel(locale, formatYear, date);\n\n        case 'decade':\n          return getDecadeLabel(locale, formatYear, date);\n\n        case 'year':\n          return formatYear(locale, date);\n\n        case 'month':\n          return formatMonthYear(locale, date);\n\n        default:\n          throw new Error(\"Invalid view: \".concat(view, \".\"));\n      }\n    }();\n\n    return navigationLabel ? navigationLabel({\n      date: date,\n      label: label,\n      locale: locale || getUserLocale(),\n      view: view\n    }) : label;\n  }\n\n  function renderButton() {\n    var labelClassName = \"\".concat(className, \"__label\");\n    return /*#__PURE__*/React.createElement(\"button\", {\n      \"aria-label\": navigationAriaLabel,\n      className: labelClassName,\n      disabled: !drillUpAvailable,\n      onClick: drillUp,\n      style: {\n        flexGrow: 1\n      },\n      type: \"button\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(labelClassName, \"__labelText \").concat(labelClassName, \"__labelText--from\")\n    }, renderLabel(activeStartDate)), showDoubleView && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(labelClassName, \"__divider\")\n    }, ' ', \"\\u2013\", ' '), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(labelClassName, \"__labelText \").concat(labelClassName, \"__labelText--to\")\n    }, renderLabel(nextActiveStartDate))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: {\n      display: 'flex'\n    }\n  }, prev2Label !== null && shouldShowPrevNext2Buttons && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": prev2AriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__prev2-button\"),\n    disabled: prev2ButtonDisabled,\n    onClick: onClickPrevious2,\n    type: \"button\"\n  }, prev2Label), prevLabel !== null && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": prevAriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__prev-button\"),\n    disabled: prevButtonDisabled,\n    onClick: onClickPrevious,\n    type: \"button\"\n  }, prevLabel), renderButton(), nextLabel !== null && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": nextAriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__next-button\"),\n    disabled: nextButtonDisabled,\n    onClick: onClickNext,\n    type: \"button\"\n  }, nextLabel), next2Label !== null && shouldShowPrevNext2Buttons && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": next2AriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__next2-button\"),\n    disabled: next2ButtonDisabled,\n    onClick: onClickNext2,\n    type: \"button\"\n  }, next2Label));\n}\nNavigation.propTypes = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  drillUp: PropTypes.func.isRequired,\n  formatMonthYear: PropTypes.func,\n  formatYear: PropTypes.func,\n  locale: PropTypes.string,\n  maxDate: PropTypes.instanceOf(Date),\n  minDate: PropTypes.instanceOf(Date),\n  navigationAriaLabel: PropTypes.string,\n  navigationLabel: PropTypes.func,\n  next2AriaLabel: PropTypes.string,\n  next2Label: PropTypes.node,\n  nextAriaLabel: PropTypes.string,\n  nextLabel: PropTypes.node,\n  prev2AriaLabel: PropTypes.string,\n  prev2Label: PropTypes.node,\n  prevAriaLabel: PropTypes.string,\n  prevLabel: PropTypes.node,\n  setActiveStartDate: PropTypes.func.isRequired,\n  showDoubleView: PropTypes.bool,\n  view: isView.isRequired,\n  views: isViews.isRequired\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction toPercent(num) {\n  return \"\".concat(num, \"%\");\n}\n\nexport default function Flex(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      direction = _ref.direction,\n      count = _ref.count,\n      offset = _ref.offset,\n      style = _ref.style,\n      wrap = _ref.wrap,\n      otherProps = _objectWithoutProperties(_ref, [\"children\", \"className\", \"direction\", \"count\", \"offset\", \"style\", \"wrap\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: className,\n    style: _objectSpread({\n      display: 'flex',\n      flexDirection: direction,\n      flexWrap: wrap ? 'wrap' : 'no-wrap'\n    }, style)\n  }, otherProps), React.Children.map(children, function (child, index) {\n    return /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n      style: {\n        flexBasis: toPercent(100 / count),\n        maxWidth: toPercent(100 / count),\n        overflow: 'hidden',\n        marginLeft: offset && index === 0 ? toPercent(100 * offset / count) : null\n      }\n    }));\n  }));\n}\nFlex.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  count: PropTypes.number.isRequired,\n  direction: PropTypes.string,\n  offset: PropTypes.number,\n  style: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  wrap: PropTypes.bool\n};","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { getRange } from './dates';\n/**\n * Returns a value no smaller than min and no larger than max.\n *\n * @param {*} value Value to return.\n * @param {*} min Minimum return value.\n * @param {*} max Maximum return value.\n */\n\nexport function between(value, min, max) {\n  if (min && min > value) {\n    return min;\n  }\n\n  if (max && max < value) {\n    return max;\n  }\n\n  return value;\n}\nexport function isValueWithinRange(value, range) {\n  return range[0] <= value && range[1] >= value;\n}\nexport function isRangeWithinRange(greaterRange, smallerRange) {\n  return greaterRange[0] <= smallerRange[0] && greaterRange[1] >= smallerRange[1];\n}\nexport function doRangesOverlap(range1, range2) {\n  return isValueWithinRange(range1[0], range2) || isValueWithinRange(range1[1], range2);\n}\n\nfunction getRangeClassNames(valueRange, dateRange, baseClassName) {\n  var isRange = doRangesOverlap(dateRange, valueRange);\n  var classes = [];\n\n  if (isRange) {\n    classes.push(baseClassName);\n    var isRangeStart = isValueWithinRange(valueRange[0], dateRange);\n    var isRangeEnd = isValueWithinRange(valueRange[1], dateRange);\n\n    if (isRangeStart) {\n      classes.push(\"\".concat(baseClassName, \"Start\"));\n    }\n\n    if (isRangeEnd) {\n      classes.push(\"\".concat(baseClassName, \"End\"));\n    }\n\n    if (isRangeStart && isRangeEnd) {\n      classes.push(\"\".concat(baseClassName, \"BothEnds\"));\n    }\n  }\n\n  return classes;\n}\n\nexport function getTileClasses() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      valueType = _ref.valueType,\n      date = _ref.date,\n      dateType = _ref.dateType,\n      hover = _ref.hover;\n\n  var className = 'react-calendar__tile';\n  var classes = [className];\n\n  if (!date) {\n    return classes;\n  }\n\n  if (!Array.isArray(date) && !dateType) {\n    throw new Error('getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.');\n  }\n\n  var now = new Date();\n  var dateRange = Array.isArray(date) ? date : getRange(dateType, date);\n\n  if (isValueWithinRange(now, dateRange)) {\n    classes.push(\"\".concat(className, \"--now\"));\n  }\n\n  if (!value) {\n    return classes;\n  }\n\n  if (!Array.isArray(value) && !valueType) {\n    throw new Error('getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.');\n  }\n\n  var valueRange = Array.isArray(value) ? value : getRange(valueType, value);\n\n  if (isRangeWithinRange(valueRange, dateRange)) {\n    classes.push(\"\".concat(className, \"--active\"));\n  } else if (doRangesOverlap(valueRange, dateRange)) {\n    classes.push(\"\".concat(className, \"--hasActive\"));\n  }\n\n  var valueRangeClassNames = getRangeClassNames(valueRange, dateRange, \"\".concat(className, \"--range\"));\n  classes.push.apply(classes, _toConsumableArray(valueRangeClassNames));\n\n  if (hover) {\n    var hoverRange = hover > valueRange[1] ? [valueRange[1], hover] : [hover, valueRange[0]];\n    var hoverRangeClassNames = getRangeClassNames(hoverRange, dateRange, \"\".concat(className, \"--hover\"));\n    classes.push.apply(classes, _toConsumableArray(hoverRangeClassNames));\n  }\n\n  return classes;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Flex from './Flex';\nimport { getTileClasses } from './shared/utils';\nimport { tileGroupProps } from './shared/propTypes';\nexport default function TileGroup(_ref) {\n  var className = _ref.className,\n      _ref$count = _ref.count,\n      count = _ref$count === void 0 ? 3 : _ref$count,\n      dateTransform = _ref.dateTransform,\n      dateType = _ref.dateType,\n      end = _ref.end,\n      hover = _ref.hover,\n      offset = _ref.offset,\n      start = _ref.start,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step,\n      Tile = _ref.tile,\n      value = _ref.value,\n      valueType = _ref.valueType,\n      tileProps = _objectWithoutProperties(_ref, [\"className\", \"count\", \"dateTransform\", \"dateType\", \"end\", \"hover\", \"offset\", \"start\", \"step\", \"tile\", \"value\", \"valueType\"]);\n\n  var tiles = [];\n\n  for (var point = start; point <= end; point += step) {\n    var date = dateTransform(point);\n    tiles.push( /*#__PURE__*/React.createElement(Tile, _extends({\n      key: date.getTime(),\n      classes: getTileClasses({\n        value: value,\n        valueType: valueType,\n        date: date,\n        dateType: dateType,\n        hover: hover\n      }),\n      date: date,\n      point: point\n    }, tileProps)));\n  }\n\n  return /*#__PURE__*/React.createElement(Flex, {\n    className: className,\n    count: count,\n    offset: offset,\n    wrap: true\n  }, tiles);\n}\nTileGroup.propTypes = _objectSpread(_objectSpread({}, tileGroupProps), {}, {\n  activeStartDate: PropTypes.instanceOf(Date),\n  count: PropTypes.number,\n  dateTransform: PropTypes.func.isRequired,\n  dateType: PropTypes.string,\n  offset: PropTypes.number,\n  step: PropTypes.number,\n  tile: PropTypes.func.isRequired\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport mergeClassNames from 'merge-class-names';\nimport { tileProps } from './shared/propTypes';\n\nfunction getValue(nextProps, prop) {\n  var activeStartDate = nextProps.activeStartDate,\n      date = nextProps.date,\n      view = nextProps.view;\n  return typeof prop === 'function' ? prop({\n    activeStartDate: activeStartDate,\n    date: date,\n    view: view\n  }) : prop;\n}\n\nvar Tile = /*#__PURE__*/function (_Component) {\n  _inherits(Tile, _Component);\n\n  var _super = _createSuper(Tile);\n\n  function Tile() {\n    var _this;\n\n    _classCallCheck(this, Tile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    return _this;\n  }\n\n  _createClass(Tile, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          activeStartDate = _this$props.activeStartDate,\n          children = _this$props.children,\n          classes = _this$props.classes,\n          date = _this$props.date,\n          formatAbbr = _this$props.formatAbbr,\n          locale = _this$props.locale,\n          maxDate = _this$props.maxDate,\n          maxDateTransform = _this$props.maxDateTransform,\n          minDate = _this$props.minDate,\n          minDateTransform = _this$props.minDateTransform,\n          onClick = _this$props.onClick,\n          onMouseOver = _this$props.onMouseOver,\n          style = _this$props.style,\n          tileDisabled = _this$props.tileDisabled,\n          view = _this$props.view;\n      var _this$state = this.state,\n          tileClassName = _this$state.tileClassName,\n          tileContent = _this$state.tileContent;\n      return /*#__PURE__*/React.createElement(\"button\", {\n        className: mergeClassNames(classes, tileClassName),\n        disabled: minDate && minDateTransform(minDate) > date || maxDate && maxDateTransform(maxDate) < date || tileDisabled && tileDisabled({\n          activeStartDate: activeStartDate,\n          date: date,\n          view: view\n        }),\n        onClick: onClick && function (event) {\n          return onClick(date, event);\n        },\n        onFocus: onMouseOver && function () {\n          return onMouseOver(date);\n        },\n        onMouseOver: onMouseOver && function () {\n          return onMouseOver(date);\n        },\n        style: style,\n        type: \"button\"\n      }, formatAbbr ? /*#__PURE__*/React.createElement(\"abbr\", {\n        \"aria-label\": formatAbbr(locale, date)\n      }, children) : children, tileContent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var tileClassName = nextProps.tileClassName,\n          tileContent = nextProps.tileContent;\n      var nextState = {};\n\n      if (tileClassName !== prevState.tileClassNameProps) {\n        nextState.tileClassName = getValue(nextProps, tileClassName);\n        nextState.tileClassNameProps = tileClassName;\n      }\n\n      if (tileContent !== prevState.tileContentProps) {\n        nextState.tileContent = getValue(nextProps, tileContent);\n        nextState.tileContentProps = tileContent;\n      }\n\n      return nextState;\n    }\n  }]);\n\n  return Tile;\n}(Component);\n\nexport { Tile as default };\nTile.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  children: PropTypes.node.isRequired,\n  formatAbbr: PropTypes.func,\n  maxDateTransform: PropTypes.func.isRequired,\n  minDateTransform: PropTypes.func.isRequired\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getDecadeStart, getDecadeEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { getDecadeLabel } from '../shared/dates';\nimport { formatYear as defaultFormatYear } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__century-view__decades__decade';\nexport default function Decade(_ref) {\n  var classes = _ref.classes,\n      _ref$formatYear = _ref.formatYear,\n      formatYear = _ref$formatYear === void 0 ? defaultFormatYear : _ref$formatYear,\n      otherProps = _objectWithoutProperties(_ref, [\"classes\", \"formatYear\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className),\n    maxDateTransform: getDecadeEnd,\n    minDateTransform: getDecadeStart,\n    view: \"century\"\n  }), getDecadeLabel(locale, formatYear, date));\n}\nDecade.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  formatYear: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { getDecadeStart } from '@wojtekmaj/date-utils';\nimport TileGroup from '../TileGroup';\nimport Decade from './Decade';\nimport { getBeginOfCenturyYear } from '../shared/dates';\nimport { tileGroupProps } from '../shared/propTypes';\nexport default function Decades(props) {\n  var activeStartDate = props.activeStartDate;\n  var start = getBeginOfCenturyYear(activeStartDate);\n  var end = start + 99;\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, props, {\n    className: \"react-calendar__century-view__decades\",\n    dateTransform: getDecadeStart,\n    dateType: \"decade\",\n    end: end,\n    start: start,\n    step: 10,\n    tile: Decade\n  }));\n}\nDecades.propTypes = _objectSpread({}, tileGroupProps);","import React from 'react';\nimport Decades from './CenturyView/Decades';\nexport default function CenturyView(props) {\n  function renderDecades() {\n    return /*#__PURE__*/React.createElement(Decades, props);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-calendar__century-view\"\n  }, renderDecades());\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYearStart, getYearEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { formatYear as defaultFormatYear } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__decade-view__years__year';\nexport default function Year(_ref) {\n  var classes = _ref.classes,\n      _ref$formatYear = _ref.formatYear,\n      formatYear = _ref$formatYear === void 0 ? defaultFormatYear : _ref$formatYear,\n      otherProps = _objectWithoutProperties(_ref, [\"classes\", \"formatYear\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className),\n    maxDateTransform: getYearEnd,\n    minDateTransform: getYearStart,\n    view: \"decade\"\n  }), formatYear(locale, date));\n}\nYear.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  formatYear: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport TileGroup from '../TileGroup';\nimport Year from './Year';\nimport { getBeginOfDecadeYear } from '../shared/dates';\nimport { tileGroupProps } from '../shared/propTypes';\nexport default function Years(props) {\n  var activeStartDate = props.activeStartDate;\n  var start = getBeginOfDecadeYear(activeStartDate);\n  var end = start + 9;\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, props, {\n    className: \"react-calendar__decade-view__years\",\n    dateTransform: function dateTransform(year) {\n      var date = new Date();\n      date.setFullYear(year, 0, 1);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    },\n    dateType: \"year\",\n    end: end,\n    start: start,\n    tile: Year\n  }));\n}\nYears.propTypes = _objectSpread({}, tileGroupProps);","import React from 'react';\nimport Years from './DecadeView/Years';\nexport default function DecadeView(props) {\n  function renderYears() {\n    return /*#__PURE__*/React.createElement(Years, props);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-calendar__decade-view\"\n  }, renderYears());\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getMonthStart, getMonthEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { formatMonth as defaultFormatMonth, formatMonthYear as defaultFormatMonthYear } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__year-view__months__month';\nexport default function Month(_ref) {\n  var classes = _ref.classes,\n      _ref$formatMonth = _ref.formatMonth,\n      formatMonth = _ref$formatMonth === void 0 ? defaultFormatMonth : _ref$formatMonth,\n      _ref$formatMonthYear = _ref.formatMonthYear,\n      formatMonthYear = _ref$formatMonthYear === void 0 ? defaultFormatMonthYear : _ref$formatMonthYear,\n      otherProps = _objectWithoutProperties(_ref, [\"classes\", \"formatMonth\", \"formatMonthYear\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className),\n    formatAbbr: formatMonthYear,\n    maxDateTransform: getMonthEnd,\n    minDateTransform: getMonthStart,\n    view: \"year\"\n  }), formatMonth(locale, date));\n}\nMonth.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  formatMonth: PropTypes.func,\n  formatMonthYear: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear } from '@wojtekmaj/date-utils';\nimport TileGroup from '../TileGroup';\nimport Month from './Month';\nimport { tileGroupProps } from '../shared/propTypes';\nexport default function Months(props) {\n  var activeStartDate = props.activeStartDate;\n  var start = 0;\n  var end = 11;\n  var year = getYear(activeStartDate);\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, props, {\n    className: \"react-calendar__year-view__months\",\n    dateTransform: function dateTransform(monthIndex) {\n      var date = new Date();\n      date.setFullYear(year, monthIndex, 1);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    },\n    dateType: \"month\",\n    end: end,\n    start: start,\n    tile: Month\n  }));\n}\nMonths.propTypes = _objectSpread(_objectSpread({}, tileGroupProps), {}, {\n  locale: PropTypes.string\n});","import React from 'react';\nimport Months from './YearView/Months';\nexport default function YearView(props) {\n  function renderMonths() {\n    return /*#__PURE__*/React.createElement(Months, props);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-calendar__year-view\"\n  }, renderMonths());\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getDayStart, getDayEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { isWeekend } from '../shared/dates';\nimport { formatDay as defaultFormatDay, formatLongDate as defaultFormatLongDate } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__month-view__days__day';\nexport default function Day(_ref) {\n  var _ref$formatDay = _ref.formatDay,\n      formatDay = _ref$formatDay === void 0 ? defaultFormatDay : _ref$formatDay,\n      _ref$formatLongDate = _ref.formatLongDate,\n      formatLongDate = _ref$formatLongDate === void 0 ? defaultFormatLongDate : _ref$formatLongDate,\n      calendarType = _ref.calendarType,\n      classes = _ref.classes,\n      currentMonthIndex = _ref.currentMonthIndex,\n      otherProps = _objectWithoutProperties(_ref, [\"formatDay\", \"formatLongDate\", \"calendarType\", \"classes\", \"currentMonthIndex\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className, isWeekend(date, calendarType) ? \"\".concat(className, \"--weekend\") : null, date.getMonth() !== currentMonthIndex ? \"\".concat(className, \"--neighboringMonth\") : null),\n    formatAbbr: formatLongDate,\n    maxDateTransform: getDayEnd,\n    minDateTransform: getDayStart,\n    view: \"month\"\n  }), formatDay(locale, date));\n}\nDay.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  currentMonthIndex: PropTypes.number.isRequired,\n  formatDay: PropTypes.func,\n  formatLongDate: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear, getMonth, getDaysInMonth } from '@wojtekmaj/date-utils';\nimport TileGroup from '../TileGroup';\nimport Day from './Day';\nimport { getDayOfWeek } from '../shared/dates';\nimport { isCalendarType, tileGroupProps } from '../shared/propTypes';\nexport default function Days(props) {\n  var activeStartDate = props.activeStartDate,\n      calendarType = props.calendarType;\n\n  var showFixedNumberOfWeeks = props.showFixedNumberOfWeeks,\n      showNeighboringMonth = props.showNeighboringMonth,\n      otherProps = _objectWithoutProperties(props, [\"showFixedNumberOfWeeks\", \"showNeighboringMonth\"]);\n\n  var year = getYear(activeStartDate);\n  var monthIndex = getMonth(activeStartDate);\n  var hasFixedNumberOfWeeks = showFixedNumberOfWeeks || showNeighboringMonth;\n  var dayOfWeek = getDayOfWeek(activeStartDate, calendarType);\n  var offset = hasFixedNumberOfWeeks ? 0 : dayOfWeek;\n  /**\n   * Defines on which day of the month the grid shall start. If we simply show current\n   * month, we obviously start on day one, but if showNeighboringMonth is set to\n   * true, we need to find the beginning of the week the first day of the month is in.\n   */\n\n  var start = (hasFixedNumberOfWeeks ? -dayOfWeek : 0) + 1;\n  /**\n   * Defines on which day of the month the grid shall end. If we simply show current\n   * month, we need to stop on the last day of the month, but if showNeighboringMonth\n   * is set to true, we need to find the end of the week the last day of the month is in.\n   */\n\n  var end = function () {\n    if (showFixedNumberOfWeeks) {\n      // Always show 6 weeks\n      return start + 6 * 7 - 1;\n    }\n\n    var daysInMonth = getDaysInMonth(activeStartDate);\n\n    if (showNeighboringMonth) {\n      var activeEndDate = new Date();\n      activeEndDate.setFullYear(year, monthIndex, daysInMonth);\n      activeEndDate.setHours(0, 0, 0, 0);\n      var daysUntilEndOfTheWeek = 7 - getDayOfWeek(activeEndDate, calendarType) - 1;\n      return daysInMonth + daysUntilEndOfTheWeek;\n    }\n\n    return daysInMonth;\n  }();\n\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, otherProps, {\n    className: \"react-calendar__month-view__days\",\n    count: 7,\n    currentMonthIndex: monthIndex,\n    dateTransform: function dateTransform(day) {\n      var date = new Date();\n      date.setFullYear(year, monthIndex, day);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    },\n    dateType: \"day\",\n    end: end,\n    offset: offset,\n    start: start,\n    tile: Day\n  }));\n}\nDays.propTypes = _objectSpread({\n  calendarType: isCalendarType.isRequired,\n  showFixedNumberOfWeeks: PropTypes.bool,\n  showNeighboringMonth: PropTypes.bool\n}, tileGroupProps);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear, getMonth, getMonthStart } from '@wojtekmaj/date-utils';\nimport Flex from '../Flex';\nimport { getDayOfWeek } from '../shared/dates';\nimport { formatWeekday, formatShortWeekday as defaultFormatShortWeekday } from '../shared/dateFormatter';\nimport { isCalendarType } from '../shared/propTypes';\nvar className = 'react-calendar__month-view__weekdays';\nexport default function Weekdays(props) {\n  var calendarType = props.calendarType,\n      _props$formatShortWee = props.formatShortWeekday,\n      formatShortWeekday = _props$formatShortWee === void 0 ? defaultFormatShortWeekday : _props$formatShortWee,\n      locale = props.locale,\n      onMouseLeave = props.onMouseLeave;\n  var anyDate = new Date();\n  var beginOfMonth = getMonthStart(anyDate);\n  var year = getYear(beginOfMonth);\n  var monthIndex = getMonth(beginOfMonth);\n  var weekdays = [];\n\n  for (var weekday = 1; weekday <= 7; weekday += 1) {\n    var weekdayDate = new Date(year, monthIndex, weekday - getDayOfWeek(beginOfMonth, calendarType));\n    var abbr = formatWeekday(locale, weekdayDate);\n    weekdays.push( /*#__PURE__*/React.createElement(\"div\", {\n      key: weekday,\n      className: \"\".concat(className, \"__weekday\")\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      \"aria-label\": abbr,\n      title: abbr\n    }, formatShortWeekday(locale, weekdayDate).replace('.', ''))));\n  }\n\n  return /*#__PURE__*/React.createElement(Flex, {\n    className: className,\n    count: 7,\n    onFocus: onMouseLeave,\n    onMouseOver: onMouseLeave\n  }, weekdays);\n}\nWeekdays.propTypes = {\n  calendarType: isCalendarType.isRequired,\n  formatShortWeekday: PropTypes.func,\n  locale: PropTypes.string,\n  onMouseLeave: PropTypes.func\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport default function WeekNumber(_ref) {\n  var date = _ref.date,\n      onClickWeekNumber = _ref.onClickWeekNumber,\n      weekNumber = _ref.weekNumber;\n  var props = {\n    className: 'react-calendar__tile',\n    style: {\n      flexGrow: 1\n    }\n  };\n  var children = /*#__PURE__*/React.createElement(\"span\", null, weekNumber);\n  return onClickWeekNumber ? /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    onClick: function onClick(event) {\n      return onClickWeekNumber(weekNumber, date, event);\n    },\n    type: \"button\"\n  }), children) : /*#__PURE__*/React.createElement(\"div\", props, children);\n}\nWeekNumber.propTypes = {\n  date: PropTypes.instanceOf(Date).isRequired,\n  onClickWeekNumber: PropTypes.func,\n  weekNumber: PropTypes.node.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear, getMonth, getDate, getDaysInMonth } from '@wojtekmaj/date-utils';\nimport WeekNumber from './WeekNumber';\nimport Flex from '../Flex';\nimport { getBeginOfWeek, getDayOfWeek, getWeekNumber } from '../shared/dates';\nimport { isCalendarType } from '../shared/propTypes';\nexport default function WeekNumbers(props) {\n  var activeStartDate = props.activeStartDate,\n      calendarType = props.calendarType,\n      onClickWeekNumber = props.onClickWeekNumber,\n      onMouseLeave = props.onMouseLeave,\n      showFixedNumberOfWeeks = props.showFixedNumberOfWeeks;\n\n  var numberOfWeeks = function () {\n    if (showFixedNumberOfWeeks) {\n      return 6;\n    }\n\n    var numberOfDays = getDaysInMonth(activeStartDate);\n    var startWeekday = getDayOfWeek(activeStartDate, calendarType);\n    var days = numberOfDays - (7 - startWeekday);\n    return 1 + Math.ceil(days / 7);\n  }();\n\n  var dates = function () {\n    var year = getYear(activeStartDate);\n    var monthIndex = getMonth(activeStartDate);\n    var day = getDate(activeStartDate);\n    var result = [];\n\n    for (var index = 0; index < numberOfWeeks; index += 1) {\n      result.push(getBeginOfWeek(new Date(year, monthIndex, day + index * 7), calendarType));\n    }\n\n    return result;\n  }();\n\n  var weekNumbers = dates.map(function (date) {\n    return getWeekNumber(date, calendarType);\n  });\n  return /*#__PURE__*/React.createElement(Flex, {\n    className: \"react-calendar__month-view__weekNumbers\",\n    count: numberOfWeeks,\n    direction: \"column\",\n    onFocus: onMouseLeave,\n    onMouseOver: onMouseLeave,\n    style: {\n      flexBasis: 'calc(100% * (1 / 8)',\n      flexShrink: 0\n    }\n  }, weekNumbers.map(function (weekNumber, weekIndex) {\n    return /*#__PURE__*/React.createElement(WeekNumber, {\n      key: weekNumber,\n      date: dates[weekIndex],\n      onClickWeekNumber: onClickWeekNumber,\n      weekNumber: weekNumber\n    });\n  }));\n}\nWeekNumbers.propTypes = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  calendarType: isCalendarType.isRequired,\n  onClickWeekNumber: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  showFixedNumberOfWeeks: PropTypes.bool\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport mergeClassNames from 'merge-class-names';\nimport Days from './MonthView/Days';\nimport Weekdays from './MonthView/Weekdays';\nimport WeekNumbers from './MonthView/WeekNumbers';\nimport { CALENDAR_TYPES, CALENDAR_TYPE_LOCALES } from './shared/const';\nimport { isCalendarType } from './shared/propTypes';\n\nfunction getCalendarTypeFromLocale(locale) {\n  return Object.keys(CALENDAR_TYPE_LOCALES).find(function (calendarType) {\n    return CALENDAR_TYPE_LOCALES[calendarType].includes(locale);\n  }) || CALENDAR_TYPES.ISO_8601;\n}\n\nexport default function MonthView(props) {\n  var activeStartDate = props.activeStartDate,\n      locale = props.locale,\n      onMouseLeave = props.onMouseLeave,\n      showFixedNumberOfWeeks = props.showFixedNumberOfWeeks;\n\n  var _props$calendarType = props.calendarType,\n      calendarType = _props$calendarType === void 0 ? getCalendarTypeFromLocale(locale) : _props$calendarType,\n      formatShortWeekday = props.formatShortWeekday,\n      onClickWeekNumber = props.onClickWeekNumber,\n      showWeekNumbers = props.showWeekNumbers,\n      childProps = _objectWithoutProperties(props, [\"calendarType\", \"formatShortWeekday\", \"onClickWeekNumber\", \"showWeekNumbers\"]);\n\n  function renderWeekdays() {\n    return /*#__PURE__*/React.createElement(Weekdays, {\n      calendarType: calendarType,\n      formatShortWeekday: formatShortWeekday,\n      locale: locale,\n      onMouseLeave: onMouseLeave\n    });\n  }\n\n  function renderWeekNumbers() {\n    if (!showWeekNumbers) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(WeekNumbers, {\n      activeStartDate: activeStartDate,\n      calendarType: calendarType,\n      onClickWeekNumber: onClickWeekNumber,\n      onMouseLeave: onMouseLeave,\n      showFixedNumberOfWeeks: showFixedNumberOfWeeks\n    });\n  }\n\n  function renderDays() {\n    return /*#__PURE__*/React.createElement(Days, _extends({\n      calendarType: calendarType\n    }, childProps));\n  }\n\n  var className = 'react-calendar__month-view';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: mergeClassNames(className, showWeekNumbers ? \"\".concat(className, \"--weekNumbers\") : '')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'flex-end'\n    }\n  }, renderWeekNumbers(), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexGrow: 1,\n      width: '100%'\n    }\n  }, renderWeekdays(), renderDays())));\n}\nMonthView.propTypes = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  calendarType: isCalendarType,\n  formatShortWeekday: PropTypes.func,\n  locale: PropTypes.string,\n  onClickWeekNumber: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  showFixedNumberOfWeeks: PropTypes.bool,\n  showWeekNumbers: PropTypes.bool\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport mergeClassNames from 'merge-class-names';\nimport Navigation from './Calendar/Navigation';\nimport CenturyView from './CenturyView';\nimport DecadeView from './DecadeView';\nimport YearView from './YearView';\nimport MonthView from './MonthView';\nimport { getBegin, getBeginNext, getEnd, getValueRange } from './shared/dates';\nimport { isCalendarType, isClassName, isMaxDate, isMinDate, isRef, isValue, isView } from './shared/propTypes';\nimport { between } from './shared/utils';\nvar defaultMinDate = new Date();\ndefaultMinDate.setFullYear(1, 0, 1);\ndefaultMinDate.setHours(0, 0, 0, 0);\nvar defaultMaxDate = new Date(8.64e15);\nvar baseClassName = 'react-calendar';\nvar allViews = ['century', 'decade', 'year', 'month'];\nvar allValueTypes = [].concat(_toConsumableArray(allViews.slice(1)), ['day']);\n\nfunction toDate(value) {\n  if (value instanceof Date) {\n    return value;\n  }\n\n  return new Date(value);\n}\n/**\n * Returns views array with disallowed values cut off.\n */\n\n\nfunction getLimitedViews(minDetail, maxDetail) {\n  return allViews.slice(allViews.indexOf(minDetail), allViews.indexOf(maxDetail) + 1);\n}\n/**\n * Determines whether a given view is allowed with currently applied settings.\n */\n\n\nfunction isViewAllowed(view, minDetail, maxDetail) {\n  var views = getLimitedViews(minDetail, maxDetail);\n  return views.indexOf(view) !== -1;\n}\n/**\n * Gets either provided view if allowed by minDetail and maxDetail, or gets\n * the default view if not allowed.\n */\n\n\nfunction getView(view, minDetail, maxDetail) {\n  if (isViewAllowed(view, minDetail, maxDetail)) {\n    return view;\n  }\n\n  return maxDetail;\n}\n/**\n * Returns value type that can be returned with currently applied settings.\n */\n\n\nfunction getValueType(maxDetail) {\n  return allValueTypes[allViews.indexOf(maxDetail)];\n}\n\nfunction getValue(value, index) {\n  if (!value) {\n    return null;\n  }\n\n  var rawValue = Array.isArray(value) && value.length === 2 ? value[index] : value;\n\n  if (!rawValue) {\n    return null;\n  }\n\n  var valueDate = toDate(rawValue);\n\n  if (isNaN(valueDate.getTime())) {\n    throw new Error(\"Invalid date: \".concat(value));\n  }\n\n  return valueDate;\n}\n\nfunction getDetailValue(_ref, index) {\n  var value = _ref.value,\n      minDate = _ref.minDate,\n      maxDate = _ref.maxDate,\n      maxDetail = _ref.maxDetail;\n  var valuePiece = getValue(value, index);\n\n  if (!valuePiece) {\n    return null;\n  }\n\n  var valueType = getValueType(maxDetail);\n  var detailValueFrom = [getBegin, getEnd][index](valueType, valuePiece);\n  return between(detailValueFrom, minDate, maxDate);\n}\n\nvar getDetailValueFrom = function getDetailValueFrom(args) {\n  return getDetailValue(args, 0);\n};\n\nvar getDetailValueTo = function getDetailValueTo(args) {\n  return getDetailValue(args, 1);\n};\n\nvar getDetailValueArray = function getDetailValueArray(args) {\n  var value = args.value;\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return [getDetailValueFrom, getDetailValueTo].map(function (fn) {\n    return fn(args);\n  });\n};\n\nfunction getActiveStartDate(props) {\n  var maxDate = props.maxDate,\n      maxDetail = props.maxDetail,\n      minDate = props.minDate,\n      minDetail = props.minDetail,\n      value = props.value,\n      view = props.view;\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = getDetailValueFrom({\n    value: value,\n    minDate: minDate,\n    maxDate: maxDate,\n    maxDetail: maxDetail\n  }) || new Date();\n  return getBegin(rangeType, valueFrom);\n}\n\nfunction getInitialActiveStartDate(props) {\n  var activeStartDate = props.activeStartDate,\n      defaultActiveStartDate = props.defaultActiveStartDate,\n      defaultValue = props.defaultValue,\n      defaultView = props.defaultView,\n      maxDetail = props.maxDetail,\n      minDetail = props.minDetail,\n      value = props.value,\n      view = props.view,\n      otherProps = _objectWithoutProperties(props, [\"activeStartDate\", \"defaultActiveStartDate\", \"defaultValue\", \"defaultView\", \"maxDetail\", \"minDetail\", \"value\", \"view\"]);\n\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = activeStartDate || defaultActiveStartDate;\n\n  if (valueFrom) {\n    return getBegin(rangeType, valueFrom);\n  }\n\n  return getActiveStartDate(_objectSpread({\n    maxDetail: maxDetail,\n    minDetail: minDetail,\n    value: value || defaultValue,\n    view: view || defaultView\n  }, otherProps));\n}\n\nvar getIsSingleValue = function getIsSingleValue(value) {\n  return value && [].concat(value).length === 1;\n};\n\nvar Calendar = /*#__PURE__*/function (_Component) {\n  _inherits(Calendar, _Component);\n\n  var _super = _createSuper(Calendar);\n\n  function Calendar() {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      /* eslint-disable react/destructuring-assignment */\n      activeStartDate: _this.props.defaultActiveStartDate,\n      value: _this.props.defaultValue,\n      view: _this.props.defaultView\n      /* eslint-enable react/destructuring-assignment */\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setStateAndCallCallbacks\", function (nextState, event, callback) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          previousActiveStartDate = _assertThisInitialize.activeStartDate,\n          previousView = _assertThisInitialize.view;\n\n      var _this$props = _this.props,\n          allowPartialRange = _this$props.allowPartialRange,\n          onActiveStartDateChange = _this$props.onActiveStartDateChange,\n          onChange = _this$props.onChange,\n          onViewChange = _this$props.onViewChange,\n          selectRange = _this$props.selectRange;\n      var prevArgs = {\n        activeStartDate: previousActiveStartDate,\n        view: previousView\n      };\n\n      _this.setState(nextState, function () {\n        var args = {\n          activeStartDate: nextState.activeStartDate || _this.activeStartDate,\n          value: nextState.value || _this.value,\n          view: nextState.view || _this.view\n        };\n\n        function shouldUpdate(key) {\n          return (// Key must exist, and…\n            key in nextState && ( // …key changed from undefined to defined or the other way around, or…\n            _typeof(nextState[key]) !== _typeof(prevArgs[key]) // …value changed.\n            || (nextState[key] instanceof Date ? nextState[key].getTime() !== prevArgs[key].getTime() : nextState[key] !== prevArgs[key]))\n          );\n        }\n\n        if (shouldUpdate('activeStartDate')) {\n          if (onActiveStartDateChange) onActiveStartDateChange(args);\n        }\n\n        if (shouldUpdate('view')) {\n          if (onViewChange) onViewChange(args);\n        }\n\n        if (shouldUpdate('value')) {\n          if (onChange) {\n            if (selectRange) {\n              var isSingleValue = getIsSingleValue(nextState.value);\n\n              if (!isSingleValue) {\n                onChange(nextState.value, event);\n              } else if (allowPartialRange) {\n                onChange([nextState.value], event);\n              }\n            } else {\n              onChange(nextState.value, event);\n            }\n          }\n        }\n\n        if (callback) callback(args);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setActiveStartDate\", function (activeStartDate) {\n      _this.setStateAndCallCallbacks({\n        activeStartDate: activeStartDate\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drillDown\", function (nextActiveStartDate, event) {\n      if (!_this.drillDownAvailable) {\n        return;\n      }\n\n      _this.onClickTile(nextActiveStartDate, event);\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          view = _assertThisInitialize2.view,\n          views = _assertThisInitialize2.views;\n\n      var onDrillDown = _this.props.onDrillDown;\n      var nextView = views[views.indexOf(view) + 1];\n\n      _this.setStateAndCallCallbacks({\n        activeStartDate: nextActiveStartDate,\n        view: nextView\n      }, undefined, onDrillDown);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drillUp\", function () {\n      if (!_this.drillUpAvailable) {\n        return;\n      }\n\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          activeStartDate = _assertThisInitialize3.activeStartDate,\n          view = _assertThisInitialize3.view,\n          views = _assertThisInitialize3.views;\n\n      var onDrillUp = _this.props.onDrillUp;\n      var nextView = views[views.indexOf(view) - 1];\n      var nextActiveStartDate = getBegin(nextView, activeStartDate);\n\n      _this.setStateAndCallCallbacks({\n        activeStartDate: nextActiveStartDate,\n        view: nextView\n      }, undefined, onDrillUp);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (value, event) {\n      var selectRange = _this.props.selectRange;\n\n      _this.onClickTile(value, event);\n\n      var nextValue;\n\n      if (selectRange) {\n        // Range selection turned on\n        var _assertThisInitialize4 = _assertThisInitialized(_this),\n            previousValue = _assertThisInitialize4.value,\n            valueType = _assertThisInitialize4.valueType;\n\n        if (!getIsSingleValue(previousValue)) {\n          // Value has 0 or 2 elements - either way we're starting a new array\n          // First value\n          nextValue = getBegin(valueType, value);\n        } else {\n          // Second value\n          nextValue = getValueRange(valueType, previousValue, value);\n        }\n      } else {\n        // Range selection turned off\n        nextValue = _this.getProcessedValue(value);\n      }\n\n      var nextActiveStartDate = getActiveStartDate(_objectSpread(_objectSpread({}, _this.props), {}, {\n        value: nextValue\n      }));\n      event.persist();\n\n      _this.setStateAndCallCallbacks({\n        activeStartDate: nextActiveStartDate,\n        value: nextValue\n      }, event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickTile\", function (value, event) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this),\n          view = _assertThisInitialize5.view;\n\n      var _this$props2 = _this.props,\n          onClickDay = _this$props2.onClickDay,\n          onClickDecade = _this$props2.onClickDecade,\n          onClickMonth = _this$props2.onClickMonth,\n          onClickYear = _this$props2.onClickYear;\n\n      var callback = function () {\n        switch (view) {\n          case 'century':\n            return onClickDecade;\n\n          case 'decade':\n            return onClickYear;\n\n          case 'year':\n            return onClickMonth;\n\n          case 'month':\n            return onClickDay;\n\n          default:\n            throw new Error(\"Invalid view: \".concat(view, \".\"));\n        }\n      }();\n\n      if (callback) callback(value, event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function (value) {\n      _this.setState(function (prevState) {\n        if (prevState.hover && prevState.hover.getTime() === value.getTime()) {\n          return null;\n        }\n\n        return {\n          hover: value\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function () {\n      _this.setState({\n        hover: null\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"getProcessedValue\",\n\n    /**\n     * Gets current value in a desired format.\n     */\n    value: function getProcessedValue(value) {\n      var _this$props3 = this.props,\n          minDate = _this$props3.minDate,\n          maxDate = _this$props3.maxDate,\n          maxDetail = _this$props3.maxDetail,\n          returnValue = _this$props3.returnValue;\n\n      var processFunction = function () {\n        switch (returnValue) {\n          case 'start':\n            return getDetailValueFrom;\n\n          case 'end':\n            return getDetailValueTo;\n\n          case 'range':\n            return getDetailValueArray;\n\n          default:\n            throw new Error('Invalid returnValue.');\n        }\n      }();\n\n      return processFunction({\n        value: value,\n        minDate: minDate,\n        maxDate: maxDate,\n        maxDetail: maxDetail\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent(next) {\n      var currentActiveStartDate = this.activeStartDate,\n          onMouseOver = this.onMouseOver,\n          valueType = this.valueType,\n          value = this.value,\n          view = this.view;\n      var _this$props4 = this.props,\n          calendarType = _this$props4.calendarType,\n          locale = _this$props4.locale,\n          maxDate = _this$props4.maxDate,\n          minDate = _this$props4.minDate,\n          selectRange = _this$props4.selectRange,\n          tileClassName = _this$props4.tileClassName,\n          tileContent = _this$props4.tileContent,\n          tileDisabled = _this$props4.tileDisabled;\n      var hover = this.hover;\n      var activeStartDate = next ? getBeginNext(view, currentActiveStartDate) : getBegin(view, currentActiveStartDate);\n      var onClick = this.drillDownAvailable ? this.drillDown : this.onChange;\n      var commonProps = {\n        activeStartDate: activeStartDate,\n        hover: hover,\n        locale: locale,\n        maxDate: maxDate,\n        minDate: minDate,\n        onClick: onClick,\n        onMouseOver: selectRange ? onMouseOver : null,\n        tileClassName: tileClassName,\n        tileContent: tileContent,\n        tileDisabled: tileDisabled,\n        value: value,\n        valueType: valueType\n      };\n\n      switch (view) {\n        case 'century':\n          {\n            var formatYear = this.props.formatYear;\n            return /*#__PURE__*/React.createElement(CenturyView, _extends({\n              formatYear: formatYear\n            }, commonProps));\n          }\n\n        case 'decade':\n          {\n            var _formatYear = this.props.formatYear;\n            return /*#__PURE__*/React.createElement(DecadeView, _extends({\n              formatYear: _formatYear\n            }, commonProps));\n          }\n\n        case 'year':\n          {\n            var _this$props5 = this.props,\n                formatMonth = _this$props5.formatMonth,\n                formatMonthYear = _this$props5.formatMonthYear;\n            return /*#__PURE__*/React.createElement(YearView, _extends({\n              formatMonth: formatMonth,\n              formatMonthYear: formatMonthYear\n            }, commonProps));\n          }\n\n        case 'month':\n          {\n            var _this$props6 = this.props,\n                formatDay = _this$props6.formatDay,\n                formatLongDate = _this$props6.formatLongDate,\n                formatShortWeekday = _this$props6.formatShortWeekday,\n                onClickWeekNumber = _this$props6.onClickWeekNumber,\n                showDoubleView = _this$props6.showDoubleView,\n                showFixedNumberOfWeeks = _this$props6.showFixedNumberOfWeeks,\n                showNeighboringMonth = _this$props6.showNeighboringMonth,\n                showWeekNumbers = _this$props6.showWeekNumbers;\n            var onMouseLeave = this.onMouseLeave;\n            return /*#__PURE__*/React.createElement(MonthView, _extends({\n              calendarType: calendarType,\n              formatDay: formatDay,\n              formatLongDate: formatLongDate,\n              formatShortWeekday: formatShortWeekday,\n              onClickWeekNumber: onClickWeekNumber,\n              onMouseLeave: selectRange ? onMouseLeave : null,\n              showFixedNumberOfWeeks: showFixedNumberOfWeeks || showDoubleView,\n              showNeighboringMonth: showNeighboringMonth,\n              showWeekNumbers: showWeekNumbers\n            }, commonProps));\n          }\n\n        default:\n          throw new Error(\"Invalid view: \".concat(view, \".\"));\n      }\n    }\n  }, {\n    key: \"renderNavigation\",\n    value: function renderNavigation() {\n      var showNavigation = this.props.showNavigation;\n\n      if (!showNavigation) {\n        return null;\n      }\n\n      var activeStartDate = this.activeStartDate,\n          view = this.view,\n          views = this.views;\n      var _this$props7 = this.props,\n          formatMonthYear = _this$props7.formatMonthYear,\n          formatYear = _this$props7.formatYear,\n          locale = _this$props7.locale,\n          maxDate = _this$props7.maxDate,\n          minDate = _this$props7.minDate,\n          navigationAriaLabel = _this$props7.navigationAriaLabel,\n          navigationLabel = _this$props7.navigationLabel,\n          next2AriaLabel = _this$props7.next2AriaLabel,\n          next2Label = _this$props7.next2Label,\n          nextAriaLabel = _this$props7.nextAriaLabel,\n          nextLabel = _this$props7.nextLabel,\n          prev2AriaLabel = _this$props7.prev2AriaLabel,\n          prev2Label = _this$props7.prev2Label,\n          prevAriaLabel = _this$props7.prevAriaLabel,\n          prevLabel = _this$props7.prevLabel,\n          showDoubleView = _this$props7.showDoubleView;\n      return /*#__PURE__*/React.createElement(Navigation, {\n        activeStartDate: activeStartDate,\n        drillUp: this.drillUp,\n        formatMonthYear: formatMonthYear,\n        formatYear: formatYear,\n        locale: locale,\n        maxDate: maxDate,\n        minDate: minDate,\n        navigationAriaLabel: navigationAriaLabel,\n        navigationLabel: navigationLabel,\n        next2AriaLabel: next2AriaLabel,\n        next2Label: next2Label,\n        nextAriaLabel: nextAriaLabel,\n        nextLabel: nextLabel,\n        prev2AriaLabel: prev2AriaLabel,\n        prev2Label: prev2Label,\n        prevAriaLabel: prevAriaLabel,\n        prevLabel: prevLabel,\n        setActiveStartDate: this.setActiveStartDate,\n        showDoubleView: showDoubleView,\n        view: view,\n        views: views\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          className = _this$props8.className,\n          inputRef = _this$props8.inputRef,\n          selectRange = _this$props8.selectRange,\n          showDoubleView = _this$props8.showDoubleView;\n      var onMouseLeave = this.onMouseLeave,\n          value = this.value;\n      var valueArray = [].concat(value);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: mergeClassNames(baseClassName, selectRange && valueArray.length === 1 && \"\".concat(baseClassName, \"--selectRange\"), showDoubleView && \"\".concat(baseClassName, \"--doubleView\"), className),\n        ref: inputRef\n      }, this.renderNavigation(), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"__viewContainer\"),\n        onBlur: selectRange ? onMouseLeave : null,\n        onMouseLeave: selectRange ? onMouseLeave : null\n      }, this.renderContent(), showDoubleView && this.renderContent(true)));\n    }\n  }, {\n    key: \"activeStartDate\",\n    get: function get() {\n      var activeStartDateProps = this.props.activeStartDate;\n      var activeStartDateState = this.state.activeStartDate;\n      return activeStartDateProps || activeStartDateState || getInitialActiveStartDate(this.props);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      var _this$props9 = this.props,\n          selectRange = _this$props9.selectRange,\n          valueProps = _this$props9.value;\n      var valueState = this.state.value; // In the middle of range selection, use value from state\n\n      if (selectRange && getIsSingleValue(valueState)) {\n        return valueState;\n      }\n\n      return valueProps !== undefined ? valueProps : valueState;\n    }\n  }, {\n    key: \"valueType\",\n    get: function get() {\n      var maxDetail = this.props.maxDetail;\n      return getValueType(maxDetail);\n    }\n  }, {\n    key: \"view\",\n    get: function get() {\n      var _this$props10 = this.props,\n          minDetail = _this$props10.minDetail,\n          maxDetail = _this$props10.maxDetail,\n          viewProps = _this$props10.view;\n      var viewState = this.state.view;\n      return getView(viewProps || viewState, minDetail, maxDetail);\n    }\n  }, {\n    key: \"views\",\n    get: function get() {\n      var _this$props11 = this.props,\n          minDetail = _this$props11.minDetail,\n          maxDetail = _this$props11.maxDetail;\n      return getLimitedViews(minDetail, maxDetail);\n    }\n  }, {\n    key: \"hover\",\n    get: function get() {\n      var selectRange = this.props.selectRange;\n      var hover = this.state.hover;\n      return selectRange ? hover : null;\n    }\n  }, {\n    key: \"drillDownAvailable\",\n    get: function get() {\n      var view = this.view,\n          views = this.views;\n      return views.indexOf(view) < views.length - 1;\n    }\n  }, {\n    key: \"drillUpAvailable\",\n    get: function get() {\n      var view = this.view,\n          views = this.views;\n      return views.indexOf(view) > 0;\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nexport { Calendar as default };\nCalendar.defaultProps = {\n  maxDate: defaultMaxDate,\n  maxDetail: 'month',\n  minDate: defaultMinDate,\n  minDetail: 'century',\n  returnValue: 'start',\n  showNavigation: true,\n  showNeighboringMonth: true\n};\nvar isActiveStartDate = PropTypes.instanceOf(Date);\nvar isLooseValue = PropTypes.oneOfType([PropTypes.string, isValue]);\nCalendar.propTypes = {\n  activeStartDate: isActiveStartDate,\n  allowPartialRange: PropTypes.bool,\n  calendarType: isCalendarType,\n  className: isClassName,\n  defaultActiveStartDate: isActiveStartDate,\n  defaultValue: isLooseValue,\n  defaultView: isView,\n  formatDay: PropTypes.func,\n  formatLongDate: PropTypes.func,\n  formatMonth: PropTypes.func,\n  formatMonthYear: PropTypes.func,\n  formatShortWeekday: PropTypes.func,\n  formatYear: PropTypes.func,\n  inputRef: isRef,\n  locale: PropTypes.string,\n  maxDate: isMaxDate,\n  maxDetail: PropTypes.oneOf(allViews),\n  minDate: isMinDate,\n  minDetail: PropTypes.oneOf(allViews),\n  navigationAriaLabel: PropTypes.string,\n  navigationLabel: PropTypes.func,\n  next2AriaLabel: PropTypes.string,\n  next2Label: PropTypes.node,\n  nextAriaLabel: PropTypes.string,\n  nextLabel: PropTypes.node,\n  onActiveStartDateChange: PropTypes.func,\n  onChange: PropTypes.func,\n  onClickDay: PropTypes.func,\n  onClickDecade: PropTypes.func,\n  onClickMonth: PropTypes.func,\n  onClickWeekNumber: PropTypes.func,\n  onClickYear: PropTypes.func,\n  onDrillDown: PropTypes.func,\n  onDrillUp: PropTypes.func,\n  onViewChange: PropTypes.func,\n  prev2AriaLabel: PropTypes.string,\n  prev2Label: PropTypes.node,\n  prevAriaLabel: PropTypes.string,\n  prevLabel: PropTypes.node,\n  returnValue: PropTypes.oneOf(['start', 'end', 'range']),\n  selectRange: PropTypes.bool,\n  showDoubleView: PropTypes.bool,\n  showFixedNumberOfWeeks: PropTypes.bool,\n  showNavigation: PropTypes.bool,\n  showNeighboringMonth: PropTypes.bool,\n  showWeekNumbers: PropTypes.bool,\n  tileClassName: PropTypes.oneOfType([PropTypes.func, isClassName]),\n  tileContent: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  tileDisabled: PropTypes.func,\n  value: isLooseValue,\n  view: isView\n};","import Calendar from './Calendar';\nimport CenturyView from './CenturyView';\nimport DecadeView from './DecadeView';\nimport YearView from './YearView';\nimport MonthView from './MonthView';\nexport default Calendar;\nexport { Calendar, CenturyView, DecadeView, YearView, MonthView };","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createRef, createElement, Component, createContext } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport invariant from 'invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport PropTypes from 'prop-types';\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component$$1) {\n  var componentName = Component$$1.displayName || Component$$1.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, WithSortableHandle);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableHandle)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", createRef());\n\n      return _this;\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\nvar SortableContext = createContext({\n  manager: {}\n});\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? event.target : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function' && event.cancelable) {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      var manager = new Manager();\n      validateProps(props);\n      _this.manager = manager;\n      _this.wrappedInstance = createRef();\n      _this.sortableContextValue = {\n        manager: manager\n      };\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return createElement(SortableContext.Provider, {\n          value: this.sortableContextValue\n        }, createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps))));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, WithSortableElement);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableElement)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", createRef());\n\n      return _this;\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextType\", SortableContext), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexport { sortableContainer as SortableContainer, sortableContainer, sortableElement as SortableElement, sortableElement, sortableHandle as SortableHandle, sortableHandle, arrayMove };\n"],"sourceRoot":""}