{"version":3,"sources":["../node_modules/lodash.once/index.js","../node_modules/invariant/browser.js","../../source/constants.js","../../source/ParseError.js","../../../source/tools/semver-compare.js","../../source/metadata.js","../../../../source/helpers/extension/createExtensionPattern.js","../../../source/helpers/isViablePhoneNumber.js","../../../../source/helpers/extension/extractExtension.js","../../../source/helpers/parseDigits.js","../../source/parseIncompletePhoneNumber.js","../../../source/helpers/checkNumberLength.js","../../../source/helpers/mergeArrays.js","../../source/isPossibleNumber_.js","../../../source/helpers/matchesEntirely.js","../../../source/helpers/getNumberType.js","../../../source/helpers/applyInternationalSeparatorStyle.js","../../../source/helpers/formatNationalNumberUsingFormat.js","../../../source/helpers/getIddPrefix.js","../../source/format_.js","../../../source/helpers/RFC3966.js","../../source/PhoneNumber.js","../../source/validate_.js","../../../source/helpers/stripIddPrefix.js","../../../source/helpers/extractNationalNumberFromPossiblyIncompleteNumber.js","../../../source/helpers/extractNationalNumber.js","../../../source/helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js","../../../source/helpers/extractCountryCallingCode.js","../../../source/helpers/getCountryByCallingCode.js","../../source/parse_.js","../../source/parsePhoneNumber_.js","../../source/parsePhoneNumber.js","../../source/parsePhoneNumberFromString_.js","../../source/parsePhoneNumberFromString.js","../../source/getCountries.js","../../source/PropTypes.js","../../source/helpers.js","../../source/closeBraces.js","../../source/format.js","../../source/templateFormatter.js","../../source/dom.js","../../source/inputControl.js","../../source/parse.js","../../source/edit.js","../../../source/react/Input.js","../../source/AsYouTypeState.js","../../source/AsYouTypeFormatter.util.js","../../source/AsYouTypeFormatter.complete.js","../../source/AsYouTypeFormatter.js","../../source/AsYouTypeParser.js","../../source/AsYouType.js","../../../source/helpers/inputValuePrefix.js","../../source/InputSmart.js","../../source/InputBasic.js","../../source/formatIncompletePhoneNumber.js","../../source/unicode.js","../../source/CountrySelect.js","../../source/Flag.js","../../source/InternationalIcon.js","../../../source/helpers/countries.js","../../source/CountryIcon.js","../../../source/helpers/getInternationalPhoneNumberPrefix.js","../../../source/helpers/phoneInputHelpers.js","../../source/PhoneInputWithCountry.js","../../../source/helpers/getPhoneInputWithCountryStateUpdateFromNewProps.js","../../source/PhoneInputWithCountryDefault.js","../node_modules/react-phone-number-input/min/index.js","../node_modules/merge-class-names/dist/esm/index.js","../node_modules/get-user-locale/dist/esm/index.js","../node_modules/@wojtekmaj/date-utils/dist/esm/index.js","../node_modules/react-calendar/dist/esm/shared/const.js","../node_modules/react-calendar/dist/esm/shared/dateFormatter.js","../node_modules/react-calendar/dist/esm/shared/dates.js","../node_modules/react-calendar/dist/esm/shared/propTypes.js","../node_modules/react-calendar/dist/esm/Calendar/Navigation.js","../node_modules/react-calendar/dist/esm/Flex.js","../node_modules/react-calendar/dist/esm/shared/utils.js","../node_modules/react-calendar/dist/esm/TileGroup.js","../node_modules/react-calendar/dist/esm/Tile.js","../node_modules/react-calendar/dist/esm/CenturyView/Decade.js","../node_modules/react-calendar/dist/esm/CenturyView/Decades.js","../node_modules/react-calendar/dist/esm/CenturyView.js","../node_modules/react-calendar/dist/esm/DecadeView/Year.js","../node_modules/react-calendar/dist/esm/DecadeView/Years.js","../node_modules/react-calendar/dist/esm/DecadeView.js","../node_modules/react-calendar/dist/esm/YearView/Month.js","../node_modules/react-calendar/dist/esm/YearView/Months.js","../node_modules/react-calendar/dist/esm/YearView.js","../node_modules/react-calendar/dist/esm/MonthView/Day.js","../node_modules/react-calendar/dist/esm/MonthView/Days.js","../node_modules/react-calendar/dist/esm/MonthView/Weekdays.js","../node_modules/react-calendar/dist/esm/MonthView/WeekNumber.js","../node_modules/react-calendar/dist/esm/MonthView/WeekNumbers.js","../node_modules/react-calendar/dist/esm/MonthView.js","../node_modules/react-calendar/dist/esm/Calendar.js","../node_modules/react-calendar/dist/esm/index.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","../node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js","../node_modules/antd/es/switch/index.js","../node_modules/antd/es/carousel/index.js","../node_modules/@ant-design/icons-svg/es/asn/DoubleLeftOutlined.js","../node_modules/@ant-design/icons/es/icons/DoubleLeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/DoubleRightOutlined.js","../node_modules/@ant-design/icons/es/icons/DoubleRightOutlined.js","../node_modules/antd/es/pagination/MiniSelect.js","../node_modules/antd/es/pagination/Pagination.js","../node_modules/antd/es/pagination/index.js","../node_modules/antd/es/table/hooks/usePagination.js","../node_modules/antd/es/radio/context.js","../node_modules/antd/es/radio/radio.js","../node_modules/antd/es/radio/group.js","../node_modules/antd/es/_util/getDataOrAriaProps.js","../node_modules/antd/es/radio/radioButton.js","../node_modules/antd/es/radio/index.js","../node_modules/antd/es/table/hooks/useSelection.js","../node_modules/@ant-design/icons-svg/es/asn/CaretDownOutlined.js","../node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/CaretUpOutlined.js","../node_modules/@ant-design/icons/es/icons/CaretUpOutlined.js","../node_modules/antd/es/table/util.js","../node_modules/antd/es/table/hooks/useSorter.js","../node_modules/@ant-design/icons-svg/es/asn/FilterFilled.js","../node_modules/@ant-design/icons/es/icons/FilterFilled.js","../node_modules/antd/es/table/hooks/useFilter/FilterWrapper.js","../node_modules/antd/es/table/hooks/useFilter/FilterDropdown.js","../node_modules/antd/es/_util/hooks/useSyncState.js","../node_modules/antd/es/table/hooks/useFilter/index.js","../node_modules/antd/es/table/hooks/useTitleColumns.js","../node_modules/antd/es/table/ExpandIcon.js","../node_modules/antd/es/_util/getScroll.js","../node_modules/antd/es/_util/easings.js","../node_modules/antd/es/_util/scrollTo.js","../node_modules/antd/es/locale/en_US.js","../node_modules/antd/es/table/Column.js","../node_modules/antd/es/table/ColumnGroup.js","../node_modules/antd/es/table/Table.js","../node_modules/antd/es/table/hooks/useLazyKVMap.js","../node_modules/antd/es/table/index.js","../node_modules/antd/es/card/Grid.js","../node_modules/antd/es/card/Meta.js","../node_modules/@ant-design/icons-svg/es/asn/PlusOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusOutlined.js","../node_modules/antd/es/tabs/index.js","../node_modules/antd/es/card/index.js","../node_modules/@ant-design/icons-svg/es/asn/EyeTwoTone.js","../node_modules/@ant-design/icons/es/icons/EyeTwoTone.js","../node_modules/@ant-design/icons-svg/es/asn/EyeInvisibleTwoTone.js","../node_modules/@ant-design/icons/es/icons/EyeInvisibleTwoTone.js","../node_modules/@ant-design/icons-svg/es/asn/CheckCircleTwoTone.js","../node_modules/@ant-design/icons/es/icons/CheckCircleTwoTone.js","../node_modules/axios/lib/utils.js","../node_modules/axios/index.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/antd/es/spin/index.js","../../src/utils.js","../../src/MessageChannel/methods/broadcastChannel.js","../../src/MessageChannel/ObliviousSet.js","../../src/MessageChannel/methods/localStorage.js","../../src/MessageChannel/methods/simulate.js","../../src/MessageChannel/methodChooser.js","../../src/MessageChannel/MessageChannel.js","../../src/MessageChannel/leaderElection.js","../../src/TabManager.js","../../src/IdleTimer.js","../../src/useIdleTimer.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js"],"names":["INFINITY","MAX_INTEGER","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","objectToString","Object","prototype","toString","before","n","func","result","TypeError","value","isObjectLike","call","isSymbol","isObject","other","valueOf","replace","isBinary","test","slice","toNumber","toFinite","remainder","toInteger","apply","this","arguments","undefined","type","module","exports","condition","format","a","b","c","d","e","f","error","Error","args","argIndex","name","framesToPop","VALID_DIGITS","VALID_PUNCTUATION","ParseError","constructor","pa","pb","i","na","Number","nb","isNaN","DEFAULT_EXT_PREFIX","CALLING_CODE_REG_EXP","Metadata","metadata","is_object","type_of","validateMetadata","setVersion","_","countryCode","countries","v1","nonGeographic","country","getCountryMetadata","callingCode","getCountryCodesForCallingCode","countryCodes","countryCallingCodes","selectNumberingPlan","hasCountry","NumberingPlan","hasCallingCode","getNumberingPlanMetadata","getCountryCodeForCallingCode","numberingPlan","globalMetadataObject","v2","formats","_getFormats","Format","_getNationalPrefixFormattingRule","_nationalPrefixForParsing","_getNationalPrefixIsOptionalWhenFormatting","types","length","hasTypes","getType","Type","_format","usesNationalPrefix","nationalPrefixFormattingRule","FIRST_GROUP_ONLY_PREFIX_PATTERN","getCountryCallingCode","isSupportedCountry","version","compare","getExtensionDigitsPattern","maxLength","createExtensionPattern","purpose","optionalExtnSuffix","rfcExtn","possibleSeparatorsBetweenNumberAndExtLabel","possibleSeparatorsNumberExtLabelNoComma","VALID_PHONE_NUMBER","VALID_PHONE_NUMBER_START_REG_EXP","RegExp","VALID_PHONE_NUMBER_WITH_EXTENSION","VALID_PHONE_NUMBER_PATTERN","isViablePhoneNumber","number","EXTN_PATTERN","DIGITS","parseDigit","character","parseDigits","string","digit","parseIncompletePhoneNumber","parsePhoneNumberCharacter","prevParsedCharacters","checkNumberLength","nationalNumber","checkNumberLengthForType","type_info","possible_lengths","mobile_type","merged","element","mergeArrays","actual_length","minimum_length","isPossibleNumber","matchesEntirely","text","regular_expression","NON_FIXED_LINE_PHONE_TYPES","getNumberType","input","options","isNumberTypeEqualTo","applyInternationalSeparatorStyle","formattedNumber","FIRST_GROUP_PATTERN","formatNationalNumberUsingFormat","useInternationalFormat","withNationalPrefix","carrierCode","SINGLE_IDD_PREFIX_REG_EXP","DEFAULT_OPTIONS","formatExtension","formatNumber","countryCallingCode","addExtension","formatNationalNumber","ext","formatRFC3966","fromCountry","iddPrefix","countryMetadata","getIddPrefix","formatIDD","formatAs","availableFormats","nationalNnumber","lastLeadingDigitsPattern","chooseFormatForNumber","PhoneNumber","_metadata","isCountryCode","phoneNumber","CAPTURING_DIGIT_PATTERN","stripIddPrefix","IDDPrefixPattern","matchedGroups","extractNationalNumberFromPossiblyIncompleteNumber","prefixPattern","prefixMatch","capturedGroupsCount","hasCapturedGroups","prefixBeforeNationalNumber","possiblePositionOfTheFirstCapturedGroup","nationalPrefix","extractNationalNumber","nationalSignificantNumber","shouldExtractNationalPrefix","extractCountryCallingCodeFromInternationalNumberWithoutPlusSign","possibleShorterNumber","possibleShorterNationalNumber","numberWithoutIDD","shorterNumber","getCountryByCallingCode","nationalPhoneNumber","possibleCountries","phone","selectCountryFromList","PHONE_NUMBER_START_PATTERN","AFTER_PHONE_NUMBER_END_PATTERN","extract","part","parseRFC3966","throwOnError","startsAt","extractFormattedPhoneNumber","isViablePhoneNumberStart","withExtensionStripped","start","numberWithoutExtension","matches","extractExtension","parseInput","formattedPhoneNumber","extractCountryCallingCode","defaultCountry","defaultCallingCode","exactCountry","parsePhoneNumber","valid","possible","parseNumber","normalizeArguments","Array","arg_1","arg_2","arg_3","arg_4","parsePhoneNumberFromString","parsePhoneNumberFromString_","getCountries","country_calling_codes","PropTypes","isRequired","labels","count_occurences","symbol","count","closeBraces","retained_template","template","placeholder","empty_placeholder","cut_before","opening_braces","closing_braces","dangling_braces","formatter","should_close_braces","characters_in_template","value_character_index","filled_in_template","close_braces","template_formatter","caret","index","found","possibly_last_input_character_index","getSelection","end","selectionEnd","Keys","setCaretPosition","caret_position","navigator","ANDROID_USER_AGENT_REG_EXP","isAndroid","setTimeout","operation","event","getOperation","selection","eraseSelection","formatInputText","_parse","on_change","focused_input_character_index","parse_character","parse","newValueAndCaret","edit","formatted","InputComponent","inputComponent","onChange","onKeyDown","rest","internalRef","useRef","setRef","useCallback","ref","_onChange","_onKeyDown","onInputKeyDown","isEmptyValue","Input","React","onCut","onPaste","AsYouTypeState","onCountryChange","onCallingCodeChange","key","properties","nextDigits","digits","IDDPrefix","DIGIT_PLACEHOLDER","DIGIT_PLACEHOLDER_MATCHER","repeat","times","cutAndStripNonPairedParens","cutBeforeIndex","cleared_string","stripNonPairedParens","formatCompleteNumber","state","shouldTryNationalPrefixFormattingRule","getSeparatorAfterNationalPrefix","matcher","useNationalPrefixFormattingRule","formatNationalNumberWithAndWithoutNationalPrefixFormattingRule","formattedNationalNumber","isValidFormattedNationalNumber","LONGEST_DUMMY_PHONE_NUMBER","NATIONAL_PREFIX_SEPARATORS_PATTERN","CREATE_CHARACTER_CLASS_PATTERN","CREATE_STANDALONE_DIGIT_PATTERN","NON_ALTERING_FORMAT_REG_EXP","AsYouTypeFormatter","international","formattedCompleteNumber","lastIndexOf","formatNationalNumberWithNextDigits","previouslyChosenFormat","newlyChosenFormat","chooseFormat","formatNextNationalNumberDigits","leadingDigits","leadingDigitsPatternIndex","matchingFormats","filter","chosenFormat","indexOf","leadingDigitsPatternsCount","Math","leadingDigitsPattern","getTemplateForFormat","missingPlus","internationalPrefix","getInternationalPrefixBeforeCountryCallingCode","spacing","complexPrefixBeforeNationalSignificantNumber","pattern","strictPattern","nationalNumberDummyDigits","numberFormat","getFormatFormat","numberFormatWithNationalPrefix","nationalPrefixIncludedInTemplate","position","populateTemplateWithDigits","populatedNationalNumberTemplatePosition","VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN","VALID_FORMATTED_PHONE_NUMBER_PART","AFTER_PHONE_NUMBER_DIGITS_END_PATTERN","COMPLEX_NATIONAL_PREFIX","AsYouTypeParser","onNationalSignificantNumberChange","extractedNumber","hasPlus","_extractFormattedDigitsAndPlus","formattedDigits","extractFormattedDigitsAndPlus","justLeadingPlus","hasReceivedThreeLeadingDigits","isWaitingForCountryCallingCode","nationalPrefixForParsing","nationalDigits","setState","prevNationalSignificantNumber","extractNationalSignificantNumber","nationalSignificantNumberIndex","nationalSignificantNumberMatchesInput","extractAnotherNationalSignificantNumber","extractIddPrefix","fixMissingPlus","newCallingCode","AsYouType","getCountryAndCallingCode","optionsOrDefaultCountry","parser","reExtractNationalSignificantNumber","getFullNumber","prefix","isInternational","getTemplate","getInputValuePrefix","withCountryCallingCode","removeInputValuePrefix","createInput","defaultMetadata","InputSmart","newValue","newValueFormatted","InputBasic","formatIncompletePhoneNumber","getRegionalIndicatorSymbol","letter","String","CountrySelect","onChange_","useMemo","getSelectedOption","label","divider","disabled","style","DIVIDER_STYLE","bool","fontSize","backgroundColor","color","CountrySelectWithIcon","className","Icon","iconComponent","Arrow","getIconAspectRatio","arrowComponent","unicodeFlags","selectedOption","classNames","aspectRatio","option","countryName","flags","flagUrl","title","alt","role","src","InternationalIcon3x2","xmlns","viewBox","stroke","fill","strokeWidth","strokeMiterlimit","strokeLinecap","x1","y1","x2","y2","InternationalIcon1x1","isCountrySupportedWithError","console","getSupportedCountries","createCountryIconComponent","FlagComponent","flagComponent","InternationalIcon","internationalIcon","_aspectRatio","CountryIcon","DefaultInternationalIcon","ONLY_DIGITS_REGEXP","getInternationalPhoneNumberPrefix","parsePhoneNumber_","getPhoneDigitsForNewCountry","phoneDigits","prevCountry","newCountry","useNationalFormat","countryCallingCodePrefix","country_calling_code","stripCountryCallingCode","newCountryPrefix","defaultValue","e164","partial_national_significant_number","getNationalSignificantNumberDigits","trimNumber","nationalSignificantNumberPart","overflowDigitsCount","getMaxNumberLength","getCountryForPartialE164Number","partialE164Number","required","derived_country","getCountryFromPossiblyIncompleteInternationalPhoneNumber","couldNumberBelongToCountry","convertInternationalPhoneDigitsToNational","compareStrings","locales","intlPhoneNumberPrefix","getInitialPhoneDigits","generateNationalNumberDigits","PhoneNumberInput_","focusInputOnCountrySelection","newPhoneDigits","hasUserSelectedACountry","addInternationalOption","limitMaxLength","countryCallingCodeEditable","prevPhoneDigits","countryRequired","getAnyCountry","onPhoneDigitsChange","_phoneDigits","stateUpdate","isFocused","onFocus","onBlur","countrySelectProps","displayInitialValueAsLocalNumber","initialValueFormat","preSelectedCountry","getPreSelectedCountry","props","prevProps","newDefaultCountry","newReset","prevDefaultCountry","prevValue","prevReset","_getInitialPhoneDigits","parameters","isNewDefaultCountrySupported","noValueHasBeenEnteredByTheUser","supportedCountries","parsedCountry","hasUserSelectedACountryUpdate","getPhoneInputWithCountryStateUpdateFromNewProps","selectedCountry","prevState","generator","dependencies","countryOptionsOrder","order","optionsOnTop","optionsOnBottom","appendTo","sortCountryOptions","countryNames","compareStringsLocales","_compareStrings","countrySelectOptions","ZZ","getCountrySelectOptions","countryOptions","getSupportedCountryOptions","countrySelectOptionsMemoDependencies","areEqualArrays","countrySelectOptionsMemo","autoComplete","numberInputProps","smartCaret","CountrySelectComponent","ContainerComponent","PureComponent","PhoneNumberInput","inputRef","labelsPropType","countrySelectComponent","containerComponent","metadataPropType","reset","createPhoneInput","PhoneInputDefault","mergeClassNames","reduce","classList","arg","concat","join","getUserLocales","once","languageList","window","languages","language","push","userLanguage","browserLanguage","systemLanguage","arr","map","el","toLowerCase","splitEl","split","toUpperCase","fixLowercaseProperties","self","getUserLocale","makeGetEdgeOfNeighbor","getPeriod","getEdgeOfPeriod","defaultOffset","date","offset","previousPeriod","makeGetEnd","getBeginOfNextPeriod","Date","getTime","makeGetRange","functions","fn","getYear","getFullYear","year","getMonth","getDate","getCenturyStart","centuryStartYear","centuryStartDate","setFullYear","setHours","getPreviousCenturyStart","getNextCenturyStart","getCenturyEnd","getPreviousCenturyEnd","getCenturyRange","getDecadeStart","decadeStartYear","decadeStartDate","getPreviousDecadeStart","getNextDecadeStart","getDecadeEnd","getPreviousDecadeEnd","getDecadeRange","getYearStart","yearStartDate","getPreviousYearStart","getNextYearStart","getYearEnd","getPreviousYearEnd","getYearRange","makeGetEdgeOfNeighborMonth","month","getMonthStart","monthStartDate","getPreviousMonthStart","getNextMonthStart","getMonthEnd","getPreviousMonthEnd","getMonthRange","makeGetEdgeOfNeighborDay","day","getDayStart","dayStartDate","_CALENDAR_TYPE_LOCALE","getDayEnd","getDayRange","getDaysInMonth","_arrayLikeToArray","len","arr2","_defineProperty","obj","defineProperty","enumerable","configurable","writable","CALENDAR_TYPES","ARABIC","HEBREW","ISO_8601","US","CALENDAR_TYPE_LOCALES","WEEKDAYS","isArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","_unsupportedIterableToArray","_nonIterableSpread","getSafeFormatter","locale","toLocaleString","getFormatter","safeDate","toSafeHour","formatDay","formatLongDate","formatMonth","formatMonthYear","formatShortWeekday","weekday","formatWeekday","formatYear","SUNDAY","FRIDAY","SATURDAY","getDayOfWeek","calendarType","getDay","getBeginOfWeek","monthIndex","getMonthIndex","getBegin","rangeType","getBeginNext","getEnd","getRange","getValueRange","date1","date2","rawNextValue","sort","toYearLabel","defaultFormatYear","dates","getDecadeLabel","isWeekend","_typeof","calendarTypes","values","allViews","isCalendarType","oneOf","isClassName","oneOfType","arrayOf","isMinDate","propName","componentName","minDate","maxDate","isMaxDate","isRef","shape","current","any","isValue","instanceOf","isViews","isView","view","allowedViews","views","tileGroupProps","activeStartDate","hover","onClick","onMouseOver","tileClassName","tileContent","node","valueType","tileProps","classes","objectOf","tileDisabled","Navigation","_ref","drillUp","_ref$formatMonthYear","defaultFormatMonthYear","_ref$formatYear","_ref$navigationAriaLa","navigationAriaLabel","navigationLabel","_ref$next2AriaLabel","next2AriaLabel","_ref$next2Label","next2Label","_ref$nextAriaLabel","nextAriaLabel","_ref$nextLabel","nextLabel","_ref$prev2AriaLabel","prev2AriaLabel","_ref$prev2Label","prev2Label","_ref$prevAriaLabel","prevAriaLabel","_ref$prevLabel","prevLabel","setActiveStartDate","showDoubleView","drillUpAvailable","shouldShowPrevNext2Buttons","previousActiveStartDate","getBeginPrevious","previousActiveStartDate2","getBeginPrevious2","nextActiveStartDate","nextActiveStartDate2","getBeginNext2","prevButtonDisabled","previousActiveEndDate","getEndPrevious","prev2ButtonDisabled","getEndPrevious2","nextButtonDisabled","next2ButtonDisabled","renderLabel","getCenturyLabel","createElement","display","labelClassName","flexGrow","Fragment","renderButton","_extends","assign","target","source","hasOwnProperty","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","toPercent","num","Flex","children","direction","wrap","otherProps","flexDirection","flexWrap","Children","child","cloneElement","flexBasis","maxWidth","overflow","marginLeft","_toConsumableArray","isValueWithinRange","range","isRangeWithinRange","greaterRange","smallerRange","doRangesOverlap","range1","range2","getRangeClassNames","valueRange","dateRange","baseClassName","isRangeStart","isRangeEnd","getTileClasses","dateType","now","valueRangeClassNames","hoverRange","hoverRangeClassNames","TileGroup","_ref$count","dateTransform","_ref$step","step","Tile","tile","tiles","point","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","getPrototypeOf","getValue","nextProps","prop","propTypes","_Component","subClass","superClass","create","_inherits","protoProps","staticProps","_super","_this","_len","_key","nextState","tileClassNameProps","tileContentProps","_this$props","formatAbbr","maxDateTransform","minDateTransform","_this$state","Component","Decade","Decades","CenturyView","Year","Years","DecadeView","Month","_ref$formatMonth","defaultFormatMonth","Months","YearView","Day","_ref$formatDay","defaultFormatDay","_ref$formatLongDate","defaultFormatLongDate","currentMonthIndex","Days","showFixedNumberOfWeeks","showNeighboringMonth","hasFixedNumberOfWeeks","dayOfWeek","daysInMonth","activeEndDate","Weekdays","_props$formatShortWee","defaultFormatShortWeekday","onMouseLeave","beginOfMonth","weekdays","weekdayDate","abbr","WeekNumber","onClickWeekNumber","weekNumber","WeekNumbers","numberOfWeeks","days","ceil","weekNumbers","beginOfFirstWeek","calendarTypeForWeekNumber","beginOfWeek","round","getWeekNumber","flexShrink","weekIndex","MonthView","_props$calendarType","find","includes","getCalendarTypeFromLocale","showWeekNumbers","childProps","alignItems","width","defaultMinDate","defaultMaxDate","allValueTypes","getLimitedViews","minDetail","maxDetail","getView","isViewAllowed","getValueType","rawValue","valueDate","toDate","getDetailValue","valuePiece","min","max","between","getDetailValueFrom","getDetailValueTo","getDetailValueArray","getActiveStartDate","getIsSingleValue","Calendar","_args","defaultActiveStartDate","defaultView","callback","_assertThisInitialize","previousView","allowPartialRange","onActiveStartDateChange","onViewChange","selectRange","prevArgs","shouldUpdate","setStateAndCallCallbacks","drillDownAvailable","onClickTile","_assertThisInitialize2","onDrillDown","nextView","_assertThisInitialize3","onDrillUp","nextValue","_assertThisInitialize4","previousValue","getProcessedValue","persist","_this$props2","onClickDay","onClickDecade","onClickMonth","onClickYear","_this$props3","returnValue","processFunction","next","currentActiveStartDate","_this$props4","commonProps","drillDown","_formatYear","_this$props5","_this$props6","showNavigation","_this$props7","_this$props8","valueArray","renderNavigation","renderContent","get","activeStartDateProps","activeStartDateState","valueFrom","getInitialActiveStartDate","_this$props9","valueProps","valueState","_this$props10","viewProps","viewState","_this$props11","defaultProps","isActiveStartDate","isLooseValue","Manager","_createClass","collection","refs","getIndex","splice","active","sortableInfo","sortByIndex","_ref2","_ref3","omit","keysToOmit","acc","events","move","vendorPrefix","document","styles","getComputedStyle","documentElement","pre","match","OLink","substr","setInlineStyles","setTranslate3d","translate","x","y","setTransitionDuration","duration","closest","parentNode","limit","getPixelValue","stringValue","parseFloat","getElementMargin","bottom","marginBottom","left","right","marginRight","top","marginTop","provideDisplayName","Component$$1","displayName","getScrollAdjustedBoundingClientRect","scrollDelta","boundingClientRect","getBoundingClientRect","getPosition","touches","pageX","pageY","changedTouches","isTouchEvent","getEdgeOffset","parent","nodeOffset","offsetLeft","offsetTop","getTargetIndex","newIndex","prevIndex","oldIndex","getLockPixelOffset","lockOffset","height","offsetX","offsetY","unit","exec","invariant","isFinite","getLockPixelOffsets","offsets","_offsets","_slicedToArray","minLockOffset","maxLockOffset","getScrollingParent","HTMLElement","computedStyle","overflowRegex","property","isScrollable","getContainerGridGap","gridColumnGap","gridRowGap","KEYCODE","NodeType","cloneNode","selector","fields","querySelectorAll","clonedNode","field","tagName","getContext","drawImage","isSortableHandle","sortableHandle","AutoScroller","container","onScrollCallback","interval","clearInterval","minTranslate","maxTranslate","speed","acceleration","_this$container","scrollTop","scrollLeft","scrollHeight","scrollWidth","isTop","isBottom","clientHeight","isLeft","isRight","clientWidth","abs","clear","isAutoScrolling","setInterval","axis","contentWindow","disableAutoscroll","distance","getContainer","getHelperDimensions","helperClass","helperContainer","hideSortableGhost","keyboardSortingTransitionDuration","lockAxis","lockToContainerEdges","onSortEnd","onSortMove","onSortOver","onSortStart","pressDelay","pressThreshold","keyCodes","lift","drop","cancel","up","down","shouldCancelStart","transitionDuration","updateBeforeSortStart","useDragHandle","useWindowAsScrollContainer","defaultKeyCodes","offsetHeight","offsetWidth","contentEditable","omittedProps","validateProps","_finallyRethrows","body","finalizer","then","bind","SortableContext","createContext","manager","sortableContainer","WrappedComponent","_class","_temp","config","withRef","_React$Component","WithSortableContainer","button","touched","nodeIsChild","sorting","_node$sortableInfo","preventDefault","handlePress","pressTimer","_awaitingUpdateBeforeSortStart","delta","combinedDelta","isActive","clearTimeout","cancelTimer","getActive","_temp6","_temp7","_node","margin","gridGap","containerBoundingRect","scrollContainer","dimensions","_getHelperDimensions","_collection","marginOffset","_axis","offsetEdge","initialOffset","_isKeySorting","initialScroll","initialWindowScroll","pageXOffset","pageYOffset","helper","appendChild","boxSizing","pointerEvents","focus","_hideSortableGhost","sortableGhost","opacity","visibility","_useWindowAsScrollContainer","innerWidth","innerHeight","containerTop","containerLeft","containerWidth","containerBottom","containerRight","_helperClass","add","listenerNode","addEventListener","handleKeyEnd","handleKeyDown","eventName","handleSortMove","handleSortEnd","sortingIndex","_onSortStart","isKeySorting","nodes","getOrderedRefs","keyMove","_temp8","_temp9","Promise","resolve","_wasThrown","_result","reject","cancelable","updateHelperPosition","animateNodes","autoscroll","_this$manager","removeEventListener","removeChild","_node2","edgeOffset","autoScroller","scrollX","scrollY","update","keyCode","_this$props5$keyCodes","isValidSortingTarget","stopPropagation","keyLift","keyDrop","_node$sortableInfo2","initialFocusedNode","shift","lastIndex","targetIndex","targetNode","containerScrollDelta","targetBoundingClientRect","targetTranslate","targetPosition","shouldAdjustForSize","sizeAdjustment","ignoreTransition","wrappedInstance","createRef","sortableContextValue","handleEnd","handleMove","handleStart","_this2","containerNode","ownerDocument","scrollingElement","onAutoScroll","_this3","_this$props6$keyboard","_getLockPixelOffsets","_getLockPixelOffsets2","minOffset","maxOffset","windowScrollDelta","sortingOffset","_node3","mustShiftBackward","mustShiftForward","nextNode","prevNode","findDOMNode","getWrappedInstance","Provider","propTypes$1","omittedProps$1","sortableElement","WithSortableElement","_getPrototypeOf2","register","unregister","context","remove","__rest","s","t","Switch","_a","_classNames","customizePrefixCls","prefixCls","customizeSize","size","loading","_a$className","devWarning","_React$useContext","ConfigContext","getPrefixCls","SizeContext","loadingIcon","LoadingOutlined","Wave","insertExtraNode","RcSwitch","__ANT_SWITCH","Carousel","_a$dots","dots","_a$arrows","arrows","_a$draggable","draggable","_a$dotPosition","dotPosition","slickRef","goTo","slide","dontAnimate","slickGoTo","autoPlay","innerSlider","prev","slickPrev","slickNext","prevCount","initialSlide","newProps","effect","fade","dotsClass","vertical","enableDots","dsClass","SlickCarousel","DoubleLeftOutlined","AntdIcon","icon","DoubleLeftOutlinedSvg","DoubleRightOutlined","DoubleRightOutlinedSvg","MiniSelect","Select","Option","Pagination","customizeSelectPrefixCls","selectPrefixCls","customLocale","restProps","xs","useBreakpoint","renderPagination","contextLocale","isSmall","responsive","extendedClassName","mini","RcPagination","ellipsis","prevIcon","tabIndex","LeftOutlined","nextIcon","RightOutlined","jumpPrevIcon","jumpNextIcon","getIconsProps","selectComponentClass","LocaleReceiver","defaultLocale","enUS","usePagination","total","pagination","_a$total","paginationTotal","paginationObj","_useState","useState","defaultCurrent","pageSize","defaultPageSize","_useState2","innerPagination","setInnerPagination","mergedPagination","list","val","extendsObject","maxPage","refreshPagination","RadioGroupContext","RadioGroupContextProvider","InternalRadio","innerRef","mergedRef","composeRef","radioProps","_b","checked","wrapperClassString","onMouseEnter","RcCheckbox","Radio","RadioGroup","_useMergedState","useMergedState","_useMergedState2","setValue","ev","lastValue","_props$className","optionType","_props$buttonStyle","buttonStyle","id","groupPrefixCls","childrenToRender","optionsPrefixCls","mergedSize","classString","getDataOrAriaProps","renderGroup","RadioButton","radioGroupContext","Button","Group","SELECTION_ALL","SELECTION_INVERT","SELECTION_NONE","getFixedType","column","fixed","flattenData","data","childrenColumnName","record","useSelection","rowSelection","preserveSelectedRowKeys","selectedRowKeys","defaultSelectedRowKeys","getCheckboxProps","onSelectionChange","onSelect","onSelectAll","onSelectInvert","onSelectNone","onSelectMultiple","selectionColWidth","columnWidth","selectionType","selections","customizeRenderCell","renderCell","hideSelectAll","_ref$checkStrictly","checkStrictly","pageData","getRecordByKey","getRowKey","expandType","tableLocale","expandIconColumnIndex","getPopupContainer","mergedSelectedKeys","setMergedSelectedKeys","preserveRecordsRef","Map","updatePreserveRecordsCache","newCache","has","set","keyEntities","convertDataToEntities","externalGetKey","childrenPropName","flattedData","checkboxPropsMap","checkboxProps","isCheckboxDisabled","r","_useMemo2","_conductCheck","conductCheck","checkedKeys","halfCheckedKeys","_useMemo3","derivedSelectedKeys","derivedHalfSelectedKeys","derivedSelectedKeySet","Set","derivedHalfSelectedKeySet","lastSelectedKey","setLastSelectedKey","setSelectedKeys","availableKeys","records","triggerSingleSelection","selected","rows","k","mergedSelections","selectionAll","selectInvert","keySet","selectNone","columns","recordKeys","checkedCurrentAll","every","checkedCurrentSome","some","customizeSelections","menu","Menu","onSelectionClick","Item","Dropdown","overlay","DownOutlined","allDisabledData","allDisabled","allDisabledAndChecked","allDisabledSomeChecked","_ref4","Checkbox","indeterminate","changeKeys","skipGroup","nativeEvent","mergedIndeterminate","_ref5","shiftKey","startIndex","endIndex","pointKeys","recordKey","recordIndex","rangeKeys","changedKeys","originCheckedKeys","arrDel","arrAdd","_checkedKeys","nextCheckedKeys","tempKeySet","selectionColumn","columnTitle","render","_renderCell","INTERNAL_COL_DEFINE","_columns","_toArray","expandColumn","restColumns","selectionFixed","CaretDownOutlined","CaretDownOutlinedSvg","CaretUpOutlined","CaretUpOutlinedSvg","getColumnKey","defaultKey","dataIndex","getColumnPos","pos","renderColumnTitle","ASCEND","DESCEND","getMultiplePriority","sorter","multiple","getSortFunction","collectSortStates","init","sortStates","pushState","columnPos","multiplePriority","sortOrder","defaultSortOrder","injectSorter","sorterSates","triggerSorter","defaultSortDirections","tableShowSorterTooltip","newColumn","sortDirections","showSorterTooltip","columnKey","sorterState","sorterOrder","nextSortOrder","nextSortDirection","upNode","downNode","cancelSort","triggerAsc","triggerDesc","sortTip","tooltipProps","renderProps","renderSortTitle","Tooltip","onHeaderCell","col","cell","originOnClick","stateToInfo","sorterStates","generateSorterInfo","getSortData","innerSorterStates","cloneData","runningSorters","record1","record2","compareFn","compareResult","subRecords","useFilterSorter","mergedColumns","onSorterChange","_React$useState","_React$useState2","setSortStates","mergedSorterStates","validate","collectedStates","validateStates","patchStates","multipleMode","columnTitleSorterProps","sortColumns","_ref6","sortColumn","sortState","newSorterStates","_ref7","innerColumns","FilterFilled","FilterFilledSvg","FilterDropdownMenuWrapper","SubMenu","MenuItem","renderFilterItems","filters","filteredKeys","filterMultiple","Empty","image","PRESENTED_IMAGE_SIMPLE","description","filterEmptyText","imageStyle","popupClassName","FilterDropdown","tablePrefixCls","dropdownPrefixCls","filterState","triggerFilter","filterDropdownVisible","onFilterDropdownVisibleChange","visible","setVisible","filtered","forceFiltered","triggerVisible","newVisible","mergedVisible","propFilteredKeys","_useSyncState","initialValue","forceUpdate","useForceUpdate","useSyncState","_useSyncState2","getFilteredKeysSync","setFilteredKeysSync","onSelectKeys","selectedKeys","_React$useState3","_React$useState4","openKeys","setOpenKeys","openRef","dropdownContent","internalTriggerFilter","mergedKeys","isEqual","onConfirm","onReset","dropdownMenuClass","filterDropdown","confirm","closeDropdown","clearFilters","onDeselect","onOpenChange","filterReset","filterConfirm","filterIcon","trigger","onVisibleChange","placement","collectFilterStates","filterStates","filteredValues","filteredValue","defaultFilteredValue","injectFilter","_column$filterMultipl","flattenKeys","generateFilterInfo","currentFilters","originKey","getFilterData","currentData","_filterState$column","onFilter","keyIndex","findIndex","realKey","useFilter","onFilterChange","setFilterStates","mergedFilterStates","filteredKeysIsNotControlled","filteredKeysIsAllControlled","getFilters","newFilterStates","fillTitle","columnTitleProps","cloneColumn","useTitleColumns","renderExpandIcon","onExpand","expanded","expandable","iconPrefix","collapse","expand","isWindow","getScroll","method","Document","easeInOutCubic","cc","scrollTo","_options$getContainer","_options$duration","startTime","frameFunc","time","nextScrollTop","HTMLDocument","raf","Column","ColumnGroup","EMPTY_LIST","Table","_classNames3","bordered","customizeDropdownPrefixCls","dataSource","rowKey","rowClassName","legacyChildrenColumnName","expandIcon","expandedRowRender","indentSize","scroll","_props$showSorterTool","screens","matched","m","convertChildrenToColumns","tableProps","_React$useContext$loc","renderEmpty","rawData","mergedExpandable","_mergedExpandable$chi","item","internalRefs","_useLazyKVMap","mapCacheRef","kvMap","dig","useLazyKVMap","changeEventInfo","triggerOnChange","info","action","changeInfo","resetPagination","scrollToFirstRowOnChange","currentDataSource","_useSorter","useSorter","_useSorter2","transformSorterColumns","sorterTitleProps","getSorters","sortedData","_useFilter","_useFilter2","transformFilterColumns","mergedData","_useTitleColumns","transformTitleColumns","_usePagination","_usePagination2","param","pageProp","getPaginationParam","_mergedPagination$cur","_mergedPagination$pag","_useSelection","_useSelection2","transformSelectionColumns","selectedKeySet","__PARENT_RENDER_ICON__","topPaginationNode","bottomPaginationNode","spinProps","transformColumns","paginationSize","defaultPosition","topPos","bottomPos","isDisable","spinning","wrapperClassNames","Spin","RcTable","indent","mergedRowClassName","emptyText","internalHooks","INTERNAL_HOOKS","Summary","Grid","_a$hoverable","hoverable","ConfigConsumer","Meta","avatar","others","avatarDom","titleDom","descriptionDom","MetaDetail","PlusOutlined","PlusOutlinedSvg","Tabs","editable","propSize","_onEdit","onEdit","hideAdd","centered","addIcon","_props$moreIcon","moreIcon","EllipsisOutlined","editType","removeIcon","CloseOutlined","showAdd","rootPrefixCls","Consumer","contextSize","RcTabs","moreTransitionName","TabPane","Card","_extends2","head","extra","_props$headStyle","headStyle","_props$bodyStyle","bodyStyle","_props$bordered","cover","actions","tabList","activeTabKey","defaultActiveTabKey","tabBarExtraContent","_props$tabProps","tabProps","loadingBlockStyle","padding","block","loadingBlock","Row","gutter","Col","span","hasActiveTabKey","extraProps","tabs","onTabChange","tab","coverDom","actionDom","getAction","divProps","containGrid","isContainGrid","EyeTwoTone","primaryColor","secondaryColor","EyeTwoToneSvg","EyeInvisibleTwoTone","EyeInvisibleTwoToneSvg","CheckCircleTwoTone","CheckCircleTwoToneSvg","require","isUndefined","isPlainObject","isFunction","l","isArrayBuffer","isBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","product","merge","assignValue","extend","thisArg","trim","str","stripBOM","content","charCodeAt","utils","normalizeHeaderName","enhanceError","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","defaults","transitional","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","adapter","XMLHttpRequest","process","getDefaultAdapter","transformRequest","encoder","JSON","stringify","stringifySafely","transformResponse","strictJSONParsing","responseType","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","status","common","encode","encodeURIComponent","url","params","paramsSerializer","serializedParams","parts","v","toISOString","hashmarkIndex","code","request","response","isAxiosError","toJSON","message","fileName","lineNumber","columnNumber","stack","settle","cookies","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","requestData","requestHeaders","auth","username","password","unescape","Authorization","btoa","fullPath","baseURL","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","read","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","promise","abort","send","__CANCEL__","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","mergeDeepProperties","axiosKeys","otherKeys","Cancel","defaultIndicator","tuple","debouncifyUpdateSpinning","delay","cancelExistingSpin","updateSpinning","debounce","originalUpdateSpinning","renderSpin","tip","wrapperClassName","spinClassName","spinElement","indicator","dotClassName","isValidElement","renderIndicator","isNestedPattern","containerClassName","shouldBeDelayed","shouldDelay","IS_BROWSER","DEFAULT_ELEMENT","DEFAULT_EVENTS","debounced","timerId","throttled","lastCall","lastMs","additional","microSeconds","ms","randomToken","random","substring","sleep","channelName","messagesCallback","bc","BroadcastChannel","onmessage","msg","close","channelState","onMessage","postMessage","messageJson","err","canBeUsed","averageResponseTime","ObliviousSet","ttl","timeMap","_removeTooOldValues","olderThen","getLocalStorage","localStorage","addStorageEventListener","listener","ls","setItem","removeItem","uuid","eMIs","removeTimeout","msgObj","token","messagesCallbackTime","writeObj","createEvent","initEvent","dispatchEvent","userAgent","defaultTime","SIMULATE_CHANNELS","channel","METHODS","BroadcastChannelMethod","LocalStorageMethod","chooseMethod","SimulateMethod","useMethod","MessageChannel","closed","_isListening","_onMessageListener","_addEventListeners","internal","_unSendMessagePromises","_beforeClose","_preparePromises","_prepareChannel","_post","listenObj","_removeListenerObject","_addListenerObject","awaitPrepare","all","_state","messageChannel","sendPromise","maybePromise","_hasMessageListeners","listenerFn","LeaderElection","_channel","_options","isLeader","isDead","_isApplying","_reApply","_unloadFns","_listeners","_intervals","_duplicateListeners","_duplicateCalled","_onBeforeDie","unloadFn","die","stopCriteria","handleMessage","_sendMessage","responseTime","leaderElector","isLeaderListener","success","applyOnce","_awaitLeadershipPromise","resolved","finish","whenDeathListener","fallbackInterval","onBeforeDie","uFn","msgJson","postInternal","TabManager","emitOnAllTabs","callbacks","pause","resume","elector","_leaderElector","registry","leader","allIdle","awaitLeadership","idle","onIdle","onActive","isIdle","onDuplicate","isAllIdle","setAllIdle","IdleTimer","oldDate","lastActive","lastIdle","idleTime","remaining","tId","eventsBound","callbackRefs","throttle","_onAction","onAction","eventsThrottle","handleEvent","_handleEvent","startOnMount","startManually","_toggleIdleState","getRemainingTime","getElapsedTime","getLastActiveTime","getLastIdleTime","getTotalIdleTime","getTotalActiveTime","_setupTabManager","_bindEvents","_unbindEvents","crossTab","passive","capture","force","_this4","stopOnIdle","elapsedTimeSinceLastActive","remote","timeLeft","useIdleTimer","firstLoad","_timeout","emitOnIdle","emitOnActive","emitOnAction","useEffect","intermediateOnAction","callOnAction","nextIdle","eventsWereBound","asyncGeneratorStep","gen","_next","_throw","done","__esModule","Axios","mergeConfig","createInstance","defaultConfig","axios","instanceConfig","CancelToken","isCancel","promises","spread","default","InterceptorManager","dispatchRequest","validator","validators","interceptors","assertOptions","boolean","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","unshift","fulfilled","rejected","responseInterceptorChain","chain","newConfig","onFulfilled","onRejected","getUri","handlers","use","eject","h","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","normalizedName","write","expires","path","domain","secure","cookie","toGMTString","decodeURIComponent","isAbsoluteURL","combineURLs","requestedURL","relativeURL","ignoreDuplicateOf","parsed","line","originURL","msie","urlParsingNode","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","pkg","thing","deprecatedWarnings","currentVerArr","isOlderVersion","thanVersion","pkgVersionArr","destVer","isDeprecated","formatMessage","opt","desc","opts","warn","schema","allowUnknown","executor","resolvePromise","payload"],"mappings":"qIAUA,IAGIA,EAAW,IACXC,EAAc,sBACdC,EAAM,IAGNC,EAAY,kBAGZC,EAAS,aAGTC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAeC,SAUfC,EAPcC,OAAOC,UAOQC,SAmBjC,SAASC,EAAOC,EAAGC,GACjB,IAAIC,EACJ,GAAmB,mBAARD,EACT,MAAM,IAAIE,UAvDQ,uBA0DpB,OADAH,EA+KF,SAAmBI,GACjB,IAAIF,EAvCN,SAAkBE,GAChB,IAAKA,EACH,OAAiB,IAAVA,EAAcA,EAAQ,EAG/B,IADAA,EAgEF,SAAkBA,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GApGF,SAAkBA,GAChB,MAAuB,iBAATA,GAtBhB,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,EAsBtBC,CAAaD,IAAUT,EAAeW,KAAKF,IAAUhB,EAkGpDmB,CAASH,GACX,OAAOjB,EAET,GAAIqB,EAASJ,GAAQ,CACnB,IAAIK,EAAgC,mBAAjBL,EAAMM,QAAwBN,EAAMM,UAAYN,EACnEA,EAAQI,EAASC,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,iBAATL,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQA,EAAMO,QAAQtB,EAAQ,IAC9B,IAAIuB,EAAWrB,EAAWsB,KAAKT,GAC/B,OAAQQ,GAAYpB,EAAUqB,KAAKT,GAC/BX,EAAaW,EAAMU,MAAM,GAAIF,EAAW,EAAI,GAC3CtB,EAAWuB,KAAKT,GAASjB,GAAOiB,EAlF7BW,CAASX,MACHnB,GAAYmB,KAAU,IAAW,CAE7C,OADYA,EAAQ,GAAK,EAAI,GACflB,EAEhB,OAAOkB,IAAUA,EAAQA,EAAQ,EA8BpBY,CAASZ,GAClBa,EAAYf,EAAS,EAEzB,OAAOA,IAAWA,EAAUe,EAAYf,EAASe,EAAYf,EAAU,EAnLnEgB,CAAUlB,GACP,WAOL,QANMA,EAAI,IACRE,EAASD,EAAKkB,MAAMC,KAAMC,YAExBrB,GAAK,IACPC,OAAOqB,GAEFpB,GAmDX,SAASM,EAASJ,GAChB,IAAImB,SAAcnB,EAClB,QAASA,IAAkB,UAARmB,GAA4B,YAARA,GAqKzCC,EAAOC,QApMP,SAAcxB,GACZ,OAAOF,EAAO,EAAGE,K,kCClDnBuB,EAAOC,QA5BS,SAASC,EAAWC,EAAQC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,GAOzD,IAAKP,EAAW,CACd,IAAIQ,EACJ,QAAeZ,IAAXK,EACFO,EAAQ,IAAIC,MACV,qIAGG,CACL,IAAIC,EAAO,CAACR,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,GACvBI,EAAW,GACfH,EAAQ,IAAIC,MACVR,EAAOhB,QAAQ,OAAO,WAAa,OAAOyB,EAAKC,UAE3CC,KAAO,sBAIf,MADAJ,EAAMK,YAAc,EACdL,K,yx0FChCGM,EAAN,6CAeMC,EAAoB,GAAH,OAZ9B,oCAY8B,OAX9B,WAW8B,OAV9B,WAU8B,OATvB,+BASuB,OAR9B,oCAQ8B,OAN9B,uB,ICpBqBC,EACnB,e,4FAAkB,SAChBtB,KAAA,KAAYA,KAAKuB,YAAjB,KACAvB,KAAA,UACAA,KAAA,MAAc,IAAIe,MAAL,GAAb,QAIJO,YAAuB9C,cAAcuC,MAArCO,YACAA,cCFe,oBACXd,EAAIA,QAAJA,KACAC,EAAIA,QAAJA,KAGA,IAFA,IAAIe,EAAKhB,WAAT,KACIiB,EAAKhB,WAAT,KACSiB,EAAT,EAAgBA,EAAhB,EAAuBA,IAAK,CACxB,IAAIC,EAAKC,OAAOJ,EAAhB,IACIK,EAAKD,OAAOH,EAAhB,IACA,GAAIE,EAAJ,EAAa,OAAO,EACpB,GAAIE,EAAJ,EAAa,SACb,IAAKC,MAAD,IAAcA,MAAlB,GAA6B,OAAO,EACpC,GAAIA,WAAcA,MAAlB,GAA6B,SAEjC,OAAItB,MAAQC,EAAZ,GACWD,KAAOC,EAAPD,KAAmBA,KAAOC,EAAPD,MAA1B,GAEIA,EAAD,IAASC,EAAT,KAAqBD,OAASC,EAATD,MAA5B,G,siBCpBJ,IAQMuB,EAAN,SAEMC,EAAN,QAKqBC,E,WACpB,cAAsB,UA4ahB,SAA0BC,GAChC,MACC,MAAM,IAAInB,MAAV,6EAKD,IAAKoB,EAAD,KAAyBA,EAAUD,EAAvC,WACC,MAAM,IAAInB,MAAM,sJAAV,OAAoKoB,KAAsB,yBAA2B3D,oBAA3B,MAAtB2D,KAA2F,KAAOC,EAAP,QAA/P,EAAN,MAnbAC,IACArC,KAAA,WACAsC,e,iDAIA,OAAO9D,OAAA,KAAYwB,KAAKkC,SAAjB,mBAA4C,SAAAK,GAAC,cAAIA,O,yCAGtCC,GAClB,OAAOxC,KAAKkC,SAASO,UAArB,K,sCAIA,KAAIzC,KAAK0C,IAAM1C,KAAX,IAAsBA,KAA1B,IAGA,OAAOA,KAAKkC,SAASS,eAAiB3C,KAAKkC,SAA3C,kB,iCAGUU,GACV,gBAAO5C,KAAK6C,mBAAmBD,K,qCAGjBE,GACd,GAAI9C,KAAK+C,8BAAT,GACC,SAED,GAAI/C,KAAJ,iBACC,GAAIA,KAAK2C,gBAAT,GACC,aAEK,CAEN,IAAMK,EAAehD,KAAKiD,sBAA1B,GACA,GAAID,OAAgBA,UAApB,QAAiDA,KAChD,Y,iDAKwBF,GAC1B,OAAI9C,KAAJ,kBACQA,KAAK2C,gBAAgBG,IAErB9C,KAAK+C,8BAA8BD,K,8BAKpCN,GACP,OAAOxC,KAAKkD,oBAAZ,K,0CAGmBV,EAAaM,GAMhC,GAJIN,GAAeR,OAAnB,KACCc,IACAN,QAEGA,GAAJ,QAAmBA,EAAuB,CACzC,IAAKxC,KAAKmD,WAAV,GACC,MAAM,IAAIpC,MAAM,oBAAV,OAAN,IAEDf,KAAA,cAAqB,IAAIoD,EAAcpD,KAAK6C,mBAAvB,GAArB7C,WACM,GAAI8C,EAAa,CACvB,IAAK9C,KAAKqD,eAAV,GACC,MAAM,IAAItC,MAAM,yBAAV,OAAN,IAEDf,KAAA,cAAqB,IAAIoD,EAAcpD,KAAKsD,yBAAvB,GAArBtD,WAEAA,KAAA,qBAED,c,oDAG6B8C,GAC7B,IAAME,EAAehD,KAAKiD,sBAA1B,GACA,KAAkB,CAUjB,GAAID,cAAJ,IAAiCA,YAChC,OAED,Y,mDAI2BF,GAC5B,IAAME,EAAehD,KAAK+C,8BAA1B,GACA,KACC,OAAOC,EAAP,K,+CAIuBF,GACxB,IAAMN,EAAcxC,KAAKuD,6BAAzB,GACA,KACC,OAAOvD,KAAK6C,mBAAZ,GAED,GAAI7C,KAAJ,gBAA0B,CACzB,IAAMkC,EAAWlC,KAAK2C,gBAAtB,GACA,KACC,aAEK,CAEN,IAAMK,EAAehD,KAAKiD,sBAA1B,GACA,GAAID,OAAgBA,UAApB,QAAiDA,KAChD,OAAOhD,KAAKkC,SAASO,UAArB,U,2CAOF,OAAOzC,KAAKwD,cAAZ,gB,kCAKA,OAAOxD,KAAKwD,cAAZ,c,yCAKA,OAAOxD,KAAKwD,cAAZ,qB,8CAKA,OAAOxD,KAAKwD,cAAZ,0B,wCAKA,OAAOxD,KAAKwD,cAAZ,oB,gCAKA,OAAOxD,KAAKwD,cAAZ,Y,iDAKA,OAAOxD,KAAKwD,cAAZ,6B,oDAKA,OAAOxD,KAAKwD,cAAZ,gC,sCAKA,OAAOxD,KAAKwD,cAAZ,kB,iCAKA,OAAOxD,KAAKwD,cAAZ,a,2BAIIrD,GACJ,OAAOH,KAAKwD,cAAcrD,KAA1B,K,4BAKA,OAAOH,KAAKwD,cAAZ,Q,4CAIA,OAAIxD,KAAJ,GAAoBA,KAAKkC,SAAZ,gCACNlC,KAAKkC,SAAZ,wB,wDAIiCY,GACjC,OAAO9C,KAAKkD,oBAAZ,K,iDAIA,gBAAOlD,KAAKwD,kB,KAIRJ,E,WACL,gBAA4C,UAC3CpD,KAAA,uBACAA,KAAA,WACAsC,YAAsBmB,EAAtBnB,U,gDAIA,OAAOtC,KAAKkC,SAAZ,K,2DAUA,OAAOlC,KAAKyD,qBAAqBH,yBAAyBtD,KAA1D,iB,kCAKA,IAAIA,KAAK0C,KAAM1C,KAAf,GACA,OAAOA,KAAKkC,SAAZ,K,yCAKA,IAAIlC,KAAK0C,KAAM1C,KAAf,GACA,OAAOA,KAAKkC,SAAZ,M,8CAIA,OAAIlC,KAAK0C,IAAM1C,KAAf,GAA+BA,KAAKkC,SAAZ,GACjBlC,KAAKkC,SAAZ,K,wCAKA,IAAIlC,KAAJ,GACA,OAAOA,KAAKkC,SAASlC,KAAK0D,GAAK,EAA/B,K,kCAGWxB,GACX,OAAOA,EAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,EAAxC,K,gCAMS,WACHC,EAAU3D,KAAK4D,YAAY5D,KAAjB,WAAmCA,KAAK4D,YAAY5D,KAApD,uCAAhB,GACA,OAAO2D,EAAA,KAAY,SAAApB,GAAC,OAAI,IAAIsB,EAAOtB,EAAf,Q,uCAIpB,OAAOvC,KAAKkC,SAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,EAA7C,K,uDAGgCxB,GAChC,OAAOA,EAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,EAAxC,K,qDAOA,OAAO1D,KAAK8D,iCAAiC9D,KAAtC,WAAwDA,KAAK8D,iCAAiC9D,KAArG,wC,kDAIA,OAAOA,KAAKkC,SAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,EAA7C,K,iDAMA,OAAO1D,KAAK+D,6BAA+B/D,KAA3C,mB,oDAIA,OAAOA,KAAKkC,SAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,EAA7C,K,mEAIA,QAAS1D,KAAKkC,SAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,EAA/C,K,+EAQA,OAAO1D,KAAKgE,2CAA2ChE,KAAhD,WACNA,KAAKgE,2CAA2ChE,KADjD,wC,sCAKA,OAAOA,KAAKkC,SAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,EAA7C,M,8BAIA,OAAO1D,KAAKkC,SAASlC,KAAK0C,GAAK,EAAI1C,KAAK0D,GAAK,GAA7C,M,iCAMA,QAAI1D,KAAKiE,SAAT,IAAoBjE,KAAKiE,QAAQC,WAKxBlE,KAAT,U,2BAGIG,GACJ,GAAIH,KAAKmE,YAAcC,EAAQpE,KAAD,QAA9B,GACC,OAAO,IAAIqE,EAAKD,EAAQpE,KAAD,QAAhB,GAAP,Q,4BAKD,OAAIA,KAAK0C,IAAM1C,KAAf,GAA+B+B,EACxB/B,KAAKkC,SAAS,KAArB,M,KAII2B,E,WACL,gBAA8B,UAC7B7D,KAAA,UACAA,KAAA,W,4CAIA,OAAOA,KAAKsE,QAAZ,K,+BAIA,OAAOtE,KAAKsE,QAAZ,K,8CAIA,OAAOtE,KAAKsE,QAAQ,IAApB,K,qDAIA,OAAOtE,KAAKsE,QAAQ,IAAMtE,KAAKkC,SAA/B,iC,+EAIA,QAASlC,KAAKsE,QAAP,IAAqBtE,KAAKkC,SAAjC,2D,gFASA,OAAOlC,KAAKuE,uBAAyBvE,KAArC,2D,2CAKA,SAAOA,KAAKwE,gCAEVC,OAAqCzE,KAFhC,mC,4CAYP,OAAOA,KAAKsE,QAAQ,IAAMtE,KAA1B,a,KASIyE,EAAN,cAEMJ,E,WACL,gBAA4B,UAC3BrE,KAAA,OACAA,KAAA,W,4CAIA,OAAIA,KAAKkC,SAAT,GAA6BlC,KAAP,KACfA,KAAKG,KAAZ,K,wCAIA,IAAIH,KAAKkC,SAAT,GACA,OAAOlC,KAAKG,KAAK,IAAMH,KAAKkC,SAA5B,sB,KAIF,SAAS,EAAT,KACC,UACC,iBACC,OAAO+B,EAAP,GACD,aACC,OAAOA,EAAP,GACD,gBACC,OAAOA,EAAP,GACD,mBACC,OAAOA,EAAP,GACD,sBACC,OAAOA,EAAP,GACD,gBACC,OAAOA,EAAP,GACD,UACC,OAAOA,EAAP,GACD,YACC,OAAOA,EAAP,GACD,WACC,OAAOA,EAAP,GACD,kBACC,OAAOA,EAAP,IAmBH,IAAM9B,EAAY,SAAAI,GAAC,iBAAI,MAKjBH,EAAU,SAAAG,GAAC,aA6BV,SAASmC,EAAsB9B,EAASV,GAE9C,IADAA,EAAW,IAAID,EAAfC,IACIA,WAAJ,GACC,OAAOA,aAAP,qBAED,MAAM,IAAInB,MAAM,oBAAV,OAAN,IAGM,SAAS4D,EAAmB/B,EAASV,GAG3C,gBAAOA,eAGR,SAASI,EAAWJ,GAAU,IACrB0C,EAAY1C,EADS,QAE7B,kBAAW0C,GACV5E,KAAA,OAAU4E,EACV5E,KAAA,OAAU4E,EACV5E,KAAA,OAAU4E,EACV5E,KAAA,OAAU4E,GAEV,GAEO,IAAIC,EAAQD,EAlgBrB,SAmgBG5E,KAAA,OACM,IAAI6E,EAAQD,EAjgBrB,UAkgBG5E,KAAA,MAEAA,KAAA,MANAA,KAAA,MCrgBH,IAOM8E,EAA4B,SAACC,GAAD,4CASnB,SAASC,EAAuBC,GAO9C,IAcIC,EArBmD,KAsFvD,MAtGD,QAgEQJ,EAzCP,MA+EOK,KApCYC,iIAEZN,EA7CP,MA2CA,GAoCOK,KA/BaC,2FAElBN,EA9CF,KA4CA,GA+BOK,KAtFgD,QA6DrDL,EAhDF,KA+CA,KA0BOK,KAtBgBE,kDAEhBP,EAzDP,MAuDA,GAsBOK,KAjBcE,8CAEfP,EA5DN,KAXuD,GCcxD,IAKaQ,EACZ,kIAmBKC,EAAmC,IAAIC,OAC5C,mFADD,KAUaC,EACZH,EAAA,MAEQN,IAHF,KAODU,EAA6B,IAAIF,OAEtC,wDAFkC,IAAnC,KAmBe,SAASG,EAAoBC,GAC3C,OAAOA,UL9FD,GK+FLF,OADD,GC3FD,IAAMG,EAAe,IAAIL,OAAO,MAAQR,IAAnB,KAArB,KCEO,IAAMc,EAAS,CACrB,EADqB,IAErB,EAFqB,IAGrB,EAHqB,IAIrB,EAJqB,IAKrB,EALqB,IAMrB,EANqB,IAOrB,EAPqB,IAQrB,EARqB,IASrB,EATqB,IAUrB,EAVqB,IAWrB,SAXqB,IAYrB,SAZqB,IAarB,SAbqB,IAcrB,SAdqB,IAerB,SAfqB,IAgBrB,SAhBqB,IAiBrB,SAjBqB,IAkBrB,SAlBqB,IAmBrB,SAnBqB,IAoBrB,SApBqB,IAqBrB,SArBqB,IAsBrB,SAtBqB,IAuBrB,SAvBqB,IAwBrB,SAxBqB,IAyBrB,SAzBqB,IA0BrB,SA1BqB,IA2BrB,SA3BqB,IA4BrB,SA5BqB,IA6BrB,SA7BqB,IA8BrB,SA9BqB,IA+BrB,SA/BqB,IAgCrB,SAhCqB,IAiCrB,SAjCqB,IAkCrB,SAlCqB,IAmCrB,SAnCqB,IAoCrB,SApCqB,IAqCrB,SArCqB,IAsCrB,SAtCqB,IAuCrB,SAvCqB,IAwCrB,SAxCqB,KA2Cf,SAASC,EAAWC,GAC1B,OAAOF,EAAP,GAgBc,SAASG,EAAYC,GACnC,IAAIpH,EADuC,GAQ3C,EAAwBoH,QAAxB,4DAA0C,yFACnCC,EAAQJ,EAD2B,GAEzC,IACCjH,MAGF,SC/Dc,SAASsH,EAA2BF,GAClD,IAAIpH,EADsD,GAQ1D,EAAwBoH,QAAxB,4DAA0C,qFACzCpH,GAAUuH,EAD+B,EAC/BA,IAAVvH,GAED,SAcM,SAASuH,EAA0BL,EAAWM,GAEpD,SAAIN,EAAmB,CAGtB,KACC,OAED,UAGD,OAAOD,EAAP,GCnDc,SAASQ,EAAkBC,EAAgBtE,GACzD,OAAOuE,EAAyBD,OAAgBtG,EAAhD,GAKM,SAASuG,EAAyBD,EAAgBrG,EAAM+B,GAC9D,IAAMwE,EAAYxE,OADsD,GAUpEyE,EAAmBD,GAAaA,EAAbA,mBAA4CxE,EAVK,kBAcxE,MACC,oBAGD,4BAAI/B,EAAiC,CAGpC,IAAK+B,OAAL,cAGC,OAAOuE,EAAyBD,EAAgB,SAAhD,GAGD,IAAMI,EAAc1E,OAApB,UACA,IAMCyE,ECpCY,SAAqBnG,EAAGC,GACtC,IAAMoG,EAASrG,EAAf,QAEA,4DAAyB,yFAAdsG,EAAc,EACpBtG,aAAJ,GACCqG,UAIF,OAAOA,EAAA,MAAY,qBAAUrG,EAAV,KD2BEuG,CAAYJ,EAAkBC,EANjC,yBAmBb,GAAIzG,IAAJ,EACJ,uBAGD,IAAM6G,EAAgBR,EAnDkD,OA6DlES,EAAiBN,EAAvB,GAEA,OAAIM,IAAJ,EACC,cAGGA,EAAJ,EACC,YAGGN,EAAiBA,SAAjBA,GAAJ,EACC,WAIMA,gCAAP,iBEhCM,SAASO,EAAiBV,EAAgBtE,GAChD,MACC,gBADOqE,EAAkBC,EAA1B,G,kZChDc,SAASW,EAAgBC,EAAMC,GAI7C,OADAD,EAAOA,GAAPA,GACO,IAAI5B,OAAO,OAAS6B,EAApB,WAAP,GCND,IAAMC,EAA6B,CAAC,SAAD,gFAAnC,aAae,SAASC,EAAcC,EAAOC,EAASvF,GAQrD,GAJAuF,EAAUA,GAHX,GAOMD,EAAL,UAIAtF,EAAW,IAAID,EAAfC,IAEAA,oBAA6BsF,EAA7BtF,QAA4CsF,EAA5CtF,oBAEA,IAAMsE,EAAiBiB,KAAaD,EAAbC,eAAoCD,EAf5D,MAqBC,GAAKL,EAAgBX,EAAgBtE,EAArC,0BAKA,GAAIwF,EAAoBlB,EAAgB,aAAxC,GAKC,OAAItE,kBAAJ,KAA+BA,2BAC9B,uBAMIA,OAAL,UAOIwF,EAAoBlB,EAAgB,SAAxC,GACC,uBAGD,aAVC,uBAaF,+BAA+C,CAA1C,IAAMrG,EAAI,EAAV,GACJ,GAAIuH,EAAoBlB,EAAgBrG,EAAxC,GACC,YAKI,SAASuH,EAAoBlB,EAAgBrG,EAAM+B,GAEzD,UADA/B,EAAO+B,OAAP/B,MACcA,EAAd,eASIA,qBACHA,4BAA+BqG,EAA/BrG,QADD,IAIOgH,EAAgBX,EAAgBrG,EAAvC,YC3Dc,SAASwH,EAAiCC,GACxD,OAAOA,UAAwB,IAAIpC,OAAO,IAAX,eAAxBoC,UAAP,OC3BM,IAAMC,EAAN,SAEQ,SAASC,EAAgC,EAAzC,KASb,IALAC,EAKA,EALAA,uBACAC,EAIA,EAJAA,mBAKKJ,GADL,EAHAK,YAGA,EAFA/F,SAGuB0D,UACvB,IAAIJ,OAAOjF,EADYqF,WAEvBmC,EACGxH,EADmB,sBAgBpByH,GAAsBzH,EAAtByH,+BACGzH,qBAA6CA,EADhDyH,gCAEGzH,EApBN,WAuBA,SACQoH,EAAP,GAED,ECjCD,IAAMO,EAAN,yC,wHCAA,IAAMC,EAAkB,CACvBC,gBAAiB,0CAA+DlG,EAA/D,mBAgBH,SAASmG,EAAab,EAAOjH,EAAQkH,EAASvF,GAU5D,GAPCuF,EADD,E,uUACW,CAAH,KAAPA,GAEAA,EAGDvF,EAAW,IAAID,EAAfC,GAEIsF,WAAJ,QAAqBA,UAAyB,CAE7C,IAAKtF,aAAoBsF,EAAzB,SACC,MAAM,IAAIzG,MAAM,oBAAV,OAA8ByG,EAApC,UAEDtF,UAAiBsF,EAAjBtF,aAEI,KAAIsF,EAAJ,mBAGA,OAAOA,SAAP,GAFJtF,sBAA6BsF,EAA7BtF,oBAID,IAMA,EANMoG,EAAqBpG,EAA3B,qBAEMsE,EAAiBiB,KAAaD,EAAbC,eAAoCD,EAxBW,MA8BtE,UACC,eAGC,SAIOe,GADP3C,EAAS4C,EAAqBhC,EAAgBgB,EAAjB,yBAA7B5B,GAC4B4B,EAAT,MAA8BC,EAAjD,iBAHC,GAKF,oBAGC,UAGA7B,EAAS4C,EAAqBhC,EAAgB,KAAM,gBAAiBtE,EAArE0D,GAEO2C,GADP3C,EAAS,IAAH,qBAANA,GAC4B4B,EAAT,MAA8BC,EAAjD,kBAJC,cAMF,YAEC,8BAED,cACC,OCjCI,SAAuB,GAAiB,IAAf7B,EAAe,EAAfA,OAAQ6C,EAAO,EAAPA,IACvC,MACC,SAED,SAAI7C,KACH,MAAM,IAAI7E,MAAV,6DAED,8BAAuB0H,EAAM,QAAH,EAA1B,ID0BSC,CAAc,CACpB9C,OAAQ,IAAF,iBADc,GAEpB6C,IAAKjB,EAAMiB,MAOb,UACC,IAAKhB,EAAL,YAA0B,OAI1B,IAAMG,EAqDT,SAAmB,EAAnB,SASC,GAF+BlD,EAAsBiE,EAAazG,EADjE,YAGD,EAAmD,CAClD,IAAM0F,EAAkBY,EAAqBhC,EAAgByB,EAAa,WADxB,GAIlD,YAAIK,EACIA,MAAP,EAWD,EAED,IAAMM,EDlKQ,SAAsBhG,EAASE,EAAaZ,GAC1D,IAAM2G,EAAkB,IAAI5G,EAA5B,GAEA,OADA4G,2BACIA,EAAJ,mBACQA,EAAP,mBAEGX,OAA+BW,EAAnC,aACQA,EAAP,iBADD,EC4JkBC,CAAaH,OAAazI,EAAWgC,EAAvD,UACA,KACC,4CAA6CsG,EAAqBhC,EAAgB,KAAM,gBAAxF,IAlFyBuC,CAAU,EAEjCvB,EAFgC,cAIhCC,EAJgC,YAAjC,GAOA,OAAOc,GAAaX,EAAiBJ,EAAlB,MAAuCC,EAA1D,iBAED,QACC,MAAM,IAAI1G,MAAM,0DAAV,SAAN,OAIH,SAASyH,EAAqB5C,EAAQqC,EAAae,EAAU9G,EAAUuF,GACtE,IAAMlH,EAgBP,SAA+B0I,EAAkBC,GAChD,gEAAuC,yFAA5B3I,EAA4B,EAEtC,GAAIA,iCAAJ,EAA+C,CAE9C,IAAM4I,EAA2B5I,0BAA+BA,iCAFlB,GAI9C,OAAI2I,YACH,SAIF,GAAI/B,EAAgB+B,EAAiB3I,EAArC,WACC,UA7Ba6I,CAAsBlH,EAAD,UAApC,GACA,SAGO4F,EAAgC,EAAD,EAGrC,CACCC,uBADD,kBACyBiB,EACxBhB,oBAAoBzH,6DAAoEkH,IAApElH,IAA+EkH,iBACnGQ,YAHD,EAIC/F,aATD,EAgCF,SAASqG,GAAaX,EAAiBa,EAAKvG,EAAUkG,GACrD,OAAOK,EAAML,EAAgBR,EAAiBa,EAApC,GAAV,E,gSE5ID,IAEqBY,G,WACpB,kBACC,G,4FADyD,UACzD,EACC,MAAM,IAAItK,UAAV,gDAED,MACC,MAAM,IAAIA,UAAV,+BAED,MACC,MAAM,IAAIA,UAAV,yBAED,IAAMuK,EAAY,IAAIrH,EAVmC,GAarDsH,GAAJ,KACCvJ,KAAA,UACAsJ,aACAhB,EAAqBgB,EAArBhB,sBASDtI,KAAA,qBACAA,KAAA,iBACAA,KAAA,OAAc,IAAMA,KAAN,mBAAgCA,KAA9C,eACAA,KAAA,W,qDAGMyI,GACNzI,KAAA,Q,mCAIA,OR3Ca,SAA+BwH,EAAOC,EAASvF,GAQ7D,QANA,IAAIuF,IACHA,MAGDvF,EAAW,IAAID,EAAfC,GAEIuF,EAAJ,GAAgB,CACf,IAAKD,EAAL,mBACC,MAAM,IAAIzG,MAAV,sCAEDmB,sBAA6BsF,EAA7BtF,wBACM,CACN,IAAKsF,EAAL,MACC,SAED,GAAIA,EAAJ,QAAmB,CAClB,IAAKtF,aAAoBsF,EAAzB,SACC,MAAM,IAAIzG,MAAM,oBAAV,OAA8ByG,EAApC,UAEDtF,UAAiBsF,EAAjBtF,aACM,CACN,IAAKsF,EAAL,mBACC,MAAM,IAAIzG,MAAV,sCAEDmB,sBAA6BsF,EAA7BtF,qBAIF,GAAIA,EAAJ,kBACC,OAAOgF,EAAiBM,SAAeA,EAAhB,eAAvB,GAQA,GAAIA,sBAA4BtF,6BAAoCsF,EAApE,oBAGC,SAEA,MAAM,IAAIzG,MAAV,kGQDMmG,CAAiBlH,KAAM,CAAE0D,IAAI,GAAQ1D,KAA5C,Y,gCAIA,OCjBoCwH,EDiBfxH,KCjBsByH,EDiBhB,CAAE/D,IAAI,GCjBmBxB,EDiBXlC,KAAzC,SCbDyH,EAAUA,GAAVA,GAEAvF,EAAW,IAAID,EALhB,KASMuF,EAAL,UAKAtF,sBAA6BsF,EAA7BtF,QAA4CsF,EAd7C,oBAkBKtF,EAAJ,gBAEC,IAAOqF,EAAcC,EAAOC,EAASvF,EAA9BqF,UAMDJ,EADiBM,KAAaD,EAAbC,eAAoCD,EAA5D,MACwCtF,EAAxC,0BA3Bc,IAAuBsF,EAAOC,EAASvF,I,wCDsBpD,OADiB,IAAID,EAASjC,KAA9B,UACOkC,2BAAoClC,KAA3C,sB,8BAGOwJ,GACP,OAAOxJ,KAAK4F,SAAW4D,EAAhB,QAAsCxJ,KAAKyI,MAAQe,EAA1D,M,gCAUA,OAAOjC,EAAcvH,KAAM,CAAE0D,IAAI,GAAQ1D,KAAzC,Y,6BAGMO,EAAQkH,GACd,OAAOY,EAAa,KAAD,EAGlBZ,E,wUAAU,CAAH,MAAiB/D,IAAI,IAAS,CAAEA,IAAI,GAC3C1D,KAJD,Y,qCAQcyH,GACd,OAAOzH,KAAKO,OAAO,WAAnB,K,0CAGmBkH,GACnB,OAAOzH,KAAKO,OAAO,gBAAnB,K,6BAGMkH,GACN,OAAOzH,KAAKO,OAAO,UAAnB,M,qCAIIgJ,GAAgB,SAACvK,GAAD,MAAW,aAAaS,KAAxB,IE3FhBgK,GAA0B,IAAIjE,OAAO,kDAE5B,SAASkE,GAAe9D,EAAQhD,EAASE,EAAaZ,GACpE,MAIA,IAAM2G,EAAkB,IAAI5G,EAA5B,GACA4G,2BACA,IAAMc,EAAmB,IAAInE,OAAOqD,EAApC,aACA,OAAIjD,YAAJ,CASA,IAAMgE,GALNhE,EAASA,QAAaA,cAZwD,SAiBxDA,MAAtB,IACA,KAAIgE,SAAiBA,MAA4BA,YAAjD,GACC,MAAIA,MAIL,WCfc,SAASC,GAAkDjE,EAAQ1D,GACjF,GAAI0D,GAAU1D,gBAAd,2BAAiE,CAIhE,IAAM4H,EAAgB,IAAItE,OAAO,OAAStD,gBAAT,2BAAjC,KACM6H,EAAcD,OAApB,GACA,KAAiB,CAChB,MADgB,EAyDhB,EAtCME,EAAsBD,SAA5B,EACME,EAAoBD,KAA2BD,EAArD,GACA,GAAI7H,iCAAJ,EACCsE,EAAiBZ,YAEhB1D,EAH+D,+BAO5D8H,EAAJ,IACC/B,EAAc8B,EAAd9B,QASG,CAMJ,IAAMiC,EAA6BH,EAAnC,GACAvD,EAAiBZ,QAAasE,EAP1B,QAUJ,IACCjC,EAAc8B,EAAd9B,IASF,KAAuB,CACtB,IAAMkC,EAA0CvE,UAAemE,EAA/D,IAC+BnE,UAFT,KASS1D,gBAA/B,mBACCkI,EAAiBlI,gBAAjBkI,uBAGDA,EAAiBL,EAAjBK,GAED,MAAO,CACN5D,eADM,EAEN4D,eAFM,EAGNnC,gBAID,MAAO,CACNzB,eAAgBZ,GCxFL,SAASyE,GAAsBzE,EAAQ1D,GAAU,MAa3D2H,GAAkD,EAbS,GAW9DrD,EAX8D,iBAY9DyB,EAZ8D,cAiB/D,IAgDD,SAAqCrC,EAAQ0E,EAA2BpI,GAGvE,GAAIiF,EAAgBvB,EAAQ1D,EAAxBiF,2BACFA,EAAgBmD,EAA2BpI,EAD7C,yBAEC,SAOD,SA5DKqI,CAA4B3E,EAAQY,EAAzC,GAEC,MAAO,CAAEA,eAAgBZ,GAW1B,GAAIA,WAAkBY,UAAyByB,EAAcA,EAAH,OAA1D,IAGK/F,EAAJ,kBAMC,OAAQqE,EAAkBC,EAA1B,IACC,gBACA,qBAGC,MAAO,CAAEA,eAAgBZ,GAI7B,MAAO,CAAEY,eAAF,EAAkByB,eC9CX,SAASuC,GAAgE,EAAzE,OAMd,IAAMlC,EAAqB1F,EAAU8B,EAAsB9B,EAAzB,GAAlC,EACA,OAAIgD,aAA0C,EAC7C1D,EAAW,IAAID,EAAfC,IACAA,yBACA,IAAMuI,EAAwB7E,QAAa0C,EAA3C,QAEiBoC,EACbL,GAAsB,EANmB,kBAW5C7D,EACG6D,GAAsB,EAZmB,kBAwB7C,IAEGlD,EAAgBX,EAAgBtE,EAAjC,0BAEAiF,EAAgBuD,EAA+BxI,EAHhD,0BADD,aAOCqE,EAAkBC,EAAlBD,GAEA,MAAO,CACN+B,mBADM,EAEN1C,OAAQ6E,GAIX,MAAO,CAAE7E,UCtCK,SAAS,GAAT,SAMd,MACC,SAUD,SAAIA,KAAmB,CAGtB,IAAM+E,EAAmBjB,GAAe9D,EAAQhD,EAASE,EAHnC,GAOtB,IAAI6H,GAAoBA,IAAxB,EAEO,CAKN,GAAI/H,GAAJ,EAA4B,OAIvB4H,GAAgE,EAAD,IAJxC,GAE1BlC,EAF0B,qBAGlBsC,EAHkB,SAU3B,KACC,MAAO,CACNtC,mBADM,EAEN1C,OAAQgF,GAIX,MAAO,CAAEhF,UAvBTA,EAAS,IAATA,EA4BF,SAAIA,KACH,SAGD1D,EAAW,IAAID,EApDd,GAgED,IADA,IAAIP,EAAJ,EACOA,KzBpFD,GyBoFqCA,GAAKkE,EAAhD,QAA+D,CAC9D,IAAM0C,EAAqB1C,UAA3B,GACA,GAAI1D,iBAAJ,GAEC,OADAA,yBACO,CACNoG,mBADM,EAEN1C,OAAQA,YAGVlE,IAGD,SCnGc,SAASmJ,GAAwB/H,EAAagI,EAAqB5I,GAQjF,IAAM6I,EAAoB7I,gCAA1B,GACA,KAKA,WAAI6I,SACIA,EAAP,GAKF,SAA+BA,EAAmBD,EAAqB5I,GAEtEA,EAAW,IAAID,EAAfC,GACA,gEAAyC,yFAA9BU,EAA8B,EAMxC,GALAV,UADwC,GAMpCA,EAAJ,iBACC,GAAI4I,GAAJ,IACCA,SAA2B5I,EAA3B4I,iBACA,cAKG,GAAIvD,EAAc,CAAEyD,MAAF,EAA8BpI,gBAA/B,EAAqDV,EAAtE,UACJ,UArBK+I,CAAsBF,EAAmBD,EAAqB5I,EAArE,UCQD,IAGMgJ,GAA6B,IAAI1F,OAAO,uDAKxC2F,GAAiC,IAAI3F,OAAO,oDAenC,SAAS,GAAT,OAQd,GALAiC,EAAUA,GAAVA,GAEAvF,EAAW,IAAID,EALuC,GAQlDwF,mBAA2BvF,aAAoBuF,EAAnD,gBAA4E,CAC3E,GAAIA,EAAJ,GACC,MAAM,IAAInG,EAAV,mBAED,MAAM,IAAIP,MAAM,oBAAV,OAA8B0G,EAApC,iBAZqD,MAqKvD,SAAoBL,EAAM1D,EAAI0H,GAE7B,GAAIhE,GAAJ,IAAYA,kBACX,OTrNK,SAAsBA,GAC5B,MADkC,EAOlC,GAFAA,EAAOA,kBAAPA,SAEmBA,MAAnB,6DAAoC,+FACbiE,MADa,QAC5BnK,EAD4B,KACtBlC,EADsB,KAEnC,UACC,UACC4G,IACA,MACD,UACC6C,IACA,MACD,oBAGC,MAAIzJ,OACH4G,EAAS5G,EAAT4G,IAOJ,IAAKD,EAAL,GACC,SAGD,IAAM7G,EAAS,CAAE8G,UAIjB,OAHA,IACC9G,SAED,ESkLQwM,CAAP,GAED,IAAI1F,EApCL,SAAqCwB,EAAMgE,EAASG,GACnD,MACC,OAED,GAAInE,SAjKL,IAiK4C,CAC1C,KACC,MAAM,IAAI9F,EAAV,YAED,OAED,QAAI8J,EACH,SAGD,IAAMI,EAAWpE,SAAjB,IACA,GAAIoE,EAAJ,EACC,OAED,OAAOpE,EAAA,oBAAP,IAkBaqE,CAA4BrE,EAAMgE,EALT,GAOtC,MACC,SAED,IAAKzF,EAAL,GACC,OtB5HK,SAAkCC,GACxC,OAAOL,OAAP,GsB2HKmG,CAAJ,GACQ,CAAE5K,MAAO,aAEjB,GAID,IAAM6K,ErBnOQ,SAA0B/F,GACxC,IAAMgG,EAAQhG,SAAd,GACA,GAAIgG,EAAJ,EACC,SAOD,IAHA,IAAMC,EAAyBjG,UAA/B,GACMkG,EAAUlG,QAAhB,GACIlE,EAAJ,EACOA,EAAIoK,EAAX,QAA2B,CAC1B,GAAIA,EAAJpK,GACC,MAAO,CACNkE,OADM,EAEN6C,IAAKqD,EAAQpK,IAGfA,KqBkN6BqK,CAA9B,GACA,GAAIJ,EAAJ,IACC,SAED,MAAO,CAAE/F,UA3K4CoG,CAAW5E,EAAMK,EAAP,GAAmBA,EAhB5B,SAgBtCwE,EAhBsC,SAgBhBxD,EAhBgB,MAgBX3H,EAhBW,QAmBtD,MAA2B,CAC1B,GAAI2G,EAAJ,GAAgB,CACf,iBAAI3G,EACH,MAAM,IAAIQ,EAAV,aAED,MAAM,IAAIA,EAAV,gBAED,SA1BqD,MAoNvD,SAA0B,EAA1B,OAKE,IAUD,EAVC,EAEoC4K,GACpC9F,EAD6D,OAI7DlE,EANA,UAEKoG,EAFL,qBAEyB1C,EAFzB,SAWD,KACC1D,6BAII,KAAI0D,IAAWuG,IAAf,EAcA,MAAO,GAbXjK,2BACA,IACCU,KASD0F,EAAqB8D,GAAsB1H,EAAsByH,EAAgBjK,EAAjFoG,UAID,MACC,MAAO,CAAEA,sBAjCT,MAuCG+B,GACHjE,EADwB,GAvCxB,GAqCAI,EArCA,iBAsCAyB,EAtCA,cAsDKoE,EAAexB,GAAwBvC,EAAoB9B,EAAjE,GACA,IACC5D,IAEA,QAAIyJ,GAKHnK,cAIF,MAAO,CACNU,QADM,EAEN0F,mBAFM,EAGN9B,eAHM,EAINyB,eA9PGqE,CAAiB,EAEpB7E,EAFmB,eAGnBA,EAHmB,mBAlCkC,GA8BrD7E,EA9BqD,UA+BrD4D,EA/BqD,iBAgCrD8B,EAhCqD,qBAiCrDL,EAjCqD,cAyCtD,IAAK/F,EAAL,2BAA0C,CACzC,GAAIuF,EAAJ,GACC,MAAM,IAAInG,EAAV,mBAED,SAID,IAAKkF,GAAkBA,S3BrGjB,E2BqG6D,CAGlE,GAAIiB,EAAJ,GACC,MAAM,IAAInG,EAAV,aAGD,SAYD,GAAIkF,S3BpHE,G2BoH0C,CAC/C,GAAIiB,EAAJ,GACC,MAAM,IAAInG,EAAV,YAGD,SAGD,GAAImG,EAAJ,GAAgB,CACf,IAAM+B,EAAc,IAAI,GAAJ,IAGnBtH,EAHD,UAcA,OATA,IACCsH,aAED,IACCA,iBAED,IACCA,SAED,EAMD,IAAM+C,KAAS9E,WAAmBvF,EAAnBuF,2BAAD,IACbN,EAAgBX,EAAgBtE,EADnB,yBAId,OAAKuF,EAAL,SAMO,CACN7E,QADM,EAEN0F,mBAFM,EAGNL,YAHM,EAINsE,MAJM,EAKNC,WAAUD,MACT9E,iBACAvF,EADAuF,oBAEAP,EAAiBV,EAFjBiB,IAIDuD,MAVM,EAWNvC,OAhBO8D,EA2FT,gBACC,IAAMzN,EAAS,CACd8D,QADc,EAEdoI,MAAOxE,GAER,IACC1H,SAED,SAnGgBA,CAAO8D,EAAS4D,EAAnB,GAAZ,G,yHCzJa,SAAS,GAAT,OACd,OAAOiG,GAAYrF,E,wUAAM,CAAP,MAAqB1D,IAAI,IAA3C,G,wvBCIM,SAASgJ,GAAmB1L,GACnC,IAGC,EACA,EAJD,OACsC2L,2BADtC,MACQC,EADR,KACeC,EADf,KACsBC,EADtB,KAC6BC,EAD7B,KASC,qBAAWH,EAGN,MAAM,IAAI7N,UAZhB,wCAgBC,GANCqI,IAMIyF,GAAL,kBAAqBA,EAgBhB,KAAIzN,GAAJ,GASA,MAAM,IAAI2B,MAAM,4BAAV,OAAN,IAPJ,GACC0G,IACAvF,KAEAA,SApBD,GACCuF,IACAvF,MAEAuF,SACAvF,KAGD,IACCuF,E,wUAAU,CAAH,CAAK0E,eAAgBU,GAA5BpF,IAgBF,MAAO,CACNL,KADM,EAENK,QAFM,EAGNvF,YAMF,IAAM9C,GAAW,SAAAmD,GAAC,iBAAI,O,yHCxDP,SAASyK,GAA2B5F,EAAMK,EAASvF,GAE7DuF,GAAWA,EAAXA,iBAAsC9C,EAAmB8C,EAAD,eAA5D,KACCA,E,wUAAU,CAAH,MAEN0E,oBAAgBjM,KAIlB,IACC,OAAOoM,GAAiBlF,EAAMK,EAA9B,GACC,MAAO3G,GAER,KAAIA,aAAJ,GAGC,SCjBY,SAAS,KAA6B,MAChB4L,GADgB,WAC5CtF,EAD4C,OACtCK,EADsC,UAC7BvF,EAD6B,WAEpD,OAAO+K,GAA4B7F,EAAMK,EAAzC,GCHc,SAASyF,GAAahL,GACpC,OAAO,IAAID,EAASC,GAApB,e,sDCDYA,GAAW,WAAgB,CACvCiL,sBAAwBC,YADe,WAEvC3K,UAAY2K,YAAiBC,aAGjBC,GAASF,cAAmBA,KAAlC,Q,mBCNA,SAASG,GAAiBC,EAAQtH,GACxC,IAAIuH,EAD4C,EAShD,EAAwBvH,QAAxB,4DAA0C,yFACzC,GACCuH,IAGF,SCbc,SAASC,GAAYC,EAAmBC,GAStD,IARD,IADiEC,EACjE,uDAD+E,IAAKC,EACpF,uDADwG,IAEnGC,EAAaJ,EAAjB,OAEMK,EAAiBT,GAAiB,IAAxC,GACMU,EAAiBV,GAAiB,IAAxC,GAEIW,EAAkBF,EAAtB,EAEOE,KAAuBH,EAAaH,EAA3C,QAECD,GAAqBC,eAArBD,GAEA,MAAIC,MAEHM,IAGDH,IAGD,SCWc,SAAS,GAAT,OAEd,kBAAWI,IAEVA,ECvBa,YACf,IADkCN,EAClC,uDADgD,IAAKO,EACrD,uCACC,MAEC,OAAO,SAAApP,GAAK,MAAK,CAAEoI,KAAMpI,IAG1B,IAAMqP,EAAyBd,GAAiBM,EAAhD,GAEA,OAAO,YAEN,MAEC,MAAO,CAAEzG,KAAF,GAAYwG,YAGpB,IAAIU,EAAJ,EACIC,EAPL,GAeC,EAAwBX,QAAxB,4DACA,yFADW5H,EACX,EACC,GAAIA,IAAJ,GAaA,GAPAuI,GAAsBvP,EAAtBuP,KACAD,IAM8BtP,EAA9B,QAKKA,SAAJ,EAEC,WAlBDuP,KA4BF,OALA,IAECA,EAAqBC,GAAaD,EAAlCA,IAGM,CAAEnH,KAAF,EAA4BwG,aDlCvBa,CAAZN,IAHF,MAM0BA,MAN1B,GAMO/G,EANP,OAMawG,EANb,WAaC,QALA,IAAIxG,IAEFA,KAGF,EAEC,YAAIsH,EAEHA,EAAQtH,EAARsH,WAGD,CAMC,IALA,IAAIC,EAAJ,EACIC,GAAJ,EAEIC,GAAJ,EAEOF,EAAQvH,EAARuH,QAAuBA,EAAQf,EAAtC,QACA,CAEC,GAAIxG,OAAgBwG,EAApB,GACA,CACC,OAAIc,EACJ,CACCE,KACAF,IACA,MAGDG,IAEAH,IAGDC,IAKD,IAECD,EAAQG,EAARH,GAKH,MAAO,CAAEtH,KAAF,EAAQsH,SEzFT,SAASI,GAAahI,GAG5B,GAAIA,mBAA2BA,EAA/B,aAKA,MAAO,CAAE8E,MAAO9E,EAAT,eAAiCiI,IAAKjI,EAAQkI,cAI/C,IAAMC,GACb,EADaA,GAGA,GAwBN,SAASC,GAAiBpI,EAASqI,QAGzC,IAAIA,KAuBL,WAEC,wBAAWC,UACV,OAAOC,QAAgCD,UAAvC,WAVGE,GAGHxI,yBAFIyI,YAAW,kBAAMzI,sBAAN,KAAXyI,IAaN,IAAMF,GAAN,WCbO,SAAS,GAAT,WAEN,IAAMG,EDzCA,SAAsBC,GAE5B,OAAQA,EAAR,SAEC,KAAKR,GACJ,kBAED,KAAKA,GACJ,gBCiCgBS,CAAlB,GACA,UAEC,aACA,gBAECD,mBAEA,IAAME,EAAYb,GAJnB,GAOC,UAECc,GAAepI,EAAfoI,GACOC,GAAgBrI,EAAOsI,EAAQxL,OAASpE,EAA/C,IAIM2P,GAAgBrI,EAAOsI,EAAQxL,EAASkL,EAA/C,IAYH,SAASI,GAAepI,EAAOmI,GAE9B,IAAIvI,EAAOI,EAAX,MACAJ,EAAOA,UAAcuI,EAAdvI,OAAiCA,QAAWuI,EAAnDvI,KAEAI,UACA0H,GAAiB1H,EAAOmI,EAAxBT,OAeD,SAASW,GAAgBrI,EAAOsI,EAAQxL,EAASkL,EAAWO,GAC5D,MC/Fe,gBAOd,IALA,IAAI/Q,EAAJ,GAEIgR,EAAJ,EAEIrB,EAAJ,EACOA,EAAQvH,EAAf,QACA,CACC,IAAMpB,EAAYiK,EAAgB7I,EAAD,GAAjC,QAEA,IAAIpB,IAEHhH,UAEA,IAAImQ,IAECA,IAAJ,EAECa,EAAgChR,SAAhCgR,EAEQb,EAAJ,IAEJa,EAAgChR,EAAhCgR,UAKHrB,IAgBD,YAZA,IAAIQ,IAGHa,EAAgChR,EAAhCgR,QAID,CACChR,MADD,EAEC0P,MAAQsB,GDyDcE,CAAM1I,EAAD,QDjF5B,eC8ED,GAGOxI,EAHP,QAGc0P,EAHd,QAOC,KACA,CACC,IAAMyB,EE3GO,SAAcnR,EAAO0P,EAAOc,GAE1C,UAEC,gBAGKd,EAAJ,IAGC1P,EAAQA,UAAe0P,EAAf1P,GAA4BA,QAFrC,GAIC0P,KAED,MAED,aAEC1P,EAAQA,aAAwBA,QAAY0P,EAA5C1P,GAIF,MAAO,CAAEA,MAAF,EAAS0P,SFqFU0B,CAAKpR,EAAO0P,EAArC,GAEA1P,EAAQmR,EAARnR,MACA0P,EAAQyB,EAARzB,MAKD,IAAM2B,EAAY9P,GAAOvB,EAAO0P,EAAhC,GAEMtH,EAAOiJ,EAAb,KACA3B,EAAa2B,EApBd,MA0BC7I,QA1BD,EA4BC0H,GAAiB1H,EA5BlB,GAgCCuI,K,wkBGhID,SAAS,GAAT,KAQQ,IAPP/Q,EAOO,EAPPA,MACAkR,EAMO,EANPA,MACA3P,EAKO,EALPA,OACgB+P,EAIT,EAJPC,eACAC,EAGO,EAHPA,SACAC,EAEO,EAFPA,UACGC,EACI,yEACDC,EAAcC,oBACdC,EAASC,wBAAY,YAC1BH,YACA,IACC,oBAAWI,EACVA,KAEAA,eAGA,CATH,IAUMC,EAAYF,wBAAY,YHE9BjB,GGCEc,EAFmB,iBHCmBzQ,EGDvC,KAOE,CAACyQ,EAAaT,EAAO3P,EARxB,IAUM0Q,EAAaH,wBAAY,YAI9B,OAHA,GACCL,KAEMS,GAAe,EAErBP,EAFoB,YAArB,KAOE,CAACA,EAAaT,EAAO3P,EAAQiQ,EAXhC,IAaA,OACC,8BAECO,IAFD,EAGC/R,MAAOuB,EAAO4Q,SAAP5Q,GAHR,KAICkQ,UAJD,EAKCD,SAAUQ,MAIbI,GAAQC,gBAARD,KAEAA,UAAkB,CAEjBlB,MAAO9C,UAFU,WAKjB7M,OAAQ6M,UALS,WAQjBmD,eAAgBnD,iBARC,WAWjBjN,KAAMiN,YAXW,WAcjBpO,MAAOoO,KAdU,OAiBjBoD,SAAUpD,UAjBO,WAoBjBqD,UAAWrD,KApBM,KAqBjBkE,MAAOlE,KArBU,KAsBjBmE,QAASnE,KAAUvO,MAGpBuS,gBAAqB,CAEpBb,eAFoB,QAKpBpQ,KAAM,QAGP,UAEA,SAASgR,GAAanS,GACrB,YAAOA,OAAP,OAA8BA,E,2KC7GVwS,G,WACpB,cAAsD,WAAxCC,EAAwC,EAAxCA,gBAAiBC,EAAuB,EAAvBA,qB,4FAAuB,S,6GAAA,gBAuB7C,YACR,cAAkBlT,YAAlB,kBAA2C,CAAtC,IAAMmT,EAAG,EAAT,GACJ,KAAYC,EAAZ,OAxBD5R,KAAA,kBACAA,KAAA,sB,qDAGKmM,EAAgBC,GACrBpM,KAAA,iBACAA,KAAA,iBACAA,KAAA,mBACAA,KAAA,mBACAA,KAAA,UACAA,KAAA,iCACAA,KAAA,iC,uDAIAA,KAAA,0BAAiCA,KAAjC,oBACAA,KAAA,yCACAA,KAAA,sBACAA,KAAA,mBACAA,KAAA,sD,gDASyB4C,EAASE,GAClC9C,KAAA,cACAA,KAAA,oB,iCAGU4C,GACV5C,KAAA,UACAA,KAAA,qB,qCAGc8C,GAEd,OADA9C,KAAA,cACOA,KAAK0R,oBAAoB1R,KAAzB,QAAP,K,iDAKAA,KAAA,eAF0B,EAM1BA,KAAA,8B,mCAGY6R,GACZ7R,KAAA,Y,4DAGqC6R,GACrC7R,KAAA,+B,0CAWA,OAAIA,KAAJ,cACQA,KAAK8R,OAAOpS,OACjBM,KAAK+R,UAAY/R,KAAK+R,UAAtB,OAAD,IACC/R,KAAK8C,YAAc9C,KAAK8C,YAAxB,OAFF,IAKM9C,KAAP,S,4DAIA,OAAIA,KAAJ,eACKA,KAAJ,UACQA,KAAK8R,OAAOpS,MAAMM,KAAK+R,UAA9B,QAGK/R,KAAP,Y,kCCpFWgS,GAAN,IACDC,GAA4B,IAAIzM,OAAtC,IAqBO,SAAS0M,GAAOhM,EAAQiM,GAC9B,GAAIA,EAAJ,EACC,SAGD,IADA,IAAIrT,EAAJ,GACOqT,EAAP,GACC,EAAIA,IACHrT,MAEDqT,MACAjM,KAED,OAAOpH,EAAP,EAGM,SAASsT,GAA2BlM,EAAQmM,GAIlD,MAHA,MAAInM,MACHmM,IAmBK,SAA8BnM,GACpC,IAAMgI,EAAN,GACIxM,EAAJ,EACA,KAAOA,EAAIwE,EAAX,QACC,MAAIA,KACHgI,UAEI,MAAIhI,MACRgI,QAEDxM,IAED,IAAIkK,EAAJ,EACI0G,EAAJ,GACApE,OAAqBhI,EAArBgI,QACA,+BAAqC,CAAhC,IAAMS,EAAK,EAAX,GACJ2D,GAAkBpM,UAAlBoM,GACA1G,EAAQ+C,EAAR/C,EAED,SApCO2G,CAAqBrM,UAA5B,ICtCc,SAASsM,GAAqBC,EAAOlS,EAAQ,GAIzD,IAHF2B,EAGE,EAHFA,SACAwQ,EAEE,EAFFA,sCACAC,EACE,EADFA,gCAGA,GADgB,IAAInN,OAAO,OAAX,OAAkBjF,EAAlB,UAAhB,OACIqS,KAAaH,EAAjB,2BACC,OAgBF,SAAwEA,EAAOlS,EAAQ,GAIpF,IAHF2B,EAGE,EAHFA,SACAwQ,EAEE,EAFFA,sCACAC,EACE,EADFA,gCASIF,EARF,0BAQEA,EARF,cAQEA,EARF,eAQEA,EARF,YAoBF,GAAIC,EAAJ,GAAmD,CAClD,IAAM9K,EAAkBY,GAAqBiK,EAAOlS,EAAQ,CAC3DsS,iCAD2D,EAE3DF,gCAF2D,EAG3DzQ,aAED,KACC,SAKF,OAAOsG,GAAqBiK,EAAOlS,EAAQ,CAC1CsS,iCAD0C,EAE1CF,gCAF0C,EAG1CzQ,aAvDO4Q,CAA+D,EAAD,EAGpE,CACC5Q,SADD,EAECwQ,sCAFD,EAGCC,oCAqDJ,SAAS,GAAT,OAIG,IAHFzQ,EAGE,EAHFA,SACA2Q,EAEE,EAFFA,gCACAF,EACE,EADFA,gCAEII,EAA0BjL,EAC7B2K,EAD4D,4BAG5D,CACCxK,YAAawK,EADd,YAEC1K,uBAAwB0K,EAFzB,cAGCzK,mBAHD,EAIC9F,aAgBF,GAbA,IACKuQ,EAAJ,eAGCM,EAA0BN,iBACzBE,EADyBF,GAA1BM,EAGUN,EAAJ,+CACNM,EAA0BN,mDAA1BM,IAuCH,SAAwCA,EAAyBN,GAChE,OAAOxM,OAAyCwM,EAAhD,oBAnCIO,CAA+BD,EAAnC,GACC,S,gSC7EF,IAKME,GAA6Bf,GALnC,IAEA,IAOMgB,GAAN,OAYMC,GAAwE,oCAOxEC,GAAyE,sCAoCzEC,GAA8B,IAAI7N,OACvC,+BAWoB8N,G,WACpB,cAGG,WADFpR,GACE,EAFFuQ,MAEE,EADFvQ,W,4FACE,oDAyR+B,YAMjC,OAAI,EAAJ,QAOI3B,GACHA,EADGA,gCAEH2S,QAAwC3S,EAFzC,gCANC,IAcD,MA9SE,iDAkhBqC,cAA+C,IAApCgT,EAAoC,EAApCA,cAAenJ,EAAqB,EAArBA,eACjE,GAAI7J,EAAJ,+BAA2C,CAI1C,IAAMgE,EAAqBhE,EAA3B,qBACA,GAAKgE,GAAD,IACDA,IADH,EAEC,aAzhBFvE,KAAA,WACAA,KAAA,c,6DAIAA,KAAA,oBACAA,KAAA,gBACAA,KAAA,8BACAA,KAAA,uCACAA,KAAA,6C,4BAGKwD,EAAeiP,GACpBzS,KAAA,cACA,GACCA,KAAA,aAAcwD,gBACdxD,KAAA,gBAAuBwD,EAAvB,UACIiP,EAAJ,2BACCzS,KAAA,+BAGDA,KAAA,cACAA,KAAA,sB,6BAIK6R,EAAYY,GAAO,ID1GanI,EAA2BpI,EC0GxC,OAezB,GDzHsCoI,ECyHVmI,EAAD,0BDzHsCvQ,ECyHJlC,KAA7D,SDxHD,gBAAOuG,EAAkB+D,EAAlB/D,GCyHL,OAAqBvG,KAArB,wEAA2C,yFAAhCO,EAAgC,EACpCiT,EAA0BhB,GAAqB,EAAD,EAGnD,CACCtQ,SAAUlC,KADX,SAEC0S,sCAAuC,SAAAnS,GAAM,OAAI,0CAAmD,CACnGgT,cAAed,EADoF,cAEnGrI,eAAgBqI,EAAMrI,kBAEvBuI,gCAAiC3S,KAAK2S,kCAGxC,KAQC,OAPA3S,KAAA,cACAA,KAAA,eACAA,KAAA,0BAA+BwT,gBAA/B,OACAxT,KAAA,gCAJ4B,EAO5BA,KAAA,wCAA+CA,KAAK4N,SAAS6F,YAA7D,IACA,GAOH,OAAOzT,KAAK0T,mCAAmC7B,EAA/C,K,yDAIkCA,EAAYY,GAC9C,IAAMkB,EAAyB3T,KADsB,aAG/C4T,EAAoB5T,KAAK6T,aAA/B,GACA,KACC,OAAID,IAAJ,EAIQ5T,KAAK8T,+BAAZ,GAMO9T,KAAK8T,+BAA+BrB,EAA3C,uB,mDASA,WAHFnI,EAGE,EAHFA,0BACAF,EAEE,EAFFA,eACAmJ,EACE,EADFA,cAEMQ,EADJ,EAeEC,EAA4BD,SAxHlC,EAyHMC,EAAJ,IACCA,KAGDhU,KAAA,gBAAuBA,KAAKiU,gBAAgBC,QAC3C,SAAA3T,GAAM,OAAI,sBACN,oBADE,MAWHP,KAAKmU,eAAT,IAAyBnU,KAAKiU,gBAAgBG,QAAQpU,KAA7B,eACxBA,KAAA,gB,kCAIUO,EAAQgT,EAAenJ,GAWlC,QAAIA,IACF7J,EADE6J,uBAGF7J,EAHF,8DAWKgT,IAAD,GAEHhT,EAFD,6D,oCAQaA,EAAQwT,EAAeC,GACpC,IAAMK,EAA6B9T,0BAD4B,OAI/D,OAAI8T,EACH,SASD,GAAIN,SA1LN,EA2LG,SAKDC,EAA4BM,WAAoCD,EAAhEL,GACA,IAAMO,EAAuBhU,0BArBkC,GAwB/D,OAAO,IAAIiF,OAAO,KAAX,oBAAP,K,sCAGejF,EAAQgT,GACvB,OAAOA,EAAgBhT,EAAH,sBAAkCA,EAAtD,W,mCAGYkS,GAAO,0HAGRlS,EAHQ,EAMlB,OAAI,iBAAJ,EACC,QAyCI8S,QAAiC,oBAA6BZ,EAAnE,gBAGK,4BAAL,IAKA,iBACA,UAJC,kBAAuB,0BAA4B,SAAAlQ,GAAC,OAAIA,IAAJ,KACpD,YALA,YA9CF,EAAqBvC,KAAKiU,gBAA1B,+BAHmB,EAGnB,iCAAmD,+BAsDlD,QAtDkD,eAmDjD,UASF,OAJKjU,KAAL,cAECA,KAAA,cAEMA,KAAP,e,8CAGuBO,EAAQkS,GAK/B,KAA0ClS,0BAA1C,IAIA,IAAMqN,EAAW5N,KAAKwU,qBAAqBjU,EATL,GAYtC,UACCP,KAAA,gCACA,QAFD,K,uEA8B0EyH,GAAS,IAAnCsK,EAAmC,EAAnCA,UAAW0C,EAAwB,EAAxBA,YAC3D,SACQhN,QAAWA,UAAXA,EAAmDsK,EAA1D,IAED,EACC,GAED,M,kCAGWU,GACX,GAAKzS,KAAL,UASA,IAHA,IAAI2O,GAAJ,EACIjN,EAAJ,EACMgT,EAAsBjC,EAAA,cAAsBzS,KAAK2U,+CAA+ClC,EAAO,CAAEmC,SAAS,IAAxH,GACOlT,EAAIgT,SAA6BjC,wCAAxC,QACC9D,EAAQ3O,KAAK4N,SAASwG,QAAQpC,GAAmBrD,EAAjDA,GACAjN,IAED,OAAO0Q,GAA2BpS,KAAD,SAAgB2O,EAAjD,M,gDAGyBf,EAAU6E,GACnCzS,KAAA,yBACAA,KAAA,gCAF0C,EAK1CA,KAAA,yCAL0C,EAWtCyS,EAAJ,cACCzS,KAAA,SACCA,KAAK2U,+CAA+ClC,GAAOlT,QAAQ,UAAWyS,IAC9EE,GAAOF,GAAmBS,cAD1B,YADD,EAMAzS,KAAA,a,2CAWmBO,E,GAKlB,IAJF+J,EAIE,EAJFA,0BACAiJ,EAGE,EAHFA,cACAnJ,EAEE,EAFFA,eACAyK,EACE,EADFA,6CAEIC,EAAUvU,EAAd,UAICuU,EAAUA,EAAA,QAEA3B,KAFA,eAIAC,KAJV0B,OAeD,IAAIhD,EAASmB,YApBX,GAwBF,KAAI3I,SAAmCwH,EAAvC,SAmCA,IAAMiD,EAAgB,IAAIvP,OAAO,IAAMsP,EAAvC,KACME,EAA4B1K,gBA1fpC,KA+fMyK,OAAJ,KACCjD,KAGD,IArEE,EAqEEmD,EAAejV,KAAKkV,gBAAgB3U,EAAxC,GAUA,GAAIP,KAAK0S,sCAAsCnS,EAAQ,CAAEgT,cAAF,EAAiBnJ,mBAAmB,CAC1F,IAAM+K,EAAiCF,YAEtC1U,EAHyF,gCAa1F,GAAI0F,EAAY1F,EAAZ0F,mCAAwDmE,GAAD,IAAyBnE,EAApF,QACCgP,IACAG,GAFsG,EAKtG,GAEC,IADA,IAAI1T,EAAI0I,EAAR,OACO1I,EAAP,GACCuT,EAAeA,eAAfA,IACAvT,IAOJ,IAAIkM,EAAWkE,EAAA,QAEL,IAAItM,OAFC,cAIL,IAAIA,OA9iBhB,IA0iBiB,KA5Gb,IAwIF,OAlBA,IACC,EAECoI,EAAWsE,GAAOF,GAAmB6C,EAA1B3C,YAAXtE,EAGUxD,IAEVwD,EAAWsE,GAAOF,GAAmB5H,EAA1B8H,QACVlS,KAAK2S,gCADKT,GAAXtE,IAMF,IACCA,EAAWjG,EAAXiG,IAGD,K,qDAG8BkE,GAC9B,IAAMhT,EF/gBD,SAAoC8O,EAAUyH,EAAUvD,GAM9D,MAAoBA,QAApB,4DAAsC,yFAA3B3L,EAA2B,EAKrC,GAAIyH,QAAeyH,EAAfzH,cAAJ,EACC,OAEDyH,EAAWzH,SAAXyH,IACAzH,EAAWA,aAAXA,GAED,MAAO,CAACA,EAAR,GE8fgB0H,CACdtV,KADwC,gCAExCA,KAFwC,wCAAzC,GAMA,KAUA,OAJAA,KAAA,gCAAuClB,EAAvC,GACAkB,KAAA,wCAA+ClB,EAdT,GAiB/BsT,GAA2BpS,KAAD,gCAAuCA,KAAKuV,wCAjBvC,GASrCvV,KAAA,mB,4lBC5lBH,IAMMwV,GAAmD,IAAIhQ,OAAO,KALnE,sDAKwD,IAAzD,KAEMiQ,GACL,qHAaKC,GAAwC,IAAIlQ,OACjD,0DAWKmQ,GAAN,YAEqBC,G,WACpB,cAKG,IAJFzJ,EAIE,EAJFA,eACAC,EAGE,EAHFA,mBACAlK,EAEE,EAFFA,SACA2T,EACE,EADFA,mC,4FACE,SACF7V,KAAA,iBACAA,KAAA,qBACAA,KAAA,WACAA,KAAA,oC,qDAGKoH,EAAMqL,GAAO,IAIlB,EAJkB,EAoab,SAAuCrL,GAAM,SAfpD,SAAwCA,GAEvC,IAAM0O,EA9BP,YAEC,IAOA,EAPMtK,EAAWpE,SAAjB,IACA,KAAIoE,EAAJ,GAiBA,MAVA,OAHApE,EAAOA,QAPmC,IAUtCA,KACH2O,KACA3O,EAAOA,QAAW,IAAlBA,SAGDA,EAAOA,aAfmC,IAiB1C,IACCA,EAAO,IAAPA,GAED,EAUwBqE,KAFqB,GAI7C,YAAIqK,KACI,CAACA,QAAsB,IAAvB,SAAP,GAEM,CAAP,GASiCE,CADkB,MAC9CC,EAD8C,KAC7BF,EAD6B,KAQnD,OAHKP,QAAL,KACCS,MAEM,CAACA,EAAR,GA3aoCC,CADjB,aACXD,EADW,KACMF,EADN,KAEZjE,EAAS7L,EAFG,GAgBlB,OAXA,IACMwM,EAAL,SACCA,6BACA,IACC0D,QAIH,GACCnW,KAAA,iBAEM,CACN8R,OADM,EAENqE,qB,kCASUtE,EAAYY,GAAO,IACtBX,EAAWW,EADW,OAExB2D,EAAgCtE,YAAqBA,SAAgBD,EAAhBC,QAF7B,EAyB9B,GApBAW,eAL8B,GAqB9B,GACCzS,KAAA,oBAGGA,KAAKqW,+BAAT,IACC,IAAKrW,KAAKkM,0BAAV,GACC,YAGDuG,2CAQIA,EAAL,eACMzS,KAAL,uCACCA,KAAA,iCAAsCyS,EAAtC,oBAAiEA,EAAjE,U,wDAK4D,IAA9Bc,EAA8B,EAA9BA,cAAezQ,EAAe,EAAfA,YAC/C,OAAOyQ,IAAP,I,gDAKyBd,GAAO,MACOvG,GACtC,IAAMuG,EADyD,sCAE/DzS,KAF+D,eAG/DA,KAH+D,mBAI/DA,KAAKkC,SAL0B,UACxBoG,EADwB,qBACJ1C,EADI,SAOhC,KAKC,OAJA6M,oBACAA,SAAa,CACZnI,0BAA2B1E,KAE5B,I,4BAIIpC,GACL,KAAmB,CAClBxD,KAAA,4BACA,IAAMsW,EAA2B9S,EAAjC,4BACAxD,KAAA,qDAA4DsW,GAA4BX,QAAxF,QAEA3V,KAAA,gCACAA,KAAA,8D,uDAW+BuW,EAAgBC,GAChD,GAAKxW,KAAL,0BAD0D,MAQtD6J,GAAkD,EAErD7J,KAVyD,UAKzDoK,EALyD,iBAMzD5D,EANyD,iBAOzDyB,EAPyD,cAY1D,GAAIzB,IAAJ,EAUA,OAPAxG,KAAA,sCAOA,K,8DAQuCuW,EAAgBE,EAA+BD,GACtF,IAAKxW,KAAL,sCACC,OAAOA,KAAK0W,iCAAiCH,EAA7C,GAED,GAAKvW,KAAL,sDAJgG,MAW5F6J,GAAkD,EAErD7J,KAb+F,UAQ/FoK,EAR+F,iBAS/F5D,EAT+F,iBAU/FyB,EAV+F,cAqBhG,GAAIzB,IAAJ,EAUA,OAPAxG,KAAA,sCAOA,K,gDAIAoK,EACAnC,EACAqC,EACAiM,EACAC,GAEA,MADC,EAIKG,EAAiCJ,cAJtC,GAUD,GAAII,MACHA,IAAmCJ,SAAwBjM,EAD5D,OAC8F,CAC7FsM,GAD6F,EAO7F,IAAM1M,EAA6BqM,UAP0D,GAazFrM,IAAJ,IACC2K,KAGF2B,EAAS,CACRpM,eADQ,EAERnC,YAFQ,EAGRqC,0BAHQ,EAIRsM,sCAJQ,EAKR/B,iDAID7U,KAAA,yCACAA,KAAA,sC,yDAGkCyS,GAkClC,QAAIzS,KAAK6W,wCACRpE,EADG,oBAEHA,EAFG,0BAGHA,EAHD,UAqBIzS,KAAK8W,iBAAT,IAWI9W,KAAK+W,eAAT,IAVC/W,KAAA,mDACA,QASD,K,uCAMgByS,GAAO,IAItBc,EAIGd,EARmB,cAKtBV,EAGGU,EARmB,UAMtBX,EAEGW,EARmB,OASvB,GADIA,EARmB,2BASnBc,IAAJ,GAOA,IAAM5I,EAAmBjB,GAAe,EAEvC1J,KAFsC,eAGtCA,KAHsC,mBAItCA,KAAKkC,SAJN,UAMA,YAAIyI,OAAkCA,IAAtC,GAGC8H,SAAa,CACZV,UAAWD,UAAgBA,SAAgBnH,EAAhCmH,UAEZ9R,KAAA,6BACA,QAPD,K,qCAWcyS,GACd,IAAKA,EAAL,cAA0B,OAIrBjI,GACHiI,EADkE,OAElEzS,KAFkE,eAGlEA,KAHkE,mBAIlEA,KAAKkC,SARmB,UAEJ8U,EAFI,qBAUzB,GAVyB,SAUzB,EAKC,OAJAvE,SAAa,CACZgC,aAAa,IAEdzU,KAAA,6BACA,K,+CAKsByS,GACxBA,EAD+B,2BAG3BA,EAAJ,4BACCA,mCACAzS,KAAA,oCACAA,KAAA,gD,qEAI6CyS,GAC1CzS,KAAKkM,0BAAT,IAOClM,KAAA,iCAAsCyS,EAAtC,oBAAiEA,EAAjE,a,w0BCraH,IAEqBwE,G,WAKpB,iB,4FAA+C,SAC9CjX,KAAA,SAAgB,IAAIiC,EAApB,GAD8C,SAEDjC,KAAKkX,yBAFJ,MAEvC/K,EAFuC,KAEvBC,EAFuB,KAG9CpM,KAAA,iBACAA,KAAA,qBACAA,KAAA,Q,wEAGwBmX,GAExB,MAFiD,EAwBjD,OAnBA,IACC,WAAI,OACHhL,EAAiBgL,EAAjBhL,eACAC,EAAqB+K,EAArB/K,oBAEAD,KAGEA,IAAmBnM,KAAKkC,SAASiB,WAArC,KACCgJ,UAUM,CAACA,EAAR,K,4BAQK/E,GAAM,MAIPpH,KAAKoX,OAAO5P,MAAMJ,EAAMpH,KAJjB,OAEV8R,EAFU,SAKX,GALW,kBAMV9R,KAAA,yBACM,GAAI8R,EAAQ,CAMlB,MAIA,GATA9R,KADkB,8BAGdA,KAAKyS,MAAT,2BACCzS,KAAA,oCAAyCA,KAAzC,OAGGA,KAAKkC,SAAT,6BACC6Q,EAA0B/S,KAAKmO,UAAU5N,OAAOuR,EAAQ9R,KAAxD+S,aAED,IAAIA,GAEC/S,KAAKoX,OAAOC,mCAAmCrX,KAAnD,OAAgE,CAC/DA,KAD+D,8BAG/D,IAAMuW,EAAiBvW,KAAKyS,MAA5B,oBACA,IACCM,EAA0B/S,KAAKmO,UAAU5N,OAAOgW,EAAgBvW,KAAhE+S,QAIH/S,KAAA,gBAAuB+S,EACpB/S,KAAKsX,cADsC,GAE3CtX,KAFH,wBAID,OAAOA,KAAP,kB,8BAGO,WAgCP,OA/BAA,KAAA,MAAa,IAAIwR,GAAe,CAC/BC,gBAAiB,YAMhB,aAEDC,oBAAqB,cACpB,oCACA,kBAAqB,WAArB,cAAkD,EAAlD,OACA,eAAkB,WAAlB,kBAGF1R,KAAA,UAAiB,IAAI,GAAmB,CACvCyS,MAAOzS,KADgC,MAEvCkC,SAAUlC,KAAKkC,WAEhBlC,KAAA,OAAc,IAAI,GAAgB,CACjCmM,eAAgBnM,KADiB,eAEjCoM,mBAAoBpM,KAFa,mBAGjCkC,SAAUlC,KAHuB,SAIjCyS,MAAOzS,KAJ0B,MAKjC6V,kCAAmC,WAClC,gCACA,kBAAqB,WAArB,cAAkD,EAAlD,UAGF7V,KAAA,YAAiBA,KAAjB,eAAsCA,KAAtC,oBACAA,KAAA,mBACA,O,wCASA,OAAOA,KAAKyS,MAAZ,gB,uCAUA,OAAOzS,KAAKyS,MAAZ,c,8CAKA,OAAOzS,KAAP,mB,mCASY,MACgBA,KADhB,MACJ8R,EADI,SACIlP,EADJ,UAKZ,KAYA,OATA,I,oDA6BK5C,KAAKyS,MAAN,UAAuBzS,KAA3B,iCACCA,KAAA,wB,oCAKY+S,GAAyB,WACtC,GAAI/S,KAAJ,kBAA4B,CAC3B,IAAMuX,EAAS,SAACnQ,GAAD,OAAU,2DAA8D,EAA9D,MAA0E,CAClGwN,UAASxN,IADK,GAGPtE,EAAgB9C,KAJG,kBAK3B,OAMOuX,EANP,EAGA,EAGc,GAAD,qBAAb,GAFC,EAHc,GAAD,OAAIvX,KAAKyS,MAAtB,wCAOF,W,gEAGyC,MAKrCzS,KALqC,MAExCsK,EAFwC,4BAGxCuK,EAHwC,+CAIxCzK,EAJwC,iBAMrCxE,EAAJ,EACM2R,EAAS1C,GAAf,EAIA,OAHA,IACCjP,EAAS2R,EAAT3R,GAED,I,8CAGuB,IACfgR,EAA0C5W,KAD3B,4CAEvB,OAAOA,KAAKsX,cACXV,EACG5W,KADkC,0CAElCA,KAAKyS,MAHT,uB,gDAQA,IAAM7M,EAAS5F,KAAf,wBACA,KACC,OAAO4F,oBAAP,M,sDAI8B,IACvB9C,EAAgB9C,KADO,kBAEzBgD,EAAehD,KAAKkC,SAASa,8BAAnC,GACA,OAAOC,GAAgBA,SAAvB,I,4CAOAhD,KAAA,iBAAsB6K,GACrB7K,KAAKwX,kBAAoBxX,KAAKyS,MAA9B,YAAkDzS,KADN,mBAE5CA,KAAKyS,MAFuC,0BAG5CzS,KAHD,a,kCAaW,MAIPA,KAJO,MAEVsK,EAFU,4BAGVrC,EAHU,cAKX,GAAIjI,KAAJ,mBACC,IAAKA,KAAKyS,MAAV,YACC,YAGD,IAAKzS,KAAKyS,MAAN,UAAwBzS,KAA5B,mBACC,OAGF,MAGA,IAAMwC,EAAcxC,KAApB,aACM8C,EAAc9C,KAAK0E,yBAA2B1E,KAApD,mBACMwJ,EAAc,IAAI,GACvBhH,GADmB,IAGnBxC,KAAKkC,SAHN,UASA,OAJA,IACCsH,iBAGD,K,mCASA,IAAMA,EAAcxJ,KAApB,YACA,WAGOwJ,EAAP,e,gCASA,IAAMA,EAAcxJ,KAApB,YACA,WAGOwJ,EAAP,Y,0CASA,OAAOxJ,KAAKyS,MAAZ,4B,iCAQA,OAAQzS,KAAKyS,MAAMc,cAAgB,IAA5B,IAAwCvT,KAAKyS,MAApD,S,oCAQA,OAAOzS,KAAKmO,UAAUsJ,YAAYzX,KAA3B,QAA0CA,KAA1C,2BAAP,Q,kCCxVK,SAAS0X,GAAoB,GAKjC,IAJF9U,EAIE,EAJFA,QACA2Q,EAGE,EAHFA,cACAoE,EAEE,EAFFA,uBACAzV,EACE,EADFA,SAEA,OAAOU,oBACF8B,EAAsB9B,EADpBA,IAAP,GAKM,SAASgV,GAAuB5Y,EAAOuY,GAO7C,OANA,GAEC,OADAvY,EAAQA,QAAYuY,EAApBvY,SACIA,KACHA,EAAQA,QAARA,IAGF,E,wkBCmGc6Y,OAhHR,SAAqBC,GAS3B,gBAMQ,IALPlV,EAKO,EALPA,QACA2Q,EAIO,EAJPA,cACAoE,EAGO,EAHPA,uBACAzV,EAEO,EAFPA,SACGwO,EACI,sEACDnQ,EAASuQ,wBAAY,YAE1B,IAAM3C,EAAY,IAAI,GAAJ,EAAlB,GACMoJ,EAASG,GAAoB,CAClC9U,QADkC,EAElC2Q,cAFkC,EAGlCoE,uBAHkC,EAIlCzV,aAGGkF,EAAO+G,QAAgBoJ,EAA3B,GACI3J,EAAWO,EAAf,cAQA,OAPA,IACC/G,EAAOwQ,GAAuBxQ,EADnB,GAGX,IACCwG,EAAWgK,GAAuBhK,EAAlCA,KAGK,CACNxG,KADM,EAENwG,cAEC,CAAChL,EAvBJ,IAwBA,OACC,+BAECmO,IAFD,EAGCb,MAHD,EAIC3P,OAAQA,KAgEX,OA5DAwX,EAAa1G,gBAAb0G,IAEAA,UAAuB,CAQtB/Y,MAAOoO,YARe,WActBoD,SAAUpD,UAdY,WA0BtBxK,QAASwK,KA1Ba,OAsCtBmG,cAAenG,KAtCO,KA8CtBuK,uBAAwBvK,KA9CF,KAmDtBlL,SAAUkL,YAAiBC,YAG5B0K,eAA0B,CACzB7V,SAAU4V,GAGX,EAGcD,G,wkBCmBAA,OApIR,YAYN,gBASQ,IARP7Y,EAQO,EARPA,MACAwR,EAOO,EAPPA,SACA5N,EAMO,EANPA,QACA2Q,EAKO,EALPA,cACAoE,EAIO,EAJPA,uBACAzV,EAGO,EAHPA,SACgBkP,EAET,EAFPb,eACGG,EACI,0GACD6G,EAASG,GAAoB,CAClC9U,QADkC,EAElC2Q,cAFkC,EAGlCoE,uBAHkC,EAIlCzV,aAGK8O,EAAYF,wBAAY,YAC7B,IAAIkH,EAAW5R,EAA2BqJ,SADF,OASpCuI,IAAJ,IAEC,IAD0BzX,GAAOgX,EAAQS,EAAUpV,EAAnD,GACIqV,QAA0BxI,SAA1BwI,SAEHD,EAAWA,WAAXA,KAGFxH,OACE,CAAC,EAAD,MAjBH,IAyBA,OACC,8BAECO,IAFD,EAGC/R,MAAOuB,GAAOgX,EAAQvY,EAAO4D,EAH9B,GAIC4N,SAAUQ,KAsEb,OAlEAkH,EAAa7G,gBAAb6G,IAEAA,UAAuB,CAQtBlZ,MAAOoO,YARe,WActBoD,SAAUpD,UAdY,WA0BtBxK,QAAUwK,KA1BY,OAsCtBmG,cAAenG,KAtCO,KA8CtBuK,uBAAwBvK,KA9CF,KAmDtBlL,SAAUkL,YAnDY,WAwDtBmD,eAAgBnD,iBAAsBC,YAGvC6K,eAA0B,CACzBhW,SADyB,EAEzBqO,eAAgB,SAGjB,EAGcsH,GAEf,SAAS,GAAT,SACC,OAAOD,GCnIO,SAAqC5Y,EAAO4D,EAASV,GAKnE,OAJA,IACCA,IACAU,UAEM,IAAI,GAAJ,WAAP,GD+HCuV,CACCZ,EAD0B,IADC,GAA7B,GE9HD,SAASa,GAA2BC,GACnC,OAAOC,qBAAqB,OAAeD,2BAA3C,I,wkBCXc,SAASE,GAAc,GAKnC,IAJFvZ,EAIE,EAJFA,MACAwR,EAGE,EAHFA,SACA/I,EAEE,EAFFA,QACGiJ,EACD,qCACI8H,EAAY1H,wBAAY,YAC7B,IAAM9R,EAAQyQ,SAAd,MACAe,EAASxR,gBAATwR,KACE,CAHH,IAKuBiI,oBAAQ,WAC9B,OAAOC,GAAkBjR,EAAzB,KACE,CAACA,EARF,IAYF,OACC,qCAECzI,MAAOA,GAFR,KAGCwR,SAAUgI,IACT/Q,EAAA,KAAY,gBAAGzI,EAAH,QAAU2Z,EAAV,QAAiBC,EAAjB,iBACZ,6BACCjH,IAAKiH,EAAU,IAAM5Z,GADtB,KAECA,MAAO4Z,EAAU,IAAM5Z,GAFxB,KAGC6Z,WAAUD,EACVE,MAAOF,EAAUG,QAAgB7Y,GALtB,OAahBqY,aAA0B,CAKzBvZ,MAAOoO,KALkB,OAWzBoD,SAAUpD,UAXe,WAczB3F,QAAS,aAAkB,WAAgB,CAC1CzI,MAAOoO,KADmC,OAE1CuL,MAAOvL,KAFmC,OAG1CwL,QAASxL,KAAU4L,QAChB3L,YAGL,IAAM0L,GAAgB,CACrBE,SADqB,MAErBC,gBAFqB,eAGrBC,MAAO,WAGD,SAASC,GAAsB,GASnC,IDtEoCxW,EC8DtC5D,EAQE,EARFA,MACAyI,EAOE,EAPFA,QACA4R,EAME,EANFA,UACeC,EAKb,EALFC,cAEgBC,GAGd,EAJFC,mBAIE,EAHFC,gBACAC,EAEE,EAFFA,aACGjJ,EACD,2GACIkJ,EAAiBnB,oBAAQ,WAC9B,OAAOC,GAAkBjR,EAAzB,KACE,CAACA,EAFJ,IAIA,OACC,0BAAK4R,UAAU,qBACd,+BAECra,MAFD,EAGCyI,QAHD,EAIC4R,UAAWQ,KAAW,0BAA2BR,MAGhDM,GAAD,GACA,0BAAKN,UAAU,gCDpFXjB,IAD+BxV,EC4ErC,GD3EMwV,IAAyCA,GAA2BxV,EAA3E,OC0FK+W,GAAF,IACA,sBACC/W,QADD,EAEC+V,MAAOiB,GAAkBA,EAF1B,MAGCE,YAAaH,EAAe,OAAIzZ,IAGlC,qBAvBF,OA4CD,SAASwY,GAAkBjR,EAASzI,GACnC,gEAA8B,yFAAnB+a,EAAmB,EAC7B,IAAKA,EAAD,SAAmBA,UAAvB,EACC,U,wkBCzHY,SAAS,GAAT,GAMZ,IALFnX,EAKE,EALFA,QACAoX,EAIE,EAJFA,YACAC,EAGE,EAHFA,MACAC,EAEE,EAFFA,QACGxJ,EACD,kDACF,OAAIuJ,GAASA,EAAb,GACQA,EAAA,GAAe,CAAEE,MAAOH,IAG/B,kCAECI,IAFD,EAGCC,KAAML,OAAc9Z,EAHrB,eAICoa,IAAKJ,mCAAiDtX,EAAjDsX,kB,wkBCnBO,SAAS,GAAT,GAAqD,IAAxBJ,EAAwB,EAAxBA,YAAgBpJ,EAAQ,sBACnE,WAAIoJ,EACI,sBAAP,GAEO,sBAAP,GAYF,SAASS,GAAqB,GAAoB,IAAlBJ,EAAkB,EAAlBA,MAAUzJ,EAAQ,gBACjD,OACC,kCAEC8J,MAFD,6BAGCC,QAAQ,cACR,gCAJD,GAKC,wBACCpB,UADD,mCAECqB,OAFD,eAGCC,KAHD,OAICC,YAJD,IAKCC,iBAAiB,MACjB,2BAAMC,cAAN,QAA4Bna,EAAE,yDAC9B,2BAAMA,EAAE,6DACR,2BAAMoa,GAAN,KAAcC,GAAd,KAAsBC,GAAtB,KAA8BC,GAAG,OACjC,2BAAMH,GAAN,KAAcC,GAAd,IAAqBC,GAArB,KAA6BC,GAAG,OAChC,2BAAMJ,cAAN,QAA4Bna,EAAE,0GAC9B,2BAAMma,cAAN,QAA4Bna,EAAE,0HAE/B,2BACC0Y,UADD,mCAECqB,OAFD,OAGCC,KAHD,eAICha,EAAE,8LAYN,SAASwa,GAAqB,GAAoB,IAAlBhB,EAAkB,EAAlBA,MAAUzJ,EAAQ,gBACjD,OACC,kCAEC8J,MAFD,6BAGCC,QAAQ,cACR,gCAJD,GAKC,wBACCpB,UADD,mCAECqB,OAFD,eAGCC,KAHD,OAICC,YAJD,IAKCE,cAAc,SACd,2BAAMna,EAAE,2CACR,2BAAMA,EAAE,6HACR,2BAAMA,EAAE,mEACR,2BAAMA,EAAE,sEACR,2BAAMoa,GAAN,OAAgBC,GAAhB,OAA0BC,GAA1B,OAAoCC,GAAG,UACvC,2BAAMH,GAAN,OAAgBC,GAAhB,QAA2BC,GAA3B,QAAsCC,GAAG,WAE1C,2BACC7B,UADD,mCAECqB,OAFD,cAGCC,KAHD,eAICha,EAAE,gNCjBC,SAASya,GAA4BxY,EAASV,GACpD,QAAIyC,EAAmB/B,EAAvB,KAGCyY,gDACA,GAIK,SAASC,GAAsB7Y,EAAWP,GAOhD,OANA,GAEC,KADAO,EAAYA,EAAA,QAAiB,SAAAG,GAAO,OAAIwY,GAA4BxY,EAAhC,OAChCH,SACHA,UAGF,ECvEM,SAAS8Y,GAA2B,GAKxC,IAJFtB,EAIE,EAJFA,MACAC,EAGE,EAHFA,QACesB,EAEb,EAFFC,cACmBC,EACjB,EADFC,kBAEA,cAIG,IAHF/Y,EAGE,EAHFA,QACA+V,EAEE,EAFFA,MACAmB,EACE,EADFA,YAKM8B,EAAeF,cAArB,EACA,OACC,0BACCrC,UAAWQ,KAAW,wBAAyB,CAC9C,gCAD8C,IACb+B,EACjC,gCAAiChZ,KAGjCA,EAEA,sBACCA,QADD,EAECoX,YAFD,EAGCC,MAHD,EAICC,QAJD,EAKCb,UAAU,6BAEX,sBACCc,MADD,EAECL,YAFD,EAGCT,UAAU,8BAYf,OANAwC,YAAwB,CACvBjZ,QAASwK,KADc,OAEvBuL,MAAOvL,YAFgB,WAGvB0M,YAAa1M,KAAUxH,QAGxB,EJwDDwT,aAAkC,CAEjCG,cAAenM,KAFkB,YAKjCsM,eAAgBtM,iBALiB,WAQjCuM,aAAcvM,KAAU4L,MAGzBI,gBAAqC,CAEpCM,eAAgB,kBAAM,0BAAKL,UAAU,mCChGtCmC,aAA0B,CAGzB5Y,QAASwK,YAHgB,WAMzB4M,YAAa5M,YANY,WAezB6M,MAAO7M,cAAmBA,KAfD,aAmBzB8M,QAAS9M,YAAiBC,YClC3BqO,aAA8B,CAC7BvB,MAAO/M,YADsB,WAE7B0M,YAAa1M,KAAUxH,QAmCxB2U,aAAiC,CAChCJ,MAAO/M,YAAiBC,YAmCzB8N,aAAiC,CAChChB,MAAO/M,YAAiBC,YE7BVkO,GAA2B,CAEzCrB,QAFyC,uEAGzCuB,cAHyC,GAIzCE,kBAAmBG,KAJLP,ICnDTQ,GAAN,QACe,SAASC,GAAkCpZ,EAASV,GAElE,IAAIqV,EAAS,IAAM7S,EAAsB9B,EAFmC,GAU5E,OALAV,EAAW,IAAID,EAAfC,IACAA,uBACIA,iCAA0C6Z,QAAwB7Z,gBAAtE,mBACCqV,GAAUrV,gBAAVqV,iBAED,EC8FM,SAAS,GAAT,KACN,OAAO0E,GAAkBjd,GAAD,GAAxB,GA2BM,SAASkd,GAA4BC,EAAa,GAKtD,IAJFC,EAIE,EAJFA,YACAC,EAGE,EAHFA,WACAna,EAEE,EAFFA,SACAoa,EACE,EADFA,kBAIA,MACC,SACC,GAION,GAAkCK,EAAzC,GAQF,MAMC,SAAIF,KAAwB,CAG3B,KAeC,WAAIA,UAAoB,IAAMzX,EAAsB2X,EAAhDF,IA0YD,SAAiCvW,EAAQhD,EAASV,GAGxD,KAAa,CACZ,IAAMqa,EAA2B,IAAM7X,EAAsB9B,EADjD,GAIZ,GAAIgD,SAAgB2W,EAApB,QACC,OAAIA,aACH,cAGD,OAAI3W,aACH,OAAOA,QAAa2W,EAApB,QAOH,cAAmC/d,YAAY0D,EAA/C,sCAAgF,CAA3E,IAAMsa,EAAoB,EAA1B,GACJ,GAAI5W,eAAyC,IAA7C,OACC,OAAOA,QAAa,IAAI1B,OAASsY,EAAjC,QAIF,SAnaWC,CAAwBN,EAAaE,EAA5C,GAhBqB,GAgCvB,KAAiB,CAChB,IAAMK,EAAmBV,GAAkCK,EAA3D,GACA,WAAIF,aACH,EAEA,EAGD,IAAMQ,EAAeX,GAAkCK,EADjD,GAIN,WAAIF,aACH,EAKD,QAmBF,SAAIA,KAMH,OAAOS,GAAKT,EAAaC,EAAlBQ,IAAP,GAIF,SAUM,SAASA,GAAKhX,EAAQhD,EAASV,GACrC,MAIA,SAAI0D,KAAmB,CAEtB,SAAIA,EACH,OAGD,SAID,MAGA,IAAMiX,EAAsCC,GAAmClX,EAAQhD,EAAvF,GACA,SACC,WAAW8B,EAAsB9B,EAAjC,mBADD,IAaM,SAASma,GAAWnX,EAAQhD,EAASV,GAC3C,IAAM8a,EAAgCF,GAAmClX,EAAQhD,EAAjF,GACA,KAAmC,CAClC,IAAMqa,EAAsBD,SAQ9B,SAA4Bpa,EAASV,GAKpC,OAHAA,EAAW,IAAID,EAAfC,IACAA,oBAH8C,GAKvCA,kCAAyCA,yCAAhD,GAboEgb,CAAmBta,EAAtF,GACA,GAAIqa,EAAJ,EACC,OAAOrX,UAAgBA,SAAvB,GAGF,SAqBM,SAASuX,GAA+BC,EAAmB,GAK/D,IAJFxa,EAIE,EAJFA,QACAH,EAGE,EAHFA,UACA4a,EAEE,EAFFA,SACAnb,EACE,EADFA,SAEA,SAAIkb,EAEH,SAGD,IAAME,EAmNA,SAAkE1X,EAAQ1D,GAChF,IAAMiM,EAAY,IAAI,GAAJ,KAAlB,GAOA,OANAA,QAF0F,GAQnFA,EAAP,aA3NwBoP,CAAyDH,EAN/E,GAWF,OAAIE,KAAqB7a,GAAcA,cAAvC,GACC,GAKQG,MAEP4a,GAA2BJ,EAAmBxa,EAF3C,GAOL,OAPK,EA2KN,SAAS6a,GAA0CjW,EAAO5E,EAASV,GAGlE,OAAIsF,UAAcwU,GAAkCpZ,EAAhD4E,IAA2E,CAE9E,IAAM2G,EAAY,IAAI,GAAJ,EAF4D,GAI9EA,QAJ8E,GAM9E,IAAM3E,EAAc2E,EAApB,YACA,SAGQ3E,iCAAP,IAEA,GAID,OAAOhC,gBAAP,IA4BK,SAASkW,GAAeld,EAAGC,EAAGkd,GAMnC,OAAIrF,iBAAJ,cACS9X,kBAAP,GAGKA,OAAcA,MAArB,EAiDK,SAASsc,GAAmClX,EAAQhD,EAASV,GAEnE,IAAMiM,EAAY,IAAI,GAAJ,EAF2D,GAI7EA,QAJ6E,GAM7E,IAAM3E,EAAc2E,EAApB,YACA,OAAO3E,GAAeA,EAAtB,eASM,SAASgU,GAA2B5X,EAAQhD,EAASV,GAG3D,IAFA,IAAM0b,EAAwB5B,GAAkCpZ,EAAhE,GACIlB,EAAJ,EACOA,EAAIkE,EAAJlE,QAAqBA,EAAIkc,EAAhC,QAA8D,CAC7D,GAAIhY,OAAcgY,EAAlBlc,GACC,SAEDA,IAED,SAOM,SAASmc,GAAsB,GAOnC,IANF7e,EAME,EANFA,MACAwK,EAKE,EALFA,YACA2C,EAIE,EAJFA,eACAoH,EAGE,EAHFA,cACA+I,EAEE,EAFFA,kBACApa,EACE,EADFA,SAQA,QAAKqR,OAAD,OAAiE/J,EAArE,QA1hBM,SAAsCA,GAC5C,OAAOA,iCAAP,IA0hBQsU,CAAP,IAKI9e,GAASuU,GAAd,EACQyI,GAAkC7P,EAAzC,GAED,E,q1ECxnBK4R,G,YAGL,cAAmB,O,4FAAA,SAClB,E,wEAAA,0BADkB,oBAFR1M,kBAEQ,wBAkHL,YACb,qBAD2B,IAETN,EAAQ,EAFC,eAG3B,IACC,oBAAWA,EACVA,KAEAA,gBAzHgB,wCAkKW,YAE7B,OAAOqK,GAA4BxY,EADd,EADqB,mBAlKxB,4BAwKD,YAAgB,MAM7B,EAN6B,MAEhC2Q,EAFgC,gBAGhCrR,EAHgC,WAIhCsO,EAJgC,WAKhCwN,EALgC,iCAW7B,EAX6B,MAgB3BC,EAAiB/B,GAhBU,cAgBmC,CACnEE,YAjBgC,UAkBhCC,WAFmE,EAGnEna,SAHmE,EAMnEoa,mBAAoB/I,IAGfyE,EAAW4E,GAAKqB,EAAgB5B,EAzBL,GA4BjC,GACC,2BAQD,WAAc,CACbzZ,QADa,EAEbsb,yBAFa,EAGb/B,YAHa,EAIbnd,MAAOgZ,IAER,WAKCxH,WAxNiB,qBAiOR,YAAkB,MASxB,EATwB,MAE3BrE,EAF2B,iBAG3BqE,EAH2B,WAI3B2N,EAJ2B,yBAK3B5K,EAL2B,gBAM3B6K,EAN2B,iBAO3BC,EAP2B,6BAQ3Bnc,EAR2B,aAexB,EAfwB,MAY3BO,EAZ2B,cD+FvB,SAA6B0Z,EAAa,GAW9C,IA0FF,EApGAmC,EAUE,EAVFA,gBACA1b,EASE,EATFA,QACAuJ,EAQE,EARFA,eACAoS,EAOE,EAPFA,gBACAC,EAME,EANFA,cACA/b,EAKE,EALFA,UACA8Q,EAIE,EAJFA,cACA6K,EAGE,EAHFA,eACAC,EAEE,EAFFA,2BACAnc,EACE,EADFA,SAEA,GAAIqR,IAAJ,IAAqB8K,EAAsC,CAC1D,IAEuC,EAFjC9G,EAASyE,GAAkCpZ,EADS,GAG1D,OAAIuZ,aAqBH,OANIA,GAAJ,MAAmBA,KAElBnd,EADAmd,EAAc5E,EAAd4E,EAGAA,IAEM,CACNA,YADM,EAENnd,MAFM,EAGN4D,WAsGH,OA5FI2Q,aAAJ,MAAyD4I,OACxDA,EAAcsB,GAA0CtB,EAAavZ,EAArEuZ,IAIGA,MAAJ,IACCA,EAAcY,GAAWZ,EAAavZ,EAAtCuZ,KASGA,SAAeA,MAA4BvZ,IAA/C,IACCuZ,EAAc,IAAdA,IAqBIA,GAAemC,GAApB,MAAuCA,OAErC1b,EADD,OACCA,EAEAA,GAMEuZ,kBAA0CmC,MAA8BA,SAAyB,IAArG,SACC1b,UAKD,IAGG5D,EAFF,MAAImd,KACH,MAAIA,GAEOvZ,GAAJ,IAAeoZ,GAAkCpZ,EAAlCoZ,mBADrBhd,EAIAA,EAGO4d,GAAKT,EAAavZ,EAA1B5D,IAOF,IACC4D,EAAUua,GAA+Bne,EAAO,CAC/C4D,QAD+C,EAE/CH,UAF+C,EAG/CP,cAOGqR,aAAJ,MAAyD4I,OAGxDnd,EAAQ4d,GAFRT,EAAcsB,GAA0CtB,EAAavZ,EADW,GAGtDA,EAA1B5D,MAIG4D,GAAL,IACCA,EAAUuJ,GAAkBqS,KAGtB,CACNrC,YADM,EAENvZ,QAFM,EAGN5D,SC1NIyf,CAAoBC,EAAc,CACrCJ,gBAtB2B,cAuB3B1b,QAvB2B,UAwB3B2b,iBAHqC,EAIrCpS,eAJqC,EAKrCqS,cAAe,kBAAM,2BAA8B,CAAE/b,eACrDA,UANqC,EAOrC8Q,cAPqC,EAQrC6K,eARqC,EASrCC,2BATqC,EAUrCnc,aAbAia,EAlB2B,cAmB3BvZ,EAnB2B,UAoB3B5D,EApB2B,QAkCtB2f,EAAc,CACnBxC,YADmB,EAEnBnd,MAFmB,EAGnB4D,YAGD,IAAIyb,IAUErf,GAASmd,IAAgB,QAA9B,cAECwC,qBAIF,cAMC,kBAAMnO,EAAN,SA/RiB,qBAoSR,kBAAM,WAAc,CAAEoO,WAAW,OApSzB,oBAuST,kBAAM,WAAc,CAAEA,WAAW,OAvSxB,oBAyST,YACT,aADoB,IAEZC,EAAY,EAFA,cAGpB,GACCA,QA7SiB,mBAiTV,YAAW,IACXC,EAAW,EADA,aAEnB,YACA,GACCA,QArTiB,2BAyTF,YAChB,EAD2B,eAGnBC,EAAuB,EAHJ,yBAI3B,KAAwB,KACfF,EAAYE,EADG,QAEvB,GACCF,SAhUgB,0BAqUH,YACf,EAD0B,cAGlBE,EAAuB,EAHL,yBAI1B,KAAwB,KACfD,EAAWC,EADI,OAEvB,GACCD,SA5UgB,MAad,EAbc,MAIjB9f,EAJiB,QAMjBuU,GANiB,0BAOjB4K,EAPiB,yBAUjBa,EAViB,mCAWjBC,EAXiB,qBAYjB/c,EAZiB,aAkBd,EAlBc,MAgBjBiK,EAhBiB,iBAiBjB1J,EAjBiB,YAqBlB,IACM,8BAAL,KACC0J,WAKF1J,EAAY6Y,GAAsB,EAAlC7Y,GAEA,IAAM+G,EAAc8C,GAAiB,EAArC,GAEA,cAAmBiP,GAA2B,EAA9C,OAEA,IAAM2D,ED5DD,SAA+B,GAQnC,MAPFlgB,EAOE,EAPFA,MACAwK,EAME,EANFA,YACA2C,EAKE,EALFA,eACAqS,EAIE,EAJFA,cACA/b,EAGE,EAHFA,UACA4a,EAEE,EAFFA,SACAnb,EACE,EADFA,SA6BA,OAvBIsH,GAAeA,EAAnB,QAEC5G,EAAU4G,EAAV5G,QACUuJ,IACLnN,IAASwe,GAA2Bxe,EAAOmN,EAAhD,KACCvJ,MAKEH,GAAaA,aAAjB,IACCG,WAOIA,GAAWya,GAAY5a,GAAaA,SAAzC,IACCG,EAAU4b,KAIX,ECwB4BW,CAAsB,CAChDngB,MADgD,EAEhDwK,YAFgD,EAGhD2C,eAHgD,EAIhDkR,UAJgD,EAKhD5a,UAAWA,GAAayK,GALwB,GAMhDsR,cAAe,kBAAM,2BAA8B,CAAE/b,eACrDP,aAzCiB,OA4ClB,QAAa,CAEZkd,MAAO,EAFK,MAKZxc,QALY,EAaZH,UAbY,EAyBZ0Z,YAAa0B,GAAsB,CAClC7e,MADkC,EAElCwK,YAFkC,EAGlC2C,eAHkC,EAIlCoH,cAJkC,EAKlC+I,kBAAmB0C,GALe,aAKqBC,EACvD/c,aAUDlD,SArFiB,E,iTAsVaogB,EAAO3M,GACtC,O,kWAAA,EAEC2M,SCzXY,SAAyDA,EAAOC,EAAW5M,GAAO,IAE/FvQ,EAUGkd,EAZ4F,SAG/F3c,EASG2c,EAZ4F,UAI/EE,EAQbF,EAZ4F,eAKxFpH,EAOJoH,EAZ4F,MAMxFG,EAMJH,EAZ4F,MAO/F7L,EAKG6L,EAZ4F,cAU/FJ,EAEGI,EAZ4F,iCAW/FH,EACGG,EAZ4F,mBAe/EI,EAGbH,EAlB4F,eAgBxFI,EAEJJ,EAlB4F,MAiBxFK,EACJL,EAlB4F,MAsB/FrgB,GAMGyT,EA5B4F,QA4B5FA,EA5B4F,OA2B/FyL,EACGzL,EA5B4F,wBA8B1FkN,EAAyB,SAACC,GAAD,OAAgB/B,GAAsB,GAAD,MAEnEtK,cAFmE,EAGnE+I,kBAAmB0C,GAHgD,aAGZC,EACvD/c,eAcD,GAAIqd,IAAJ,EACC,MAAO,CACNpD,YAAawD,EAAuB,CACnC3gB,WADmC,EAEnCmN,eAAgBmT,IAEjBtgB,WALM,EAMN4D,QANM,EAONsb,6BAAyBhe,GAgB3B,GAAIof,IAAJ,EAA8C,CAC7C,IAAMO,GAAgCP,GAAqBlE,GAA4BkE,EAAvF,GACMQ,GAEL,GAKCvM,GAAiBvU,IAAU2gB,EAAuB,CAClD3gB,WADkD,EAElDmN,eAAgBqT,IAMlB,IAAKtB,GAA2B2B,IADD7H,GAA/B,EAEC,MAAO,CACNpV,QADM,EAONuZ,YAAawD,EAAuB,CACnC3gB,WADmC,EAEnCmN,eAAgBmT,IAGjBtgB,WAAOkB,GAgBV,GAAI8X,OAA0BA,IAA9B,EAAkD,CACjD,MACA,EAkBA,EAjBA,KAAc,CACbxO,EAAc8C,GAAiB0L,EAA/BxO,GACA,IAAMuW,EAAqBzE,GAAsB7Y,EAAjD,GACI+G,GAAeA,EAAnB,UAGMuW,GAAsBA,UAA2BvW,EAA3BuW,UAA3B,KACCC,EAAgBxW,EAAhBwW,SAGDA,EAAgB7C,GAA+BnF,EAAU,CACxDpV,aADwD,EAExDH,UAFwD,EAGxDP,aAWH,OANA,IAEC+d,EAAgC,CAC/B/B,6BAAyBhe,IAG3B,SAECic,YAAawD,EAAuB,CACnCnW,YADmC,EAEnCxK,MAFmC,EAGnCmN,eAAgBmT,IAEjBtgB,MAPD,EAQC4D,QAASoV,EAAWgI,EAAgBV,KDiOjCY,CAAgDd,EAAO3M,EAAR,MAHnD,Q,6CA9PmB,IACXhB,EAAoBzR,KADT,sBAEbmM,EAAmBnM,KAFN,qBAGFmgB,EAAoBngB,KAHlB,cAInB,IACC,IACMA,KAAKob,4BAAV,KACCjP,WAGEgU,IAAJ,GACC1O,Q,yCAKgB4N,EAAWe,GAAW,IAChC3O,EAAoBzR,KADY,sBAEhC4C,EAAY5C,KAFoB,cAIpCyR,GAAmB7O,IAAYwd,EAAnC,SACC3O,O,iDAgBqC,IA6wBH4O,EAAWC,EA7wBrB7d,EAAa,EAAbA,UAAa,EASlCzC,KATkC,MAErCuT,EAFqC,gBAGrC8K,EAHqC,6BAIrCkC,EAJqC,sBAKrCpC,EALqC,yBAMrC7Q,EANqC,SAOrCqQ,EAPqC,UAQrCzb,EARqC,WAUtC,OAmwBmCme,EAnwBA,WAClC,OJzKI,SAA4B5Y,EAAS+Y,GAC3C,MACC,SAED,IAAMC,EAAN,GACMC,EAAN,GACIC,EAAJ,EACA,4DAA6B,yFAAlB7Z,EAAkB,EAC5B,MAAIA,EACH6Z,OAAc,CAAE/H,SAAS,IACf9R,WAAJ,WAAyBA,EAC/B6Z,IACM,WACN,IAAIne,OAAW,EAEdA,EADD,iBAAIsE,OACHtE,EAEAA,EAGD,IAAMmM,EAAQlH,EAAA,QAAgBA,EAAA,QAAe,SAAAsS,GAAM,OAAIA,UAAJ,KAR7C,IAUAA,EAAStS,EAVT,GAYNA,WAZM,GAcNkZ,UAdM,GAiBR,OAAOF,mBAAP,GI4ISG,CDrHH,YAQJ,IAPFne,EAOE,EAPFA,UACAoe,EAME,EANFA,aACA1C,EAKE,EALFA,uBAGA2C,EAEE,EAFFA,sBACgBC,EACd,EADFrD,eAGA,IACCqD,MAID,IAAMC,EAAuBve,EAAA,KAAc,kBAAc,CACxDzD,MADwD,EAQxD2Z,MAAOkI,MAAyBje,MAajC,OATAoe,QAA0B,qBAAUD,EAAgBvgB,EAAD,MAAUC,EAAV,MAAzB,MAG1B,GACCugB,UAA6B,CAC5BrI,MAAOkI,EAAaI,KAItB,ECkFGC,CAAwB,CACvBze,UAAWA,GAAayK,GADD,GAEvB2T,aAFuB,EAGvB1C,yBAAyB5K,IAAD,IAAkB8K,IAHnB,EAIvByC,sBAJuB,IJ1IrB,SAAoCK,EAAgBjf,GAC1D,OACCif,EAAiBA,EAAA,QAAsB,YACtC,UACC,mBACA,QACA,UACA,aACC,SACD,QACC,OAAO/F,GAA4BrB,EAAnC,QAGCoH,OAAJ,EACC,SImICC,CAA2Bb,EAR5B,KAkwB6CD,EAxvB3C,CAAC,EAAD,MAXH,GAowBIe,IAQN,SAAwB7gB,EAAGC,GAC1B,GAAID,WAAaC,EAAjB,OACC,SAGD,IADA,IAAIiB,EAAJ,EACOA,EAAIlB,EAAX,QAAqB,CACpB,GAAIA,OAASC,EAAbiB,GACC,SAEDA,IAED,SAlBE4f,CAAehB,EADjB,MAECiB,GAA2BlB,IAC3BgB,MAED,K,kDArvBwC,IAAb5e,EAAa,EAAbA,UAE1B,OADuBzC,KAAKkhB,wBAAwB,CAAEze,cAC/C0e,GAAP,Q,+BAgMQ,MA8CJnhB,KA9CI,MAGPkB,EAHO,OAIP2X,EAJO,WAKP2I,EALO,eAMP1I,EANO,QAOPO,EAPO,YAWP9I,GAXO,6BAYPkR,EAZO,mBAaPC,EAbO,aAgBiBC,EAhBjB,yBAiBP5C,EAjBO,qBAoBa6C,EApBb,qBA0BPtU,GA1BO,6DAyCPpL,GAzCO,0PA6CJwO,GA7CI,wiBAqDJ1Q,KArDI,MAiDP4C,EAjDO,UAkDPH,EAlDO,YAmDP0Z,EAnDO,cAoDPyC,EApDO,YAuDFtO,EAAiBoR,EAAa,GAApC,GAEMV,EAAuBhhB,KAAKkhB,wBAAwB,CAAEze,cAE5D,OACC,sBACCqW,MADD,EAECO,UAAWQ,KAAWR,EAAW,aAAc,CAC9C,oBAAqBuF,KAItB,yBACC1d,KAAMA,EAAO,GAAH,yBADX,EAEC,aAAYoM,EAAO1K,SAFpB,GAIC5D,MAJD,EAKCyI,QALD,EAMC+I,SAAUxQ,KANX,gBAOC6e,QAAS7e,KAPV,eAQC8e,OAAQ9e,KART,cASC6Y,SAAUA,GAAakG,GAAsBA,EAT9C,SAUCxF,cAAevZ,KAAK6b,eAGrB,yBACC9K,IAAK/Q,KADN,YAECG,KAFD,MAGCqhB,aAAcA,GAHf,KAMCtgB,KAND,EAOCgB,SAPD,EAQCU,QARD,EASC5D,MAAOmd,GATR,GAUC3L,SAAUxQ,KAVX,SAWC6e,QAAS7e,KAXV,QAYC8e,OAAQ9e,KAZT,OAaC6Y,SAbD,EAcCtI,eAdD,EAeC8I,UAAWQ,KAAW,kBAErB4H,GAAoBA,EAFA,UAGpB/Q,EAHoB,oB,gCAhcMW,KAAMwQ,eA2chCC,GAAmB,iBAAiB,qBACzC,+BAA8BC,SAAUhR,QAGzC+Q,aAA6B,CAQ5B9iB,MAAOoO,KARqB,OAe5BoD,SAAUpD,UAfkB,WAqB5ByR,QAASzR,KArBmB,KA2B5B0R,OAAQ1R,KA3BoB,KAiC5ByL,SAAUzL,KAjCkB,KAwD5BoU,aAAcpU,YAxDc,WA8E5B6R,mBAAoB7R,WAAgB,CA9ER,aAkF5B4R,iCAAkC5R,KAlFN,KA2F5BjB,eAAgBiB,KA3FY,OAoG5B3K,UAAW2K,aAAkBA,KApGD,QAgH5BE,OAAQ0U,GAhHoB,WA+H5BrE,QAASvQ,eAAoB,CAC5BA,KAD4B,OAE5BA,aAAkBA,KAjIS,UA2J5B8M,QAAS9M,YA3JmB,WAmL5B6M,MAAO7M,cAAmBA,KAnLE,aA+L5BqO,cAAerO,iBA/La,WAoM5B+Q,uBAAwB/Q,UApMI,WA8M5BuO,kBAAmBvO,iBA9MS,WA4N5BmT,oBAAqBnT,aAAkBA,KA5NX,QAiO5B0L,MAAO1L,KAjOqB,OAsO5BiM,UAAWjM,KAtOiB,OAwP5B6U,uBAAwB7U,iBAxPI,WA+P5B2R,mBAAoB3R,KA/PQ,OA8Q5BmD,eAAgBnD,iBA9QY,WAwR5B8U,mBAAoB9U,iBAxRQ,WA6R5BqU,iBAAkBrU,KA7RU,OAuS5BsU,WAAYtU,UAvSgB,WA8S5BmG,cAAenG,KA9Sa,KAoT5BgR,eAAgBhR,UApTY,WA2T5BiR,2BAA4BjR,UA3TA,WAmU5BlL,SAAUigB,GAnUkB,WAiV5B1Q,gBAAiBrE,KAjVW,KA4V5B4Q,6BAA8B5Q,UAAeC,YAG9CyU,gBAAgC,CAI/BN,aAJ+B,MAS/BS,uBAT+B,GAc/BxG,cAd+B,GAoB/BvB,QApB+B,uEAyB/ByB,kBAzB+B,GA8B/BpL,eA9B+B,QAmC/B2R,mBAnC+B,MAkD/BE,MAAOhV,KAlDwB,IA2D/BsU,YA3D+B,EAiE/BvD,wBAjE+B,EAuE/BC,gBAvE+B,EA8E/BC,4BA9E+B,EAyF/BL,8BAA8B,GAG/B,IAEA,GACA,GAHA,M,mNEt6BO,SAASqE,GAAiBvK,GAChC,IAAMwK,EAAoB,iBAAiB,qBAC1C,0BAAYvR,IAAKA,GADyB,OAc3C,OAVAuR,YAA8B,CAC7BpgB,SAAUigB,GADmB,WAE7B7U,OAAQ0U,GAAe3U,YAGxBiV,eAAiC,CAChCpgB,SADgC,EAEhCoL,WAGD,EAGc+U,KCTAA,OAAiBngB,I,uECrBjB,SAASqgB,IACtB,OAAO5V,MAAMlO,UAAUiB,MAAMR,KAAKe,WAAWuiB,QAAO,SAAUC,EAAWC,GACvE,OAAOD,EAAUE,OAAOD,KACvB,IAAIxO,QAAO,SAAUwO,GACtB,MAAsB,kBAARA,KACbE,KAAK,K,uBC4CH,IAAIC,EAAiBC,KA9B5B,WACE,IAAIC,EAAe,GA0BnB,MAxBsB,qBAAXC,SACLA,OAAO5T,UAAU6T,YACnBF,EAAeA,EAAaJ,OAAOK,OAAO5T,UAAU6T,YAGlDD,OAAO5T,UAAU8T,UACnBH,EAAaI,KAAKH,OAAO5T,UAAU8T,UAGjCF,OAAO5T,UAAUgU,cACnBL,EAAaI,KAAKH,OAAO5T,UAAUgU,cAGjCJ,OAAO5T,UAAUiU,iBACnBN,EAAaI,KAAKH,OAAO5T,UAAUiU,iBAGjCL,OAAO5T,UAAUkU,gBACnBP,EAAaI,KAAKH,OAAO5T,UAAUkU,iBAIvCP,EAAaI,KAAK,SApCpB,SAAgCI,GAC9B,OAAOA,EAAIC,KAAI,SAAUC,GACvB,IAAKA,IAA2B,IAArBA,EAAGrP,QAAQ,MAAeqP,EAAGC,gBAAkBD,EACxD,OAAOA,EAGT,IAAIE,EAAUF,EAAGG,MAAM,KACvB,MAAO,GAAGjB,OAAOgB,EAAQ,GAAI,KAAKhB,OAAOgB,EAAQ,GAAGE,kBA+B/CC,CAAwCf,EA3CpC7O,QAAO,SAAUuP,EAAI9U,EAAOoV,GACrC,OAAOA,EAAK3P,QAAQqP,KAAQ9U,SAmDzB,IAAIqV,EAAgBlB,KAJ3B,WACE,OAAOD,IAAiB,MAIXmB,ICrDf,SAASC,EAAsBC,EAAWC,EAAiBC,GACzD,OAAO,SAAuCC,GAC5C,IAAIC,EAASrkB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKmkB,EAC7EG,EAAiBL,EAAUG,GAAQC,EACvC,OAAOH,EAAgBI,IAI3B,SAASC,EAAWC,GAClB,OAAO,SAA4BJ,GACjC,OAAO,IAAIK,KAAKD,EAAqBJ,GAAMM,UAAY,IAI3D,SAASC,EAAaC,GACpB,OAAO,SAA8BR,GACnC,OAAOQ,EAAUrB,KAAI,SAAUsB,GAC7B,OAAOA,EAAGT,OAeT,SAASU,EAAQV,GACtB,GAAIA,aAAgBK,KAClB,OAAOL,EAAKW,cAGd,GAAoB,kBAATX,EACT,OAAOA,EAGT,IAAIY,EAAO3mB,SAAS+lB,EAAM,IAE1B,GAAoB,kBAATA,IAAsBviB,MAAMmjB,GACrC,OAAOA,EAGT,MAAM,IAAIlkB,MAAM,iCAAiC4hB,OAAO0B,EAAM,MAQzD,SAASa,EAASb,GACvB,GAAIA,aAAgBK,KAClB,OAAOL,EAAKa,WAGd,MAAM,IAAInkB,MAAM,kCAAkC4hB,OAAO0B,EAAM,MAqB1D,SAASc,EAAQd,GACtB,GAAIA,aAAgBK,KAClB,OAAOL,EAAKc,UAGd,MAAM,IAAIpkB,MAAM,iCAAiC4hB,OAAO0B,EAAM,MAoFzD,SAASe,EAAgBf,GAC9B,IAAIY,EAAOF,EAAQV,GACfgB,EAAmBJ,GAAgB,EAAPA,GAAY,IACxCK,EAAmB,IAAIZ,KAG3B,OAFAY,EAAiBC,YAAYF,EAAkB,EAAG,GAClDC,EAAiBE,SAAS,EAAG,EAAG,EAAG,GAC5BF,EAEF,IAAIG,EAA0BxB,EAAsBc,EAASK,GAAkB,KAC3EM,EAAsBzB,EAAsBc,EAASK,EAAiB,KACtEO,EAAgBnB,EAAWkB,GAC3BE,EAAwB3B,EAAsBc,EAASY,GAAgB,KAEvEE,GADoB5B,EAAsBc,EAASY,EAAe,KAChDf,EAAa,CAACQ,EAAiBO,KAKrD,SAASG,EAAezB,GAC7B,IAAIY,EAAOF,EAAQV,GACf0B,EAAkBd,GAAgB,EAAPA,GAAY,GACvCe,EAAkB,IAAItB,KAG1B,OAFAsB,EAAgBT,YAAYQ,EAAiB,EAAG,GAChDC,EAAgBR,SAAS,EAAG,EAAG,EAAG,GAC3BQ,EAEF,IAAIC,EAAyBhC,EAAsBc,EAASe,GAAiB,IACzEI,EAAqBjC,EAAsBc,EAASe,EAAgB,IACpEK,EAAe3B,EAAW0B,GAC1BE,EAAuBnC,EAAsBc,EAASoB,GAAe,IAErEE,GADmBpC,EAAsBc,EAASoB,EAAc,IAC/CvB,EAAa,CAACkB,EAAgBK,KAKnD,SAASG,EAAajC,GAC3B,IAAIY,EAAOF,EAAQV,GACfkC,EAAgB,IAAI7B,KAGxB,OAFA6B,EAAchB,YAAYN,EAAM,EAAG,GACnCsB,EAAcf,SAAS,EAAG,EAAG,EAAG,GACzBe,EAEF,IAAIC,EAAuBvC,EAAsBc,EAASuB,GAAe,GACrEG,EAAmBxC,EAAsBc,EAASuB,EAAc,GAChEI,EAAalC,EAAWiC,GACxBE,EAAqB1C,EAAsBc,EAAS2B,GAAa,GAEjEE,GADiB3C,EAAsBc,EAAS2B,EAAY,GAC7C9B,EAAa,CAAC0B,EAAcI,KAKtD,SAASG,EAA2B1C,EAAiBC,GACnD,OAAO,SAA4CC,GACjD,IAAIC,EAASrkB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKmkB,EAC7Ea,EAAOF,EAAQV,GACfyC,EAAQ5B,EAASb,GAAQC,EACzBC,EAAiB,IAAIG,KAGzB,OAFAH,EAAegB,YAAYN,EAAM6B,EAAO,GACxCvC,EAAeiB,SAAS,EAAG,EAAG,EAAG,GAC1BrB,EAAgBI,IAIpB,SAASwC,EAAc1C,GAC5B,IAAIY,EAAOF,EAAQV,GACfyC,EAAQ5B,EAASb,GACjB2C,EAAiB,IAAItC,KAGzB,OAFAsC,EAAezB,YAAYN,EAAM6B,EAAO,GACxCE,EAAexB,SAAS,EAAG,EAAG,EAAG,GAC1BwB,EAEF,IAAIC,EAAwBJ,EAA2BE,GAAgB,GACnEG,EAAoBL,EAA2BE,EAAe,GAC9DI,EAAc3C,EAAW0C,GACzBE,EAAsBP,EAA2BM,GAAc,GAE/DE,GADkBR,EAA2BM,EAAa,GAC1CvC,EAAa,CAACmC,EAAeI,KAKxD,SAASG,EAAyBnD,EAAiBC,GACjD,OAAO,SAA0CC,GAC/C,IAAIC,EAASrkB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKmkB,EAC7Ea,EAAOF,EAAQV,GACfyC,EAAQ5B,EAASb,GACjBkD,EAAMpC,EAAQd,GAAQC,EACtBC,EAAiB,IAAIG,KAGzB,OAFAH,EAAegB,YAAYN,EAAM6B,EAAOS,GACxChD,EAAeiB,SAAS,EAAG,EAAG,EAAG,GAC1BrB,EAAgBI,IAIpB,SAASiD,EAAYnD,GAC1B,IAAIY,EAAOF,EAAQV,GACfyC,EAAQ5B,EAASb,GACjBkD,EAAMpC,EAAQd,GACdoD,EAAe,IAAI/C,KAGvB,OAFA+C,EAAalC,YAAYN,EAAM6B,EAAOS,GACtCE,EAAajC,SAAS,EAAG,EAAG,EAAG,GACxBiC,EAEwBH,EAAyBE,GAAc,GAAjE,ICtRHE,EDwROC,EAAYnD,EADM8C,EAAyBE,EAAa,IAIxDI,GAFoBN,EAAyBK,GAAY,GACzCL,EAAyBK,EAAW,GACtC/C,EAAa,CAAC4C,EAAaG,KAW7C,SAASE,EAAexD,GAC7B,OAAOc,EAAQgC,EAAY9C,IC3R7B,SAASyD,EAAkBvE,EAAKwE,IAAkB,MAAPA,GAAeA,EAAMxE,EAAIrf,UAAQ6jB,EAAMxE,EAAIrf,QAAQ,IAAK,IAAIxC,EAAI,EAAGsmB,EAAO,IAAIrb,MAAMob,GAAMrmB,EAAIqmB,EAAKrmB,IAAOsmB,EAAKtmB,GAAK6hB,EAAI7hB,GAAM,OAAOsmB,EAEhL,SAASC,EAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAEpM,IAdqB3E,EAcjBgF,EAAiB,CAC1BC,OAAQ,SACRC,OAAQ,SACRC,SAAU,WACVC,GAAI,MAEKC,IAAqDX,EAA5BP,EAAwB,GAA2Ca,EAAeI,GAAI,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,UAAWV,EAAgBP,EAAuBa,EAAeC,OAAQ,CACtW,KAAM,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,KAAM,QAAS,KAAM,UAAWP,EAAgBP,EAAuBa,EAAeE,OAAQ,CAAC,KAAM,UAAWf,GACzOmB,IAtBiBtF,EAsBa5W,MAAM,GAd/C,SAA4B4W,GAAO,GAAI5W,MAAMmc,QAAQvF,GAAM,OAAOuE,EAAkBvE,GAR1CwF,CAAmBxF,IAM7D,SAA0ByF,GAAQ,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAY1qB,OAAOwqB,GAAO,OAAOrc,MAAMwc,KAAKH,GANrDI,CAAiB7F,IAItF,SAAqC8F,EAAGC,GAAU,GAAKD,EAAL,CAAgB,GAAiB,kBAANA,EAAgB,OAAOvB,EAAkBuB,EAAGC,GAAS,IAAI1qB,EAAIJ,OAAOC,UAAUC,SAASQ,KAAKmqB,GAAG3pB,MAAM,GAAI,GAAiE,MAAnD,WAANd,GAAkByqB,EAAE9nB,cAAa3C,EAAIyqB,EAAE9nB,YAAYL,MAAgB,QAANtC,GAAqB,QAANA,EAAoB+N,MAAMwc,KAAKE,GAAc,cAANzqB,GAAqB,2CAA2Ca,KAAKb,GAAWkpB,EAAkBuB,EAAGC,QAAzG,GAJ/MC,CAA4BhG,IAE1H,WAAgC,MAAM,IAAIxkB,UAAU,wIAF8EyqB,IAsB/EhG,KAAI,SAAUC,EAAI9U,GACnE,OAAOA,KCFT,SAAS8a,GAAiBhiB,GACxB,OAAO,SAAUiiB,EAAQrF,GACvB,OAvBJ,SAAsB5c,GACpB,OAAO,SAAUiiB,EAAQrF,GACvB,OAAOA,EAAKsF,eAAeD,GAAU1F,IAAiBvc,IAqB/CmiB,CAAaniB,EAAbmiB,CAAsBF,EAPjC,SAAoBrF,GAClB,IAAIwF,EAAW,IAAInF,KAAKL,GACxB,OAAO,IAAIK,KAAKmF,EAASrE,SAAS,KAKKsE,CAAWzF,KAiC5BoF,GA7BA,CACtBlC,IAAK,UACLT,MAAO,UACP7B,KAAM,YAHR,IA8BW8E,GAAYN,GAzBA,CACrBlC,IAAK,YAyBIyC,GAAiBP,GAvBA,CAC1BlC,IAAK,UACLT,MAAO,OACP7B,KAAM,YAqBGgF,GAAcR,GAnBA,CACvB3C,MAAO,SAmBEoD,GAAkBT,GAjBA,CAC3B3C,MAAO,OACP7B,KAAM,YAgBGkF,GAAqBV,GAdA,CAC9BW,QAAS,UAcAC,GAAgBZ,GAZA,CACzBW,QAAS,SAYAE,GAAab,GAVA,CACtBxE,KAAM,YCrDJsF,GAAS1B,GAAS,GAClB2B,GAAS3B,GAAS,GAClB4B,GAAW5B,GAAS,GAGjB,SAAS6B,GAAarG,GAC3B,IAAIsG,EAAe1qB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKsoB,EAAeG,SAClG0B,EAAU/F,EAAKuG,SAEnB,OAAQD,GACN,KAAKpC,EAAeG,SAElB,OAAQ0B,EAAU,GAAK,EAEzB,KAAK7B,EAAeC,OAClB,OAAQ4B,EAAU,GAAK,EAEzB,KAAK7B,EAAeE,OACpB,KAAKF,EAAeI,GAClB,OAAOyB,EAET,QACE,MAAM,IAAIrpB,MAAM,+BA8Bf,SAAS8pB,GAAexG,GAC7B,IAAIsG,EAAe1qB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKsoB,EAAeG,SAClGzD,EAAOF,EAAQV,GACfyG,EAAaC,EAAc1G,GAC3BkD,EAAMlD,EAAKc,UAAYuF,GAAarG,EAAMsG,GAC9C,OAAO,IAAIjG,KAAKO,EAAM6F,EAAYvD,GAsC7B,SAASyD,GAASC,EAAW5G,GAClC,OAAQ4G,GACN,IAAK,UACH,OAAO7F,EAAgBf,GAEzB,IAAK,SACH,OAAOyB,EAAezB,GAExB,IAAK,OACH,OAAOiC,EAAajC,GAEtB,IAAK,QACH,OAAO0C,EAAc1C,GAEvB,IAAK,MACH,OAAOmD,EAAYnD,GAErB,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KAqB5C,SAASC,GAAaD,EAAW5G,GACtC,OAAQ4G,GACN,IAAK,UACH,OAAOvF,EAAoBrB,GAE7B,IAAK,SACH,OAAO6B,EAAmB7B,GAE5B,IAAK,OACH,OAAOoC,EAAiBpC,GAE1B,IAAK,QACH,OAAO6C,EAAkB7C,GAE3B,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KAwC5C,SAASE,GAAOF,EAAW5G,GAChC,OAAQ4G,GACN,IAAK,UACH,OAAOtF,EAActB,GAEvB,IAAK,SACH,OAAO8B,EAAa9B,GAEtB,IAAK,OACH,OAAOqC,EAAWrC,GAEpB,IAAK,QACH,OAAO8C,EAAY9C,GAErB,IAAK,MACH,OAAOsD,EAAUtD,GAEnB,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KA2C5C,SAASG,GAASH,EAAW5G,GAClC,OAAQ4G,GACN,IAAK,UACH,OAAOpF,EAAgBxB,GAEzB,IAAK,SACH,OAAOgC,EAAehC,GAExB,IAAK,OACH,OAAOuC,EAAavC,GAEtB,IAAK,QACH,OAAOgD,EAAchD,GAEvB,IAAK,MACH,OAAOuD,EAAYvD,GAErB,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KAW5C,SAASI,GAAcJ,EAAWK,EAAOC,GAC9C,IAAIC,EAAe,CAACF,EAAOC,GAAOE,MAAK,SAAUjrB,EAAGC,GAClD,OAAOD,EAAIC,KAEb,MAAO,CAACuqB,GAASC,EAAWO,EAAa,IAAKL,GAAOF,EAAWO,EAAa,KAG/E,SAASE,GAAYhC,GACnB,IAAIY,EAAarqB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK0rB,GACjFC,EAAQ3rB,UAAUiE,OAAS,EAAIjE,UAAU,QAAKC,EAClD,OAAO0rB,EAAMpI,KAAI,SAAUa,GACzB,OAAOiG,EAAWZ,EAAQrF,MACzBzB,KAAK,YAoBH,SAASiJ,GAAenC,EAAQY,EAAYjG,GACjD,OAAOqH,GAAYhC,EAAQY,EAAYjE,EAAehC,IAQjD,SAASyH,GAAUzH,GACxB,IAAIsG,EAAe1qB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKsoB,EAAeG,SAClG0B,EAAU/F,EAAKuG,SAEnB,OAAQD,GACN,KAAKpC,EAAeC,OACpB,KAAKD,EAAeE,OAClB,OAAO2B,IAAYI,IAAUJ,IAAYK,GAE3C,KAAKlC,EAAeG,SACpB,KAAKH,EAAeI,GAClB,OAAOyB,IAAYK,IAAYL,IAAYG,GAE7C,QACE,MAAM,IAAIxpB,MAAM,+BCjVtB,SAASgrB,GAAQ7D,GAAmV,OAAtO6D,GAArD,oBAAX9C,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBhB,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXe,QAAyBf,EAAI3mB,cAAgB0nB,QAAUf,IAAQe,OAAOxqB,UAAY,gBAAkBypB,GAAiB6D,GAAQ7D,GAInX,IAAI8D,GAAgBxtB,OAAOytB,OAAO1D,GAC9B2D,GAAW,CAAC,UAAW,SAAU,OAAQ,SAClCC,GAAiB/e,IAAUgf,MAAMJ,IACjCK,GAAcjf,IAAUkf,UAAU,CAAClf,IAAUlH,OAAQkH,IAAUmf,QAAQnf,IAAUlH,UACjFsmB,GAAY,SAAmBpN,EAAOqN,EAAUC,GACzD,IAAIC,EAAUvN,EAAMqN,GAEpB,IAAKE,EACH,OAAO,KAGT,KAAMA,aAAmBjI,MACvB,OAAO,IAAI3jB,MAAM,iBAAiB4hB,OAAO8J,EAAU,eAAe9J,OAAOoJ,GAAQY,GAAU,mBAAmBhK,OAAO+J,EAAe,oCAGtI,IAAIE,EAAUxN,EAAMwN,QAEpB,OAAIA,GAAWD,EAAUC,EAChB,IAAI7rB,MAAM,iBAAiB4hB,OAAO8J,EAAU,eAAe9J,OAAOoJ,GAAQY,GAAU,mBAAmBhK,OAAO+J,EAAe,8CAG/H,MAEEG,GAAY,SAAmBzN,EAAOqN,EAAUC,GACzD,IAAIE,EAAUxN,EAAMqN,GAEpB,IAAKG,EACH,OAAO,KAGT,KAAMA,aAAmBlI,MACvB,OAAO,IAAI3jB,MAAM,iBAAiB4hB,OAAO8J,EAAU,eAAe9J,OAAOoJ,GAAQa,GAAU,mBAAmBjK,OAAO+J,EAAe,oCAGtI,IAAIC,EAAUvN,EAAMuN,QAEpB,OAAIA,GAAWC,EAAUD,EAChB,IAAI5rB,MAAM,iBAAiB4hB,OAAO8J,EAAU,eAAe9J,OAAOoJ,GAAQa,GAAU,mBAAmBjK,OAAO+J,EAAe,+CAG/H,MAEEI,GAAQ1f,IAAUkf,UAAU,CAAClf,IAAUvO,KAAMuO,IAAU2f,MAAM,CAEtEC,QAAS5f,IAAU6f,QAEVC,GAAU9f,IAAUkf,UAAU,CAAClf,IAAU+f,WAAWzI,MAAOtX,IAAUmf,QAAQnf,IAAU+f,WAAWzI,SAClG0I,GAAUhgB,IAAUmf,QAAQnf,IAAUgf,MAAMF,KAC5CmB,GAAS,SAAgBjO,EAAOqN,EAAUC,GACnD,IAAIY,EAAOlO,EAAMqN,GAEbc,EADQnO,EAAMoO,OACUtB,GAE5B,YAAahsB,IAATotB,IAAsD,IAAhCC,EAAanZ,QAAQkZ,GACtC,IAAIvsB,MAAM,iBAAiB4hB,OAAO8J,EAAU,gBAAgB9J,OAAO2K,EAAM,mBAAmB3K,OAAO+J,EAAe,wBAAwB/J,OAAO4K,EAAa/J,KAAI,SAAUhjB,GACjL,MAAO,IAAKmiB,OAAOniB,EAAG,QACrBoiB,KAAK,MAAO,OAIV,MAGTyK,GAAOhgB,WAAa,SAAU+R,EAAOqN,EAAUC,GAC7C,IAAIY,EAAOlO,EAAMqN,GAEjB,OAAKa,EAIED,GAAOjO,EAAOqN,EAAUC,GAHtB,IAAI3rB,MAAM,aAAa4hB,OAAO8J,EAAU,gCAAgC9J,OAAO+J,EAAe,yBAAyB/J,OAAO2K,EAAM,QAMxI,IAAIG,GAAiB,CAC1BC,gBAAiBtgB,IAAU+f,WAAWzI,MAAMrX,WAC5CsgB,MAAOvgB,IAAU+f,WAAWzI,MAC5BgF,OAAQtc,IAAUlH,OAClB0mB,QAASC,GACTF,QAASH,GACToB,QAASxgB,IAAUvO,KACnBgvB,YAAazgB,IAAUvO,KACvBivB,cAAe1gB,IAAUkf,UAAU,CAAClf,IAAUvO,KAAMwtB,KACpD0B,YAAa3gB,IAAUkf,UAAU,CAAClf,IAAUvO,KAAMuO,IAAU4gB,OAC5DhvB,MAAOkuB,GACPe,UAAW7gB,IAAUlH,QAEZgoB,GAAY,CACrBR,gBAAiBtgB,IAAU+f,WAAWzI,MAAMrX,WAC5C8gB,QAAS/gB,IAAUmf,QAAQnf,IAAUlH,QAAQmH,WAC7CgX,KAAMjX,IAAU+f,WAAWzI,MAAMrX,WACjCqc,OAAQtc,IAAUlH,OAClB0mB,QAASC,GACTF,QAASH,GACToB,QAASxgB,IAAUvO,KACnBgvB,YAAazgB,IAAUvO,KACvBia,MAAO1L,IAAUghB,SAAShhB,IAAUkf,UAAU,CAAClf,IAAUlH,OAAQkH,IAAUxH,UAC3EkoB,cAAe1gB,IAAUkf,UAAU,CAAClf,IAAUvO,KAAMwtB,KACpD0B,YAAa3gB,IAAUkf,UAAU,CAAClf,IAAUvO,KAAMuO,IAAU4gB,OAC5DK,aAAcjhB,IAAUvO,MChGtBwa,GAAY,6BACD,SAASiV,GAAWC,GACjC,IAAIb,EAAkBa,EAAKb,gBACvBc,EAAUD,EAAKC,QACfC,EAAuBF,EAAKrE,gBAC5BA,OAA2C,IAAzBuE,EAAkCC,GAAyBD,EAC7EE,EAAkBJ,EAAKjE,WACvBA,OAAiC,IAApBqE,EAA6BhD,GAAoBgD,EAC9DjF,EAAS6E,EAAK7E,OACdkD,EAAU2B,EAAK3B,QACfD,EAAU4B,EAAK5B,QACfiC,EAAwBL,EAAKM,oBAC7BA,OAAgD,IAA1BD,EAAmC,GAAKA,EAC9DE,EAAkBP,EAAKO,gBACvBC,EAAsBR,EAAKS,eAC3BA,OAAyC,IAAxBD,EAAiC,GAAKA,EACvDE,EAAkBV,EAAKW,WACvBA,OAAiC,IAApBD,EAA6B,OAAMA,EAChDE,EAAqBZ,EAAKa,cAC1BA,OAAuC,IAAvBD,EAAgC,GAAKA,EACrDE,EAAiBd,EAAKe,UACtBA,OAA+B,IAAnBD,EAA4B,SAAMA,EAC9CE,EAAsBhB,EAAKiB,eAC3BA,OAAyC,IAAxBD,EAAiC,GAAKA,EACvDE,EAAkBlB,EAAKmB,WACvBA,OAAiC,IAApBD,EAA6B,OAAMA,EAChDE,EAAqBpB,EAAKqB,cAC1BA,OAAuC,IAAvBD,EAAgC,GAAKA,EACrDE,EAAiBtB,EAAKuB,UACtBA,OAA+B,IAAnBD,EAA4B,SAAMA,EAC9CE,EAAqBxB,EAAKwB,mBAC1BC,EAAiBzB,EAAKyB,eACtB1C,EAAOiB,EAAKjB,KAEZ2C,EADQ1B,EAAKf,MACYpZ,QAAQkZ,GAAQ,EACzC4C,EAAsC,YAAT5C,EAC7B6C,EF6EC,SAA0BlF,EAAW5G,GAC1C,OAAQ4G,GACN,IAAK,UACH,OAAOxF,EAAwBpB,GAEjC,IAAK,SACH,OAAO4B,EAAuB5B,GAEhC,IAAK,OACH,OAAOmC,EAAqBnC,GAE9B,IAAK,QACH,OAAO4C,EAAsB5C,GAE/B,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KE5FnBmF,CAAiB9C,EAAMI,GACjD2C,EAA2BH,GFgHF,SAA2BjF,EAAW5G,GACnE,OAAQ4G,GACN,IAAK,SACH,OAAOhF,EAAuB5B,GAAO,KAEvC,IAAK,OACH,OAAOmC,EAAqBnC,GAAO,IAErC,IAAK,QACH,OAAO4C,EAAsB5C,GAAO,IAEtC,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KE5HYqF,CAAkBhD,EAAMI,GACjF6C,EAAsBrF,GAAaoC,EAAMI,GACzC8C,EAAuBN,GF6HF,SAAuBjF,EAAW5G,GAC3D,OAAQ4G,GACN,IAAK,SACH,OAAO/E,EAAmB7B,EAAM,KAElC,IAAK,OACH,OAAOoC,EAAiBpC,EAAM,IAEhC,IAAK,QACH,OAAO6C,EAAkB7C,EAAM,IAEjC,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KEzIQwF,CAAcnD,EAAMI,GAEzEgD,EAAqB,WACvB,GAAIP,EAAwBnL,cAAgB,EAC1C,OAAO,EAGT,IAAI2L,EFiKD,SAAwB1F,EAAW5G,GACxC,OAAQ4G,GACN,IAAK,UACH,OAAOrF,EAAsBvB,GAE/B,IAAK,SACH,OAAO+B,EAAqB/B,GAE9B,IAAK,OACH,OAAOsC,EAAmBtC,GAE5B,IAAK,QACH,OAAO+C,EAAoB/C,GAE7B,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KEhLnB2F,CAAetD,EAAMI,GACjD,OAAOf,GAAWA,GAAWgE,EANN,GASrBE,EAAsBX,GAA8B,WACtD,GAAIG,EAAyBrL,cAAgB,EAC3C,OAAO,EAGT,IAAI2L,EF0KqB,SAAyB1F,EAAW5G,GAC/D,OAAQ4G,GACN,IAAK,SACH,OAAO7E,EAAqB/B,GAAO,KAErC,IAAK,OACH,OAAOsC,EAAmBtC,GAAO,IAEnC,IAAK,QACH,OAAO+C,EAAoB/C,GAAO,IAEpC,QACE,MAAM,IAAItjB,MAAM,sBAAsB4hB,OAAOsI,KEtLnB6F,CAAgBxD,EAAMI,GAClD,OAAOf,GAAWA,GAAWgE,EANyB,GASpDI,GAAqBnE,GAAWA,GAAW2D,EAC3CS,GAAsBd,GAA8BtD,GAAWA,GAAW4D,EAkB9E,SAASS,GAAY5M,GACnB,IAAI1L,EAAQ,WACV,OAAQ2U,GACN,IAAK,UACH,OFwNH,SAAyB5D,EAAQY,EAAYjG,GAClD,OAAOqH,GAAYhC,EAAQY,EAAYzE,EAAgBxB,IEzNxC6M,CAAgBxH,EAAQY,EAAYjG,GAE7C,IAAK,SACH,OAAOwH,GAAenC,EAAQY,EAAYjG,GAE5C,IAAK,OACH,OAAOiG,EAAWZ,EAAQrF,GAE5B,IAAK,QACH,OAAO6F,EAAgBR,EAAQrF,GAEjC,QACE,MAAM,IAAItjB,MAAM,iBAAiB4hB,OAAO2K,EAAM,OAfxC,GAmBZ,OAAOwB,EAAkBA,EAAgB,CACvCzK,KAAMA,EACN1L,MAAOA,EACP+Q,OAAQA,GAAU1F,IAClBsJ,KAAMA,IACH3U,EAuBP,OAAoBtH,IAAM8f,cAAc,MAAO,CAC7C9X,UAAWA,GACXP,MAAO,CACLsY,QAAS,SAEK,OAAf1B,GAAuBQ,GAA2C7e,IAAM8f,cAAc,SAAU,CACjG,aAAc3B,EACdnW,UAAW,GAAGsJ,OAAOtJ,GAAW,YAAYsJ,OAAOtJ,GAAW,kBAC9DR,SAAUgY,EACVjD,QArEF,WACEmC,EAAmBM,IAqEnBlwB,KAAM,UACLuvB,GAA2B,OAAdI,GAAmCze,IAAM8f,cAAc,SAAU,CAC/E,aAAcvB,EACdvW,UAAW,GAAGsJ,OAAOtJ,GAAW,YAAYsJ,OAAOtJ,GAAW,iBAC9DR,SAAU6X,EACV9C,QA/EF,WACEmC,EAAmBI,IA+EnBhwB,KAAM,UACL2vB,GArCH,WACE,IAAIuB,EAAiB,GAAG1O,OAAOtJ,GAAW,WAC1C,OAAoBhI,IAAM8f,cAAc,SAAU,CAChD,aAActC,EACdxV,UAAWgY,EACXxY,UAAWoX,EACXrC,QAASY,EACT1V,MAAO,CACLwY,SAAU,GAEZnxB,KAAM,UACQkR,IAAM8f,cAAc,OAAQ,CAC1C9X,UAAW,GAAGsJ,OAAO0O,EAAgB,gBAAgB1O,OAAO0O,EAAgB,sBAC3EJ,GAAYvD,IAAmBsC,GAA+B3e,IAAM8f,cAAc9f,IAAMkgB,SAAU,KAAmBlgB,IAAM8f,cAAc,OAAQ,CAClJ9X,UAAW,GAAGsJ,OAAO0O,EAAgB,cACpC,IAAK,SAAU,KAAmBhgB,IAAM8f,cAAc,OAAQ,CAC/D9X,UAAW,GAAGsJ,OAAO0O,EAAgB,gBAAgB1O,OAAO0O,EAAgB,oBAC3EJ,GAAYV,MAoBFiB,GAA8B,OAAdlC,GAAmCje,IAAM8f,cAAc,SAAU,CAC9F,aAAc/B,EACd/V,UAAW,GAAGsJ,OAAOtJ,GAAW,YAAYsJ,OAAOtJ,GAAW,iBAC9DR,SAAUkY,GACVnD,QA7EF,WACEmC,EAAmBQ,IA6EnBpwB,KAAM,UACLmvB,GAA2B,OAAfJ,GAAuBgB,GAA2C7e,IAAM8f,cAAc,SAAU,CAC7G,aAAcnC,EACd3V,UAAW,GAAGsJ,OAAOtJ,GAAW,YAAYsJ,OAAOtJ,GAAW,kBAC9DR,SAAUmY,GACVpD,QA/EF,WACEmC,EAAmBS,IA+EnBrwB,KAAM,UACL+uB,ICjKL,SAASuC,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAAS6xB,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASwK,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EAOne,SAASqB,GAAUC,GACjB,MAAO,GAAGtQ,OAAOsQ,EAAK,KAGT,SAASC,GAAK3E,GAC3B,IAAI4E,EAAW5E,EAAK4E,SAChB9Z,EAAYkV,EAAKlV,UACjB+Z,EAAY7E,EAAK6E,UACjB3lB,EAAQ8gB,EAAK9gB,MACb6W,EAASiK,EAAKjK,OACdxL,EAAQyV,EAAKzV,MACbua,EAAO9E,EAAK8E,KACZC,EAAaZ,GAAyBnE,EAAM,CAAC,WAAY,YAAa,YAAa,QAAS,SAAU,QAAS,SAEnH,OAAoBld,IAAM8f,cAAc,MAAOM,GAAS,CACtDpY,UAAWA,EACXP,MAAOwZ,GAAc,CACnBlB,QAAS,OACTmC,cAAeH,EACfI,SAAUH,EAAO,OAAS,WACzBva,IACFwa,GAAajiB,IAAMoiB,SAASjQ,IAAI2P,GAAU,SAAUO,EAAO/kB,GAC5D,OAAoB0C,IAAMsiB,aAAaD,EAAOpB,GAAcA,GAAc,GAAIoB,EAAMtU,OAAQ,GAAI,CAC9FtG,MAAO,CACL8a,UAAWZ,GAAU,IAAMvlB,GAC3BomB,SAAUb,GAAU,IAAMvlB,GAC1BqmB,SAAU,SACVC,WAAYzP,GAAoB,IAAV3V,EAAcqkB,GAAU,IAAM1O,EAAS7W,GAAS,aC1C9E,SAASumB,GAAmBzQ,GAAO,OAQnC,SAA4BA,GAAO,GAAI5W,MAAMmc,QAAQvF,GAAM,OAAOuE,GAAkBvE,GAR1CwF,CAAmBxF,IAM7D,SAA0ByF,GAAQ,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAY1qB,OAAOwqB,GAAO,OAAOrc,MAAMwc,KAAKH,GANrDI,CAAiB7F,IAItF,SAAqC8F,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOvB,GAAkBuB,EAAGC,GAAS,IAAI1qB,EAAIJ,OAAOC,UAAUC,SAASQ,KAAKmqB,GAAG3pB,MAAM,GAAI,GAAc,WAANd,GAAkByqB,EAAE9nB,cAAa3C,EAAIyqB,EAAE9nB,YAAYL,MAAM,GAAU,QAANtC,GAAqB,QAANA,EAAa,OAAO+N,MAAMwc,KAAKE,GAAI,GAAU,cAANzqB,GAAqB,2CAA2Ca,KAAKb,GAAI,OAAOkpB,GAAkBuB,EAAGC,GAJxTC,CAA4BhG,IAE1H,WAAgC,MAAM,IAAIxkB,UAAU,wIAF8EyqB,GAUlI,SAAS1B,GAAkBvE,EAAKwE,IAAkB,MAAPA,GAAeA,EAAMxE,EAAIrf,UAAQ6jB,EAAMxE,EAAIrf,QAAQ,IAAK,IAAIxC,EAAI,EAAGsmB,EAAO,IAAIrb,MAAMob,GAAMrmB,EAAIqmB,EAAKrmB,IAAOsmB,EAAKtmB,GAAK6hB,EAAI7hB,GAAM,OAAOsmB,EAsBzK,SAASiM,GAAmBj1B,EAAOk1B,GACxC,OAAOA,EAAM,IAAMl1B,GAASk1B,EAAM,IAAMl1B,EAEnC,SAASm1B,GAAmBC,EAAcC,GAC/C,OAAOD,EAAa,IAAMC,EAAa,IAAMD,EAAa,IAAMC,EAAa,GAExE,SAASC,GAAgBC,EAAQC,GACtC,OAAOP,GAAmBM,EAAO,GAAIC,IAAWP,GAAmBM,EAAO,GAAIC,GAGhF,SAASC,GAAmBC,EAAYC,EAAWC,GACjD,IACIzG,EAAU,GAEd,GAHcmG,GAAgBK,EAAWD,GAG5B,CACXvG,EAAQhL,KAAKyR,GACb,IAAIC,EAAeZ,GAAmBS,EAAW,GAAIC,GACjDG,EAAab,GAAmBS,EAAW,GAAIC,GAE/CE,GACF1G,EAAQhL,KAAK,GAAGR,OAAOiS,EAAe,UAGpCE,GACF3G,EAAQhL,KAAK,GAAGR,OAAOiS,EAAe,QAGpCC,GAAgBC,GAClB3G,EAAQhL,KAAK,GAAGR,OAAOiS,EAAe,aAI1C,OAAOzG,EAGF,SAAS4G,KACd,IAAIxG,EAAOtuB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,GAC3EjB,EAAQuvB,EAAKvvB,MACbivB,EAAYM,EAAKN,UACjB5J,EAAOkK,EAAKlK,KACZ2Q,EAAWzG,EAAKyG,SAChBrH,EAAQY,EAAKZ,MAEbtU,EAAY,uBACZ8U,EAAU,CAAC9U,GAEf,IAAKgL,EACH,OAAO8J,EAGT,IAAKxhB,MAAMmc,QAAQzE,KAAU2Q,EAC3B,MAAM,IAAIj0B,MAAM,iHAGlB,IAAIk0B,EAAM,IAAIvQ,KACViQ,EAAYhoB,MAAMmc,QAAQzE,GAAQA,EAAO+G,GAAS4J,EAAU3Q,GAMhE,GAJI4P,GAAmBgB,EAAKN,IAC1BxG,EAAQhL,KAAK,GAAGR,OAAOtJ,EAAW,WAG/Bra,EACH,OAAOmvB,EAGT,IAAKxhB,MAAMmc,QAAQ9pB,KAAWivB,EAC5B,MAAM,IAAIltB,MAAM,iHAGlB,IAAI2zB,EAAa/nB,MAAMmc,QAAQ9pB,GAASA,EAAQosB,GAAS6C,EAAWjvB,GAEhEm1B,GAAmBO,EAAYC,GACjCxG,EAAQhL,KAAK,GAAGR,OAAOtJ,EAAW,aACzBib,GAAgBI,EAAYC,IACrCxG,EAAQhL,KAAK,GAAGR,OAAOtJ,EAAW,gBAGpC,IAAI6b,EAAuBT,GAAmBC,EAAYC,EAAW,GAAGhS,OAAOtJ,EAAW,YAG1F,GAFA8U,EAAQhL,KAAKpjB,MAAMouB,EAAS6F,GAAmBkB,IAE3CvH,EAAO,CACT,IAAIwH,EAAaxH,EAAQ+G,EAAW,GAAK,CAACA,EAAW,GAAI/G,GAAS,CAACA,EAAO+G,EAAW,IACjFU,EAAuBX,GAAmBU,EAAYR,EAAW,GAAGhS,OAAOtJ,EAAW,YAC1F8U,EAAQhL,KAAKpjB,MAAMouB,EAAS6F,GAAmBoB,IAGjD,OAAOjH,ECtHT,SAAS2D,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAASyyB,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EASpd,SAAS0D,GAAU9G,GAmBhC,IAlBA,IAAIlV,EAAYkV,EAAKlV,UACjBic,EAAa/G,EAAK9gB,MAClBA,OAAuB,IAAf6nB,EAAwB,EAAIA,EACpCC,EAAgBhH,EAAKgH,cACrBP,EAAWzG,EAAKyG,SAChBjmB,EAAMwf,EAAKxf,IACX4e,EAAQY,EAAKZ,MACbrJ,EAASiK,EAAKjK,OACd1Y,EAAQ2iB,EAAK3iB,MACb4pB,EAAYjH,EAAKkH,KACjBA,OAAqB,IAAdD,EAAuB,EAAIA,EAClCE,EAAOnH,EAAKoH,KACZ32B,EAAQuvB,EAAKvvB,MACbivB,EAAYM,EAAKN,UACjBC,EAAYwE,GAAyBnE,EAAM,CAAC,YAAa,QAAS,gBAAiB,WAAY,MAAO,QAAS,SAAU,QAAS,OAAQ,OAAQ,QAAS,cAE3JqH,EAAQ,GAEHC,EAAQjqB,EAAOiqB,GAAS9mB,EAAK8mB,GAASJ,EAAM,CACnD,IAAIpR,EAAOkR,EAAcM,GACzBD,EAAMzS,KAAmB9R,IAAM8f,cAAcuE,EAAMjE,GAAS,CAC1D9f,IAAK0S,EAAKM,UACVwJ,QAAS4G,GAAe,CACtB/1B,MAAOA,EACPivB,UAAWA,EACX5J,KAAMA,EACN2Q,SAAUA,EACVrH,MAAOA,IAETtJ,KAAMA,EACNwR,MAAOA,GACN3H,KAGL,OAAoB7c,IAAM8f,cAAc+B,GAAM,CAC5C7Z,UAAWA,EACX5L,MAAOA,EACP6W,OAAQA,EACR+O,MAAM,GACLuC,GCzDL,SAAS9D,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS5F,GAAQ7D,GAAmV,OAAtO6D,GAArD,oBAAX9C,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBhB,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXe,QAAyBf,EAAI3mB,cAAgB0nB,QAAUf,IAAQe,OAAOxqB,UAAY,gBAAkBypB,GAAiB6D,GAAQ7D,GAEnX,SAAS4N,GAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIj3B,UAAU,qCAEhH,SAASk3B,GAAkBtE,EAAQvS,GAAS,IAAK,IAAI1d,EAAI,EAAGA,EAAI0d,EAAMlb,OAAQxC,IAAK,CAAE,IAAIw0B,EAAa9W,EAAM1d,GAAIw0B,EAAW9N,WAAa8N,EAAW9N,aAAc,EAAO8N,EAAW7N,cAAe,EAAU,UAAW6N,IAAYA,EAAW5N,UAAW,GAAM9pB,OAAO2pB,eAAewJ,EAAQuE,EAAWvkB,IAAKukB,IAM7S,SAASC,GAAgB9M,EAAG+M,GAA+G,OAA1GD,GAAkB33B,OAAO63B,gBAAkB,SAAyBhN,EAAG+M,GAAsB,OAAjB/M,EAAEiN,UAAYF,EAAU/M,GAAa8M,GAAgB9M,EAAG+M,GAErK,SAASG,GAAaC,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EnS,KAAKjmB,UAAUC,SAASQ,KAAKw3B,QAAQC,UAAUjS,KAAM,IAAI,iBAAyB,EAAQ,MAAO9jB,GAAK,OAAO,GANzPk2B,GAA6B,OAAO,WAAkC,IAAsCh4B,EAAlCi4B,EAAQC,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,EAAYD,GAAgBh3B,MAAMuB,YAAazC,EAAS43B,QAAQC,UAAUI,EAAO92B,UAAWg3B,QAAqBn4B,EAASi4B,EAAMh3B,MAAMC,KAAMC,WAAc,OAAOi3B,GAA2Bl3B,KAAMlB,IAE5Z,SAASo4B,GAA2BnT,EAAM7kB,GAAQ,OAAIA,GAA2B,WAAlB6sB,GAAQ7sB,IAAsC,oBAATA,EAA8Ci4B,GAAuBpT,GAAtC7kB,EAEnI,SAASi4B,GAAuBpT,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIqT,eAAe,6DAAgE,OAAOrT,EAI/J,SAASiT,GAAgB3N,GAAwJ,OAAnJ2N,GAAkBx4B,OAAO63B,eAAiB73B,OAAO64B,eAAiB,SAAyBhO,GAAK,OAAOA,EAAEiN,WAAa93B,OAAO64B,eAAehO,IAAc2N,GAAgB3N,GAExM,SAASpB,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAO3M,SAASoP,GAASC,EAAWC,GAC3B,IAAI9J,EAAkB6J,EAAU7J,gBAC5BrJ,EAAOkT,EAAUlT,KACjBiJ,EAAOiK,EAAUjK,KACrB,MAAuB,oBAATkK,EAAsBA,EAAK,CACvC9J,gBAAiBA,EACjBrJ,KAAMA,EACNiJ,KAAMA,IACHkK,EJ0HPlJ,GAAWmJ,UAAY,CACrB/J,gBAAiBtgB,IAAU+f,WAAWzI,MAAMrX,WAC5CmhB,QAASphB,IAAUvO,KAAKwO,WACxB6c,gBAAiB9c,IAAUvO,KAC3ByrB,WAAYld,IAAUvO,KACtB6qB,OAAQtc,IAAUlH,OAClB0mB,QAASxf,IAAU+f,WAAWzI,MAC9BiI,QAASvf,IAAU+f,WAAWzI,MAC9BmK,oBAAqBzhB,IAAUlH,OAC/B4oB,gBAAiB1hB,IAAUvO,KAC3BmwB,eAAgB5hB,IAAUlH,OAC1BgpB,WAAY9hB,IAAU4gB,KACtBoB,cAAehiB,IAAUlH,OACzBopB,UAAWliB,IAAU4gB,KACrBwB,eAAgBpiB,IAAUlH,OAC1BwpB,WAAYtiB,IAAU4gB,KACtB4B,cAAexiB,IAAUlH,OACzB4pB,UAAW1iB,IAAU4gB,KACrB+B,mBAAoB3iB,IAAUvO,KAAKwO,WACnC2iB,eAAgB5iB,IAAU4L,KAC1BsU,KAAMD,GAAOhgB,WACbmgB,MAAOJ,GAAQ/f,YCzIjB6lB,GAAKuE,UAAY,CACftE,SAAU/lB,IAAU4gB,KACpB3U,UAAWjM,IAAUlH,OACrBuH,MAAOL,IAAUxH,OAAOyH,WACxB+lB,UAAWhmB,IAAUlH,OACrBoe,OAAQlX,IAAUxH,OAClBkT,MAAO1L,IAAUghB,SAAShhB,IAAUkf,UAAU,CAAClf,IAAUlH,OAAQkH,IAAUxH,UAC3EytB,KAAMjmB,IAAU4L,MEKlBqc,GAAUoC,UAAYnF,GAAcA,GAAc,GAAI7E,IAAiB,GAAI,CACzEC,gBAAiBtgB,IAAU+f,WAAWzI,MACtCjX,MAAOL,IAAUxH,OACjB2vB,cAAenoB,IAAUvO,KAAKwO,WAC9B2nB,SAAU5nB,IAAUlH,OACpBoe,OAAQlX,IAAUxH,OAClB6vB,KAAMroB,IAAUxH,OAChB+vB,KAAMvoB,IAAUvO,KAAKwO,aCtBvB,IAAIqoB,GAAoB,SAAUgC,IAhClC,SAAmBC,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI74B,UAAU,sDAAyD44B,EAASl5B,UAAYD,OAAOq5B,OAAOD,GAAcA,EAAWn5B,UAAW,CAAE8C,YAAa,CAAEvC,MAAO24B,EAAUrP,UAAU,EAAMD,cAAc,KAAeuP,GAAYzB,GAAgBwB,EAAUC,GAiCjXE,CAAUpC,EAAMgC,GAEhB,IArCoB1B,EAAa+B,EAAYC,EAqCzCC,EAAS1B,GAAab,GAE1B,SAASA,IACP,IAAIwC,EAEJpC,GAAgB91B,KAAM01B,GAEtB,IAAK,IAAIyC,EAAOl4B,UAAUiE,OAAQlD,EAAO,IAAI2L,MAAMwrB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/Ep3B,EAAKo3B,GAAQn4B,UAAUm4B,GAOzB,OAFAnQ,GAAgBkP,GAFhBe,EAAQD,EAAO/4B,KAAKa,MAAMk4B,EAAQ,CAACj4B,MAAM2iB,OAAO3hB,KAED,QAAS,IAEjDk3B,EAoET,OAxHoBlC,EAuDPN,EAvDgCsC,EAmGzC,CAAC,CACHrmB,IAAK,2BACL3S,MAAO,SAAkCu4B,EAAWnX,GAClD,IAAI0N,EAAgByJ,EAAUzJ,cAC1BC,EAAcwJ,EAAUxJ,YACxBsK,EAAY,GAYhB,OAVIvK,IAAkB1N,EAAUkY,qBAC9BD,EAAUvK,cAAgBwJ,GAASC,EAAWzJ,GAC9CuK,EAAUC,mBAAqBxK,GAG7BC,IAAgB3N,EAAUmY,mBAC5BF,EAAUtK,YAAcuJ,GAASC,EAAWxJ,GAC5CsK,EAAUE,iBAAmBxK,GAGxBsK,MApHsBN,EAuDd,CAAC,CAClBpmB,IAAK,SACL3S,MAAO,WACL,IAAIw5B,EAAcx4B,KAAKof,MACnBsO,EAAkB8K,EAAY9K,gBAC9ByF,EAAWqF,EAAYrF,SACvBhF,EAAUqK,EAAYrK,QACtB9J,EAAOmU,EAAYnU,KACnBoU,EAAaD,EAAYC,WACzB/O,EAAS8O,EAAY9O,OACrBkD,EAAU4L,EAAY5L,QACtB8L,EAAmBF,EAAYE,iBAC/B/L,EAAU6L,EAAY7L,QACtBgM,EAAmBH,EAAYG,iBAC/B/K,EAAU4K,EAAY5K,QACtBC,EAAc2K,EAAY3K,YAC1B/U,EAAQ0f,EAAY1f,MACpBuV,EAAemK,EAAYnK,aAC3Bf,EAAOkL,EAAYlL,KACnBsL,EAAc54B,KAAKyS,MACnBqb,EAAgB8K,EAAY9K,cAC5BC,EAAc6K,EAAY7K,YAC9B,OAAoB1c,IAAM8f,cAAc,SAAU,CAChD9X,UAAWkJ,EAAgB4L,EAASL,GACpCjV,SAAU8T,GAAWgM,EAAiBhM,GAAWtI,GAAQuI,GAAW8L,EAAiB9L,GAAWvI,GAAQgK,GAAgBA,EAAa,CACnIX,gBAAiBA,EACjBrJ,KAAMA,EACNiJ,KAAMA,IAERM,QAASA,GAAW,SAAUne,GAC5B,OAAOme,EAAQvJ,EAAM5U,IAEvBoP,QAASgP,GAAe,WACtB,OAAOA,EAAYxJ,IAErBwJ,YAAaA,GAAe,WAC1B,OAAOA,EAAYxJ,IAErBvL,MAAOA,EACP3Y,KAAM,UACLs4B,EAA0BpnB,IAAM8f,cAAc,OAAQ,CACvD,aAAcsH,EAAW/O,EAAQrF,IAChC8O,GAAYA,EAAUpF,QAjG+CkI,GAAkBD,EAAYv3B,UAAWs5B,GAAiBC,GAAa/B,GAAkBD,EAAagC,GAwH3KtC,EAtFe,CAuFtBmD,aCnIF,SAAS/G,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAASyyB,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,ED8Hne+D,GAAK+B,UAAYnF,GAAcA,GAAc,GAAIpE,IAAY,GAAI,CAC/DiF,SAAU/lB,IAAU4gB,KAAK3gB,WACzBorB,WAAYrrB,IAAUvO,KACtB65B,iBAAkBtrB,IAAUvO,KAAKwO,WACjCsrB,iBAAkBvrB,IAAUvO,KAAKwO,aCtHpB,SAASyrB,GAAOvK,GAC7B,IAAIJ,EAAUI,EAAKJ,QACfQ,EAAkBJ,EAAKjE,WACvBA,OAAiC,IAApBqE,EAA6BhD,GAAoBgD,EAC9D2E,EAAaZ,GAAyBnE,EAAM,CAAC,UAAW,eAExDlK,EAAOiP,EAAWjP,KAClBqF,EAAS4J,EAAW5J,OACxB,OAAoBrY,IAAM8f,cAAcuE,GAAMjE,GAAS,GAAI6B,EAAY,CACrEnF,QAAS,GAAGxL,OAAOwL,EAVP,iDAWZuK,iBAAkBvS,EAClBwS,iBAAkB7S,EAClBwH,KAAM,YACJzB,GAAenC,EAAQY,EAAYjG,ICjCzC,SAASyN,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAI9U,SAAShK,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAQjS,SAAS84B,GAAQ3Z,GAC9B,IAAIsO,EAAkBtO,EAAMsO,gBACxB9hB,ERkBGmZ,EADcK,EQjBasI,IAC9B3e,EAAMnD,EAAQ,GAClB,OAAoByF,IAAM8f,cAAckE,GAAW5D,GAAS,GAAIrS,EAAO,CACrE/F,UAAW,wCACXkc,cAAezP,EACfkP,SAAU,SACVjmB,IAAKA,EACLnD,MAAOA,EACP6pB,KAAM,GACNE,KAAMmD,MCvBK,SAASE,GAAY5Z,GAKlC,OAAoB/N,IAAM8f,cAAc,MAAO,CAC7C9X,UAAW,gCAJShI,IAAM8f,cAAc4H,GAAS3Z,ICJrD,SAAS0S,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAASyyB,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EH2BnemH,GAAOrB,UAAYnF,GAAcA,GAAc,GAAIpE,IAAY,GAAI,CACjE5D,WAAYld,IAAUvO,OCRxBk6B,GAAQtB,UA1BR,SAAuB9F,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EA0BzfW,CAAc,GAAI7E,IETvB,SAASwL,GAAK1K,GAC3B,IAAIJ,EAAUI,EAAKJ,QACfQ,EAAkBJ,EAAKjE,WACvBA,OAAiC,IAApBqE,EAA6BhD,GAAoBgD,EAC9D2E,EAAaZ,GAAyBnE,EAAM,CAAC,UAAW,eAExDlK,EAAOiP,EAAWjP,KAClBqF,EAAS4J,EAAW5J,OACxB,OAAoBrY,IAAM8f,cAAcuE,GAAMjE,GAAS,GAAI6B,EAAY,CACrEnF,QAAS,GAAGxL,OAAOwL,EAVP,4CAWZuK,iBAAkBhS,EAClBiS,iBAAkBrS,EAClBgH,KAAM,WACJhD,EAAWZ,EAAQrF,IChCzB,SAASyN,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAI9U,SAAShK,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAOjS,SAASi5B,GAAM9Z,GAC5B,IAAIsO,EAAkBtO,EAAMsO,gBACxB9hB,EX2BGmZ,EADae,EW1Ba4H,IAC7B3e,EAAMnD,EAAQ,EAClB,OAAoByF,IAAM8f,cAAckE,GAAW5D,GAAS,GAAIrS,EAAO,CACrE/F,UAAW,qCACXkc,cAAe,SAAuBtQ,GACpC,IAAIZ,EAAO,IAAIK,KAGf,OAFAL,EAAKkB,YAAYN,EAAM,EAAG,GAC1BZ,EAAKmB,SAAS,EAAG,EAAG,EAAG,GAChBnB,GAET2Q,SAAU,OACVjmB,IAAKA,EACLnD,MAAOA,EACP+pB,KAAMsD,MC1BK,SAASE,GAAW/Z,GAKjC,OAAoB/N,IAAM8f,cAAc,MAAO,CAC7C9X,UAAW,+BAJShI,IAAM8f,cAAc+H,GAAO9Z,ICJnD,SAAS0S,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAASyyB,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EH0BnesH,GAAKxB,UAAYnF,GAAcA,GAAc,GAAIpE,IAAY,GAAI,CAC/D5D,WAAYld,IAAUvO,OCJxBq6B,GAAMzB,UA7BN,SAAuB9F,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EA6B3fW,CAAc,GAAI7E,IEZrB,SAAS2L,GAAM7K,GAC5B,IAAIJ,EAAUI,EAAKJ,QACfkL,EAAmB9K,EAAKtE,YACxBA,OAAmC,IAArBoP,EAA8BC,GAAqBD,EACjE5K,EAAuBF,EAAKrE,gBAC5BA,OAA2C,IAAzBuE,EAAkCC,GAAyBD,EAC7E6E,EAAaZ,GAAyBnE,EAAM,CAAC,UAAW,cAAe,oBAEvElK,EAAOiP,EAAWjP,KAClBqF,EAAS4J,EAAW5J,OACxB,OAAoBrY,IAAM8f,cAAcuE,GAAMjE,GAAS,GAAI6B,EAAY,CACrEnF,QAAS,GAAGxL,OAAOwL,EAZP,4CAaZsK,WAAYvO,EACZwO,iBAAkBvR,EAClBwR,iBAAkB5R,EAClBuG,KAAM,SACJrD,EAAYP,EAAQrF,ICnC1B,SAASyN,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAQjS,SAASs5B,GAAOna,GAC7B,IAGI6F,EAAOF,EAHW3F,EAAMsO,iBAI5B,OAAoBrc,IAAM8f,cAAckE,GAAW5D,GAAS,GAAIrS,EAAO,CACrE/F,UAAW,oCACXkc,cAAe,SAAuBzK,GACpC,IAAIzG,EAAO,IAAIK,KAGf,OAFAL,EAAKkB,YAAYN,EAAM6F,EAAY,GACnCzG,EAAKmB,SAAS,EAAG,EAAG,EAAG,GAChBnB,GAET2Q,SAAU,QACVjmB,IAXQ,GAYRnD,MAbU,EAcV+pB,KAAMyD,MC5BK,SAASI,GAASpa,GAK/B,OAAoB/N,IAAM8f,cAAc,MAAO,CAC7C9X,UAAW,6BAJShI,IAAM8f,cAAcoI,GAAQna,ICJpD,SAAS0S,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAASyyB,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EH6BneyH,GAAM3B,UAAYnF,GAAcA,GAAc,GAAIpE,IAAY,GAAI,CAChEjE,YAAa7c,IAAUvO,KACvBqrB,gBAAiB9c,IAAUvO,OCN7B06B,GAAO9B,UAAYnF,GAAcA,GAAc,GAAI7E,IAAiB,GAAI,CACtE/D,OAAQtc,IAAUlH,SEfpB,IAAImT,GAAY,wCACD,SAASogB,GAAIlL,GAC1B,IAAImL,EAAiBnL,EAAKxE,UACtBA,OAA+B,IAAnB2P,EAA4BC,GAAmBD,EAC3DE,EAAsBrL,EAAKvE,eAC3BA,OAAyC,IAAxB4P,EAAiCC,GAAwBD,EAC1EjP,EAAe4D,EAAK5D,aACpBwD,EAAUI,EAAKJ,QACf2L,EAAoBvL,EAAKuL,kBACzBxG,EAAaZ,GAAyBnE,EAAM,CAAC,YAAa,iBAAkB,eAAgB,UAAW,sBAEvGlK,EAAOiP,EAAWjP,KAClBqF,EAAS4J,EAAW5J,OACxB,OAAoBrY,IAAM8f,cAAcuE,GAAMjE,GAAS,GAAI6B,EAAY,CACrEnF,QAAS,GAAGxL,OAAOwL,EAAS9U,GAAWyS,GAAUzH,EAAMsG,GAAgB,GAAGhI,OAAOtJ,GAAW,aAAe,KAAMgL,EAAKa,aAAe4U,EAAoB,GAAGnX,OAAOtJ,GAAW,sBAAwB,MACtMof,WAAYzO,EACZ0O,iBAAkB/Q,EAClBgR,iBAAkBnR,EAClB8F,KAAM,UACJvD,EAAUL,EAAQrF,ICtCxB,SAASyN,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAI9U,SAAShK,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASuJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAASyyB,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EAWpd,SAASoI,GAAK3a,GAC3B,IAAIsO,EAAkBtO,EAAMsO,gBACxB/C,EAAevL,EAAMuL,aAErBqP,EAAyB5a,EAAM4a,uBAC/BC,EAAuB7a,EAAM6a,qBAC7B3G,EAAaZ,GAAyBtT,EAAO,CAAC,yBAA0B,yBAExE6F,EAAOF,EAAQ2I,GACf5C,EAAa5F,EAASwI,GACtBwM,EAAwBF,GAA0BC,EAClDE,EAAYzP,GAAagD,EAAiB/C,GAC1CrG,EAAS4V,EAAwB,EAAIC,EAOrCvuB,EAAmD,GAA1CsuB,GAAyBC,EAAY,GAO9CprB,EAAM,WACR,GAAIirB,EAEF,OAAOpuB,EAAQ,GAAQ,EAGzB,IAAIwuB,EAAcvS,EAAe6F,GAEjC,GAAIuM,EAAsB,CACxB,IAAII,EAAgB,IAAI3V,KAIxB,OAHA2V,EAAc9U,YAAYN,EAAM6F,EAAYsP,GAC5CC,EAAc7U,SAAS,EAAG,EAAG,EAAG,GAEzB4U,GADqB,EAAI1P,GAAa2P,EAAe1P,GAAgB,GAI9E,OAAOyP,EAhBC,GAmBV,OAAoB/oB,IAAM8f,cAAckE,GAAW5D,GAAS,GAAI6B,EAAY,CAC1Eja,UAAW,mCACX5L,MAAO,EACPqsB,kBAAmBhP,EACnByK,cAAe,SAAuBhO,GACpC,IAAIlD,EAAO,IAAIK,KAGf,OAFAL,EAAKkB,YAAYN,EAAM6F,EAAYvD,GACnClD,EAAKmB,SAAS,EAAG,EAAG,EAAG,GAChBnB,GAET2Q,SAAU,MACVjmB,IAAKA,EACLuV,OAAQA,EACR1Y,MAAOA,EACP+pB,KAAM8D,MDtCVA,GAAIhC,UAAYnF,GAAcA,GAAc,GAAIpE,IAAY,GAAI,CAC9D4L,kBAAmB1sB,IAAUxH,OAAOyH,WACpC0c,UAAW3c,IAAUvO,KACrBmrB,eAAgB5c,IAAUvO,OCsC5Bk7B,GAAKtC,UA/EL,SAAuB9F,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EA+E5fW,CAAc,CAC7B3H,aAAcwB,GAAe9e,WAC7B2sB,uBAAwB5sB,IAAU4L,KAClCihB,qBAAsB7sB,IAAU4L,MAC/ByU,IC9EH,IAAIpU,GAAY,uCACD,SAASihB,GAASlb,GAY/B,IAXA,IAAIuL,EAAevL,EAAMuL,aACrB4P,EAAwBnb,EAAM+K,mBAC9BA,OAA+C,IAA1BoQ,EAAmCC,GAA4BD,EACpF7Q,EAAStK,EAAMsK,OACf+Q,EAAerb,EAAMqb,aAErBC,EAAe3T,EADL,IAAIrC,MAEdO,EAAOF,EAAQ2V,GACf5P,EAAa5F,EAASwV,GACtBC,EAAW,GAENvQ,EAAU,EAAGA,GAAW,EAAGA,GAAW,EAAG,CAChD,IAAIwQ,EAAc,IAAIlW,KAAKO,EAAM6F,EAAYV,EAAUM,GAAagQ,EAAc/P,IAC9EkQ,EAAOxQ,GAAcX,EAAQkR,GACjCD,EAASxX,KAAmB9R,IAAM8f,cAAc,MAAO,CACrDxf,IAAKyY,EACL/Q,UAAW,GAAGsJ,OAAOtJ,GAAW,cAClBhI,IAAM8f,cAAc,OAAQ,CAC1C,aAAc0J,EACd1gB,MAAO0gB,GACN1Q,EAAmBT,EAAQkR,GAAar7B,QAAQ,IAAK,OAG1D,OAAoB8R,IAAM8f,cAAc+B,GAAM,CAC5C7Z,UAAWA,GACX5L,MAAO,EACPoR,QAAS4b,EACT5M,YAAa4M,GACZE,GCrCL,SAASlJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAIjS,SAAS66B,GAAWvM,GACjC,IAAIlK,EAAOkK,EAAKlK,KACZ0W,EAAoBxM,EAAKwM,kBACzBC,EAAazM,EAAKyM,WAClB5b,EAAQ,CACV/F,UAAW,uBACXP,MAAO,CACLwY,SAAU,IAGV6B,EAAwB9hB,IAAM8f,cAAc,OAAQ,KAAM6J,GAC9D,OAAOD,EAAiC1pB,IAAM8f,cAAc,SAAUM,GAAS,GAAIrS,EAAO,CACxFwO,QAAS,SAAiBne,GACxB,OAAOsrB,EAAkBC,EAAY3W,EAAM5U,IAE7CtP,KAAM,WACJgzB,GAAyB9hB,IAAM8f,cAAc,MAAO/R,EAAO+T,GCblD,SAAS8H,GAAY7b,GAClC,IAAIsO,EAAkBtO,EAAMsO,gBACxB/C,EAAevL,EAAMuL,aACrBoQ,EAAoB3b,EAAM2b,kBAC1BN,EAAerb,EAAMqb,aACrBT,EAAyB5a,EAAM4a,uBAE/BkB,EAAgB,WAClB,GAAIlB,EACF,OAAO,EAGT,IAEImB,EAFetT,EAAe6F,IAEP,EADRhD,GAAagD,EAAiB/C,IAEjD,OAAO,EAAIrW,KAAK8mB,KAAKD,EAAO,GARV,GAWhBvP,EAAQ,WAMV,IALA,IAAI3G,EAAOF,EAAQ2I,GACf5C,EAAa5F,EAASwI,GACtBnG,EAAMpC,EAAQuI,GACd5uB,EAAS,GAEJ6P,EAAQ,EAAGA,EAAQusB,EAAevsB,GAAS,EAClD7P,EAAOqkB,KAAK0H,GAAe,IAAInG,KAAKO,EAAM6F,EAAYvD,EAAc,EAAR5Y,GAAYgc,IAG1E,OAAO7rB,EAVG,GAaRu8B,EAAczP,EAAMpI,KAAI,SAAUa,GACpC,OpBgCG,SAAuBA,GAC5B,IAKIiX,EAJAC,GADet7B,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKsoB,EAAeG,YACrDH,EAAeI,GAAKJ,EAAeI,GAAKJ,EAAeG,SACpG8S,EAAc3Q,GAAexG,EAAMkX,GACnCtW,EAAOF,EAAQV,GAAQ,EAI3B,GAEEiX,EAAmBzQ,GADJ,IAAInG,KAAKO,EAAM,EAAGsW,IAA8BhT,EAAeG,SAAW,EAAI,GAC7C6S,GAChDtW,GAAQ,QACDZ,EAAOiX,EAAmB,GAEnC,OAAOhnB,KAAKmnB,OAAOD,EAAcF,GAAf,QAAmD,EoB9C5DI,CAAcrX,EAAMsG,MAE7B,OAAoBtZ,IAAM8f,cAAc+B,GAAM,CAC5C7Z,UAAW,0CACX5L,MAAOytB,EACP9H,UAAW,SACXvU,QAAS4b,EACT5M,YAAa4M,EACb3hB,MAAO,CACL8a,UAAW,sBACX+H,WAAY,IAEbN,EAAY7X,KAAI,SAAUwX,EAAYY,GACvC,OAAoBvqB,IAAM8f,cAAc2J,GAAY,CAClDnpB,IAAKqpB,EACL3W,KAAMuH,EAAMgQ,GACZb,kBAAmBA,EACnBC,WAAYA,QCxDlB,SAASvJ,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAASyyB,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EAmBpd,SAASkK,GAAUzc,GAChC,IAAIsO,EAAkBtO,EAAMsO,gBACxBhE,EAAStK,EAAMsK,OACf+Q,EAAerb,EAAMqb,aACrBT,EAAyB5a,EAAM4a,uBAE/B8B,EAAsB1c,EAAMuL,aAC5BA,OAAuC,IAAxBmR,EAbrB,SAAmCpS,GACjC,OAAOlrB,OAAOyzB,KAAKrJ,IAAuBmT,MAAK,SAAUpR,GACvD,OAAO/B,GAAsB+B,GAAcqR,SAAStS,OAChDnB,EAAeG,SAU+BuT,CAA0BvS,GAAUoS,EACpF3R,EAAqB/K,EAAM+K,mBAC3B4Q,EAAoB3b,EAAM2b,kBAC1BmB,EAAkB9c,EAAM8c,gBACxBC,EAAazJ,GAAyBtT,EAAO,CAAC,eAAgB,qBAAsB,oBAAqB,oBA+B7G,IAAI/F,EAAY,6BAChB,OAAoBhI,IAAM8f,cAAc,MAAO,CAC7C9X,UAAWkJ,EAAgBlJ,EAAW6iB,EAAkB,GAAGvZ,OAAOtJ,EAAW,iBAAmB,KAClFhI,IAAM8f,cAAc,MAAO,CACzCrY,MAAO,CACLsY,QAAS,OACTgL,WAAY,aAzBTF,EAIe7qB,IAAM8f,cAAc8J,GAAa,CACnDvN,gBAAiBA,EACjB/C,aAAcA,EACdoQ,kBAAmBA,EACnBN,aAAcA,EACdT,uBAAwBA,IARjB,KA0B0B3oB,IAAM8f,cAAc,MAAO,CAC9DrY,MAAO,CACLwY,SAAU,EACV+K,MAAO,SAvCWhrB,IAAM8f,cAAcmJ,GAAU,CAChD3P,aAAcA,EACdR,mBAAoBA,EACpBT,OAAQA,EACR+Q,aAAcA,IAmBIppB,IAAM8f,cAAc4I,GAAMtI,GAAS,CACrD9G,aAAcA,GACbwR,OC5DP,SAAS1K,KAA2Q,OAA9PA,GAAWjzB,OAAOkzB,QAAU,SAAUC,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAS3xB,UAAUyB,GAAI,IAAK,IAAIiQ,KAAOigB,EAAcpzB,OAAOC,UAAUozB,eAAe3yB,KAAK0yB,EAAQjgB,KAAQggB,EAAOhgB,GAAOigB,EAAOjgB,IAAY,OAAOggB,GAAkBF,GAAS1xB,MAAMC,KAAMC,WAEhT,SAAS8rB,GAAQ7D,GAAmV,OAAtO6D,GAArD,oBAAX9C,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBhB,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXe,QAAyBf,EAAI3mB,cAAgB0nB,QAAUf,IAAQe,OAAOxqB,UAAY,gBAAkBypB,GAAiB6D,GAAQ7D,GAEnX,SAAS4N,GAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIj3B,UAAU,qCAEhH,SAASk3B,GAAkBtE,EAAQvS,GAAS,IAAK,IAAI1d,EAAI,EAAGA,EAAI0d,EAAMlb,OAAQxC,IAAK,CAAE,IAAIw0B,EAAa9W,EAAM1d,GAAIw0B,EAAW9N,WAAa8N,EAAW9N,aAAc,EAAO8N,EAAW7N,cAAe,EAAU,UAAW6N,IAAYA,EAAW5N,UAAW,GAAM9pB,OAAO2pB,eAAewJ,EAAQuE,EAAWvkB,IAAKukB,IAM7S,SAASC,GAAgB9M,EAAG+M,GAA+G,OAA1GD,GAAkB33B,OAAO63B,gBAAkB,SAAyBhN,EAAG+M,GAAsB,OAAjB/M,EAAEiN,UAAYF,EAAU/M,GAAa8M,GAAgB9M,EAAG+M,GAErK,SAASG,GAAaC,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAiF,OAA3EnS,KAAKjmB,UAAUC,SAASQ,KAAKw3B,QAAQC,UAAUjS,KAAM,IAAI,iBAAyB,EAAQ,MAAO9jB,GAAK,OAAO,GANzPk2B,GAA6B,OAAO,WAAkC,IAAsCh4B,EAAlCi4B,EAAQC,GAAgBR,GAAkB,GAAIC,EAA2B,CAAE,IAAIQ,EAAYD,GAAgBh3B,MAAMuB,YAAazC,EAAS43B,QAAQC,UAAUI,EAAO92B,UAAWg3B,QAAqBn4B,EAASi4B,EAAMh3B,MAAMC,KAAMC,WAAc,OAAOi3B,GAA2Bl3B,KAAMlB,IAE5Z,SAASo4B,GAA2BnT,EAAM7kB,GAAQ,OAAIA,GAA2B,WAAlB6sB,GAAQ7sB,IAAsC,oBAATA,EAA8Ci4B,GAAuBpT,GAAtC7kB,EAEnI,SAASi4B,GAAuBpT,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIqT,eAAe,6DAAgE,OAAOrT,EAI/J,SAASiT,GAAgB3N,GAAwJ,OAAnJ2N,GAAkBx4B,OAAO63B,eAAiB73B,OAAO64B,eAAiB,SAAyBhO,GAAK,OAAOA,EAAEiN,WAAa93B,OAAO64B,eAAehO,IAAc2N,GAAgB3N,GAExM,SAASyI,GAAQC,EAAQC,GAAkB,IAAIC,EAAOzzB,OAAOyzB,KAAKF,GAAS,GAAIvzB,OAAO0zB,sBAAuB,CAAE,IAAIC,EAAU3zB,OAAO0zB,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQje,QAAO,SAAUke,GAAO,OAAO5zB,OAAO6zB,yBAAyBN,EAAQK,GAAKhK,eAAgB6J,EAAK9O,KAAKpjB,MAAMkyB,EAAME,GAAY,OAAOF,EAE9U,SAASK,GAAcX,GAAU,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CAAE,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAazB,UAAUyB,GAAK,GAAQA,EAAI,EAAKowB,GAAQtzB,OAAOozB,IAAS,GAAMW,SAAQ,SAAU5gB,GAAOsW,GAAgB0J,EAAQhgB,EAAKigB,EAAOjgB,OAAsBnT,OAAOg0B,0BAA6Bh0B,OAAOi0B,iBAAiBd,EAAQnzB,OAAOg0B,0BAA0BZ,IAAmBE,GAAQtzB,OAAOozB,IAASW,SAAQ,SAAU5gB,GAAOnT,OAAO2pB,eAAewJ,EAAQhgB,EAAKnT,OAAO6zB,yBAAyBT,EAAQjgB,OAAe,OAAOggB,EAE7gB,SAAS1J,GAAgBC,EAAKvW,EAAK3S,GAAiK,OAApJ2S,KAAOuW,EAAO1pB,OAAO2pB,eAAeD,EAAKvW,EAAK,CAAE3S,MAAOA,EAAOopB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIvW,GAAO3S,EAAgBkpB,EAE3M,SAASwK,GAAyBd,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAAkEjgB,EAAKjQ,EAAnEiwB,EAEzF,SAAuCC,EAAQe,GAAY,GAAc,MAAVf,EAAgB,MAAO,GAAI,IAA2DjgB,EAAKjQ,EAA5DiwB,EAAS,GAAQiB,EAAap0B,OAAOyzB,KAAKL,GAAqB,IAAKlwB,EAAI,EAAGA,EAAIkxB,EAAW1uB,OAAQxC,IAAOiQ,EAAMihB,EAAWlxB,GAAQixB,EAASve,QAAQzC,IAAQ,IAAaggB,EAAOhgB,GAAOigB,EAAOjgB,IAAQ,OAAOggB,EAFxMkB,CAA8BjB,EAAQe,GAAuB,GAAIn0B,OAAO0zB,sBAAuB,CAAE,IAAIY,EAAmBt0B,OAAO0zB,sBAAsBN,GAAS,IAAKlwB,EAAI,EAAGA,EAAIoxB,EAAiB5uB,OAAQxC,IAAOiQ,EAAMmhB,EAAiBpxB,GAAQixB,EAASve,QAAQzC,IAAQ,GAAkBnT,OAAOC,UAAUs0B,qBAAqB7zB,KAAK0yB,EAAQjgB,KAAgBggB,EAAOhgB,GAAOigB,EAAOjgB,IAAU,OAAOggB,EAcne,SAAS7J,GAAkBvE,EAAKwE,IAAkB,MAAPA,GAAeA,EAAMxE,EAAIrf,UAAQ6jB,EAAMxE,EAAIrf,QAAQ,IAAK,IAAIxC,EAAI,EAAGsmB,EAAO,IAAIrb,MAAMob,GAAMrmB,EAAIqmB,EAAKrmB,IAAOsmB,EAAKtmB,GAAK6hB,EAAI7hB,GAAM,OAAOsmB,EJLhLsS,GAAS7C,UAAY,CACnB9M,aAAcwB,GAAe9e,WAC7B8c,mBAAoB/c,IAAUvO,KAC9B6qB,OAAQtc,IAAUlH,OAClBu0B,aAAcrtB,IAAUvO,MCrB1Bi8B,GAAWrD,UAAY,CACrBpT,KAAMjX,IAAU+f,WAAWzI,MAAMrX,WACjC0tB,kBAAmB3tB,IAAUvO,KAC7Bm8B,WAAY5tB,IAAU4gB,KAAK3gB,YCmC7B4tB,GAAYxD,UAAY,CACtB/J,gBAAiBtgB,IAAU+f,WAAWzI,MAAMrX,WAC5Csd,aAAcwB,GAAe9e,WAC7B0tB,kBAAmB3tB,IAAUvO,KAC7B47B,aAAcrtB,IAAUvO,KACxBm7B,uBAAwB5sB,IAAU4L,MCapC6iB,GAAUpE,UAAY,CACpB/J,gBAAiBtgB,IAAU+f,WAAWzI,MAAMrX,WAC5Csd,aAAcwB,GACdhC,mBAAoB/c,IAAUvO,KAC9B6qB,OAAQtc,IAAUlH,OAClB60B,kBAAmB3tB,IAAUvO,KAC7B47B,aAAcrtB,IAAUvO,KACxBm7B,uBAAwB5sB,IAAU4L,KAClCkjB,gBAAiB9uB,IAAU4L,MC7B7B,IAAIsjB,GAAiB,IAAI5X,KACzB4X,GAAe/W,YAAY,EAAG,EAAG,GACjC+W,GAAe9W,SAAS,EAAG,EAAG,EAAG,GACjC,IAAI+W,GAAiB,IAAI7X,KAAK,QAC1BkQ,GAAgB,iBAChB1I,GAAW,CAAC,UAAW,SAAU,OAAQ,SACzCsQ,GAAgB,GAAG7Z,OA7BvB,SAA4BY,GAAO,OAQnC,SAA4BA,GAAO,GAAI5W,MAAMmc,QAAQvF,GAAM,OAAOuE,GAAkBvE,GAR1CwF,CAAmBxF,IAM7D,SAA0ByF,GAAQ,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAY1qB,OAAOwqB,GAAO,OAAOrc,MAAMwc,KAAKH,GANrDI,CAAiB7F,IAItF,SAAqC8F,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOvB,GAAkBuB,EAAGC,GAAS,IAAI1qB,EAAIJ,OAAOC,UAAUC,SAASQ,KAAKmqB,GAAG3pB,MAAM,GAAI,GAAc,WAANd,GAAkByqB,EAAE9nB,cAAa3C,EAAIyqB,EAAE9nB,YAAYL,MAAM,GAAU,QAANtC,GAAqB,QAANA,EAAa,OAAO+N,MAAMwc,KAAKE,GAAI,GAAU,cAANzqB,GAAqB,2CAA2Ca,KAAKb,GAAI,OAAOkpB,GAAkBuB,EAAGC,GAJxTC,CAA4BhG,IAE1H,WAAgC,MAAM,IAAIxkB,UAAU,wIAF8EyqB,GA6BpGwK,CAAmB9H,GAASxsB,MAAM,IAAK,CAAC,QActE,SAAS+8B,GAAgBC,EAAWC,GAClC,OAAOzQ,GAASxsB,MAAMwsB,GAAS9X,QAAQsoB,GAAYxQ,GAAS9X,QAAQuoB,GAAa,GAiBnF,SAASC,GAAQtP,EAAMoP,EAAWC,GAChC,OAXF,SAAuBrP,EAAMoP,EAAWC,GAEtC,OAAgC,IADpBF,GAAgBC,EAAWC,GAC1BvoB,QAAQkZ,GASjBuP,CAAcvP,EAAMoP,EAAWC,GAC1BrP,EAGFqP,EAOT,SAASG,GAAaH,GACpB,OAAOH,GAActQ,GAAS9X,QAAQuoB,IAGxC,SAASrF,GAASt4B,EAAO2P,GACvB,IAAK3P,EACH,OAAO,KAGT,IAAI+9B,EAAWpwB,MAAMmc,QAAQ9pB,IAA2B,IAAjBA,EAAMkF,OAAelF,EAAM2P,GAAS3P,EAE3E,IAAK+9B,EACH,OAAO,KAGT,IAAIC,EAzDN,SAAgBh+B,GACd,OAAIA,aAAiB0lB,KACZ1lB,EAGF,IAAI0lB,KAAK1lB,GAoDAi+B,CAAOF,GAEvB,GAAIj7B,MAAMk7B,EAAUrY,WAClB,MAAM,IAAI5jB,MAAM,iBAAiB4hB,OAAO3jB,IAG1C,OAAOg+B,EAGT,SAASE,GAAe3O,EAAM5f,GAC5B,IAAI3P,EAAQuvB,EAAKvvB,MACb2tB,EAAU4B,EAAK5B,QACfC,EAAU2B,EAAK3B,QACf+P,EAAYpO,EAAKoO,UACjBQ,EAAa7F,GAASt4B,EAAO2P,GAEjC,IAAKwuB,EACH,OAAO,KAGT,IAAIlP,EAAY6O,GAAaH,GAE7B,OlB3HK,SAAiB39B,EAAOo+B,EAAKC,GAClC,OAAID,GAAOA,EAAMp+B,EACRo+B,EAGLC,GAAOA,EAAMr+B,EACRq+B,EAGFr+B,EkBkHAs+B,CADe,CAACtS,GAAUG,IAAQxc,GAAOsf,EAAWkP,GAC3BxQ,EAASC,GAG3C,IAAI2Q,GAAqB,SAA4Bv8B,GACnD,OAAOk8B,GAAel8B,EAAM,IAG1Bw8B,GAAmB,SAA0Bx8B,GAC/C,OAAOk8B,GAAel8B,EAAM,IAG1By8B,GAAsB,SAA6Bz8B,GACrD,IAAIhC,EAAQgC,EAAKhC,MAEjB,OAAI2N,MAAMmc,QAAQ9pB,GACTA,EAGF,CAACu+B,GAAoBC,IAAkBha,KAAI,SAAUsB,GAC1D,OAAOA,EAAG9jB,OAId,SAAS08B,GAAmBte,GAC1B,IAAIwN,EAAUxN,EAAMwN,QAChB+P,EAAYvd,EAAMud,UAClBhQ,EAAUvN,EAAMuN,QAChB+P,EAAYtd,EAAMsd,UAClB19B,EAAQogB,EAAMpgB,MASlB,OAAOgsB,GAPS4R,GADLxd,EAAMkO,KACaoP,EAAWC,GACzBY,GAAmB,CACjCv+B,MAAOA,EACP2tB,QAASA,EACTC,QAASA,EACT+P,UAAWA,KACP,IAAIjY,MA8BZ,IAAIiZ,GAAmB,SAA0B3+B,GAC/C,OAAOA,GAAqC,IAA5B,GAAG2jB,OAAO3jB,GAAOkF,QAG/B05B,GAAwB,SAAUlG,IA5MtC,SAAmBC,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI74B,UAAU,sDAAyD44B,EAASl5B,UAAYD,OAAOq5B,OAAOD,GAAcA,EAAWn5B,UAAW,CAAE8C,YAAa,CAAEvC,MAAO24B,EAAUrP,UAAU,EAAMD,cAAc,KAAeuP,GAAYzB,GAAgBwB,EAAUC,GA6MjXE,CAAU8F,EAAUlG,GAEpB,IAjNoB1B,EAAa+B,EAAYC,EAiNzCC,EAAS1B,GAAaqH,GAE1B,SAASA,IACP,IAAI1F,EAEJpC,GAAgB91B,KAAM49B,GAEtB,IAAK,IAAIzF,EAAOl4B,UAAUiE,OAAQ25B,EAAQ,IAAIlxB,MAAMwrB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAChFyF,EAAMzF,GAAQn4B,UAAUm4B,GA8M1B,OAzMAnQ,GAAgBkP,GAFhBe,EAAQD,EAAO/4B,KAAKa,MAAMk4B,EAAQ,CAACj4B,MAAM2iB,OAAOkb,KAED,QAAS,CAEtDnQ,gBAAiBwK,EAAM9Y,MAAM0e,uBAC7B9+B,MAAOk5B,EAAM9Y,MAAMzC,aACnB2Q,KAAM4K,EAAM9Y,MAAM2e,cAKpB9V,GAAgBkP,GAAuBe,GAAQ,4BAA4B,SAAUG,EAAW5oB,EAAOuuB,GACrG,IAAIC,EAAwB9G,GAAuBe,GAC/C/H,EAA0B8N,EAAsBvQ,gBAChDwQ,EAAeD,EAAsB3Q,KAErCkL,EAAcN,EAAM9Y,MACpB+e,EAAoB3F,EAAY2F,kBAChCC,EAA0B5F,EAAY4F,wBACtC5tB,EAAWgoB,EAAYhoB,SACvB6tB,EAAe7F,EAAY6F,aAC3BC,EAAc9F,EAAY8F,YAC1BC,EAAW,CACb7Q,gBAAiByC,EACjB7C,KAAM4Q,GAGRhG,EAAM1hB,SAAS6hB,GAAW,WACxB,IAAIr3B,EAAO,CACT0sB,gBAAiB2K,EAAU3K,iBAAmBwK,EAAMxK,gBACpD1uB,MAAOq5B,EAAUr5B,OAASk5B,EAAMl5B,MAChCsuB,KAAM+K,EAAU/K,MAAQ4K,EAAM5K,MAGhC,SAASkR,EAAa7sB,GACpB,OACEA,KAAO0mB,IACPtM,GAAQsM,EAAU1mB,MAAUoa,GAAQwS,EAAS5sB,MACzC0mB,EAAU1mB,aAAgB+S,KAAO2T,EAAU1mB,GAAKgT,YAAc4Z,EAAS5sB,GAAKgT,UAAY0T,EAAU1mB,KAAS4sB,EAAS5sB,MAIxH6sB,EAAa,oBACXJ,GAAyBA,EAAwBp9B,GAGnDw9B,EAAa,SACXH,GAAcA,EAAar9B,GAG7Bw9B,EAAa,YACXhuB,IACE8tB,GACkBX,GAAiBtF,EAAUr5B,OAIpCm/B,GACT3tB,EAAS,CAAC6nB,EAAUr5B,OAAQyQ,GAG9Be,EAAS6nB,EAAUr5B,MAAOyQ,KAK5BuuB,GAAUA,EAASh9B,SAI3BinB,GAAgBkP,GAAuBe,GAAQ,sBAAsB,SAAUxK,GAC7EwK,EAAMuG,yBAAyB,CAC7B/Q,gBAAiBA,OAIrBzF,GAAgBkP,GAAuBe,GAAQ,aAAa,SAAU3H,EAAqB9gB,GACzF,GAAKyoB,EAAMwG,mBAAX,CAIAxG,EAAMyG,YAAYpO,EAAqB9gB,GAEvC,IAAImvB,EAAyBzH,GAAuBe,GAChD5K,EAAOsR,EAAuBtR,KAC9BE,EAAQoR,EAAuBpR,MAE/BqR,EAAc3G,EAAM9Y,MAAMyf,YAC1BC,EAAWtR,EAAMA,EAAMpZ,QAAQkZ,GAAQ,GAE3C4K,EAAMuG,yBAAyB,CAC7B/Q,gBAAiB6C,EACjBjD,KAAMwR,QACL5+B,EAAW2+B,OAGhB5W,GAAgBkP,GAAuBe,GAAQ,WAAW,WACxD,GAAKA,EAAMjI,iBAAX,CAIA,IAAI8O,EAAyB5H,GAAuBe,GAChDxK,EAAkBqR,EAAuBrR,gBACzCJ,EAAOyR,EAAuBzR,KAC9BE,EAAQuR,EAAuBvR,MAE/BwR,EAAY9G,EAAM9Y,MAAM4f,UACxBF,EAAWtR,EAAMA,EAAMpZ,QAAQkZ,GAAQ,GACvCiD,EAAsBvF,GAAS8T,EAAUpR,GAE7CwK,EAAMuG,yBAAyB,CAC7B/Q,gBAAiB6C,EACjBjD,KAAMwR,QACL5+B,EAAW8+B,OAGhB/W,GAAgBkP,GAAuBe,GAAQ,YAAY,SAAUl5B,EAAOyQ,GAC1E,IAIIwvB,EAJAX,EAAcpG,EAAM9Y,MAAMkf,YAM9B,GAJApG,EAAMyG,YAAY3/B,EAAOyQ,GAIrB6uB,EAAa,CAEf,IAAIY,EAAyB/H,GAAuBe,GAChDiH,EAAgBD,EAAuBlgC,MACvCivB,EAAYiR,EAAuBjR,UAQrCgR,EANGtB,GAAiBwB,GAMR9T,GAAc4C,EAAWkR,EAAengC,GAHxCgsB,GAASiD,EAAWjvB,QAOlCigC,EAAY/G,EAAMkH,kBAAkBpgC,GAGtC,IAAIuxB,EAAsBmN,GAAmBpL,GAAcA,GAAc,GAAI4F,EAAM9Y,OAAQ,GAAI,CAC7FpgB,MAAOigC,KAETxvB,EAAM4vB,UAENnH,EAAMuG,yBAAyB,CAC7B/Q,gBAAiB6C,EACjBvxB,MAAOigC,GACNxvB,MAGLwY,GAAgBkP,GAAuBe,GAAQ,eAAe,SAAUl5B,EAAOyQ,GAC7E,IACI6d,EADyB6J,GAAuBe,GAClB5K,KAE9BgS,EAAepH,EAAM9Y,MACrBmgB,EAAaD,EAAaC,WAC1BC,EAAgBF,EAAaE,cAC7BC,EAAeH,EAAaG,aAC5BC,EAAcJ,EAAaI,YAE3B1B,EAAW,WACb,OAAQ1Q,GACN,IAAK,UACH,OAAOkS,EAET,IAAK,SACH,OAAOE,EAET,IAAK,OACH,OAAOD,EAET,IAAK,QACH,OAAOF,EAET,QACE,MAAM,IAAIx+B,MAAM,iBAAiB4hB,OAAO2K,EAAM,OAfrC,GAmBX0Q,GAAUA,EAASh/B,EAAOyQ,MAGhCwY,GAAgBkP,GAAuBe,GAAQ,eAAe,SAAUl5B,GACtEk5B,EAAM1hB,UAAS,SAAU4J,GACvB,OAAIA,EAAUuN,OAASvN,EAAUuN,MAAMhJ,YAAc3lB,EAAM2lB,UAClD,KAGF,CACLgJ,MAAO3uB,SAKbipB,GAAgBkP,GAAuBe,GAAQ,gBAAgB,WAC7DA,EAAM1hB,SAAS,CACbmX,MAAO,UAIJuK,EAgRT,OAvrBoBlC,EA0aP4H,GA1aoB7F,EA0aV,CAAC,CACtBpmB,IAAK,oBAKL3S,MAAO,SAA2BA,GAChC,IAAI2gC,EAAe3/B,KAAKof,MACpBuN,EAAUgT,EAAahT,QACvBC,EAAU+S,EAAa/S,QACvB+P,EAAYgD,EAAahD,UACzBiD,EAAcD,EAAaC,YAkB/B,OAhBsB,WACpB,OAAQA,GACN,IAAK,QACH,OAAOrC,GAET,IAAK,MACH,OAAOC,GAET,IAAK,QACH,OAAOC,GAET,QACE,MAAM,IAAI18B,MAAM,yBAZA,EAgBf8+B,CAAgB,CACrB7gC,MAAOA,EACP2tB,QAASA,EACTC,QAASA,EACT+P,UAAWA,MAGd,CACDhrB,IAAK,gBACL3S,MAAO,SAAuB8gC,GAC5B,IAAIC,EAAyB//B,KAAK0tB,gBAC9BG,EAAc7tB,KAAK6tB,YACnBI,EAAYjuB,KAAKiuB,UACjBjvB,EAAQgB,KAAKhB,MACbsuB,EAAOttB,KAAKstB,KACZ0S,EAAehgC,KAAKof,MACpBuL,EAAeqV,EAAarV,aAC5BjB,EAASsW,EAAatW,OACtBkD,EAAUoT,EAAapT,QACvBD,EAAUqT,EAAarT,QACvB2R,EAAc0B,EAAa1B,YAC3BxQ,EAAgBkS,EAAalS,cAC7BC,EAAciS,EAAajS,YAC3BM,EAAe2R,EAAa3R,aAC5BV,EAAQ3tB,KAAK2tB,MAGbsS,EAAc,CAChBvS,gBAHoBoS,EAAO5U,GAAaoC,EAAMyS,GAA0B/U,GAASsC,EAAMyS,GAIvFpS,MAAOA,EACPjE,OAAQA,EACRkD,QAASA,EACTD,QAASA,EACTiB,QAPY5tB,KAAK0+B,mBAAqB1+B,KAAKkgC,UAAYlgC,KAAKwQ,SAQ5Dqd,YAAayQ,EAAczQ,EAAc,KACzCC,cAAeA,EACfC,YAAaA,EACbM,aAAcA,EACdrvB,MAAOA,EACPivB,UAAWA,GAGb,OAAQX,GACN,IAAK,UAED,IAAIhD,EAAatqB,KAAKof,MAAMkL,WAC5B,OAAoBjZ,IAAM8f,cAAc6H,GAAavH,GAAS,CAC5DnH,WAAYA,GACX2V,IAGP,IAAK,SAED,IAAIE,EAAcngC,KAAKof,MAAMkL,WAC7B,OAAoBjZ,IAAM8f,cAAcgI,GAAY1H,GAAS,CAC3DnH,WAAY6V,GACXF,IAGP,IAAK,OAED,IAAIG,EAAepgC,KAAKof,MACpB6K,EAAcmW,EAAanW,YAC3BC,EAAkBkW,EAAalW,gBACnC,OAAoB7Y,IAAM8f,cAAcqI,GAAU/H,GAAS,CACzDxH,YAAaA,EACbC,gBAAiBA,GAChB+V,IAGP,IAAK,QAED,IAAII,EAAergC,KAAKof,MACpB2K,EAAYsW,EAAatW,UACzBC,EAAiBqW,EAAarW,eAC9BG,EAAqBkW,EAAalW,mBAClC4Q,EAAoBsF,EAAatF,kBACjC/K,EAAiBqQ,EAAarQ,eAC9BgK,EAAyBqG,EAAarG,uBACtCC,EAAuBoG,EAAapG,qBACpCiC,EAAkBmE,EAAanE,gBAC/BzB,EAAez6B,KAAKy6B,aACxB,OAAoBppB,IAAM8f,cAAc0K,GAAWpK,GAAS,CAC1D9G,aAAcA,EACdZ,UAAWA,EACXC,eAAgBA,EAChBG,mBAAoBA,EACpB4Q,kBAAmBA,EACnBN,aAAc6D,EAAc7D,EAAe,KAC3CT,uBAAwBA,GAA0BhK,EAClDiK,qBAAsBA,EACtBiC,gBAAiBA,GAChB+D,IAGP,QACE,MAAM,IAAIl/B,MAAM,iBAAiB4hB,OAAO2K,EAAM,SAGnD,CACD3b,IAAK,mBACL3S,MAAO,WAGL,IAFqBgB,KAAKof,MAAMkhB,eAG9B,OAAO,KAGT,IAAI5S,EAAkB1tB,KAAK0tB,gBACvBJ,EAAOttB,KAAKstB,KACZE,EAAQxtB,KAAKwtB,MACb+S,EAAevgC,KAAKof,MACpB8K,EAAkBqW,EAAarW,gBAC/BI,EAAaiW,EAAajW,WAC1BZ,EAAS6W,EAAa7W,OACtBkD,EAAU2T,EAAa3T,QACvBD,EAAU4T,EAAa5T,QACvBkC,EAAsB0R,EAAa1R,oBACnCC,EAAkByR,EAAazR,gBAC/BE,EAAiBuR,EAAavR,eAC9BE,EAAaqR,EAAarR,WAC1BE,EAAgBmR,EAAanR,cAC7BE,EAAYiR,EAAajR,UACzBE,EAAiB+Q,EAAa/Q,eAC9BE,EAAa6Q,EAAa7Q,WAC1BE,EAAgB2Q,EAAa3Q,cAC7BE,EAAYyQ,EAAazQ,UACzBE,EAAiBuQ,EAAavQ,eAClC,OAAoB3e,IAAM8f,cAAc7C,GAAY,CAClDZ,gBAAiBA,EACjBc,QAASxuB,KAAKwuB,QACdtE,gBAAiBA,EACjBI,WAAYA,EACZZ,OAAQA,EACRkD,QAASA,EACTD,QAASA,EACTkC,oBAAqBA,EACrBC,gBAAiBA,EACjBE,eAAgBA,EAChBE,WAAYA,EACZE,cAAeA,EACfE,UAAWA,EACXE,eAAgBA,EAChBE,WAAYA,EACZE,cAAeA,EACfE,UAAWA,EACXC,mBAAoB/vB,KAAK+vB,mBACzBC,eAAgBA,EAChB1C,KAAMA,EACNE,MAAOA,MAGV,CACD7b,IAAK,SACL3S,MAAO,WACL,IAAIwhC,EAAexgC,KAAKof,MACpB/F,EAAYmnB,EAAannB,UACzB0I,EAAWye,EAAaze,SACxBuc,EAAckC,EAAalC,YAC3BtO,EAAiBwQ,EAAaxQ,eAC9ByK,EAAez6B,KAAKy6B,aACpBz7B,EAAQgB,KAAKhB,MACbyhC,EAAa,GAAG9d,OAAO3jB,GAC3B,OAAoBqS,IAAM8f,cAAc,MAAO,CAC7C9X,UAAWkJ,EAAgBqS,GAAe0J,GAAqC,IAAtBmC,EAAWv8B,QAAgB,GAAGye,OAAOiS,GAAe,iBAAkB5E,GAAkB,GAAGrN,OAAOiS,GAAe,gBAAiBvb,GAC3LtI,IAAKgR,GACJ/hB,KAAK0gC,mBAAiCrvB,IAAM8f,cAAc,MAAO,CAClE9X,UAAW,GAAGsJ,OAAOiS,GAAe,mBACpC9V,OAAQwf,EAAc7D,EAAe,KACrCA,aAAc6D,EAAc7D,EAAe,MAC1Cz6B,KAAK2gC,gBAAiB3Q,GAAkBhwB,KAAK2gC,eAAc,OAE/D,CACDhvB,IAAK,kBACLivB,IAAK,WACH,IAAIC,EAAuB7gC,KAAKof,MAAMsO,gBAClCoT,EAAuB9gC,KAAKyS,MAAMib,gBACtC,OAAOmT,GAAwBC,GAxcrC,SAAmC1hB,GACjC,IAAIsO,EAAkBtO,EAAMsO,gBACxBoQ,EAAyB1e,EAAM0e,uBAC/BnhB,EAAeyC,EAAMzC,aACrBohB,EAAc3e,EAAM2e,YACpBpB,EAAYvd,EAAMud,UAClBD,EAAYtd,EAAMsd,UAClB19B,EAAQogB,EAAMpgB,MACdsuB,EAAOlO,EAAMkO,KACbgG,EAAaZ,GAAyBtT,EAAO,CAAC,kBAAmB,yBAA0B,eAAgB,cAAe,YAAa,YAAa,QAAS,SAE7J6L,EAAY2R,GAAQtP,EAAMoP,EAAWC,GACrCoE,EAAYrT,GAAmBoQ,EAEnC,OAAIiD,EACK/V,GAASC,EAAW8V,GAGtBrD,GAAmBpL,GAAc,CACtCqK,UAAWA,EACXD,UAAWA,EACX19B,MAAOA,GAAS2d,EAChB2Q,KAAMA,GAAQyQ,GACbzK,IAibwD0N,CAA0BhhC,KAAKof,SAEvF,CACDzN,IAAK,QACLivB,IAAK,WACH,IAAIK,EAAejhC,KAAKof,MACpBkf,EAAc2C,EAAa3C,YAC3B4C,EAAaD,EAAajiC,MAC1BmiC,EAAanhC,KAAKyS,MAAMzT,MAE5B,OAAIs/B,GAAeX,GAAiBwD,GAC3BA,OAGajhC,IAAfghC,EAA2BA,EAAaC,IAEhD,CACDxvB,IAAK,YACLivB,IAAK,WAEH,OAAO9D,GADS98B,KAAKof,MAAMud,aAG5B,CACDhrB,IAAK,OACLivB,IAAK,WACH,IAAIQ,EAAgBphC,KAAKof,MACrBsd,EAAY0E,EAAc1E,UAC1BC,EAAYyE,EAAczE,UAC1B0E,EAAYD,EAAc9T,KAC1BgU,EAAYthC,KAAKyS,MAAM6a,KAC3B,OAAOsP,GAAQyE,GAAaC,EAAW5E,EAAWC,KAEnD,CACDhrB,IAAK,QACLivB,IAAK,WACH,IAAIW,EAAgBvhC,KAAKof,MAGzB,OAAOqd,GAFS8E,EAAc7E,UACd6E,EAAc5E,aAG/B,CACDhrB,IAAK,QACLivB,IAAK,WACH,IAAItC,EAAct+B,KAAKof,MAAMkf,YACzB3Q,EAAQ3tB,KAAKyS,MAAMkb,MACvB,OAAO2Q,EAAc3Q,EAAQ,OAE9B,CACDhc,IAAK,qBACLivB,IAAK,WACH,IAAItT,EAAOttB,KAAKstB,KACZE,EAAQxtB,KAAKwtB,MACjB,OAAOA,EAAMpZ,QAAQkZ,GAAQE,EAAMtpB,OAAS,IAE7C,CACDyN,IAAK,mBACLivB,IAAK,WACH,IAAItT,EAAOttB,KAAKstB,KAEhB,OADYttB,KAAKwtB,MACJpZ,QAAQkZ,GAAQ,OAnrB2C2I,GAAkBD,EAAYv3B,UAAWs5B,GAAiBC,GAAa/B,GAAkBD,EAAagC,GAurB3K4F,EAzemB,CA0e1B/E,aAGF+E,GAAS4D,aAAe,CACtB5U,QAAS2P,GACTI,UAAW,QACXhQ,QAAS2P,GACTI,UAAW,UACXkD,YAAa,QACbU,gBAAgB,EAChBrG,sBAAsB,GAExB,IAAIwH,GAAoBr0B,IAAU+f,WAAWzI,MACzCgd,GAAet0B,IAAUkf,UAAU,CAAClf,IAAUlH,OAAQgnB,KAC1D0Q,GAASnG,UAAY,CACnB/J,gBAAiB+T,GACjBtD,kBAAmB/wB,IAAU4L,KAC7B2R,aAAcwB,GACd9S,UAAWgT,GACXyR,uBAAwB2D,GACxB9kB,aAAc+kB,GACd3D,YAAa1Q,GACbtD,UAAW3c,IAAUvO,KACrBmrB,eAAgB5c,IAAUvO,KAC1BorB,YAAa7c,IAAUvO,KACvBqrB,gBAAiB9c,IAAUvO,KAC3BsrB,mBAAoB/c,IAAUvO,KAC9ByrB,WAAYld,IAAUvO,KACtBkjB,SAAU+K,GACVpD,OAAQtc,IAAUlH,OAClB0mB,QAASC,GACT8P,UAAWvvB,IAAUgf,MAAMF,IAC3BS,QAASH,GACTkQ,UAAWtvB,IAAUgf,MAAMF,IAC3B2C,oBAAqBzhB,IAAUlH,OAC/B4oB,gBAAiB1hB,IAAUvO,KAC3BmwB,eAAgB5hB,IAAUlH,OAC1BgpB,WAAY9hB,IAAU4gB,KACtBoB,cAAehiB,IAAUlH,OACzBopB,UAAWliB,IAAU4gB,KACrBoQ,wBAAyBhxB,IAAUvO,KACnC2R,SAAUpD,IAAUvO,KACpB0gC,WAAYnyB,IAAUvO,KACtB2gC,cAAepyB,IAAUvO,KACzB4gC,aAAcryB,IAAUvO,KACxBk8B,kBAAmB3tB,IAAUvO,KAC7B6gC,YAAatyB,IAAUvO,KACvBggC,YAAazxB,IAAUvO,KACvBmgC,UAAW5xB,IAAUvO,KACrBw/B,aAAcjxB,IAAUvO,KACxB2wB,eAAgBpiB,IAAUlH,OAC1BwpB,WAAYtiB,IAAU4gB,KACtB4B,cAAexiB,IAAUlH,OACzB4pB,UAAW1iB,IAAU4gB,KACrB4R,YAAaxyB,IAAUgf,MAAM,CAAC,QAAS,MAAO,UAC9CkS,YAAalxB,IAAU4L,KACvBgX,eAAgB5iB,IAAU4L,KAC1BghB,uBAAwB5sB,IAAU4L,KAClCsnB,eAAgBlzB,IAAU4L,KAC1BihB,qBAAsB7sB,IAAU4L,KAChCkjB,gBAAiB9uB,IAAU4L,KAC3B8U,cAAe1gB,IAAUkf,UAAU,CAAClf,IAAUvO,KAAMwtB,KACpD0B,YAAa3gB,IAAUkf,UAAU,CAAClf,IAAUvO,KAAMuO,IAAU4gB,OAC5DK,aAAcjhB,IAAUvO,KACxBG,MAAO0iC,GACPpU,KAAMD,IC5vBOuQ,Q,iICJA,SAAStL,EAAcX,GACpC,IAAK,IAAIjwB,EAAI,EAAGA,EAAIzB,UAAUiE,OAAQxC,IAAK,CACzC,IAAIkwB,EAAyB,MAAhB3xB,UAAUyB,GAAalD,OAAOyB,UAAUyB,IAAM,GACvDowB,EAAUtzB,OAAOyzB,KAAKL,GAEkB,oBAAjCpzB,OAAO0zB,uBAChBJ,EAAQ3O,KAAKpjB,MAAM+xB,EAAStzB,OAAO0zB,sBAAsBN,GAAQ1d,QAAO,SAAUke,GAChF,OAAO5zB,OAAO6zB,yBAAyBT,EAAQQ,GAAKhK,eAIxD0J,EAAQS,SAAQ,SAAU5gB,GACxB,OAAAwW,EAAA,GAAewJ,EAAQhgB,EAAKigB,EAAOjgB,OAIvC,OAAOggB,E,iHCDLgQ,EAAU,WACZ,SAASA,IACP7L,YAAgB91B,KAAM2hC,GAEtB1Z,YAAgBjoB,KAAM,OAAQ,IAiDhC,OA9CA4hC,YAAaD,EAAS,CAAC,CACrBhwB,IAAK,MACL3S,MAAO,SAAa6iC,EAAY9wB,GACzB/Q,KAAK8hC,KAAKD,KACb7hC,KAAK8hC,KAAKD,GAAc,IAG1B7hC,KAAK8hC,KAAKD,GAAY1e,KAAKpS,KAE5B,CACDY,IAAK,SACL3S,MAAO,SAAgB6iC,EAAY9wB,GACjC,IAAIpC,EAAQ3O,KAAK+hC,SAASF,EAAY9wB,IAEvB,IAAXpC,GACF3O,KAAK8hC,KAAKD,GAAYG,OAAOrzB,EAAO,KAGvC,CACDgD,IAAK,WACL3S,MAAO,WACL,OAAOgB,KAAKiiC,SAEb,CACDtwB,IAAK,YACL3S,MAAO,WACL,IAAIk5B,EAAQl4B,KAEZ,OAAOA,KAAK8hC,KAAK9hC,KAAKiiC,OAAOJ,YAAY9F,MAAK,SAAUxN,GAEtD,OADWA,EAAKP,KACJkU,aAAavzB,OAASupB,EAAM+J,OAAOtzB,WAGlD,CACDgD,IAAK,WACL3S,MAAO,SAAkB6iC,EAAY9wB,GACnC,OAAO/Q,KAAK8hC,KAAKD,GAAYztB,QAAQrD,KAEtC,CACDY,IAAK,iBACL3S,MAAO,WACL,IAAI6iC,EAAa5hC,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKD,KAAKiiC,OAAOJ,WACjG,OAAO7hC,KAAK8hC,KAAKD,GAAYpW,KAAK0W,OAI/BR,EArDK,GAwDd,SAASQ,EAAYC,EAAOC,GAG1B,OAFaD,EAAMpU,KAAKkU,aAAavzB,MACxB0zB,EAAMrU,KAAKkU,aAAavzB,MAevC,SAAS2zB,EAAKpa,EAAKqa,GACjB,OAAO/jC,OAAOyzB,KAAK/J,GAAK1F,QAAO,SAAUggB,EAAK7wB,GAK5C,OAJiC,IAA7B4wB,EAAWnuB,QAAQzC,KACrB6wB,EAAI7wB,GAAOuW,EAAIvW,IAGV6wB,IACN,IAEL,IAAIC,EAAS,CACX1zB,IAAK,CAAC,WAAY,cAAe,WACjC2zB,KAAM,CAAC,YAAa,aACpB92B,MAAO,CAAC,aAAc,cAEpB+2B,EAAe,WACjB,GAAsB,qBAAX3f,QAA8C,qBAAb4f,SAC1C,MAAO,GAGT,IAAIC,EAAS7f,OAAO8f,iBAAiBF,SAASG,gBAAiB,KAAO,CAAC,sBACnEC,GAAOr2B,MAAMlO,UAAUiB,MAAMR,KAAK2jC,GAAQjgB,KAAK,IAAIqgB,MAAM,sBAAyC,KAAjBJ,EAAOK,OAAgB,CAAC,GAAI,MAAM,GAEvH,MACO,OADCF,EAEG,KAGAA,GAAOA,EAAI9+B,OAAS8+B,EAAI,GAAGnf,cAAgBmf,EAAIG,OAAO,GAAK,GAbrD,GAgBnB,SAASC,EAAgBpV,EAAM6U,GAC7BrkC,OAAOyzB,KAAK4Q,GAAQtQ,SAAQ,SAAU5gB,GACpCqc,EAAKlV,MAAMnH,GAAOkxB,EAAOlxB,MAG7B,SAAS0xB,EAAerV,EAAMsV,GAC5BtV,EAAKlV,MAAM,GAAG6J,OAAOggB,EAAc,cAA6B,MAAbW,EAAoB,GAAK,eAAe3gB,OAAO2gB,EAAUC,EAAG,OAAO5gB,OAAO2gB,EAAUE,EAAG,SAE5I,SAASC,EAAsBzV,EAAM0V,GACnC1V,EAAKlV,MAAM,GAAG6J,OAAOggB,EAAc,uBAAqC,MAAZe,EAAmB,GAAK,GAAG/gB,OAAO+gB,EAAU,MAE1G,SAASC,EAAQlgB,EAAIqB,GACnB,KAAOrB,GAAI,CACT,GAAIqB,EAAGrB,GACL,OAAOA,EAGTA,EAAKA,EAAGmgB,WAGV,OAAO,KAET,SAASC,EAAMzG,EAAKC,EAAKr+B,GACvB,OAAOsV,KAAK+oB,IAAID,EAAK9oB,KAAK8oB,IAAIp+B,EAAOq+B,IAGvC,SAASyG,EAAcC,GACrB,MAA+B,OAA3BA,EAAYZ,QAAQ,GACfa,WAAWD,GAGb,EAGT,SAASE,EAAiBn9B,GACxB,IAAIgS,EAAQkK,OAAO8f,iBAAiBh8B,GACpC,MAAO,CACLo9B,OAAQJ,EAAchrB,EAAMqrB,cAC5BC,KAAMN,EAAchrB,EAAMib,YAC1BsQ,MAAOP,EAAchrB,EAAMwrB,aAC3BC,IAAKT,EAAchrB,EAAM0rB,YAG7B,SAASC,EAAmBltB,EAAQmtB,GAClC,IAAIhY,EAAgBgY,EAAaC,aAAeD,EAAaxjC,KAC7D,OAAOwrB,EAAgB,GAAG/J,OAAOpL,EAAQ,KAAKoL,OAAO+J,EAAe,KAAOnV,EAE7E,SAASqtB,EAAoC5W,EAAM6W,GACjD,IAAIC,EAAqB9W,EAAK+W,wBAC9B,MAAO,CACLR,IAAKO,EAAmBP,IAAMM,EAAYN,IAC1CH,KAAMU,EAAmBV,KAAOS,EAAYT,MAGhD,SAASY,EAAYv1B,GACnB,OAAIA,EAAMw1B,SAAWx1B,EAAMw1B,QAAQ/gC,OAC1B,CACLq/B,EAAG9zB,EAAMw1B,QAAQ,GAAGC,MACpB1B,EAAG/zB,EAAMw1B,QAAQ,GAAGE,OAEb11B,EAAM21B,gBAAkB31B,EAAM21B,eAAelhC,OAC/C,CACLq/B,EAAG9zB,EAAM21B,eAAe,GAAGF,MAC3B1B,EAAG/zB,EAAM21B,eAAe,GAAGD,OAGtB,CACL5B,EAAG9zB,EAAMy1B,MACT1B,EAAG/zB,EAAM01B,OAIf,SAASE,EAAa51B,GACpB,OAAOA,EAAMw1B,SAAWx1B,EAAMw1B,QAAQ/gC,QAAUuL,EAAM21B,gBAAkB31B,EAAM21B,eAAelhC,OAE/F,SAASohC,EAActX,EAAMuX,GAC3B,IAAIjhB,EAASrkB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,CAC/EmkC,KAAM,EACNG,IAAK,GAGP,GAAKvW,EAAL,CAIA,IAAIwX,EAAa,CACfpB,KAAM9f,EAAO8f,KAAOpW,EAAKyX,WACzBlB,IAAKjgB,EAAOigB,IAAMvW,EAAK0X,WAGzB,OAAI1X,EAAK4V,aAAe2B,EACfC,EAGFF,EAActX,EAAK4V,WAAY2B,EAAQC,IAEhD,SAASG,EAAeC,EAAUC,EAAWC,GAC3C,OAAIF,EAAWE,GAAYF,EAAWC,EAC7BD,EAAW,EACTA,EAAWE,GAAYF,EAAWC,EACpCD,EAAW,EAEXA,EAGX,SAASG,EAAmBxX,GAC1B,IAAIyX,EAAazX,EAAKyX,WAClB3J,EAAQ9N,EAAK8N,MACb4J,EAAS1X,EAAK0X,OACdC,EAAUF,EACVG,EAAUH,EACVI,EAAO,KAEX,GAA0B,kBAAfJ,EAAyB,CAClC,IAAI/C,EAAQ,6BAA6BoD,KAAKL,GAC9CM,IAAoB,OAAVrD,EAAgB,gGAAsG+C,GAChIE,EAAUlC,WAAWgC,GACrBG,EAAUnC,WAAWgC,GACrBI,EAAOnD,EAAM,GAUf,OAPAqD,IAAUC,SAASL,IAAYK,SAASJ,GAAU,gDAAiDH,GAEtF,MAATI,IACFF,EAAUA,EAAU7J,EAAQ,IAC5B8J,EAAUA,EAAUF,EAAS,KAGxB,CACL1C,EAAG2C,EACH1C,EAAG2C,GAGP,SAASK,EAAoBpE,GAC3B,IAAI6D,EAAS7D,EAAM6D,OACf5J,EAAQ+F,EAAM/F,MACd2J,EAAa5D,EAAM4D,WACnBS,EAAU95B,MAAMmc,QAAQkd,GAAcA,EAAa,CAACA,EAAYA,GACpEM,IAA6B,IAAnBG,EAAQviC,OAAc,4GAAkH8hC,GAElJ,IAAIU,EAAWC,YAAeF,EAAS,GACnCG,EAAgBF,EAAS,GACzBG,EAAgBH,EAAS,GAE7B,MAAO,CAACX,EAAmB,CACzBE,OAAQA,EACRD,WAAYY,EACZvK,MAAOA,IACL0J,EAAmB,CACrBE,OAAQA,EACRD,WAAYa,EACZxK,MAAOA,KAaX,SAASyK,EAAmBrjB,GAC1B,OAAMA,aAAcsjB,YAVtB,SAAsBtjB,GACpB,IAAIujB,EAAgBhkB,OAAO8f,iBAAiBrf,GACxCwjB,EAAgB,gBAEpB,MADiB,CAAC,WAAY,YAAa,aACzBlL,MAAK,SAAUmL,GAC/B,OAAOD,EAAcxnC,KAAKunC,EAAcE,OAO/BC,CAAa1jB,GACfA,EAEAqjB,EAAmBrjB,EAAGmgB,YAJtB,KAOX,SAASwD,EAAoBtgC,GAC3B,IAAIgS,EAAQkK,OAAO8f,iBAAiBh8B,GAEpC,MAAsB,SAAlBgS,EAAMsY,QACD,CACLmS,EAAGO,EAAchrB,EAAMuuB,eACvB7D,EAAGM,EAAchrB,EAAMwuB,aAIpB,CACL/D,EAAG,EACHC,EAAG,GAGP,IAAI+D,EAEG,GAFHA,EAGK,GAHLA,EAII,GAJJA,EAKE,GALFA,EAMK,GANLA,EAOI,GAEJC,EACM,IADNA,EAEM,SAFNA,EAGM,SAHNA,EAIK,QAJLA,EAKM,SALNA,EAMQ,WANRA,GAOM,SAEV,SAASC,GAAUzZ,GACjB,IAAI0Z,EAAW,qDACXC,EAAS3Z,EAAK4Z,iBAAiBF,GAC/BG,EAAa7Z,EAAKyZ,WAAU,GAkBhC,OAhBmBzT,YAAmB6T,EAAWD,iBAAiBF,IAErDnV,SAAQ,SAAUuV,EAAOpmC,IACjB,SAAfomC,EAAM3nC,OACR2nC,EAAM9oC,MAAQ2oC,EAAOjmC,GAAG1C,OAGP,UAAf8oC,EAAM3nC,MAAoB2nC,EAAM5mC,OAClC4mC,EAAM5mC,KAAO,oBAAoByhB,OAAOmlB,EAAM5mC,OAG5C4mC,EAAMC,UAAYP,GAAmBG,EAAOjmC,GAAG26B,MAAQ,GAAKsL,EAAOjmC,GAAGukC,OAAS,IACnE6B,EAAME,WAAW,MACvBC,UAAUN,EAAOjmC,GAAI,EAAG,MAG7BmmC,EAuDT,SAASK,GAAiBla,GACxB,OAA8B,MAAvBA,EAAKma,eAGd,IAAIC,GAAe,WACjB,SAASA,EAAaC,EAAWC,GAC/BxS,YAAgB91B,KAAMooC,GAEtBpoC,KAAKqoC,UAAYA,EACjBroC,KAAKsoC,iBAAmBA,EAkF1B,OA/EA1G,YAAawG,EAAc,CAAC,CAC1Bz2B,IAAK,QACL3S,MAAO,WACgB,MAAjBgB,KAAKuoC,WAITC,cAAcxoC,KAAKuoC,UACnBvoC,KAAKuoC,SAAW,QAEjB,CACD52B,IAAK,SACL3S,MAAO,SAAgBuvB,GACrB,IAAI2J,EAAQl4B,KAERsjC,EAAY/U,EAAK+U,UACjBmF,EAAela,EAAKka,aACpBC,EAAena,EAAKma,aACpBrM,EAAQ9N,EAAK8N,MACb4J,EAAS1X,EAAK0X,OACd7S,EAAY,CACdmQ,EAAG,EACHC,EAAG,GAEDmF,EAAQ,CACVpF,EAAG,EACHC,EAAG,GAEDoF,EACC,GADDA,EAEC,GAEDC,EAAkB7oC,KAAKqoC,UACvBS,EAAYD,EAAgBC,UAC5BC,EAAaF,EAAgBE,WAC7BC,EAAeH,EAAgBG,aAC/BC,EAAcJ,EAAgBI,YAG9BC,EAAsB,IAAdJ,EACRK,EAAWH,EAAeF,EAHXD,EAAgBO,eAGwB,EACvDC,EAAwB,IAAfN,EACTO,EAAUL,EAAcF,EAJVF,EAAgBU,cAIuB,EAErDjG,EAAUE,GAAKkF,EAAalF,EAAIyC,EAAS,IAAMkD,GACjD/V,EAAUoQ,EAAI,EACdmF,EAAMnF,EAAIoF,EAAiBt0B,KAAKk1B,KAAKd,EAAalF,EAAIyC,EAAS,EAAI3C,EAAUE,GAAKyC,IACzE3C,EAAUC,GAAKmF,EAAanF,EAAIlH,EAAQ,IAAMiN,GACvDlW,EAAUmQ,EAAI,EACdoF,EAAMpF,EAAIqF,EAAiBt0B,KAAKk1B,KAAKd,EAAanF,EAAIlH,EAAQ,EAAIiH,EAAUC,GAAKlH,IACxEiH,EAAUE,GAAKiF,EAAajF,EAAIyC,EAAS,IAAMiD,GACxD9V,EAAUoQ,GAAK,EACfmF,EAAMnF,EAAIoF,EAAiBt0B,KAAKk1B,KAAKlG,EAAUE,EAAIyC,EAAS,EAAIwC,EAAajF,GAAKyC,IACzE3C,EAAUC,GAAKkF,EAAalF,EAAIlH,EAAQ,IAAMgN,IACvDjW,EAAUmQ,GAAK,EACfoF,EAAMpF,EAAIqF,EAAiBt0B,KAAKk1B,KAAKlG,EAAUC,EAAIlH,EAAQ,EAAIoM,EAAalF,GAAKlH,IAG/Er8B,KAAKuoC,WACPvoC,KAAKypC,QACLzpC,KAAK0pC,iBAAkB,GAGL,IAAhBtW,EAAUmQ,GAA2B,IAAhBnQ,EAAUoQ,IACjCxjC,KAAKuoC,SAAWoB,aAAY,WAC1BzR,EAAMwR,iBAAkB,EACxB,IAAIplB,EAAS,CACX8f,KAAMuE,EAAMpF,EAAInQ,EAAUmQ,EAC1BgB,IAAKoE,EAAMnF,EAAIpQ,EAAUoQ,GAE3BtL,EAAMmQ,UAAUS,WAAaxkB,EAAOigB,IACpCrM,EAAMmQ,UAAUU,YAAczkB,EAAO8f,KAErClM,EAAMoQ,iBAAiBhkB,KACtB,QAKF8jB,EAvFU,GAkHnB,IAAI3Q,GAAY,CACdmS,KAAMx8B,IAAUgf,MAAM,CAAC,IAAK,IAAK,OACjCyd,cAAez8B,IAAU6f,IACzB6c,kBAAmB18B,IAAU4L,KAC7B+wB,SAAU38B,IAAUxH,OACpBokC,aAAc58B,IAAUvO,KACxBorC,oBAAqB78B,IAAUvO,KAC/BqrC,YAAa98B,IAAUlH,OACvBikC,gBAAiB/8B,IAAUkf,UAAU,CAAClf,IAAUvO,KAA6B,qBAAhBkoC,YAA8B35B,IAAU6f,IAAM7f,IAAU+f,WAAW4Z,eAChIqD,kBAAmBh9B,IAAU4L,KAC7BqxB,kCAAmCj9B,IAAUxH,OAC7C0kC,SAAUl9B,IAAUlH,OACpB8/B,WAAY54B,IAAUkf,UAAU,CAAClf,IAAUxH,OAAQwH,IAAUlH,OAAQkH,IAAUmf,QAAQnf,IAAUkf,UAAU,CAAClf,IAAUxH,OAAQwH,IAAUlH,YACxIqkC,qBAAsBn9B,IAAU4L,KAChCwxB,UAAWp9B,IAAUvO,KACrB4rC,WAAYr9B,IAAUvO,KACtB6rC,WAAYt9B,IAAUvO,KACtB8rC,YAAav9B,IAAUvO,KACvB+rC,WAAYx9B,IAAUxH,OACtBilC,eAAgBz9B,IAAUxH,OAC1BklC,SAAU19B,IAAU2f,MAAM,CACxBge,KAAM39B,IAAUmf,QAAQnf,IAAUxH,QAClColC,KAAM59B,IAAUmf,QAAQnf,IAAUxH,QAClCqlC,OAAQ79B,IAAUmf,QAAQnf,IAAUxH,QACpCslC,GAAI99B,IAAUmf,QAAQnf,IAAUxH,QAChCulC,KAAM/9B,IAAUmf,QAAQnf,IAAUxH,UAEpCwlC,kBAAmBh+B,IAAUvO,KAC7BwsC,mBAAoBj+B,IAAUxH,OAC9B0lC,sBAAuBl+B,IAAUvO,KACjC0sC,cAAen+B,IAAU4L,KACzBwyB,2BAA4Bp+B,IAAU4L,MAEpCyyB,GAAkB,CACpBV,KAAM,CAACxD,GACPyD,KAAM,CAACzD,GACP0D,OAAQ,CAAC1D,GACT2D,GAAI,CAAC3D,EAAYA,GACjB4D,KAAM,CAAC5D,EAAcA,IAEnB/F,GAAe,CACjBoI,KAAM,IACNE,mBAAmB,EACnBC,SAAU,EACVE,oBApEF,SAAoC1b,GAClC,IAAIP,EAAOO,EAAKP,KAChB,MAAO,CACLiY,OAAQjY,EAAK0d,aACbrP,MAAOrO,EAAK2d,cAiEdvB,mBAAmB,EACnBpE,WAAY,MACZuE,sBAAsB,EACtBK,WAAY,EACZC,eAAgB,EAChBC,SAAUW,GACVL,kBAnEF,SAAkC37B,GAGhC,OAA2D,IAFjC,CAAC+3B,EAAgBA,EAAmBA,GAAiBA,EAAiBA,GAExEpzB,QAAQ3E,EAAMkiB,OAAOoW,YAIzCpE,EAAQl0B,EAAMkiB,QAAQ,SAAUlO,GAClC,MAA8B,SAAvBA,EAAGmoB,oBA4DZP,mBAAoB,IACpBG,4BAA4B,GAE1BK,GAAertC,OAAOyzB,KAAKwF,IAC/B,SAASqU,GAAc1sB,GACrBknB,MAAYlnB,EAAM2qB,UAAY3qB,EAAMwrB,YAAa,yIAGnD,SAASmB,GAAiBC,EAAMC,GAC9B,IACE,IAAIntC,EAASktC,IACb,MAAOprC,GACP,OAAOqrC,GAAU,EAAMrrC,GAGzB,OAAI9B,GAAUA,EAAOotC,KACZptC,EAAOotC,KAAKD,EAAUE,KAAK,MAAM,GAAQF,EAAUE,KAAK,MAAM,IAGhEF,GAAU,EAAOjtC,OAE1B,IAAIotC,GAAkBC,wBAAc,CAClCC,QAAS,KAEX,SAASC,GAAkBC,GACzB,IAAIC,EAAQC,EAERC,EAAS1sC,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,CAC/E2sC,SAAS,GAEX,OAAOF,EAAQD,EAAS,SAAUI,GAGhC,SAASC,EAAsB1tB,GAC7B,IAAI8Y,EAEJpC,YAAgB91B,KAAM8sC,GAEtB5U,EAAQhB,YAA2Bl3B,KAAMg3B,YAAgB8V,GAAuB5tC,KAAKc,KAAMof,IAE3F6I,YAAgBkP,YAAuBA,YAAuBe,IAAS,QAAS,IAEhFjQ,YAAgBkP,YAAuBA,YAAuBe,IAAS,eAAe,SAAUzoB,GAC9F,IAAI+oB,EAAcN,EAAM9Y,MACpB2qB,EAAWvR,EAAYuR,SACvBqB,EAAoB5S,EAAY4S,kBAEpC,GAAqB,IAAjB37B,EAAMs9B,SAAgB3B,EAAkB37B,GAA5C,CAIAyoB,EAAM8U,SAAU,EAChB9U,EAAM7iB,SAAW2vB,EAAYv1B,GAC7B,IAAIue,EAAO2V,EAAQl0B,EAAMkiB,QAAQ,SAAUlO,GACzC,OAA0B,MAAnBA,EAAGye,gBAGZ,GAAIlU,GAAQA,EAAKkU,cAAgBhK,EAAM+U,YAAYjf,KAAUkK,EAAMzlB,MAAMy6B,QAAS,CAChF,IAAI3B,EAAgBrT,EAAM9Y,MAAMmsB,cAC5B4B,EAAqBnf,EAAKkU,aAC1BvzB,EAAQw+B,EAAmBx+B,MAC3BkzB,EAAasL,EAAmBtL,WAGpC,GAFesL,EAAmBt0B,SAGhC,OAGF,GAAI0yB,IAAkB5H,EAAQl0B,EAAMkiB,OAAQuW,IAC1C,OAGFhQ,EAAMoU,QAAQrK,OAAS,CACrBJ,WAAYA,EACZlzB,MAAOA,GAGJ02B,EAAa51B,IAAUA,EAAMkiB,OAAOoW,UAAYP,GACnD/3B,EAAM29B,iBAGHrD,IAC4B,IAA3B7R,EAAM9Y,MAAMwrB,WACd1S,EAAMmV,YAAY59B,GAElByoB,EAAMoV,WAAa/9B,YAAW,WAC5B,OAAO2oB,EAAMmV,YAAY59B,KACxByoB,EAAM9Y,MAAMwrB,kBAMvB3iB,YAAgBkP,YAAuBA,YAAuBe,IAAS,eAAe,SAAUlK,GAC9F,OAAOA,EAAKkU,aAAaoK,UAAYpU,EAAMoU,WAG7CrkB,YAAgBkP,YAAuBA,YAAuBe,IAAS,cAAc,SAAUzoB,GAC7F,IAAI6vB,EAAepH,EAAM9Y,MACrB2qB,EAAWzK,EAAayK,SACxBc,EAAiBvL,EAAauL,eAElC,IAAK3S,EAAMzlB,MAAMy6B,SAAWhV,EAAM8U,UAAY9U,EAAMqV,+BAAgC,CAClF,IAAIl4B,EAAW2vB,EAAYv1B,GACvB+9B,EAAQ,CACVjK,EAAGrL,EAAM7iB,SAASkuB,EAAIluB,EAASkuB,EAC/BC,EAAGtL,EAAM7iB,SAASmuB,EAAInuB,EAASmuB,GAE7BiK,EAAgBn5B,KAAKk1B,IAAIgE,EAAMjK,GAAKjvB,KAAKk1B,IAAIgE,EAAMhK,GACvDtL,EAAMsV,MAAQA,EAETzD,GAAcc,KAAkB4C,GAAiB5C,GAG3Cd,GAAY0D,GAAiB1D,GAAY7R,EAAMoU,QAAQoB,YAChExV,EAAMmV,YAAY59B,IAHlBk+B,aAAazV,EAAM0V,aACnB1V,EAAM0V,YAAcr+B,WAAW2oB,EAAM+S,OAAQ,QAOnDhjB,YAAgBkP,YAAuBA,YAAuBe,IAAS,aAAa,WAClFA,EAAM8U,SAAU,EAEhB9U,EAAM+S,YAGRhjB,YAAgBkP,YAAuBA,YAAuBe,IAAS,UAAU,WAC/E,IAAI6R,EAAW7R,EAAM9Y,MAAM2qB,SACb7R,EAAMzlB,MAAMy6B,UAGnBnD,GACH4D,aAAazV,EAAMoV,YAGrBpV,EAAMoU,QAAQrK,OAAS,SAI3Bha,YAAgBkP,YAAuBA,YAAuBe,IAAS,eAAe,SAAUzoB,GAC9F,IACE,IAAIwyB,EAAS/J,EAAMoU,QAAQuB,YAEvBC,EAAS,WACX,GAAI7L,EAAQ,CACV,IAAI8L,EAAS,WACX,IAAIp/B,EAAQq/B,EAAM9L,aAAavzB,MAC3Bs/B,EAAShK,EAAiB+J,GAC1BE,EAAU9G,EAAoBlP,EAAMmQ,WAEpC8F,EAAwBjW,EAAMkW,gBAAgBrJ,wBAE9CsJ,EAAaC,EAAqB,CACpC3/B,MAAOA,EACPqf,KAAMggB,EACNnM,WAAY0M,IAiEd,GA9DArW,EAAMlK,KAAOggB,EACb9V,EAAM+V,OAASA,EACf/V,EAAMgW,QAAUA,EAChBhW,EAAMmE,MAAQgS,EAAWhS,MACzBnE,EAAM+N,OAASoI,EAAWpI,OAC1B/N,EAAMsW,aAAe,CACnBjL,EAAGrL,EAAM+V,OAAO7J,KAAOlM,EAAM+V,OAAO5J,MAAQnM,EAAMgW,QAAQ3K,EAC1DC,EAAGlvB,KAAK+oB,IAAInF,EAAM+V,OAAO1J,IAAKrM,EAAM+V,OAAO/J,OAAQhM,EAAMgW,QAAQ1K,IAEnEtL,EAAM4M,mBAAqBkJ,EAAMjJ,wBACjC7M,EAAMiW,sBAAwBA,EAC9BjW,EAAMvpB,MAAQA,EACdupB,EAAM0N,SAAWj3B,EACjBupB,EAAM0R,KAAO,CACXrG,EAAGkL,EAAMr6B,QAAQ,MAAQ,EACzBovB,EAAGiL,EAAMr6B,QAAQ,MAAQ,GAE3B8jB,EAAMwW,WAAapJ,EAAc0I,EAAO9V,EAAMmQ,WAG5CnQ,EAAMyW,cAAgB3J,EADpB4J,EACgCtc,EAAc,GAAI7iB,EAAO,CACzDy1B,MAAOhN,EAAM4M,mBAAmBV,KAChCe,MAAOjN,EAAM4M,mBAAmBP,MAGA90B,GAGpCyoB,EAAM2W,cAAgB,CACpBzK,KAAMlM,EAAMkW,gBAAgBrF,WAC5BxE,IAAKrM,EAAMkW,gBAAgBtF,WAE7B5Q,EAAM4W,oBAAsB,CAC1B1K,KAAMphB,OAAO+rB,YACbxK,IAAKvhB,OAAOgsB,aAEd9W,EAAM+W,OAAS/W,EAAMiS,gBAAgB+E,YAAYzH,GAAUuG,IAC3D5K,EAAgBlL,EAAM+W,OAAQ,CAC5BE,UAAW,aACXlJ,OAAQ,GAAGtjB,OAAOuV,EAAM+N,OAAQ,MAChC7B,KAAM,GAAGzhB,OAAOuV,EAAM4M,mBAAmBV,KAAO6J,EAAO7J,KAAM,MAC7DgL,cAAe,OACf/5B,SAAU,QACVkvB,IAAK,GAAG5hB,OAAOuV,EAAM4M,mBAAmBP,IAAM0J,EAAO1J,IAAK,MAC1DlI,MAAO,GAAG1Z,OAAOuV,EAAMmE,MAAO,QAG5BuS,GACF1W,EAAM+W,OAAOI,QAGXC,IACFpX,EAAMqX,cAAgBvB,EACtB5K,EAAgB4K,EAAO,CACrBwB,QAAS,EACTC,WAAY,YAIhBvX,EAAMuQ,aAAe,GACrBvQ,EAAMwQ,aAAe,GAEjBkG,EAAe,CACjB,IAAIrgB,EAAOmhB,EAA8B,CACvCnL,IAAK,EACLH,KAAM,EACN/H,MAAOnE,EAAM2R,cAAc8F,WAC3B1J,OAAQ/N,EAAM2R,cAAc+F,aAC1B1X,EAAMiW,sBACN0B,EAAethB,EAAKgW,IACpBuL,EAAgBvhB,EAAK6V,KACrB2L,EAAiBxhB,EAAK8N,MAGtB2T,EAAkBH,EAFAthB,EAAK0X,OAGvBgK,EAAiBH,EAAgBC,EAEjC7X,EAAM0R,KAAKrG,IACbrL,EAAMuQ,aAAalF,EAAIuM,EAAgB5X,EAAM4M,mBAAmBV,KAChElM,EAAMwQ,aAAanF,EAAI0M,GAAkB/X,EAAM4M,mBAAmBV,KAAOlM,EAAMmE,QAG7EnE,EAAM0R,KAAKpG,IACbtL,EAAMuQ,aAAajF,EAAIqM,EAAe3X,EAAM4M,mBAAmBP,IAC/DrM,EAAMwQ,aAAalF,EAAIwM,GAAmB9X,EAAM4M,mBAAmBP,IAAMrM,EAAM+N,cAG7E/N,EAAM0R,KAAKrG,IACbrL,EAAMuQ,aAAalF,GAAKmM,EAA8B,EAAIvB,EAAsB/J,MAAQlM,EAAM4M,mBAAmBV,KAAOlM,EAAMmE,MAAQ,EACtInE,EAAMwQ,aAAanF,GAAKmM,EAA8BxX,EAAM2R,cAAc8F,WAAaxB,EAAsB/J,KAAO+J,EAAsB9R,OAASnE,EAAM4M,mBAAmBV,KAAOlM,EAAMmE,MAAQ,GAG/LnE,EAAM0R,KAAKpG,IACbtL,EAAMuQ,aAAajF,GAAKkM,EAA8B,EAAIvB,EAAsB5J,KAAOrM,EAAM4M,mBAAmBP,IAAMrM,EAAM+N,OAAS,EACrI/N,EAAMwQ,aAAalF,GAAKkM,EAA8BxX,EAAM2R,cAAc+F,YAAczB,EAAsB5J,IAAM4J,EAAsBlI,QAAU/N,EAAM4M,mBAAmBP,IAAMrM,EAAM+N,OAAS,GAIlMiK,GACFA,EAAatsB,MAAM,KAAK2O,SAAQ,SAAUlZ,GACxC,OAAO6e,EAAM+W,OAAOxsB,UAAU0tB,IAAI92B,MAItC6e,EAAMkY,aAAe3gC,EAAMw1B,QAAUx1B,EAAMkiB,OAASuG,EAAM2R,cAEtD+E,GACF1W,EAAMkY,aAAaC,iBAAiB,QAASnY,EAAMoY,cAAc,GAEjEpY,EAAMkY,aAAaC,iBAAiB,YAAanY,EAAMoY,cAAc,GAErEpY,EAAMkY,aAAaC,iBAAiB,UAAWnY,EAAMqY,iBAErD9N,EAAOC,KAAKnQ,SAAQ,SAAUie,GAC5B,OAAOtY,EAAMkY,aAAaC,iBAAiBG,EAAWtY,EAAMuY,gBAAgB,MAE9EhO,EAAO1zB,IAAIwjB,SAAQ,SAAUie,GAC3B,OAAOtY,EAAMkY,aAAaC,iBAAiBG,EAAWtY,EAAMwY,eAAe,OAI/ExY,EAAM1hB,SAAS,CACb02B,SAAS,EACTyD,aAAchiC,IAGZiiC,GACFA,EAAa,CACX5iB,KAAMggB,EACNr/B,MAAOA,EACPkzB,WAAY0M,EACZsC,aAAcjC,EACdkC,MAAO5Y,EAAMoU,QAAQyE,iBACrB9B,OAAQ/W,EAAM+W,QACbx/B,GAGDm/B,GACF1W,EAAM8Y,QAAQ,IAIdrR,EAAezH,EAAM9Y,MACrBqvB,EAAQ9O,EAAaiK,KACrB0E,EAAuB3O,EAAasK,oBACpCiG,EAAevQ,EAAauK,YAC5BoF,EAAqB3P,EAAayK,kBAClCkB,EAAwB3L,EAAa2L,sBACrCsF,EAAejR,EAAagL,YAC5B+E,EAA8B/P,EAAa6L,2BAC3CwC,EAAQ/L,EAAOjU,KACfugB,EAActM,EAAOJ,WACrB+M,EAAgB1W,EAAMoU,QAAQuE,aAE9BI,EAAS,WACX,GAAqC,oBAA1B3F,EAAsC,CAC/CpT,EAAMqV,gCAAiC,EAEvC,IAAI2D,EAASnF,IAAiB,WAC5B,IAAIp9B,EAAQq/B,EAAM9L,aAAavzB,MAC/B,OAAOwiC,QAAQC,QAAQ9F,EAAsB,CAC3CzJ,WAAY0M,EACZ5/B,MAAOA,EACPqf,KAAMggB,EACN6C,aAAcjC,GACbn/B,IAAQy8B,MAAK,kBACf,SAAUmF,EAAYC,GAEvB,GADApZ,EAAMqV,gCAAiC,EACnC8D,EAAY,MAAMC,EACtB,OAAOA,KAGT,GAAIJ,GAAUA,EAAOhF,KAAM,OAAOgF,EAAOhF,MAAK,gBAlBrC,GAsBb,OAAO+E,GAAUA,EAAO/E,KAAO+E,EAAO/E,KAAK6B,GAAUA,KA/L5C,GAmMb,OAAOoD,QAAQC,QAAQtD,GAAUA,EAAO5B,KAAO4B,EAAO5B,MAAK,oBAAkB,GAC7E,MAAOtrC,GACP,OAAOuwC,QAAQI,OAAO3wC,OAI1BqnB,YAAgBkP,YAAuBA,YAAuBe,IAAS,kBAAkB,SAAUzoB,GACjG,IAAIg7B,EAAavS,EAAM9Y,MAAMqrB,WAEO,oBAAzBh7B,EAAM29B,gBAAiC39B,EAAM+hC,YACtD/hC,EAAM29B,iBAGRlV,EAAMuZ,qBAAqBhiC,GAE3ByoB,EAAMwZ,eAENxZ,EAAMyZ,aAEFlH,GACFA,EAAWh7B,MAIfwY,YAAgBkP,YAAuBA,YAAuBe,IAAS,iBAAiB,SAAUzoB,GAChG,IAAIuwB,EAAe9H,EAAM9Y,MACrBgrB,EAAoBpK,EAAaoK,kBACjCI,EAAYxK,EAAawK,UACzBoH,EAAgB1Z,EAAMoU,QACtBzK,EAAa+P,EAAc3P,OAAOJ,WAClCgP,EAAee,EAAcf,aAE7BC,EAAQ5Y,EAAMoU,QAAQyE,iBAEtB7Y,EAAMkY,eACJS,GACF3Y,EAAMkY,aAAayB,oBAAoB,QAAS3Z,EAAMoY,cAAc,GAEpEpY,EAAMkY,aAAayB,oBAAoB,YAAa3Z,EAAMoY,cAAc,GAExEpY,EAAMkY,aAAayB,oBAAoB,UAAW3Z,EAAMqY,iBAExD9N,EAAOC,KAAKnQ,SAAQ,SAAUie,GAC5B,OAAOtY,EAAMkY,aAAayB,oBAAoBrB,EAAWtY,EAAMuY,mBAEjEhO,EAAO1zB,IAAIwjB,SAAQ,SAAUie,GAC3B,OAAOtY,EAAMkY,aAAayB,oBAAoBrB,EAAWtY,EAAMwY,oBAKrExY,EAAM+W,OAAOrL,WAAWkO,YAAY5Z,EAAM+W,QAEtC7E,GAAqBlS,EAAMqX,eAC7BnM,EAAgBlL,EAAMqX,cAAe,CACnCC,QAAS,GACTC,WAAY,KAIhB,IAAK,IAAI/tC,EAAI,EAAGqmB,EAAM+oB,EAAM5sC,OAAQxC,EAAIqmB,EAAKrmB,IAAK,CAChD,IAAIqwC,EAASjB,EAAMpvC,GACf+hB,EAAKsuB,EAAO/jB,KAChB+jB,EAAOC,WAAa,KACpBD,EAAOjN,mBAAqB,KAC5BzB,EAAe5f,EAAI,MACnBggB,EAAsBhgB,EAAI,MAC1BsuB,EAAOzO,UAAY,KAGrBpL,EAAM+Z,aAAaxI,QAEnBvR,EAAMoU,QAAQrK,OAAS,KACvB/J,EAAMoU,QAAQuE,cAAe,EAE7B3Y,EAAM1hB,SAAS,CACb02B,SAAS,EACTyD,aAAc,OAGS,oBAAdnG,GACTA,EAAU,CACR3I,WAAYA,EACZ+D,SAAU1N,EAAM0N,SAChBE,SAAU5N,EAAMvpB,MAChBkiC,aAAcA,EACdC,MAAOA,GACNrhC,GAGLyoB,EAAM8U,SAAU,KAGlB/kB,YAAgBkP,YAAuBA,YAAuBe,IAAS,cAAc,WACnF,IAAI4R,EAAoB5R,EAAM9Y,MAAM0qB,kBAChC+G,EAAe3Y,EAAMoU,QAAQuE,aAEjC,GAAI/G,EACF5R,EAAM+Z,aAAaxI,YADrB,CAMA,GAAIoH,EAAc,CAChB,IAAIvN,EAAYhR,EAAc,GAAI4F,EAAMoL,WAEpC4O,EAAU,EACVC,EAAU,EAgBd,OAdIja,EAAM0R,KAAKrG,IACbD,EAAUC,EAAIjvB,KAAK8oB,IAAIlF,EAAMwQ,aAAanF,EAAGjvB,KAAK+oB,IAAInF,EAAMuQ,aAAalF,EAAGrL,EAAMoL,UAAUC,IAC5F2O,EAAUha,EAAMoL,UAAUC,EAAID,EAAUC,GAGtCrL,EAAM0R,KAAKpG,IACbF,EAAUE,EAAIlvB,KAAK8oB,IAAIlF,EAAMwQ,aAAalF,EAAGlvB,KAAK+oB,IAAInF,EAAMuQ,aAAajF,EAAGtL,EAAMoL,UAAUE,IAC5F2O,EAAUja,EAAMoL,UAAUE,EAAIF,EAAUE,GAG1CtL,EAAMoL,UAAYA,EAClBD,EAAenL,EAAM+W,OAAQ/W,EAAMoL,WACnCpL,EAAMkW,gBAAgBrF,YAAcmJ,OACpCha,EAAMkW,gBAAgBtF,WAAaqJ,GAIrCja,EAAM+Z,aAAaG,OAAO,CACxBnM,OAAQ/N,EAAM+N,OACdyC,aAAcxQ,EAAMwQ,aACpBD,aAAcvQ,EAAMuQ,aACpBnF,UAAWpL,EAAMoL,UACjBjH,MAAOnE,EAAMmE,YAIjBpU,YAAgBkP,YAAuBA,YAAuBe,IAAS,gBAAgB,SAAU5T,GAC/F4T,EAAMoL,UAAUC,GAAKjf,EAAO8f,KAC5BlM,EAAMoL,UAAUE,GAAKlf,EAAOigB,IAE5BrM,EAAMwZ,kBAGRzpB,YAAgBkP,YAAuBA,YAAuBe,IAAS,iBAAiB,SAAUzoB,GAChG,IAAI4iC,EAAU5iC,EAAM4iC,QAChBjS,EAAelI,EAAM9Y,MACrBgsB,EAAoBhL,EAAagL,kBACjCkH,EAAwBlS,EAAa0K,SAGrCA,EAAWxY,EAAc,GAAImZ,QAFc,IAA1B6G,EAAmC,GAAKA,GAIzDpa,EAAMoU,QAAQrK,SAAW/J,EAAMoU,QAAQuE,gBAAiB3Y,EAAMoU,QAAQrK,QAAY6I,EAASC,KAAK/O,SAASqW,KAAYjH,EAAkB37B,IAAWyoB,EAAMqa,qBAAqB9iC,MAIjLA,EAAM+iC,kBACN/iC,EAAM29B,iBAEFtC,EAASC,KAAK/O,SAASqW,KAAana,EAAMoU,QAAQrK,OACpD/J,EAAMua,QAAQhjC,GACLq7B,EAASE,KAAKhP,SAASqW,IAAYna,EAAMoU,QAAQrK,OAC1D/J,EAAMwa,QAAQjjC,GACLq7B,EAASG,OAAOjP,SAASqW,IAClCna,EAAM0N,SAAW1N,EAAMoU,QAAQrK,OAAOtzB,MAEtCupB,EAAMwa,QAAQjjC,IACLq7B,EAASI,GAAGlP,SAASqW,GAC9Bna,EAAM8Y,SAAS,GACNlG,EAASK,KAAKnP,SAASqW,IAChCna,EAAM8Y,QAAQ,OAIlB/oB,YAAgBkP,YAAuBA,YAAuBe,IAAS,WAAW,SAAUzoB,GAC1F,IAAIkiB,EAASliB,EAAMkiB,OAIfghB,EAHOhP,EAAQhS,GAAQ,SAAUlO,GACnC,OAA0B,MAAnBA,EAAGye,gBAEmBA,aAC3BvzB,EAAQgkC,EAAoBhkC,MAC5BkzB,EAAa8Q,EAAoB9Q,WACrC3J,EAAM0a,mBAAqBjhB,EAC3BuG,EAAMoU,QAAQuE,cAAe,EAC7B3Y,EAAMoU,QAAQrK,OAAS,CACrBtzB,MAAOA,EACPkzB,WAAYA,GAGd3J,EAAMmV,YAAY59B,MAGpBwY,YAAgBkP,YAAuBA,YAAuBe,IAAS,WAAW,SAAU2a,GAC1F,IAAI/B,EAAQ5Y,EAAMoU,QAAQyE,iBAEtB+B,EAAYhC,EAAMA,EAAM5sC,OAAS,GAAG8pB,KAAKkU,aAAavzB,MACtDi3B,EAAW1N,EAAM0N,SAAWiN,EAC5BhN,EAAY3N,EAAM0N,SAEtB,KAAIA,EAAW,GAAKA,EAAWkN,GAA/B,CAIA5a,EAAM2N,UAAYA,EAClB3N,EAAM0N,SAAWA,EACjB,IAAImN,EAAcpN,EAAezN,EAAM0N,SAAU1N,EAAM2N,UAAW3N,EAAMvpB,OACpEgjB,EAASmf,EAAM/U,MAAK,SAAUqG,GAEhC,OADWA,EAAMpU,KACLkU,aAAavzB,QAAUokC,KAEjCC,EAAarhB,EAAO3D,KACpB6W,EAAc3M,EAAM+a,qBACpBC,EAA2BvhB,EAAOmT,oBAAsBF,EAAoCoO,EAAYnO,GACxGsO,EAAkBxhB,EAAO2R,WAAa,CACxCC,EAAG,EACHC,EAAG,GAED4P,EACGF,EAAyB3O,IAAM4O,EAAgB3P,EAAIqB,EAAYN,IADlE6O,EAEIF,EAAyB9O,KAAO+O,EAAgB5P,EAAIsB,EAAYT,KAEpEiP,EAAsBxN,EAAYD,EAClC0N,EACCD,GAAuBnb,EAAM0R,KAAKrG,EAAIyP,EAAWrH,YAAczT,EAAMmE,MAAQ,EAD9EiX,EAECD,GAAuBnb,EAAM0R,KAAKpG,EAAIwP,EAAWtH,aAAexT,EAAM+N,OAAS,EAGpF/N,EAAMuY,eAAe,CACnBvL,MAAOkO,EAAsBE,EAC7BnO,MAAOiO,EAAqBE,EAC5BC,iBAA4B,IAAVV,QAItB5qB,YAAgBkP,YAAuBA,YAAuBe,IAAS,WAAW,SAAUzoB,GAC1FyoB,EAAMwY,cAAcjhC,GAEhByoB,EAAM0a,oBACR1a,EAAM0a,mBAAmBvD,WAI7BpnB,YAAgBkP,YAAuBA,YAAuBe,IAAS,gBAAgB,SAAUzoB,GAC3FyoB,EAAMoU,QAAQrK,QAChB/J,EAAMwa,QAAQjjC,MAIlBwY,YAAgBkP,YAAuBA,YAAuBe,IAAS,wBAAwB,SAAUzoB,GACvG,IAAI87B,EAAgBrT,EAAM9Y,MAAMmsB,cAC5B5Z,EAASliB,EAAMkiB,OACf3D,EAAO2V,EAAQhS,GAAQ,SAAUlO,GACnC,OAA0B,MAAnBA,EAAGye,gBAEZ,OAAOlU,GAAQA,EAAKkU,eAAiBlU,EAAKkU,aAAarpB,WAAa0yB,EAAgBrD,GAAiBvW,GAAUA,EAAOuQ,iBAGxH,IAAIoK,EAAU,IAAI3K,EAYlB,OAXAmK,GAAc1sB,GACd8Y,EAAMoU,QAAUA,EAChBpU,EAAMsb,gBAAkBC,sBACxBvb,EAAMwb,qBAAuB,CAC3BpH,QAASA,GAEXpU,EAAMuK,OAAS,CACb1zB,IAAKmpB,EAAMyb,UACXjR,KAAMxK,EAAM0b,WACZhoC,MAAOssB,EAAM2b,aAER3b,EA2TT,OA13BAJ,YAAUgV,EAAuBD,GAkkBjCjL,YAAakL,EAAuB,CAAC,CACnCn7B,IAAK,oBACL3S,MAAO,WACL,IAAI80C,EAAS9zC,KAETwrC,EAA6BxrC,KAAKof,MAAMosB,2BACxCnD,EAAYroC,KAAKgqC,eACrBmH,QAAQC,QAAQ/I,GAAW6D,MAAK,SAAU6H,GACxCD,EAAOzL,UAAY0L,EACnBD,EAAOlR,SAAWkR,EAAOzL,UAAU2L,eAAiBpR,SACpD,IAAIiH,EAAgBiK,EAAO10B,MAAMyqB,eAAiBiK,EAAOlR,SAAS7E,aAAe/a,OACjF8wB,EAAOjK,cAAyC,oBAAlBA,EAA+BA,IAAkBA,EAC/EiK,EAAO1F,gBAAkB5C,EAA6BsI,EAAOlR,SAASqR,kBAAoBH,EAAOlR,SAASG,gBAAkB+D,EAAmBgN,EAAOzL,YAAcyL,EAAOzL,UAC3KyL,EAAO7B,aAAe,IAAI7J,GAAa0L,EAAO1F,gBAAiB0F,EAAOI,cACtE11C,OAAOyzB,KAAK6hB,EAAOrR,QAAQlQ,SAAQ,SAAU5gB,GAC3C,OAAO8wB,EAAO9wB,GAAK4gB,SAAQ,SAAUie,GACnC,OAAOsD,EAAOzL,UAAUgI,iBAAiBG,EAAWsD,EAAOrR,OAAO9wB,IAAM,SAI5EmiC,EAAOzL,UAAUgI,iBAAiB,UAAWyD,EAAOvD,oBAGvD,CACD5+B,IAAK,uBACL3S,MAAO,WACL,IAAIm1C,EAASn0C,KAETA,KAAKivC,QAAUjvC,KAAKivC,OAAOrL,YAC7B5jC,KAAKivC,OAAOrL,WAAWkO,YAAY9xC,KAAKivC,QAGrCjvC,KAAKqoC,YAIV7pC,OAAOyzB,KAAKjyB,KAAKyiC,QAAQlQ,SAAQ,SAAU5gB,GACzC,OAAO8wB,EAAO9wB,GAAK4gB,SAAQ,SAAUie,GACnC,OAAO2D,EAAO9L,UAAUwJ,oBAAoBrB,EAAW2D,EAAO1R,OAAO9wB,UAGzE3R,KAAKqoC,UAAUwJ,oBAAoB,UAAW7xC,KAAKuwC,kBAEpD,CACD5+B,IAAK,uBACL3S,MAAO,SAA8ByQ,GACnC,IAAI4wB,EAAergC,KAAKof,MACpBkrB,EAAWjK,EAAaiK,SACxBtE,EAAa3F,EAAa2F,WAC1BuE,EAAuBlK,EAAakK,qBACpCc,EAAqBhL,EAAagL,mBAClC+I,EAAwB/T,EAAagK,kCACrCA,OAA8D,IAA1B+J,EAAmC/I,EAAqB+I,EAC5FvD,EAAe7wC,KAAKssC,QAAQuE,aAC5B0C,EAAmB9jC,EAAM8jC,iBACzBjvB,EAAS0gB,EAAYv1B,GACrB6zB,EAAY,CACdC,EAAGjf,EAAOif,EAAIvjC,KAAK2uC,cAAcpL,EACjCC,EAAGlf,EAAOkf,EAAIxjC,KAAK2uC,cAAcnL,GAMnC,GAJAF,EAAUE,GAAKxgB,OAAOgsB,YAAchvC,KAAK8uC,oBAAoBvK,IAC7DjB,EAAUC,GAAKvgB,OAAO+rB,YAAc/uC,KAAK8uC,oBAAoB1K,KAC7DpkC,KAAKsjC,UAAYA,EAEbiH,EAAsB,CACxB,IAAI8J,EAAuB7N,EAAoB,CAC7CP,OAAQjmC,KAAKimC,OACbD,WAAYA,EACZ3J,MAAOr8B,KAAKq8B,QAEViY,EAAwB3N,YAAe0N,EAAsB,GAC7DzN,EAAgB0N,EAAsB,GACtCzN,EAAgByN,EAAsB,GAEtCC,EAAY,CACdhR,EAAGvjC,KAAKq8B,MAAQ,EAAIuK,EAAcrD,EAClCC,EAAGxjC,KAAKimC,OAAS,EAAIW,EAAcpD,GAEjCgR,EAAY,CACdjR,EAAGvjC,KAAKq8B,MAAQ,EAAIwK,EAActD,EAClCC,EAAGxjC,KAAKimC,OAAS,EAAIY,EAAcrD,GAErCF,EAAUC,EAAIM,EAAM7jC,KAAKyoC,aAAalF,EAAIgR,EAAUhR,EAAGvjC,KAAK0oC,aAAanF,EAAIiR,EAAUjR,EAAGD,EAAUC,GACpGD,EAAUE,EAAIK,EAAM7jC,KAAKyoC,aAAajF,EAAI+Q,EAAU/Q,EAAGxjC,KAAK0oC,aAAalF,EAAIgR,EAAUhR,EAAGF,EAAUE,GAGrF,MAAb8G,EACFhH,EAAUE,EAAI,EACQ,MAAb8G,IACThH,EAAUC,EAAI,GAGZsN,GAAgBxG,IAAsCkJ,GACxD9P,EAAsBzjC,KAAKivC,OAAQ5E,GAGrChH,EAAerjC,KAAKivC,OAAQ3L,KAE7B,CACD3xB,IAAK,eACL3S,MAAO,WACL,IAAIuhC,EAAevgC,KAAKof,MACpBisB,EAAqB9K,EAAa8K,mBAClCjB,EAAoB7J,EAAa6J,kBACjCM,EAAanK,EAAamK,WAC1BuI,EAAuBjzC,KAAKizC,qBAC5BwB,EAAoBz0C,KAAKy0C,kBACzB3D,EAAQ9wC,KAAKssC,QAAQyE,iBACrB2D,EACI10C,KAAK0uC,WAAWtK,KAAOpkC,KAAKsjC,UAAUC,EAAI0P,EAAqB7O,KADnEsQ,EAEG10C,KAAK0uC,WAAWnK,IAAMvkC,KAAKsjC,UAAUE,EAAIyP,EAAqB1O,IAEjEsM,EAAe7wC,KAAKssC,QAAQuE,aAC5BhL,EAAY7lC,KAAK4lC,SACrB5lC,KAAK4lC,SAAW,KAEhB,IAAK,IAAIlkC,EAAI,EAAGqmB,EAAM+oB,EAAM5sC,OAAQxC,EAAIqmB,EAAKrmB,IAAK,CAChD,IAAIizC,EAAS7D,EAAMpvC,GAAGssB,KAClBrf,EAAQgmC,EAAOzS,aAAavzB,MAC5B0tB,EAAQsY,EAAOhJ,YACf1F,EAAS0O,EAAOjJ,aAChBpnB,EAAS,CACX2hB,OAAQjmC,KAAKimC,OAASA,EAASA,EAAS,EAAIjmC,KAAKimC,OAAS,EAC1D5J,MAAOr8B,KAAKq8B,MAAQA,EAAQA,EAAQ,EAAIr8B,KAAKq8B,MAAQ,GAEnDuY,EAAoB/D,GAAgBliC,EAAQ3O,KAAK2O,OAASA,GAASk3B,EACnEgP,EAAmBhE,GAAgBliC,EAAQ3O,KAAK2O,OAASA,GAASk3B,EAClEvC,EAAY,CACdC,EAAG,EACHC,EAAG,GAEDwO,EAAalB,EAAMpvC,GAAGswC,WAErBA,IACHA,EAAa1M,EAAcqP,EAAQ30C,KAAKqoC,WACxCyI,EAAMpvC,GAAGswC,WAAaA,EAElBnB,IACFC,EAAMpvC,GAAGojC,mBAAqBF,EAAoC+P,EAAQ1B,KAI9E,IAAI6B,EAAWpzC,EAAIovC,EAAM5sC,OAAS,GAAK4sC,EAAMpvC,EAAI,GAC7CqzC,EAAWrzC,EAAI,GAAKovC,EAAMpvC,EAAI,GAE9BozC,IAAaA,EAAS9C,aACxB8C,EAAS9C,WAAa1M,EAAcwP,EAAS9mB,KAAMhuB,KAAKqoC,WAEpDwI,IACFiE,EAAShQ,mBAAqBF,EAAoCkQ,EAAS9mB,KAAMilB,KAIjFtkC,IAAU3O,KAAK2O,OAYf08B,GACF5H,EAAsBkR,EAAQtJ,GAG5BrrC,KAAK4pC,KAAKrG,EACRvjC,KAAK4pC,KAAKpG,EACRqR,GAAoBlmC,EAAQ3O,KAAK2O,QAAU+lC,EAAqBD,EAAkBrQ,KAAO9f,EAAO+X,OAAS2V,EAAW5N,MAAQsQ,EAAoBD,EAAkBlQ,KAAOyN,EAAWzN,IAAMjgB,EAAO2hB,QAAUyO,EAAoBD,EAAkBlQ,IAAMjgB,EAAO2hB,QAAU+L,EAAWzN,MACrRjB,EAAUC,EAAIvjC,KAAKq8B,MAAQr8B,KAAKwuC,aAAajL,EAEzCyO,EAAW5N,KAAOd,EAAUC,EAAIvjC,KAAKmuC,sBAAsB9R,MAAQ/X,EAAO+X,OACxEyY,IACFxR,EAAUC,EAAIuR,EAAS9C,WAAW5N,KAAO4N,EAAW5N,KACpDd,EAAUE,EAAIsR,EAAS9C,WAAWzN,IAAMyN,EAAWzN,KAIjC,OAAlBvkC,KAAK4lC,WACP5lC,KAAK4lC,SAAWj3B,KAETimC,GAAqBjmC,EAAQ3O,KAAK2O,QAAU+lC,EAAqBD,EAAkBrQ,KAAO9f,EAAO+X,OAAS2V,EAAW5N,MAAQsQ,EAAoBD,EAAkBlQ,IAAMjgB,EAAO2hB,QAAU+L,EAAWzN,KAAOmQ,EAAoBD,EAAkBlQ,IAAMjgB,EAAO2hB,QAAU+L,EAAWzN,IAAM0B,MACnS3C,EAAUC,IAAMvjC,KAAKq8B,MAAQr8B,KAAKwuC,aAAajL,GAE3CyO,EAAW5N,KAAOd,EAAUC,EAAIvjC,KAAKmuC,sBAAsB/J,KAAO9f,EAAO+X,OACvE0Y,IACFzR,EAAUC,EAAIwR,EAAS/C,WAAW5N,KAAO4N,EAAW5N,KACpDd,EAAUE,EAAIuR,EAAS/C,WAAWzN,IAAMyN,EAAWzN,KAIvDvkC,KAAK4lC,SAAWj3B,GAGdimC,GAAqBjmC,EAAQ3O,KAAK2O,OAAS+lC,EAAqBD,EAAkBrQ,KAAO9f,EAAO+X,OAAS2V,EAAW5N,MACtHd,EAAUC,IAAMvjC,KAAKq8B,MAAQr8B,KAAKwuC,aAAajL,GAC/CvjC,KAAK4lC,SAAWj3B,IACPkmC,GAAoBlmC,EAAQ3O,KAAK2O,OAAS+lC,EAAqBD,EAAkBrQ,MAAQ4N,EAAW5N,KAAO9f,EAAO+X,SAC3HiH,EAAUC,EAAIvjC,KAAKq8B,MAAQr8B,KAAKwuC,aAAajL,EAExB,MAAjBvjC,KAAK4lC,WACP5lC,KAAK4lC,SAAWj3B,IAIb3O,KAAK4pC,KAAKpG,IACfoR,GAAqBjmC,EAAQ3O,KAAK2O,OAAS+lC,EAAoBD,EAAkBlQ,IAAMjgB,EAAO2hB,QAAU+L,EAAWzN,KACrHjB,EAAUE,IAAMxjC,KAAKimC,OAASjmC,KAAKwuC,aAAahL,GAChDxjC,KAAK4lC,SAAWj3B,IACPkmC,GAAoBlmC,EAAQ3O,KAAK2O,OAAS+lC,EAAoBD,EAAkBlQ,KAAOyN,EAAWzN,IAAMjgB,EAAO2hB,UACxH3C,EAAUE,EAAIxjC,KAAKimC,OAASjmC,KAAKwuC,aAAahL,EAEzB,MAAjBxjC,KAAK4lC,WACP5lC,KAAK4lC,SAAWj3B,KAKtB00B,EAAesR,EAAQrR,GACvBwN,EAAMpvC,GAAG4hC,UAAYA,GApEf8G,IACFpqC,KAAKuvC,cAAgBoF,EACrBvR,EAAgBuR,EAAQ,CACtBnF,QAAS,EACTC,WAAY,YAmEC,MAAjBzvC,KAAK4lC,WACP5lC,KAAK4lC,SAAW5lC,KAAK2O,OAGnBkiC,IACF7wC,KAAK4lC,SAAWC,GAGlB,IAAIC,EAAW+K,EAAe7wC,KAAK6lC,UAAYA,EAE3C6E,GAAc1qC,KAAK4lC,WAAaE,GAClC4E,EAAW,CACT7I,WAAY7hC,KAAKssC,QAAQrK,OAAOJ,WAChClzB,MAAO3O,KAAK2O,MACZi3B,SAAU5lC,KAAK4lC,SACfE,SAAUA,EACV+K,aAAcA,EACdC,MAAOA,EACP7B,OAAQjvC,KAAKivC,WAIlB,CACDt9B,IAAK,qBACL3S,MAAO,WAEL,OADAsnC,IAAUqG,EAAOC,QAAS,8HACnB5sC,KAAKwzC,gBAAgBxmB,UAE7B,CACDrb,IAAK,eACL3S,MAAO,WACL,IAAIgrC,EAAehqC,KAAKof,MAAM4qB,aAE9B,MAA4B,oBAAjBA,EACFgL,sBAAYh1C,MAGdgqC,EAAa2C,EAAOC,QAAU5sC,KAAKi1C,0BAAuB/0C,KAElE,CACDyR,IAAK,SACL3S,MAAO,WACL,IAAI+R,EAAM47B,EAAOC,QAAU5sC,KAAKwzC,gBAAkB,KAClD,OAAOriB,wBAAcib,GAAgB8I,SAAU,CAC7Cl2C,MAAOgB,KAAK0zC,sBACXviB,wBAAcqb,EAAkB/a,YAAS,CAC1C1gB,IAAKA,GACJuxB,EAAKtiC,KAAKof,MAAOysB,SAErB,CACDl6B,IAAK,kBACLivB,IAAK,WACH,IAAIuJ,EAAkBnqC,KAAKof,MAAM+qB,gBAEjC,MAA+B,oBAApBA,EACFA,IAGFnqC,KAAKof,MAAM+qB,iBAAmBnqC,KAAK4iC,SAASoJ,OAEpD,CACDr6B,IAAK,uBACLivB,IAAK,WAGH,OAFiC5gC,KAAKof,MAAMosB,2BAGnC,CACLpH,KAAM,EACNG,IAAK,GAIF,CACLH,KAAMpkC,KAAKouC,gBAAgBrF,WAAa/oC,KAAK6uC,cAAczK,KAC3DG,IAAKvkC,KAAKouC,gBAAgBtF,UAAY9oC,KAAK6uC,cAActK,OAG5D,CACD5yB,IAAK,oBACLivB,IAAK,WACH,MAAO,CACLwD,KAAMpkC,KAAK6pC,cAAckF,YAAc/uC,KAAK8uC,oBAAoB1K,KAChEG,IAAKvkC,KAAK6pC,cAAcmF,YAAchvC,KAAK8uC,oBAAoBvK,SAK9DuI,EA33Be,CA43BtBjU,aAAY5Q,YAAgBwkB,EAAQ,cAAehI,EAAmB,eAAgB+H,IAAoBvkB,YAAgBwkB,EAAQ,eAAgBjL,IAAevZ,YAAgBwkB,EAAQ,YAAahV,IAAYiV,EAGtN,IAAIyI,GAAc,CAChBxmC,MAAOvB,IAAUxH,OAAOyH,WACxBw0B,WAAYz0B,IAAUkf,UAAU,CAAClf,IAAUxH,OAAQwH,IAAUlH,SAC7D2S,SAAUzL,IAAU4L,MAElBo8B,GAAiB52C,OAAOyzB,KAAKkjB,IACjC,SAASE,GAAgB7I,GACvB,IAAIC,EAAQC,EAERC,EAAS1sC,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,CAC/E2sC,SAAS,GAEX,OAAOF,EAAQD,EAAS,SAAUI,GAGhC,SAASyI,IACP,IAAIC,EAEArd,EAEJpC,YAAgB91B,KAAMs1C,GAEtB,IAAK,IAAInd,EAAOl4B,UAAUiE,OAAQlD,EAAO,IAAI2L,MAAMwrB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/Ep3B,EAAKo3B,GAAQn4B,UAAUm4B,GAOzB,OAJAF,EAAQhB,YAA2Bl3B,MAAOu1C,EAAmBve,YAAgBse,IAAsBp2C,KAAKa,MAAMw1C,EAAkB,CAACv1C,MAAM2iB,OAAO3hB,KAE9IinB,YAAgBkP,YAAuBA,YAAuBe,IAAS,kBAAmBub,uBAEnFvb,EAyET,OA1FAJ,YAAUwd,EAAqBzI,GAoB/BjL,YAAa0T,EAAqB,CAAC,CACjC3jC,IAAK,oBACL3S,MAAO,WACLgB,KAAKw1C,aAEN,CACD7jC,IAAK,qBACL3S,MAAO,SAA4BqgB,GAC7Brf,KAAKguB,OACH3O,EAAU1Q,QAAU3O,KAAKof,MAAMzQ,QACjC3O,KAAKguB,KAAKkU,aAAavzB,MAAQ3O,KAAKof,MAAMzQ,OAGxC0Q,EAAUxG,WAAa7Y,KAAKof,MAAMvG,WACpC7Y,KAAKguB,KAAKkU,aAAarpB,SAAW7Y,KAAKof,MAAMvG,WAI7CwG,EAAUwiB,aAAe7hC,KAAKof,MAAMyiB,aACtC7hC,KAAKy1C,WAAWp2B,EAAUwiB,YAC1B7hC,KAAKw1C,cAGR,CACD7jC,IAAK,uBACL3S,MAAO,WACLgB,KAAKy1C,eAEN,CACD9jC,IAAK,WACL3S,MAAO,WACL,IAAIw5B,EAAcx4B,KAAKof,MACnByiB,EAAarJ,EAAYqJ,WACzBhpB,EAAW2f,EAAY3f,SACvBlK,EAAQ6pB,EAAY7pB,MACpBqf,EAAOgnB,sBAAYh1C,MACvBguB,EAAKkU,aAAe,CAClBL,WAAYA,EACZhpB,SAAUA,EACVlK,MAAOA,EACP29B,QAAStsC,KAAK01C,QAAQpJ,SAExBtsC,KAAKguB,KAAOA,EACZhuB,KAAK+Q,IAAM,CACTid,KAAMA,GAERhuB,KAAK01C,QAAQpJ,QAAQ6D,IAAItO,EAAY7hC,KAAK+Q,OAE3C,CACDY,IAAK,aACL3S,MAAO,WACL,IAAI6iC,EAAa5hC,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAKD,KAAKof,MAAMyiB,WAChG7hC,KAAK01C,QAAQpJ,QAAQqJ,OAAO9T,EAAY7hC,KAAK+Q,OAE9C,CACDY,IAAK,qBACL3S,MAAO,WAEL,OADAsnC,IAAUqG,EAAOC,QAAS,4HACnB5sC,KAAKwzC,gBAAgBxmB,UAE7B,CACDrb,IAAK,SACL3S,MAAO,WACL,IAAI+R,EAAM47B,EAAOC,QAAU5sC,KAAKwzC,gBAAkB,KAClD,OAAOriB,wBAAcqb,EAAkB/a,YAAS,CAC9C1gB,IAAKA,GACJuxB,EAAKtiC,KAAKof,MAAOg2B,UAIjBE,EA3Fe,CA4FtBzc,aAAY5Q,YAAgBwkB,EAAQ,cAAehI,EAAmB,kBAAmB+H,IAAoBvkB,YAAgBwkB,EAAQ,cAAeL,IAAkBnkB,YAAgBwkB,EAAQ,YAAa0I,IAAcltB,YAAgBwkB,EAAQ,eAAgB,CACjQ5K,WAAY,IACV6K,I,kCClkDN,6FAGIkJ,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAWLC,EAAsB1kC,cAAiB,SAAU2kC,EAAIjlC,GACvD,IAAIklC,EAEAC,EAAqBF,EAAGG,UACxBC,EAAgBJ,EAAGK,KACnBC,EAAUN,EAAGM,QACbC,EAAeP,EAAG38B,UAClBA,OAA6B,IAAjBk9B,EAA0B,GAAKA,EAC3C19B,EAAWm9B,EAAGn9B,SACduG,EAAQw2B,EAAOI,EAAI,CAAC,YAAa,OAAQ,UAAW,YAAa,aAErEQ,YAAW,YAAap3B,KAAW,UAAWA,GAAQ,SAAU,uDAEhE,IAAIq3B,EAAoBplC,aAAiBqlC,KACrCC,EAAeF,EAAkBE,aACjCvjB,EAAYqjB,EAAkBrjB,UAE9BijB,EAAOhlC,aAAiBulC,KACxBT,EAAYQ,EAAa,SAAUT,GACnCW,EAA2BxlC,gBAAoB,MAAO,CACxDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,YAC/BG,GAAwBjlC,gBAAoBylC,IAAiB,CAC9Dz9B,UAAW,GAAGsJ,OAAOwzB,EAAW,oBAE9BhoB,EAAUtU,KAAYo8B,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,UAAuC,WAA3BC,GAAiBC,IAAoBpuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,YAAaG,GAAUruB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,QAAuB,QAAd/iB,GAAsB6iB,GAAc58B,GACvT,OAAoBhI,gBAAoB0lC,IAAM,CAC5CC,iBAAiB,GACH3lC,gBAAoB4lC,UAAUxlB,YAAS,GAAIrS,EAAO,CAChE+2B,UAAWA,EACX98B,UAAW8U,EACXtV,SAAUA,GAAYy9B,EACtBvlC,IAAKA,EACL8lC,YAAaA,SAGjBd,EAAOmB,cAAe,EACtBnB,EAAOpR,YAAc,SACNoR,O,kCC7Df,2DAGIH,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAOLqB,EAAwB9lC,cAAiB,SAAU2kC,EAAIjlC,GACzD,IAAIklC,EAEAmB,EAAUpB,EAAGqB,KACbA,OAAmB,IAAZD,GAA4BA,EACnCE,EAAYtB,EAAGuB,OACfA,OAAuB,IAAdD,GAA+BA,EACxCE,EAAexB,EAAGyB,UAClBA,OAA6B,IAAjBD,GAAkCA,EAC9CE,EAAiB1B,EAAG2B,YACpBA,OAAiC,IAAnBD,EAA4B,SAAWA,EACrDt4B,EAAQw2B,EAAOI,EAAI,CAAC,OAAQ,SAAU,YAAa,gBAEnDS,EAAoBplC,aAAiBqlC,KACrCC,EAAeF,EAAkBE,aACjCvjB,EAAYqjB,EAAkBrjB,UAE9BwkB,EAAWvmC,WAEXwmC,EAAO,SAAcC,GACvB,IAAIC,EAAc93C,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,IAAmBA,UAAU,GACjF23C,EAAS5qB,QAAQgrB,UAAUF,EAAOC,IAGpC1mC,sBAA0BN,GAAK,WAC7B,MAAO,CACL8mC,KAAMA,EACNI,SAAUL,EAAS5qB,QAAQkrB,YAAYD,SACvCC,YAAaN,EAAS5qB,QAAQkrB,YAC9BC,KAAMP,EAAS5qB,QAAQorB,UACvBtY,KAAM8X,EAAS5qB,QAAQqrB,aAExB,CAACT,EAAS5qB,UACb,IAAIsrB,EAAYjnC,SAAaA,WAAe5D,MAAM2R,EAAM+T,WACxD9hB,aAAgB,WACVinC,EAAUtrB,UAAY3b,WAAe5D,MAAM2R,EAAM+T,YACnD0kB,EAAKz4B,EAAMm5B,cAAgB,GAAG,GAC9BD,EAAUtrB,QAAU3b,WAAe5D,MAAM2R,EAAM+T,aAEhD,CAAC/T,EAAM+T,WAEV,IAAIqlB,EAAW/mB,YAAS,GAAIrS,GAEJ,SAApBo5B,EAASC,SACXD,EAASE,MAAO,GAGlB,IAAIvC,EAAYQ,EAAa,WAAY6B,EAASrC,WAC9CwC,EAAY,aAChBH,EAASI,SAA2B,SAAhBjB,GAA0C,UAAhBA,EAC9C,IAAIkB,IAAexB,EACfyB,EAAUj/B,IAAW8+B,EAAW,GAAGh2B,OAAOg2B,EAAW,KAAKh2B,OAAOg1B,GAA8B,mBAATN,IAAsC,OAATA,QAA0B,IAATA,OAAkB,EAASA,EAAKh+B,YACpKA,EAAYQ,IAAWs8B,GAAYF,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,QAAuB,QAAd/iB,GAAsBnL,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,aAAcqC,EAASI,UAAW3C,IAC9N,OAAoB5kC,gBAAoB,MAAO,CAC7CgI,UAAWA,GACGhI,gBAAoB0nC,UAAetnB,YAAS,CAC1D1gB,IAAK6mC,GACJY,EAAU,CACXnB,KAAMwB,EACNF,UAAWG,EACXvB,OAAQA,EACRE,UAAWA,SAGAN,O,iLClFA6B,EADU,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,qXAAyX,KAAQ,cAAe,MAAS,Y,QCMrjBA,EAAqB,SAA4B55B,EAAOrO,GAC1D,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAMC,MAIVH,EAAmBrU,YAAc,qBACLtzB,mBAAiB2nC,GCb9BI,EADW,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uXAA2X,KAAQ,eAAgB,MAAS,YCMzjBA,EAAsB,SAA6Bh6B,EAAOrO,GAC5D,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAMG,MAIVD,EAAoBzU,YAAc,sBACNtzB,mBAAiB+nC,G,SCXzCE,EAAa,SAAoBl6B,GACnC,OAAoB/N,gBAAoBkoC,IAAQ9nB,YAAS,CACvD4kB,KAAM,SACLj3B,KAGLk6B,EAAWE,OAASD,IAAOC,OACZF,Q,2BCRX1D,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GCZM2D,ED6BE,SAAoBzD,GACnC,IAAIE,EAAqBF,EAAGG,UACxBuD,EAA2B1D,EAAG2D,gBAC9BtgC,EAAY28B,EAAG38B,UACfg9B,EAAOL,EAAGK,KACVuD,EAAe5D,EAAGtsB,OAClBmwB,EAAYjE,EAAOI,EAAI,CAAC,YAAa,kBAAmB,YAAa,OAAQ,WAG7E8D,EADiBC,cACGD,GAEpBrD,EAAoBplC,aAAiBqlC,KACrCC,EAAeF,EAAkBE,aACjCvjB,EAAYqjB,EAAkBrjB,UAE9B+iB,EAAYQ,EAAa,aAAcT,GAgDvC8D,EAAmB,SAA0BC,GAC/C,IAAIvwB,EAAS+H,YAASA,YAAS,GAAIwoB,GAAgBL,GAE/CM,EAAmB,UAAT7D,MAAuByD,GAAOzD,IAAQwD,EAAUM,YAC1DR,EAAkBhD,EAAa,SAAU+C,GACzCU,EAAoBvgC,IAAWoO,YAAgB,CACjDoyB,KAAMH,GACL,GAAGv3B,OAAOwzB,EAAW,QAAuB,QAAd/iB,GAAsB/Z,GACvD,OAAoBhI,gBAAoBipC,UAAc7oB,YAAS,GAAIooB,EAAW,CAC5E1D,UAAWA,EACXwD,gBAAiBA,GAxDD,WAClB,IAAIY,EAAwBlpC,gBAAoB,OAAQ,CACtDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,mBAC/B,sBACCqE,EAAwBnpC,gBAAoB,SAAU,CACxDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,cAChCh2C,KAAM,SACNs6C,UAAW,GACGppC,gBAAoBqpC,IAAc,OAC9CC,EAAwBtpC,gBAAoB,SAAU,CACxDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,cAChCh2C,KAAM,SACNs6C,UAAW,GACGppC,gBAAoBupC,IAAe,OAC/CC,EAA4BxpC,gBAAoB,IAAK,CACvDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,eAClB9kC,gBAAoB,MAAO,CACzCgI,UAAW,GAAGsJ,OAAOwzB,EAAW,oBAClB9kC,gBAAoB2nC,EAAoB,CACtD3/B,UAAW,GAAGsJ,OAAOwzB,EAAW,qBAC9BoE,IACAO,EAA4BzpC,gBAAoB,IAAK,CACvDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,eAClB9kC,gBAAoB,MAAO,CACzCgI,UAAW,GAAGsJ,OAAOwzB,EAAW,oBAClB9kC,gBAAoB+nC,EAAqB,CACvD//B,UAAW,GAAGsJ,OAAOwzB,EAAW,qBAC9BoE,IAEJ,GAAkB,QAAdnnB,EAAqB,CACvB,IAAI7E,EAAO,CAACosB,EAAUH,GACtBA,EAAWjsB,EAAK,GAChBosB,EAAWpsB,EAAK,GAChB,IAAI6T,EAAQ,CAAC0Y,EAAcD,GAC3BA,EAAezY,EAAM,GACrB0Y,EAAe1Y,EAAM,GAGvB,MAAO,CACLoY,SAAUA,EACVG,SAAUA,EACVE,aAAcA,EACdC,aAAcA,GAebC,GAAiB,CAClB1hC,UAAW+gC,EACXY,qBAAsBd,EAAUZ,EAAaC,IAC7C7vB,OAAQA,MAIZ,OAAoBrY,gBAAoB4pC,IAAgB,CACtDvuB,cAAe,aACfwuB,cAAeC,KACdnB,IE9GDpE,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GA0CM,SAASsF,EAAcC,EAAOC,EAAY9qC,GACvD,IAAIwlC,EAAKsF,GAAsC,WAAxBvvB,YAAQuvB,GAA2BA,EAAa,GACnEC,EAAWvF,EAAGqF,MACdG,OAA+B,IAAbD,EAAsB,EAAIA,EAC5CE,EAAgB7F,EAAOI,EAAI,CAAC,UAE5B0F,EAAYC,oBAAS,WACvB,MAAO,CACL3uB,QAAS,mBAAoByuB,EAAgBA,EAAcG,eAAiB,EAC5EC,SAAU,oBAAqBJ,EAAgBA,EAAcK,gBA/CpC,OAkDzBC,EAAapV,YAAe+U,EAAW,GACvCM,EAAkBD,EAAW,GAC7BE,EAAqBF,EAAW,GAGhCG,EAtCN,WAGE,IAFA,IAAIp9C,EAAS,GAEJq5B,EAAOl4B,UAAUiE,OAAQi4C,EAAO,IAAIxvC,MAAMwrB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E+jB,EAAK/jB,GAAQn4B,UAAUm4B,GAczB,OAXA+jB,EAAK5pB,SAAQ,SAAUrK,GACjBA,GACF1pB,OAAOyzB,KAAK/J,GAAKqK,SAAQ,SAAU5gB,GACjC,IAAIyqC,EAAMl0B,EAAIvW,QAEFzR,IAARk8C,IACFt9C,EAAO6S,GAAOyqC,SAKft9C,EAoBgBu9C,CAAcL,EAAiBP,EAAe,CACnEJ,MAAOG,EAAkB,EAAIA,EAAkBH,IAG7CiB,EAAUhoC,KAAK8mB,MAAMogB,GAAmBH,GAASa,EAAiBL,UAElEK,EAAiBlvB,QAAUsvB,IAE7BJ,EAAiBlvB,QAAUsvB,GAAW,GAGxC,IAAIC,EAAoB,WACtB,IAAIvvB,EAAU/sB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,EAC9E47C,EAAW57C,UAAUiE,OAAS,EAAIjE,UAAU,QAAKC,EACrD+7C,EAAmB,CACjBjvB,QAASA,EACT6uB,SAAUA,GAAYK,EAAiBL,YAe3C,OAAmB,IAAfP,EACK,CAAC,GAAI,cAGP,CAAC7pB,YAASA,YAAS,GAAIyqB,GAAmB,CAC/C1rC,SAhBqB,SAA0Bwc,EAAS6uB,GACxD,IAAI7F,EAEAsF,IAC6B,QAA9BtF,EAAKsF,EAAW9qC,gBAA6B,IAAPwlC,GAAyBA,EAAG92C,KAAKo8C,EAAYtuB,EAAS6uB,IAG/FU,EAAkBvvB,EAAS6uB,GAC3BrrC,EAASwc,EAAS6uB,IAAkC,OAArBK,QAAkD,IAArBA,OAA8B,EAASA,EAAiBL,cASlHU,G,2GC7GFC,EAAiCnrC,gBAAoB,MAC9CorC,EAA4BD,EAAkBtH,SAC1CsH,I,QCAX5G,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAWL4G,GAAgB,SAAuBt9B,EAAOrO,GAChD,IAAIklC,EAEAP,EAAUrkC,aAAiBmrC,GAE3B/F,EAAoBplC,aAAiBqlC,KACrCC,EAAeF,EAAkBE,aACjCvjB,EAAYqjB,EAAkBrjB,UAE9BupB,EAAWtrC,WACXurC,EAAYC,YAAW9rC,EAAK4rC,GAChCtrC,aAAgB,WACdmlC,cAAa,eAAgBp3B,GAAQ,QAAS,kDAC7C,IAEH,IAOI82B,EAAqB92B,EAAM+2B,UAC3B98B,EAAY+F,EAAM/F,UAClB8Z,EAAW/T,EAAM+T,SACjBra,EAAQsG,EAAMtG,MACd+gC,EAAYjE,EAAOx2B,EAAO,CAAC,YAAa,YAAa,WAAY,UAEjE+2B,EAAYQ,EAAa,QAAST,GAElC4G,EAAarrB,YAAS,GAAIooB,GAE1BnE,IACFoH,EAAW57C,KAAOw0C,EAAQx0C,KAC1B47C,EAAWtsC,SAnBE,SAAkB5P,GAC/B,IAAIo1C,EAAI+G,EAEkB,QAAzB/G,EAAK52B,EAAM5O,gBAA6B,IAAPwlC,GAAyBA,EAAG92C,KAAKkgB,EAAOxe,GACI,QAA7Em8C,EAAiB,OAAZrH,QAAgC,IAAZA,OAAqB,EAASA,EAAQllC,gBAA6B,IAAPusC,GAAyBA,EAAG79C,KAAKw2C,EAAS90C,IAgBhIk8C,EAAWE,QAAU59B,EAAMpgB,QAAU02C,EAAQ12C,MAC7C89C,EAAWjkC,SAAWuG,EAAMvG,UAAY68B,EAAQ78B,UAGlD,IAAIokC,EAAqBpjC,IAAW,GAAG8I,OAAOwzB,EAAW,aAAcF,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,oBAAqB2G,EAAWE,SAAU/0B,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,qBAAsB2G,EAAWjkC,UAAWoP,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,gBAA+B,QAAd/iB,GAAsB6iB,GAAc58B,GAC1X,OAGEhI,gBAAoB,QAAS,CAC3BgI,UAAW4jC,EACXnkC,MAAOA,EACPokC,aAAc99B,EAAM89B,aACpBziB,aAAcrb,EAAMqb,cACNppB,gBAAoB8rC,UAAY1rB,YAAS,GAAIqrB,EAAY,CACvE3G,UAAWA,EACXplC,IAAK6rC,UACW18C,IAAbizB,EAAsC9hB,gBAAoB,OAAQ,KAAM8hB,GAAY,OAIzFiqB,GAAqB/rC,aAAiBqrC,IAC1CU,GAAMzY,YAAc,QACpByY,GAAM5b,aAAe,CACnBrhC,KAAM,SAEOi9C,U,SCzEf,IAAIC,GAA0BhsC,cAAiB,SAAU+N,EAAOrO,GAC9D,IAAI0lC,EAAoBplC,aAAiBqlC,KACrCC,EAAeF,EAAkBE,aACjCvjB,EAAYqjB,EAAkBrjB,UAE9BijB,EAAOhlC,aAAiBulC,MAExB0G,EAAkBC,YAAen+B,EAAMzC,aAAc,CACvD3d,MAAOogB,EAAMpgB,QAEXw+C,EAAmB7W,YAAe2W,EAAiB,GACnDt+C,EAAQw+C,EAAiB,GACzBC,EAAWD,EAAiB,GA4EhC,OAAoBnsC,gBAAoBorC,EAA2B,CACjEz9C,MAAO,CACLwR,SA5EgB,SAAuBktC,GACzC,IAAIC,EAAY3+C,EACZo9C,EAAMsB,EAAG/rB,OAAO3yB,MAEd,UAAWogB,GACfq+B,EAASrB,GAGX,IAAI5rC,EAAW4O,EAAM5O,SAEjBA,GAAY4rC,IAAQuB,GACtBntC,EAASktC,IAkET1+C,MAAOA,EACP6Z,SAAUuG,EAAMvG,SAChB3X,KAAMke,EAAMle,OAhEE,WAChB,IAAI+0C,EAEAC,EAAqB92B,EAAM+2B,UAC3ByH,EAAmBx+B,EAAM/F,UACzBA,OAAiC,IAArBukC,EAA8B,GAAKA,EAC/Cn2C,EAAU2X,EAAM3X,QAChBo2C,EAAaz+B,EAAMy+B,WACnBC,EAAqB1+B,EAAM2+B,YAC3BA,OAAqC,IAAvBD,EAAgC,UAAYA,EAC1DjlC,EAAWuG,EAAMvG,SACjBsa,EAAW/T,EAAM+T,SACjBijB,EAAgBh3B,EAAMi3B,KACtBv9B,EAAQsG,EAAMtG,MACdklC,EAAK5+B,EAAM4+B,GACXd,EAAe99B,EAAM89B,aACrBziB,EAAerb,EAAMqb,aACrB0b,EAAYQ,EAAa,QAAST,GAClC+H,EAAiB,GAAGt7B,OAAOwzB,EAAW,UACtC+H,EAAmB/qB,EAEvB,GAAI1rB,GAAWA,EAAQvD,OAAS,EAAG,CACjC,IAAIi6C,EAAkC,WAAfN,EAA0B,GAAGl7B,OAAOwzB,EAAW,WAAaA,EACnF+H,EAAmBz2C,EAAQ+b,KAAI,SAAUzJ,GACvC,MAAsB,kBAAXA,EAEW1I,gBAAoB+rC,GAAO,CAC7CzrC,IAAKoI,EACLo8B,UAAWgI,EACXtlC,SAAUA,EACV7Z,MAAO+a,EACPijC,QAASh+C,IAAU+a,GAClBA,GAIe1I,gBAAoB+rC,GAAO,CAC7CzrC,IAAK,6BAA6BgR,OAAO5I,EAAO/a,OAChDm3C,UAAWgI,EACXtlC,SAAUkB,EAAOlB,UAAYA,EAC7B7Z,MAAO+a,EAAO/a,MACdg+C,QAASh+C,IAAU+a,EAAO/a,MAC1B8Z,MAAOiB,EAAOjB,OACbiB,EAAOpB,UAId,IAAIylC,EAAahI,GAAiBC,EAC9BgI,EAAcxkC,IAAWokC,EAAgB,GAAGt7B,OAAOs7B,EAAgB,KAAKt7B,OAAOo7B,IAAe9H,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOs7B,EAAgB,KAAKt7B,OAAOy7B,GAAaA,GAAan2B,YAAgBguB,EAAa,GAAGtzB,OAAOs7B,EAAgB,QAAuB,QAAd7qB,GAAsB6iB,GAAc58B,GACrT,OAAoBhI,gBAAoB,MAAOogB,YAAS,GCzF7C,SAA4BrS,GACzC,OAAO5gB,OAAOyzB,KAAK7S,GAAOoD,QAAO,SAAU21B,EAAMxmC,GAK/C,MAJ0B,UAArBA,EAAIwxB,OAAO,EAAG,IAAuC,UAArBxxB,EAAIwxB,OAAO,EAAG,IAA0B,SAARxxB,GAAwC,YAArBA,EAAIwxB,OAAO,EAAG,KACpGgV,EAAKxmC,GAAOyN,EAAMzN,IAGbwmC,IACN,IDkF2DmG,CAAmBl/B,GAAQ,CACrF/F,UAAWglC,EACXvlC,MAAOA,EACPokC,aAAcA,EACdziB,aAAcA,EACdujB,GAAIA,EACJjtC,IAAKA,IACHmtC,GAUHK,OAEuBltC,UAAWgsC,IE1GnCzH,GAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAQL0I,GAAc,SAAqBp/B,EAAOrO,GAC5C,IAAI0tC,EAAoBptC,aAAiBmrC,GAGrC7F,EADoBtlC,aAAiBqlC,KACJC,aAEjCT,EAAqB92B,EAAM+2B,UAC3B2G,EAAalH,GAAOx2B,EAAO,CAAC,cAE5B+2B,EAAYQ,EAAa,eAAgBT,GAO7C,OALIuI,IACF3B,EAAWE,QAAU59B,EAAMpgB,QAAUy/C,EAAkBz/C,MACvD89C,EAAWjkC,SAAWuG,EAAMvG,UAAY4lC,EAAkB5lC,UAGxCxH,gBAAoB+rC,GAAO3rB,YAAS,CACtD0kB,UAAWA,GACV2G,EAAY,CACb38C,KAAM,QACN4Q,IAAKA,MAImBM,gBAAiBmtC,ICzCzCpB,GAAQV,GACZU,GAAMsB,OAASA,GACftB,GAAMuB,MAAQA,GAECvB,UCaJwB,GAAgB,aAChBC,GAAmB,gBACnBC,GAAiB,cAE5B,SAASC,GAAaC,GACpB,OAAOA,GAAUA,EAAOC,MAG1B,SAASC,GAAYC,EAAMC,GACzB,IAAIjD,EAAO,GAQX,OAPCgD,GAAQ,IAAI5sB,SAAQ,SAAU8sB,GAC7BlD,EAAKh5B,KAAKk8B,GAENA,GAA8B,WAApBtzB,YAAQszB,IAAwBD,KAAsBC,IAClElD,EAAO,GAAGx5B,OAAOqR,YAAmBmoB,GAAOnoB,YAAmBkrB,GAAYG,EAAOD,GAAqBA,SAGnGjD,EAGM,SAASmD,GAAaC,EAAc5S,GACjD,IAAIpe,EAAOgxB,GAAgB,GACvBC,EAA0BjxB,EAAKixB,wBAC/BC,EAAkBlxB,EAAKkxB,gBACvBC,EAAyBnxB,EAAKmxB,uBAC9BC,EAAmBpxB,EAAKoxB,iBACxBC,EAAoBrxB,EAAK/d,SACzBqvC,EAAWtxB,EAAKsxB,SAChBC,EAAcvxB,EAAKuxB,YACnBC,EAAiBxxB,EAAKwxB,eACtBC,EAAezxB,EAAKyxB,aACpBC,EAAmB1xB,EAAK0xB,iBACxBC,EAAoB3xB,EAAK4xB,YACzBC,EAAgB7xB,EAAKpuB,KACrBkgD,EAAa9xB,EAAK8xB,WAClBpB,EAAQ1wB,EAAK0wB,MACbqB,EAAsB/xB,EAAKgyB,WAC3BC,EAAgBjyB,EAAKiyB,cACrBC,EAAqBlyB,EAAKmyB,cAC1BA,OAAuC,IAAvBD,GAAuCA,EAEvDtK,EAAYxJ,EAAOwJ,UACnBgJ,EAAOxS,EAAOwS,KACdwB,EAAWhU,EAAOgU,SAClBC,EAAiBjU,EAAOiU,eACxBC,EAAYlU,EAAOkU,UACnBC,EAAanU,EAAOmU,WACpB1B,EAAqBzS,EAAOyS,mBAC5B2B,EAAcpU,EAAOjjB,OACrBs3B,EAAwBrU,EAAOqU,sBAC/BC,EAAoBtU,EAAOsU,kBAE3B3D,EAAkBC,YAAekC,GAAmBC,GAA0B,GAAI,CACpF1gD,MAAOygD,IAELjC,EAAmB7W,YAAe2W,EAAiB,GACnD4D,EAAqB1D,EAAiB,GACtC2D,EAAwB3D,EAAiB,GAGzC4D,EAAqB/vC,SAAa,IAAIgwC,KACtCC,EAA6BxwC,uBAAY,SAAUmhB,GACrD,GAAIutB,EAAyB,CAC3B,IAAI+B,EAAW,IAAIF,IAEnBpvB,EAAKM,SAAQ,SAAU5gB,GACrB,IAAI0tC,EAASuB,EAAejvC,IAEvB0tC,GAAU+B,EAAmBp0B,QAAQw0B,IAAI7vC,KAC5C0tC,EAAS+B,EAAmBp0B,QAAQ4T,IAAIjvB,IAG1C4vC,EAASE,IAAI9vC,EAAK0tC,MAGpB+B,EAAmBp0B,QAAUu0B,KAE9B,CAACX,EAAgBpB,IAEpBnuC,aAAgB,WACdiwC,EAA2BJ,KAC1B,CAACA,IAEJ,IAQIQ,EARWjpC,mBAAQ,WACrB,OAAOioC,EAAgB,CACrBgB,YAAa,MACXC,YAAsBxC,EAAM,CAC9ByC,eAAgBf,EAChBgB,iBAAkBzC,MAEnB,CAACD,EAAM0B,EAAWH,EAAetB,IACTsC,YAGvBI,GAAcrpC,mBAAQ,WACxB,OAAOymC,GAAYyB,EAAUvB,KAC5B,CAACuB,EAAUvB,IAEV2C,GAAmBtpC,mBAAQ,WAC7B,IAAI+K,EAAM,IAAI69B,IAUd,OATAS,GAAYvvB,SAAQ,SAAU8sB,EAAQ1wC,GACpC,IAAIgD,EAAMkvC,EAAUxB,EAAQ1wC,GACxBqzC,GAAiBrC,EAAmBA,EAAiBN,GAAU,OAAS,GAC5E77B,EAAIi+B,IAAI9vC,EAAKqwC,MAMRx+B,IACN,CAACs+B,GAAajB,EAAWlB,IACxBsC,GAAqBnxC,uBAAY,SAAUoxC,GAC7C,IAAIlM,EAEJ,SAAwD,QAA7CA,EAAK+L,GAAiBnhB,IAAIigB,EAAUqB,WAAwB,IAAPlM,OAAgB,EAASA,EAAGn9B,YAC3F,CAACkpC,GAAkBlB,IAElBsB,GAAY1pC,mBAAQ,WACtB,GAAIioC,EACF,MAAO,CAACQ,GAAsB,GAAI,IAGpC,IAAIkB,EAAgBC,YAAanB,GAAoB,EAAMQ,EAAaO,IAIxE,MAAO,CAHWG,EAAcE,aAGT,GAFDF,EAAcG,mBAGnC,CAACrB,EAAoBR,EAAegB,EAAaO,KAChDO,GAAY7b,YAAewb,GAAW,GACtCM,GAAsBD,GAAU,GAChCE,GAA0BF,GAAU,GAEpCG,GAAwBlqC,mBAAQ,WAClC,IAAIwZ,EAAyB,UAAlBmuB,EAA4BqC,GAAoB/iD,MAAM,EAAG,GAAK+iD,GACzE,OAAO,IAAIG,IAAI3wB,KACd,CAACwwB,GAAqBrC,IACrByC,GAA4BpqC,mBAAQ,WACtC,MAAyB,UAAlB2nC,EAA4B,IAAIwC,IAAQ,IAAIA,IAAIF,MACtD,CAACA,GAAyBtC,IAEzB1E,GAAYC,mBAAS,MACrBI,GAAapV,YAAe+U,GAAW,GACvCoH,GAAkB/G,GAAW,GAC7BgH,GAAqBhH,GAAW,GAGpC1qC,aAAgB,WACTkuC,GACH4B,EAAsB,MAEvB,GAAG5B,IACN,IAAIyD,GAAkBlyC,uBAAY,SAAUmhB,GAC1C,IAAIgxB,EACAC,EACJ5B,EAA2BrvB,GAEvButB,GACFyD,EAAgBhxB,EAChBixB,EAAUjxB,EAAKzO,KAAI,SAAU7R,GAC3B,OAAOyvC,EAAmBp0B,QAAQ4T,IAAIjvB,QAIxCsxC,EAAgB,GAChBC,EAAU,GACVjxB,EAAKM,SAAQ,SAAU5gB,GACrB,IAAI0tC,EAASuB,EAAejvC,QAEbzR,IAAXm/C,IACF4D,EAAc9/B,KAAKxR,GACnBuxC,EAAQ//B,KAAKk8B,QAKnB8B,EAAsB8B,GACA,OAAtBrD,QAAoD,IAAtBA,GAAwCA,EAAkBqD,EAAeC,KACtG,CAAC/B,EAAuBP,EAAgBhB,EAAmBJ,IAG1D2D,GAAyBryC,uBAAY,SAAUa,EAAKyxC,EAAUnxB,EAAMxiB,GACtE,GAAIowC,EAAU,CACZ,IAAIwD,EAAOpxB,EAAKzO,KAAI,SAAU8/B,GAC5B,OAAO1C,EAAe0C,MAExBzD,EAASe,EAAejvC,GAAMyxC,EAAUC,EAAM5zC,GAGhDuzC,GAAgB/wB,KACf,CAAC4tB,EAAUe,EAAgBoC,KAC1BO,GAAmB9qC,mBAAQ,WAC7B,OAAK4nC,GAAcG,EACV,OAG0B,IAAfH,EAAsB,CAACzB,GAAeC,GAAkBC,IAAkBuB,GACzE78B,KAAI,SAAU7T,GACjC,OAAIA,IAAcivC,GACT,CACLjtC,IAAK,MACLvK,KAAM25C,EAAYyC,aAClB3D,SAAU,WACRmD,GAAgB7D,EAAK37B,KAAI,SAAU67B,EAAQ1wC,GACzC,OAAOkyC,EAAUxB,EAAQ1wC,SAM7BgB,IAAckvC,GACT,CACLltC,IAAK,SACLvK,KAAM25C,EAAY0C,aAClB5D,SAAU,WACR,IAAI6D,EAAS,IAAId,IAAID,IACrBhC,EAASpuB,SAAQ,SAAU8sB,EAAQ1wC,GACjC,IAAIgD,EAAMkvC,EAAUxB,EAAQ1wC,GAExB+0C,EAAOlC,IAAI7vC,GACb+xC,EAAM,OAAW/xC,GAEjB+xC,EAAOvT,IAAIx+B,MAGf,IAAIsgB,EAAOtlB,MAAMwc,KAAKu6B,GAElB3D,IACFvJ,aAAW,EAAO,QAAS,8EAC3BuJ,EAAe9tB,IAGjB+wB,GAAgB/wB,KAKlBtiB,IAAcmvC,GACT,CACLntC,IAAK,OACLvK,KAAM25C,EAAY4C,WAClB9D,SAAU,WACS,OAAjBG,QAA0C,IAAjBA,GAAmCA,IAC5DgD,GAAgB,MAKfrzC,OAER,CAAC0wC,EAAYsC,GAAuBhC,EAAUE,EAAWd,EAAgBiD,KAwR5E,MAAO,CAtRgBlyC,uBAAY,SAAU8yC,GAC3C,IAAKrE,EACH,OAAOqE,EAIT,IAwCIzpC,EA0DAomC,EAlGAmD,EAAS,IAAId,IAAID,IAEjBkB,EAAa/B,GAAYt+B,IAAIq9B,GAAW3sC,QAAO,SAAUvC,GAC3D,OAAQowC,GAAiBnhB,IAAIjvB,GAAKkH,YAEhCirC,EAAoBD,EAAWE,OAAM,SAAUpyC,GACjD,OAAO+xC,EAAOlC,IAAI7vC,MAEhBqyC,EAAqBH,EAAWI,MAAK,SAAUtyC,GACjD,OAAO+xC,EAAOlC,IAAI7vC,MAiCpB,GAAsB,UAAlByuC,EAA2B,CAC7B,IAAI8D,EAEJ,GAAIX,GAAkB,CACpB,IAAIY,EAAoB9yC,gBAAoB+yC,IAAM,CAChDnD,kBAAmBA,GAClBsC,GAAiB//B,KAAI,SAAU7T,EAAWhB,GAC3C,IAAIgD,EAAMhC,EAAUgC,IAChBvK,EAAOuI,EAAUvI,KACjBi9C,EAAmB10C,EAAUkwC,SACjC,OAAoBxuC,gBAAoB+yC,IAAKE,KAAM,CACjD3yC,IAAKA,GAAOhD,EACZif,QAAS,WACc,OAArBy2B,QAAkD,IAArBA,GAAuCA,EAAiBR,KAEtFz8C,OAEL88C,EAAmC7yC,gBAAoB,MAAO,CAC5DgI,UAAW,GAAGsJ,OAAOwzB,EAAW,qBAClB9kC,gBAAoBkzC,IAAU,CAC5CC,QAASL,EACTlD,kBAAmBA,GACL5vC,gBAAoB,OAAQ,KAAmBA,gBAAoBozC,IAAc,SAGnG,IAAIC,EAAkB5C,GAAYt+B,KAAI,SAAU67B,EAAQ1wC,GACtD,IAAIgD,EAAMkvC,EAAUxB,EAAQ1wC,GACxBqzC,EAAgBD,GAAiBnhB,IAAIjvB,IAAQ,GACjD,OAAO8f,YAAS,CACdurB,QAAS0G,EAAOlC,IAAI7vC,IACnBqwC,MACF9tC,QAAO,SAAUkuB,GAElB,OADeA,EAAMvpB,YAGnB8rC,IAAgBD,EAAgBxgD,QAAUwgD,EAAgBxgD,SAAW49C,GAAY59C,OACjF0gD,EAAwBD,GAAeD,EAAgBX,OAAM,SAAU1hB,GAEzE,OADcA,EAAM2a,WAGlB6H,EAAyBF,GAAeD,EAAgBT,MAAK,SAAUa,GAEzE,OADcA,EAAM9H,WAGtB7iC,GAASqmC,GAA8BnvC,gBAAoB,MAAO,CAChEgI,UAAW,GAAGsJ,OAAOwzB,EAAW,eAClB9kC,gBAAoB0zC,IAAU,CAC5C/H,QAAU2H,EAA0DC,IAA1C9C,GAAY59C,QAAU4/C,EAChDkB,cAAgBL,GAA0DC,GAAyBC,GAApEf,GAAqBE,EACpDxzC,SA/EoB,WACtB,IAAIy0C,EAAa,GAEbnB,EACFD,EAAWtxB,SAAQ,SAAU5gB,GAC3B+xC,EAAM,OAAW/xC,GACjBszC,EAAW9hC,KAAKxR,MAGlBkyC,EAAWtxB,SAAQ,SAAU5gB,GACtB+xC,EAAOlC,IAAI7vC,KACd+xC,EAAOvT,IAAIx+B,GACXszC,EAAW9hC,KAAKxR,OAKtB,IAAIsgB,EAAOtlB,MAAMwc,KAAKu6B,GACN,OAAhB5D,QAAwC,IAAhBA,GAAkCA,GAAagE,EAAmB7xB,EAAKzO,KAAI,SAAU8/B,GAC3G,OAAO1C,EAAe0C,MACpB2B,EAAWzhC,KAAI,SAAU8/B,GAC3B,OAAO1C,EAAe0C,OAExBN,GAAgB/wB,IAyDdpZ,SAAiC,IAAvBipC,GAAY59C,QAAgBygD,EACtCO,WAAW,IACThB,GAOJ3D,EADoB,UAAlBH,EACW,SAAoB79C,EAAG88C,EAAQ1wC,GAC1C,IAAIgD,EAAMkvC,EAAUxB,EAAQ1wC,GACxBquC,EAAU0G,EAAOlC,IAAI7vC,GACzB,MAAO,CACLqc,KAAmB3c,gBAAoB+rC,GAAO3rB,YAAS,GAAIswB,GAAiBnhB,IAAIjvB,GAAM,CACpFqrC,QAASA,EACTpvB,QAAS,SAAiBhtB,GACxB,OAAOA,EAAE4xC,mBAEXhiC,SAAU,SAAkBf,GACrBi0C,EAAOlC,IAAI7vC,IACdwxC,GAAuBxxC,GAAK,EAAM,CAACA,GAAMlC,EAAM01C,iBAIrDnI,QAASA,IAIA,SAAoBz6C,EAAG88C,EAAQ1wC,GAC1C,IAAIqnC,EAMAoP,EAJAzzC,EAAMkvC,EAAUxB,EAAQ1wC,GACxBquC,EAAU0G,EAAOlC,IAAI7vC,GACrBqzC,EAAgBnC,GAA0BrB,IAAI7vC,GAC9CqwC,EAAgBD,GAAiBnhB,IAAIjvB,GAWzC,MARmB,SAAfmvC,GACFsE,EAAsBJ,EACtBxO,YAAkH,mBAA7E,OAAlBwL,QAA4C,IAAlBA,OAA2B,EAASA,EAAcgD,eAA8B,QAAS,8GAEtII,EAA2H,QAApGpP,EAAuB,OAAlBgM,QAA4C,IAAlBA,OAA2B,EAASA,EAAcgD,qBAAkC,IAAPhP,EAAgBA,EAAKgP,EAInJ,CACLh3B,KAAmB3c,gBAAoB0zC,IAAUtzB,YAAS,GAAIuwB,EAAe,CAC3EgD,cAAeI,EACfpI,QAASA,EACTkI,WAAW,EACXt3B,QAAS,SAAiBhtB,GACxB,OAAOA,EAAE4xC,mBAEXhiC,SAAU,SAAkB60C,GAC1B,IAAIF,EAAcE,EAAMF,YACpBG,EAAWH,EAAYG,SACvBC,GAAc,EACdC,GAAY,EAEhB,GAAIF,GAAY5E,EAAe,CAC7B,IAAI+E,EAAY,IAAI7C,IAAI,CAACE,GAAiBnxC,IAC1CkyC,EAAWI,MAAK,SAAUyB,EAAWC,GACnC,GAAIF,EAAUjE,IAAIkE,GAAY,CAC5B,IAAoB,IAAhBH,EAIF,OADAC,EAAWG,GACJ,EAHPJ,EAAaI,EAOjB,OAAO,KAIX,IAAkB,IAAdH,GAAmBD,IAAeC,GAAY9E,EAAe,CAE/D,IAAIkF,EAAY/B,EAAWnkD,MAAM6lD,EAAYC,EAAW,GACpDK,EAAc,GAEd7I,EACF4I,EAAUrzB,SAAQ,SAAUmzB,GACtBhC,EAAOlC,IAAIkE,KACbG,EAAY1iC,KAAKuiC,GACjBhC,EAAM,OAAWgC,OAIrBE,EAAUrzB,SAAQ,SAAUmzB,GACrBhC,EAAOlC,IAAIkE,KACdG,EAAY1iC,KAAKuiC,GACjBhC,EAAOvT,IAAIuV,OAKjB,IAAIzzB,EAAOtlB,MAAMwc,KAAKu6B,GACD,OAArBzD,QAAkD,IAArBA,GAAuCA,GAAkBjD,EAAS/qB,EAAKzO,KAAI,SAAUkiC,GAChH,OAAO9E,EAAe8E,MACpBG,EAAYriC,KAAI,SAAUkiC,GAC5B,OAAO9E,EAAe8E,OAExB1C,GAAgB/wB,OACX,CAEL,IAAI6zB,EAAoBrD,GAExB,GAAI/B,EAAe,CACjB,IAAI4B,EAActF,EAAU+I,YAAOD,EAAmBn0C,GAAOq0C,YAAOF,EAAmBn0C,GACvFwxC,GAAuBxxC,GAAMqrC,EAASsF,EAAa6C,OAC9C,CAEL,IAAIrmD,EAASujD,YAAa,GAAG1/B,OAAOqR,YAAmB8xB,GAAoB,CAACn0C,KAAO,EAAM+vC,EAAaO,IAClGgE,EAAennD,EAAOwjD,YACtBC,EAAkBzjD,EAAOyjD,gBACzB2D,EAAkBD,EAEtB,GAAIjJ,EAAS,CACX,IAAImJ,EAAa,IAAIvD,IAAIqD,GACzBE,EAAU,OAAWx0C,GACrBu0C,EAAkB7D,YAAa11C,MAAMwc,KAAKg9B,GAAa,CACrDnJ,SAAS,EACTuF,gBAAiBA,GAChBb,EAAaO,IAAoBK,YAGtCa,GAAuBxxC,GAAMqrC,EAASkJ,EAAiBf,IAI3DpC,GAAmBpxC,OAGvBqrC,QAASA,IAKf,IAaIoJ,EAAkBn+B,YAAgB,CACpCoU,MAAO6jB,EACP7mC,UAAW,GAAGsJ,OAAOwzB,EAAW,qBAChCh8B,MAAOolC,EAAa8G,aAAelsC,EACnCmsC,OAjBwB,SAA6B/jD,EAAG88C,EAAQ1wC,GAChE,IAAI43C,EAAchG,EAAWh+C,EAAG88C,EAAQ1wC,GACpCqf,EAAOu4B,EAAYv4B,KACnBgvB,EAAUuJ,EAAYvJ,QAE1B,OAAIsD,EACKA,EAAoBtD,EAASqC,EAAQ1wC,EAAOqf,GAG9CA,IASNw4B,sBAAqB,CACtBntC,UAAW,GAAGsJ,OAAOwzB,EAAW,oBAGlC,GAAmB,QAAf2K,GAAwB8C,EAAQ1/C,SAAW88C,EAAuB,CACpE,IAAIyF,EAAWC,YAAS9C,GACpB+C,EAAeF,EAAS,GACxBG,EAAcH,EAAS/mD,MAAM,GAE7BmnD,EAAiB5H,GAASF,GAAa6H,EAAY,IAMvD,OAJIC,IACFF,EAAa1H,MAAQ4H,GAGhB,CAACF,EAAcl1B,YAASA,YAAS,GAAI20B,GAAkB,CAC5DnH,MAAO4H,KACLlkC,OAAOqR,YAAmB4yB,IAGhC,MAAO,CAACn1B,YAASA,YAAS,GAAI20B,GAAkB,CAC9CnH,MAAOA,GAASF,GAAa6E,EAAQ,OACnCjhC,OAAOqR,YAAmB4vB,MAC7B,CAAC/C,EAAWiB,GAAavC,EAAckD,GAAqBE,GAAuBE,GAA2B3C,EAAmBqD,GAAkBzC,EAAYgC,GAAiBf,GAAkB9B,EAAkBkD,GAAwBlB,KACrNU,ICpiB5B,IACemE,GADS,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,yHAA6H,KAAQ,aAAc,MAAS,YCMvTA,GAAoB,SAA2B1nC,EAAOrO,GACxD,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAM6N,OAIVD,GAAkBniB,YAAc,oBACJtzB,oBAAiBy1C,ICb9BE,GADO,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,0HAA8H,KAAQ,WAAY,MAAS,YCMpTA,GAAkB,SAAyB5nC,EAAOrO,GACpD,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAM+N,OAIVD,GAAgBriB,YAAc,kBACFtzB,oBAAiB21C,I,UCftC,SAASE,GAAalI,EAAQmI,GACnC,MAAI,QAASnI,QAAyB9+C,IAAf8+C,EAAOrtC,KAAoC,OAAfqtC,EAAOrtC,IACjDqtC,EAAOrtC,IAGZqtC,EAAOoI,UACFz6C,MAAMmc,QAAQk2B,EAAOoI,WAAapI,EAAOoI,UAAUxkC,KAAK,KAAOo8B,EAAOoI,UAGxED,EAEF,SAASE,GAAa14C,EAAO24C,GAClC,OAAOA,EAAM,GAAG3kC,OAAO2kC,EAAK,KAAK3kC,OAAOhU,GAAS,GAAGgU,OAAOhU,GAEtD,SAAS44C,GAAkBptC,EAAOiF,GACvC,MAAqB,oBAAVjF,EACFA,EAAMiF,GAGRjF,ECRT,IAAIqtC,GAAS,SACTC,GAAU,UAEd,SAASC,GAAoB1I,GAC3B,MAA+B,WAA3BjzB,YAAQizB,EAAO2I,SAA0D,kBAA3B3I,EAAO2I,OAAOC,UACvD5I,EAAO2I,OAAOC,SAMzB,SAASC,GAAgBF,GACvB,MAAsB,oBAAXA,EACFA,KAGLA,GAA8B,WAApB57B,YAAQ47B,KAAwBA,EAAO9iD,UAC5C8iD,EAAO9iD,QAclB,SAASijD,GAAkBlE,EAASmE,EAAMT,GACxC,IAAIU,EAAa,GAEjB,SAASC,EAAUjJ,EAAQkJ,GACzBF,EAAW7kC,KAAK,CACd67B,OAAQA,EACRrtC,IAAKu1C,GAAalI,EAAQkJ,GAC1BC,iBAAkBT,GAAoB1I,GACtCoJ,UAAWpJ,EAAOoJ,YA6BtB,OAzBCxE,GAAW,IAAIrxB,SAAQ,SAAUysB,EAAQrwC,GACxC,IAAIu5C,EAAYb,GAAa14C,EAAO24C,GAEhCtI,EAAO7rB,UACL,cAAe6rB,GAEjBiJ,EAAUjJ,EAAQkJ,GAGpBF,EAAa,GAAGrlC,OAAOqR,YAAmBg0B,GAAah0B,YAAmB8zB,GAAkB9I,EAAO7rB,SAAU40B,EAAMG,MAC1GlJ,EAAO2I,SACZ,cAAe3I,EAEjBiJ,EAAUjJ,EAAQkJ,GACTH,GAAQ/I,EAAOqJ,kBAExBL,EAAW7kC,KAAK,CACd67B,OAAQA,EACRrtC,IAAKu1C,GAAalI,EAAQkJ,GAC1BC,iBAAkBT,GAAoB1I,GACtCoJ,UAAWpJ,EAAOqJ,uBAKnBL,EAGT,SAASM,GAAanS,EAAWyN,EAAS2E,EAAaC,EAAeC,EAAuB1H,EAAa2H,EAAwBpB,GAChI,OAAQ1D,GAAW,IAAIpgC,KAAI,SAAUw7B,EAAQrwC,GAC3C,IAAIu5C,EAAYb,GAAa14C,EAAO24C,GAChCqB,EAAY3J,EAEhB,GAAI2J,EAAUhB,OAAQ,CACpB,IAAIiB,EAAiBD,EAAUC,gBAAkBH,EAC7CI,OAAoD3oD,IAAhCyoD,EAAUE,kBAAkCH,EAAyBC,EAAUE,kBACnGC,EAAY5B,GAAayB,EAAWT,GACpCa,EAAcR,EAAYxsB,MAAK,SAAUxN,GAE3C,OADUA,EAAK5c,MACAm3C,KAEbE,EAAcD,EAAcA,EAAYX,UAAY,KACpDa,EA9DV,SAA2BL,EAAgB57B,GACzC,OAAKA,EAIE47B,EAAeA,EAAex0C,QAAQ4Y,GAAW,GAH/C47B,EAAe,GA4DAM,CAAkBN,EAAgBI,GAClDG,EAASP,EAAe5sB,SAASwrB,KAAwBn2C,gBAAoB21C,GAAiB,CAChG3tC,UAAWQ,IAAW,GAAG8I,OAAOwzB,EAAW,qBAAsB,CAC/DlU,OAAQ+mB,IAAgBxB,OAGxB4B,EAAWR,EAAe5sB,SAASyrB,KAAyBp2C,gBAAoBy1C,GAAmB,CACrGztC,UAAWQ,IAAW,GAAG8I,OAAOwzB,EAAW,uBAAwB,CACjElU,OAAQ+mB,IAAgBvB,OAIxBrlB,EAAQ2e,GAAe,GACvBsI,EAAajnB,EAAMinB,WACnBC,EAAalnB,EAAMknB,WACnBC,EAAcnnB,EAAMmnB,YAEpBC,EAAUH,EAEVJ,IAAkBxB,GACpB+B,EAAUD,EACDN,IAAkBzB,KAC3BgC,EAAUF,GAGZ,IAAIG,EAA8C,WAA/B19B,YAAQ88B,GAAkCA,EAAoB,CAC/E1uC,MAAOqvC,GAETb,EAAYl3B,YAASA,YAAS,GAAIk3B,GAAY,CAC5CtvC,UAAWQ,IAAW8uC,EAAUtvC,UAAW4O,YAAgB,GAAI,GAAGtF,OAAOwzB,EAAW,gBAAiB6S,IACrG7uC,MAAO,SAAeuvC,GACpB,IAAIC,EAA+Bt4C,gBAAoB,MAAO,CAC5DgI,UAAW,GAAGsJ,OAAOwzB,EAAW,oBAClB9kC,gBAAoB,OAAQ,CAC1CgI,UAAW,GAAGsJ,OAAOwzB,EAAW,kBAC/BoR,GAAkBvI,EAAO7kC,MAAOuvC,IAA4Br4C,gBAAoB,OAAQ,CACzFgI,UAAWQ,IAAW,GAAG8I,OAAOwzB,EAAW,kBAAmBluB,YAAgB,GAAI,GAAGtF,OAAOwzB,EAAW,0BAA2BgT,IAAUC,MAC9H/3C,gBAAoB,OAAQ,CAC1CgI,UAAW,GAAGsJ,OAAOwzB,EAAW,yBAC/BgT,EAAQC,KACX,OAAOP,EAAiCx3C,gBAAoBu4C,KAASH,EAAcE,GAAmBA,GAExGE,aAAc,SAAsBC,GAClC,IAAIC,EAAO/K,EAAO6K,cAAgB7K,EAAO6K,aAAaC,IAAQ,GAC1DE,EAAgBD,EAAKn8B,QAgBzB,OAdAm8B,EAAKn8B,QAAU,SAAUne,GACvB+4C,EAAc,CACZxJ,OAAQA,EACRrtC,IAAKm3C,EACLV,UAAWa,EACXd,iBAAkBT,GAAoB1I,KAGpCgL,GACFA,EAAcv6C,IAIlBs6C,EAAK1wC,UAAYQ,IAAWkwC,EAAK1wC,UAAW,GAAGsJ,OAAOwzB,EAAW,wBAC1D4T,KAWb,MANI,aAAcpB,IAChBA,EAAYl3B,YAASA,YAAS,GAAIk3B,GAAY,CAC5Cx1B,SAAUm1B,GAAanS,EAAWwS,EAAUx1B,SAAUo1B,EAAaC,EAAeC,EAAuB1H,EAAa2H,EAAwBR,MAI3IS,KAIX,SAASsB,GAAYC,GACnB,IAAIlL,EAASkL,EAAalL,OAE1B,MAAO,CACLA,OAAQA,EACRx+B,MAHc0pC,EAAa9B,UAI3BtgB,MAAOkX,EAAOoI,UACd0B,UAAW9J,EAAOrtC,KAItB,SAASw4C,GAAmBD,GAC1B,IAAI/N,EAAO+N,EAAah2C,QAAO,SAAUmuB,GAEvC,OADgBA,EAAM+lB,aAErB5kC,IAAIymC,IAGP,OAAoB,IAAhB9N,EAAKj4C,QAAgBgmD,EAAahmD,OAC7ButB,YAASA,YAAS,GAAIw4B,GAAYC,EAAaA,EAAahmD,OAAS,KAAM,CAChF86C,YAAQ9+C,IAIRi8C,EAAKj4C,QAAU,EACVi4C,EAAK,IAAM,GAGbA,EAGF,SAASiO,GAAYjL,EAAM6I,EAAY5I,GAC5C,IAAIiL,EAAoBrC,EAAWtoD,QAAQ+rB,MAAK,SAAUjrB,EAAGC,GAC3D,OAAOA,EAAE0nD,iBAAmB3nD,EAAE2nD,oBAE5BmC,EAAYnL,EAAKz/C,QACjB6qD,EAAiBF,EAAkBn2C,QAAO,SAAU4wC,GACtD,IAAI6C,EAAS7C,EAAM9F,OAAO2I,OACtBS,EAAYtD,EAAMsD,UACtB,OAAOP,GAAgBF,IAAWS,KAGpC,OAAKmC,EAAermD,OAIbomD,EAAU7+B,MAAK,SAAU++B,EAASC,GACvC,IAAK,IAAI/oD,EAAI,EAAGA,EAAI6oD,EAAermD,OAAQxC,GAAK,EAAG,CACjD,IAAIqnD,EAAcwB,EAAe7oD,GAC7BimD,EAASoB,EAAY/J,OAAO2I,OAC5BS,EAAYW,EAAYX,UACxBsC,EAAY7C,GAAgBF,GAEhC,GAAI+C,GAAatC,EAAW,CAC1B,IAAIuC,EAAgBD,EAAUF,EAASC,EAASrC,GAEhD,GAAsB,IAAlBuC,EACF,OAAOvC,IAAcZ,GAASmD,GAAiBA,GAKrD,OAAO,KACNnnC,KAAI,SAAU67B,GACf,IAAIuL,EAAavL,EAAOD,GAExB,OAAIwL,EACKn5B,YAASA,YAAS,GAAI4tB,GAASp3B,YAAgB,GAAIm3B,EAAoBgL,GAAYQ,EAAY5C,EAAY5I,KAG7GC,KA3BAiL,EA8BI,SAASO,GAAgBxF,GACtC,IAAIlP,EAAYkP,EAAMlP,UAClB2U,EAAgBzF,EAAMyF,cACtBC,EAAiB1F,EAAM0F,eACvBnC,EAAiBvD,EAAMuD,eACvB7H,EAAcsE,EAAMtE,YACpB8H,EAAoBxD,EAAMwD,kBAE1BmC,EAAkB35C,WAAey2C,GAAkBgD,GAAe,IAClEG,EAAmBtkB,YAAeqkB,EAAiB,GACnDhD,EAAaiD,EAAiB,GAC9BC,EAAgBD,EAAiB,GAEjCE,EAAqB95C,WAAc,WACrC,IAAI+5C,GAAW,EACXC,EAAkBvD,GAAkBgD,GAAe,GAEvD,IAAKO,EAAgBnnD,OACnB,OAAO8jD,EAGT,IAAIsD,EAAiB,GAErB,SAASC,EAAY94C,GACf24C,EACFE,EAAenoC,KAAK1Q,GAEpB64C,EAAenoC,KAAKsO,YAASA,YAAS,GAAIhf,GAAQ,CAChD21C,UAAW,QAKjB,IAAIoD,EAAe,KAmBnB,OAlBAH,EAAgB94B,SAAQ,SAAU9f,GACX,OAAjB+4C,GACFD,EAAY94C,GAERA,EAAM21C,aACuB,IAA3B31C,EAAM01C,iBACRiD,GAAW,EAEXI,GAAe,KAGVA,IAA2C,IAA3B/4C,EAAM01C,mBAG/BiD,GAAW,GAFXG,EAAY94C,OAMT64C,IACN,CAACR,EAAe9C,IAEfyD,EAAyBp6C,WAAc,WACzC,IAAIq6C,EAAcP,EAAmB3nC,KAAI,SAAUmoC,GAGjD,MAAO,CACL3M,OAHW2M,EAAM3M,OAIjBx+B,MAHcmrC,EAAMvD,cAMxB,MAAO,CACLsD,YAAaA,EAEbE,WAAYF,EAAY,IAAMA,EAAY,GAAG1M,OAC7CoJ,UAAWsD,EAAY,IAAMA,EAAY,GAAGlrC,SAE7C,CAAC2qC,IAEJ,SAAS3C,EAAcqD,GACrB,IAAIC,EAKFA,GAHiC,IAA/BD,EAAU1D,kBAA+BgD,EAAmBjnD,SAAqD,IAA3CinD,EAAmB,GAAGhD,iBAG5E,GAAGxlC,OAAOqR,YAAmBm3B,EAAmBj3C,QAAO,SAAU63C,GAEjF,OADUA,EAAMp6C,MACDk6C,EAAUl6C,QACtB,CAACk6C,IALY,CAACA,GAQrBX,EAAcY,GACdf,EAAeZ,GAAmB2B,GAAkBA,GAWtD,MAAO,CARgB,SAA0BE,GAC/C,OAAO1D,GAAanS,EAAW6V,EAAcb,EAAoB3C,EAAeI,EAAgB7H,EAAa8H,IAOrFsC,EAAoBM,EAJ7B,WACf,OAAOtB,GAAmBgB,K,yBC/Ufc,GADI,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gLAAoL,KAAQ,SAAU,MAAS,UCMrWA,GAAe,SAAsB7sC,EAAOrO,GAC9C,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAMgT,OAIVD,GAAatnB,YAAc,eACCtzB,oBAAiB46C,I,oBCJ9BE,GATiB,SAAmC/sC,GACjE,OAAoB/N,gBAAoB,MAAO,CAC7CgI,UAAW+F,EAAM/F,UACjBuU,QAAS,SAAiBhtB,GACxB,OAAOA,EAAE4xC,oBAEVpzB,EAAM+T,W,UCOX,IAAIi5B,GAAUhI,IAAKgI,QACfC,GAAWjI,IAAKE,KASpB,SAASgI,GAAkBlqB,GACzB,IAAImqB,EAAUnqB,EAAMmqB,QAChBpW,EAAY/T,EAAM+T,UAClBqW,EAAepqB,EAAMoqB,aACrBC,EAAiBrqB,EAAMqqB,eACvB/iC,EAAS0Y,EAAM1Y,OAEnB,OAAuB,IAAnB6iC,EAAQroD,OAGUmN,gBAAoBg7C,GAAU,CAChD16C,IAAK,SACSN,gBAAoB,MAAO,CACzCyH,MAAO,CACLm1B,OAAQ,WAEI58B,gBAAoBq7C,KAAO,CACzCC,MAAOD,KAAME,uBACbC,YAAanjC,EAAOojC,gBACpBC,WAAY,CACV9mB,OAAQ,QAKPsmB,EAAQ/oC,KAAI,SAAUtP,EAAQvF,GACnC,IAAIgD,EAAM2G,OAAOpE,EAAOlV,OAExB,GAAIkV,EAAOif,SACT,OAAoB9hB,gBAAoB+6C,GAAS,CAC/Cz6C,IAAKA,GAAOhD,EACZwL,MAAOjG,EAAO9M,KACd4lD,eAAgB,GAAGrqC,OAAOwzB,EAAW,sBACpCmW,GAAkB,CACnBC,QAASr4C,EAAOif,SAChBgjB,UAAWA,EACXqW,aAAcA,EACdC,eAAgBA,EAChB/iC,OAAQA,KAIZ,IAAImP,EAAY4zB,EAAiB1H,IAAW3H,GAC5C,OAAoB/rC,gBAAoBg7C,GAAU,CAChD16C,SAAsBzR,IAAjBgU,EAAOlV,MAAsB2S,EAAMhD,GAC1B0C,gBAAoBwnB,EAAW,CAC7CmkB,QAASwP,EAAaxwB,SAASrqB,KAChBN,gBAAoB,OAAQ,KAAM6C,EAAO9M,UA+N/C6lD,OA3Nf,SAAwB7tC,GACtB,IAAI42B,EAEAkX,EAAiB9tC,EAAM8tC,eACvB/W,EAAY/2B,EAAM+2B,UAClB6I,EAAS5/B,EAAM4/B,OACfmO,EAAoB/tC,EAAM+tC,kBAC1BrE,EAAY1pC,EAAM0pC,UAClB2D,EAAiBrtC,EAAMqtC,eACvBW,EAAchuC,EAAMguC,YACpBC,EAAgBjuC,EAAMiuC,cACtB3jC,EAAStK,EAAMsK,OACfyJ,EAAW/T,EAAM+T,SACjB8tB,EAAoB7hC,EAAM6hC,kBAC1BqM,EAAwBtO,EAAOsO,sBAC/BC,EAAgCvO,EAAOuO,8BAEvCvC,EAAkB35C,YAAe,GACjC45C,EAAmBtkB,YAAeqkB,EAAiB,GACnDwC,EAAUvC,EAAiB,GAC3BwC,EAAaxC,EAAiB,GAE9ByC,KAAcN,KAAqD,QAAnCpX,EAAKoX,EAAYZ,oBAAiC,IAAPxW,OAAgB,EAASA,EAAG9xC,UAAWkpD,EAAYO,eAE9HC,EAAiB,SAAwBC,GAC3CJ,EAAWI,GACuB,OAAlCN,QAA4E,IAAlCA,GAAoDA,EAA8BM,IAG1HC,EAAiD,mBAA1BR,EAAsCA,EAAwBE,EAErFO,EAAmC,OAAhBX,QAAwC,IAAhBA,OAAyB,EAASA,EAAYZ,aAEzFwB,EC3GS,SAAsBC,GACnC,IAAIl9C,EAAMM,SAAa48C,GACnBC,EAAcC,eAClB,MAAO,CAAC,WACN,OAAOp9C,EAAIic,SACV,SAAUhV,GACXjH,EAAIic,QAAUhV,EAEdk2C,MDmGkBE,CAAaL,GAAoB,IACjDM,EAAiB1nB,YAAeqnB,EAAe,GAC/CM,EAAsBD,EAAe,GACrCE,EAAsBF,EAAe,GAErCG,EAAe,SAAsBnsB,GACvC,IAAIosB,EAAepsB,EAAMosB,aACzBF,EAAoBE,IAGtBp9C,aAAgB,WACdm9C,EAAa,CACXC,aAAcV,GAAoB,OAEnC,CAACA,IAEJ,IAAIW,EAAmBr9C,WAAe,IAClCs9C,EAAmBhoB,YAAe+nB,EAAkB,GACpDE,EAAWD,EAAiB,GAC5BE,EAAcF,EAAiB,GAE/BG,EAAUz9C,WAYdA,aAAgB,WACd,OAAO,WACL2R,OAAO2qB,aAAamhB,EAAQ9hC,YAE7B,IAEH,IAyDI+hC,EAzDAC,EAAwB,SAA+B/8B,GACzD,IAAIg9B,EAAah9B,GAAQA,EAAK/tB,OAAS+tB,EAAO,KAE9C,OAAmB,OAAfg9B,GAAyB7B,GAAgBA,EAAYZ,aAIrD0C,KAAQD,EAA4B,OAAhB7B,QAAwC,IAAhBA,OAAyB,EAASA,EAAYZ,cACrF,UAGTa,EAAc,CACZrO,OAAQA,EACRrtC,IAAKm3C,EACL0D,aAAcyC,IAVP,MAcPE,EAAY,WACdvB,GAAe,GACfoB,EAAsBV,MAGpBc,EAAU,WACZb,EAAoB,IACpBX,GAAe,GACfoB,EAAsB,KA8BpBK,EAAoBx1C,IAAWoO,YAAgB,GAAI,GAAGtF,OAAOwqC,EAAmB,2BAAsCnO,EAAOuN,SAAW,IAzL7HtI,MAAK,SAAU11B,GAE5B,OADeA,EAAK4E,cA2LtB,GAAqC,oBAA1B6rB,EAAOsQ,eAChBP,EAAkB/P,EAAOsQ,eAAe,CACtCnZ,UAAW,GAAGxzB,OAAOwqC,EAAmB,WACxCnK,gBAAiB,SAAyByL,GACxC,OAAOD,EAAa,CAClBC,aAAcA,KAGlBA,aAAcH,IACdiB,QAvCW,YACDtvD,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,CAC9EuvD,eAAe,IAESA,eAGxB5B,GAAe,GAGjBoB,EAAsBV,MA8BpBmB,aAAcL,EACd7C,QAASvN,EAAOuN,QAChBiB,QAASM,SAEN,GAAI9O,EAAOsQ,eAChBP,EAAkB/P,EAAOsQ,mBACpB,CACL,IAAIb,EAAeH,KAAyB,GAC5CS,EAA+B19C,gBAAoBA,WAAgB,KAAmBA,gBAAoB+yC,IAAM,CAC9GwD,SAAU6E,EACVtW,UAAW,GAAGxzB,OAAOwqC,EAAmB,SACxC9zC,UAAWg2C,EACXzhC,QA3Fc,WAChB5K,OAAO2qB,aAAamhB,EAAQ9hC,UA2F1B6yB,SAAU2O,EACVkB,WAAYlB,EACZC,aAAcA,EACdxN,kBAAmBA,EACnB2N,SAAUA,EACVe,aAvGe,SAAsB19B,GACvC68B,EAAQ9hC,QAAUhK,OAAOzT,YAAW,WAClCs/C,EAAY58B,QAsGXq6B,GAAkB,CACnBC,QAASvN,EAAOuN,SAAW,GAC3BpW,UAAWA,EACXqW,aAAc8B,IACd7B,eAAgBA,EAChB/iC,OAAQA,KACQrY,gBAAoB,MAAO,CAC3CgI,UAAW,GAAGsJ,OAAOwzB,EAAW,mBAClB9kC,gBAAoBqtC,KAAQ,CAC1Cv+C,KAAM,OACNk2C,KAAM,QACNx9B,SAAkC,IAAxB41C,EAAavqD,OACvB0pB,QAASwhC,GACR1lC,EAAOkmC,aAA2Bv+C,gBAAoBqtC,KAAQ,CAC/Dv+C,KAAM,UACNk2C,KAAM,QACNzoB,QAASuhC,GACRzlC,EAAOmmC,iBAGZ,IAGIC,EAHA3L,EAAoB9yC,gBAAoB86C,GAA2B,CACrE9yC,UAAW,GAAGsJ,OAAOwzB,EAAW,cAC/B4Y,GAIDe,EAD+B,oBAAtB9Q,EAAO8Q,WACH9Q,EAAO8Q,WAAWpC,GACtB1O,EAAO8Q,WACH9Q,EAAO8Q,WAEMz+C,gBAAoB46C,GAAc,MAG9D,IACI74B,EADoB/hB,aAAiBqlC,KACPtjB,UAElC,OAAoB/hB,gBAAoB,MAAO,CAC7CgI,UAAW,GAAGsJ,OAAOwzB,EAAW,YAClB9kC,gBAAoB,OAAQ,CAC1CgI,UAAW,GAAGsJ,OAAOuqC,EAAgB,kBACpC/5B,GAAwB9hB,gBAAoBkzC,IAAU,CACvDC,QAASL,EACT4L,QAAS,CAAC,SACVvC,QAASM,EACTkC,gBA1FoB,SAAyBnC,GACzCA,QAAmC3tD,IAArB6tD,GAEhBQ,EAAoBR,GAAoB,IAG1CH,EAAeC,GAEVA,GAAe7O,EAAOsQ,gBACzBH,KAkFFlO,kBAAmBA,EACnBgP,UAAyB,QAAd78B,EAAsB,aAAe,eAClC/hB,gBAAoB,OAAQ,CAC1CgJ,KAAM,SACNogC,UAAW,EACXphC,UAAWQ,IAAW,GAAG8I,OAAOwzB,EAAW,YAAa,CACtDlU,OAAQyrB,IAEV9/B,QAAS,SAAiBhtB,GACxBA,EAAE4xC,oBAEHsd,ME5RL,SAASI,GAAoBtM,EAASmE,EAAMT,GAC1C,IAAI6I,EAAe,GAoCnB,OAnCCvM,GAAW,IAAIrxB,SAAQ,SAAUysB,EAAQrwC,GACxC,IAAIqnC,EAEAkS,EAAYb,GAAa14C,EAAO24C,GAEpC,GAAItI,EAAOuN,SAAW,mBAAoBvN,GAAU,aAAcA,EAChE,GAAI,kBAAmBA,EAAQ,CAE7B,IAAIoR,EAAiBpR,EAAOqR,cAEtB,mBAAoBrR,IACxBoR,EAAuH,QAArGpa,EAAwB,OAAnBoa,QAA8C,IAAnBA,OAA4B,EAASA,EAAe5sC,IAAIlL,eAA4B,IAAP09B,EAAgBA,EAAKoa,GAGtJD,EAAahtC,KAAK,CAChB67B,OAAQA,EACRrtC,IAAKu1C,GAAalI,EAAQkJ,GAC1BsE,aAAc4D,EACdzC,cAAe3O,EAAO0O,gBAIxByC,EAAahtC,KAAK,CAChB67B,OAAQA,EACRrtC,IAAKu1C,GAAalI,EAAQkJ,GAC1BsE,aAAczE,GAAQ/I,EAAOsR,qBAAuBtR,EAAOsR,0BAAuBpwD,EAClFytD,cAAe3O,EAAO0O,WAKxB,aAAc1O,IAChBmR,EAAe,GAAGxtC,OAAOqR,YAAmBm8B,GAAen8B,YAAmBk8B,GAAoBlR,EAAO7rB,SAAU40B,EAAMG,SAGtHiI,EAGT,SAASI,GAAapa,EAAWgX,EAAmBvJ,EAASuM,EAAc9C,EAAepM,EAAmBv3B,EAAQ49B,GACnH,OAAO1D,EAAQpgC,KAAI,SAAUw7B,EAAQrwC,GACnC,IAAIu5C,EAAYb,GAAa14C,EAAO24C,GAChCkJ,EAAwBxR,EAAOyN,eAC/BA,OAA2C,IAA1B+D,GAA0CA,EAC3D7H,EAAY3J,EAEhB,GAAI2J,EAAU4D,SAAW5D,EAAU2G,eAAgB,CACjD,IAAIxG,EAAY5B,GAAayB,EAAWT,GACpCkF,EAAc+C,EAAap0B,MAAK,SAAUxN,GAC5C,IAAI5c,EAAM4c,EAAK5c,IACf,OAAOm3C,IAAcn3C,KAEvBg3C,EAAYl3B,YAASA,YAAS,GAAIk3B,GAAY,CAC5CxuC,MAAO,SAAeuvC,GACpB,OAAoBr4C,gBAAoB47C,GAAgB,CACtDC,eAAgB/W,EAChBA,UAAW,GAAGxzB,OAAOwzB,EAAW,WAChCgX,kBAAmBA,EACnBnO,OAAQ2J,EACRG,UAAWA,EACXsE,YAAaA,EACbX,eAAgBA,EAChBY,cAAeA,EACf3jC,OAAQA,EACRu3B,kBAAmBA,GAClBsG,GAAkBvI,EAAO7kC,MAAOuvC,OAWzC,MANI,aAAcf,IAChBA,EAAYl3B,YAASA,YAAS,GAAIk3B,GAAY,CAC5Cx1B,SAAUo9B,GAAapa,EAAWgX,EAAmBxE,EAAUx1B,SAAUg9B,EAAc9C,EAAepM,EAAmBv3B,EAAQw+B,MAI9HS,KAIX,SAAS8H,GAAYlE,GACnB,IAAIt6B,EAAO,GAUX,OATCs6B,GAAW,IAAIh6B,SAAQ,SAAU6P,GAChC,IAAIpjC,EAAQojC,EAAMpjC,MACdm0B,EAAWiP,EAAMjP,SACrBlB,EAAK9O,KAAKnkB,GAENm0B,IACFlB,EAAO,GAAGtP,OAAOqR,YAAmB/B,GAAO+B,YAAmBy8B,GAAYt9B,SAGvElB,EAGT,SAASy+B,GAAmBP,GAC1B,IAAIQ,EAAiB,GAmBrB,OAlBAR,EAAa59B,SAAQ,SAAU8P,GAC7B,IAAI1wB,EAAM0wB,EAAM1wB,IACZ66C,EAAenqB,EAAMmqB,aACrBxN,EAAS3c,EAAM2c,OACfuN,EAAUvN,EAAOuN,QAGrB,GAFqBvN,EAAOsQ,eAG1BqB,EAAeh/C,GAAO66C,GAAgB,UACjC,GAAI7/C,MAAMmc,QAAQ0jC,GAAe,CACtC,IAAIv6B,EAAOw+B,GAAYlE,GACvBoE,EAAeh/C,GAAOsgB,EAAK/d,QAAO,SAAU08C,GAC1C,OAAOpE,EAAaxwB,SAAS1jB,OAAOs4C,YAGtCD,EAAeh/C,GAAO,QAGnBg/C,EAGF,SAASE,GAAc1R,EAAMgR,GAClC,OAAOA,EAAa3tC,QAAO,SAAUsuC,EAAa1D,GAChD,IAAI2D,EAAsB3D,EAAYpO,OAClCgS,EAAWD,EAAoBC,SAC/BzE,EAAUwE,EAAoBxE,QAC9BC,EAAeY,EAAYZ,aAE/B,OAAIwE,GAAYxE,GAAgBA,EAAatoD,OACpC4sD,EAAY58C,QAAO,SAAUmrC,GAClC,OAAOmN,EAAavI,MAAK,SAAUtyC,GACjC,IAAIsgB,EAAOw+B,GAAYlE,GACnB0E,EAAWh/B,EAAKi/B,WAAU,SAAU5N,GACtC,OAAOhrC,OAAOgrC,KAAOhrC,OAAO3G,MAE1Bw/C,GAAwB,IAAdF,EAAkBh/B,EAAKg/B,GAAYt/C,EACjD,OAAOq/C,EAASG,EAAS9R,SAKxByR,IACN3R,GAuDUiS,OApDf,SAAmBtM,GACjB,IAAI3O,EAAY2O,EAAM3O,UAClBgX,EAAoBrI,EAAMqI,kBAC1BrC,EAAgBhG,EAAMgG,cACtBuG,EAAiBvM,EAAMuM,eACvBpQ,EAAoB6D,EAAM7D,kBAC1BF,EAAc+D,EAAMp7B,OAEpBshC,EAAkB35C,WAAe6+C,GAAoBpF,GAAe,IACpEG,EAAmBtkB,YAAeqkB,EAAiB,GACnDmF,EAAelF,EAAiB,GAChCqG,EAAkBrG,EAAiB,GAEnCsG,EAAqBlgD,WAAc,WACrC,IAAIg6C,EAAkB6E,GAAoBpF,GAAe,GACrD0G,EAA8BnG,EAAgBtH,OAAM,SAAUsB,GAEhE,YAAwBnlD,IADLmlD,EAAMmH,gBAI3B,GAAIgF,EACF,OAAOrB,EAGT,IAAIsB,EAA8BpG,EAAgBtH,OAAM,SAAU4H,GAEhE,YAAwBzrD,IADLyrD,EAAMa,gBAI3B,OADAhW,YAAWgb,GAA+BC,EAA6B,QAAS,8DACzEpG,IACN,CAACP,EAAeqF,IACfuB,EAAargD,eAAkB,WACjC,OAAOq/C,GAAmBa,KACzB,CAACA,IAEAlE,EAAgB,SAAuBD,GACzC,IAAIuE,EAAkBJ,EAAmBr9C,QAAO,SAAU63C,GAExD,OADUA,EAAMp6C,MACDy7C,EAAYz7C,OAE7BggD,EAAgBxuC,KAAKiqC,GACrBkE,EAAgBK,GAChBN,EAAeX,GAAmBiB,GAAkBA,IAOtD,MAAO,CAJgB,SAA0B3F,GAC/C,OAAOuE,GAAapa,EAAWgX,EAAmBnB,EAAcuF,EAAoBlE,EAAepM,EAAmBF,IAG9FwQ,EAAoBG,ICnMhD,SAASE,GAAUhO,EAASiO,GAC1B,OAAOjO,EAAQpgC,KAAI,SAAUw7B,GAC3B,IAAI8S,EAAcrgC,YAAS,GAAIutB,GAQ/B,OANA8S,EAAY33C,MAAQotC,GAAkBvI,EAAO7kC,MAAO03C,GAEhD,aAAcC,IAChBA,EAAY3+B,SAAWy+B,GAAUE,EAAY3+B,SAAU0+B,IAGlDC,KAII,SAASC,GAAgBF,GAItC,MAAO,CAHaxgD,eAAkB,SAAUuyC,GAC9C,OAAOgO,GAAUhO,EAASiO,KACzB,CAACA,KCKSG,OAtBf,SAA0BtoC,GACxB,OAAO,SAAoB6E,GACzB,IAAI0nB,EAEAE,EAAY5nB,EAAK4nB,UACjB8b,EAAW1jC,EAAK0jC,SAChB5S,EAAS9wB,EAAK8wB,OACd6S,EAAW3jC,EAAK2jC,SAChBC,EAAa5jC,EAAK4jC,WAClBC,EAAa,GAAGzvC,OAAOwzB,EAAW,oBACtC,OAAoB9kC,gBAAoB,SAAU,CAChDlR,KAAM,SACNytB,QAAS,SAAiBhtB,GACxBqxD,EAAS5S,EAAQz+C,GACjBA,EAAE4xC,mBAEJn5B,UAAWQ,IAAWu4C,GAAanc,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOyvC,EAAY,YAAaD,GAAalqC,YAAgBguB,EAAa,GAAGtzB,OAAOyvC,EAAY,aAAcD,GAAcD,GAAWjqC,YAAgBguB,EAAa,GAAGtzB,OAAOyvC,EAAY,cAAeD,IAAeD,GAAWjc,IACxT,aAAcic,EAAWxoC,EAAO2oC,SAAW3oC,EAAO4oC,W,SCrBjD,SAASC,GAASrqC,GACvB,OAAe,OAARA,QAAwBhoB,IAARgoB,GAAqBA,IAAQA,EAAIlF,OAE3C,SAASwvC,GAAU7gC,EAAQ4S,GACxC,IAAIyR,EAEJ,GAAsB,qBAAXhzB,OACT,OAAO,EAGT,IAAIyvC,EAASluB,EAAM,YAAc,aAC7BzlC,EAAS,EAcb,OAZIyzD,GAAS5gC,GACX7yB,EAAS6yB,EAAO4S,EAAM,cAAgB,eAC7B5S,aAAkB+gC,SAC3B5zD,EAAS6yB,EAAOoR,gBAAgB0vB,GACvB9gC,IACT7yB,EAAS6yB,EAAO8gC,IAGd9gC,IAAW4gC,GAAS5gC,IAA6B,kBAAX7yB,IACxCA,EAAqE,QAA3Dk3C,GAAMrkB,EAAOqiB,eAAiBriB,GAAQoR,uBAAoC,IAAPiT,OAAgB,EAASA,EAAGyc,IAGpG3zD,ECxBF,SAAS6zD,GAAe7c,EAAGr1C,EAAGC,EAAGC,GACtC,IAAIiyD,EAAKlyD,EAAID,EAGb,OAFAq1C,GAAKn1C,EAAI,GAED,EACCiyD,EAAK,EAAI9c,EAAIA,EAAIA,EAAIr1C,EAIvBmyD,EAAK,IAAM9c,GAAK,GAAKA,EAAIA,EAAI,GAAKr1C,ECP5B,SAASoyD,GAASrvB,GAC/B,IAAI/7B,EAAUxH,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,GAC9E6yD,EAAwBrrD,EAAQuiC,aAChCA,OAAyC,IAA1B8oB,EAAmC,WACpD,OAAO9vC,QACL8vC,EACA90B,EAAWv2B,EAAQu2B,SACnB+0B,EAAoBtrD,EAAQi8B,SAC5BA,OAAiC,IAAtBqvB,EAA+B,IAAMA,EAChD1qB,EAAY2B,IACZlB,EAAY0pB,GAAUnqB,GAAW,GACjC2qB,EAAYtuC,KAAKuQ,MAEjBg+B,EAAY,SAASA,IACvB,IACIC,EADYxuC,KAAKuQ,MACE+9B,EACnBG,EAAgBR,GAAeO,EAAOxvB,EAAWA,EAAWwvB,EAAMpqB,EAAWtF,EAAGE,GAEhF6uB,GAASlqB,GACXA,EAAUwqB,SAAS7vC,OAAO+rB,YAAaokB,GAC9B9qB,aAAqB+qB,cAA+C,iBAA/B/qB,EAAU9mC,YAAYL,KACpEmnC,EAAUtF,gBAAgB+F,UAAYqqB,EAEtC9qB,EAAUS,UAAYqqB,EAGpBD,EAAOxvB,EACT2vB,aAAIJ,GACyB,oBAAbj1B,GAChBA,KAIJq1B,aAAIJ,G,ICnCS/X,G,OAAf,ECOeoY,OAJf,SAAgB/wD,GACd,OAAO,MCGMgxD,OAJf,SAAqBhxD,GACnB,OAAO,MCsBLixD,GAAa,GAEjB,SAASC,GAAMr0C,GACb,IAAIs0C,EAEAxd,EAAqB92B,EAAM+2B,UAC3B98B,EAAY+F,EAAM/F,UAClBP,EAAQsG,EAAMtG,MACds9B,EAAgBh3B,EAAMi3B,KACtBsd,EAAWv0C,EAAMu0C,SACjBC,EAA6Bx0C,EAAM+tC,kBACnC0G,EAAaz0C,EAAMy0C,WACnBvY,EAAal8B,EAAMk8B,WACnBiE,EAAengC,EAAMmgC,aACrBuU,EAAS10C,EAAM00C,OACfC,EAAe30C,EAAM20C,aACrBnQ,EAAUxkC,EAAMwkC,QAChBzwB,EAAW/T,EAAM+T,SACjB6gC,EAA2B50C,EAAMggC,mBACjC5uC,EAAW4O,EAAM5O,SACjBywC,EAAoB7hC,EAAM6hC,kBAC1B3K,EAAUl3B,EAAMk3B,QAChB2d,EAAa70C,EAAM60C,WACnB9B,EAAa/yC,EAAM+yC,WACnB+B,EAAoB90C,EAAM80C,kBAC1BlT,EAAwB5hC,EAAM4hC,sBAC9BmT,EAAa/0C,EAAM+0C,WACnBC,EAASh1C,EAAMg1C,OACfxL,EAAiBxpC,EAAMwpC,eACvBl/B,EAAStK,EAAMsK,OACf2qC,EAAwBj1C,EAAMypC,kBAC9BA,OAA8C,IAA1BwL,GAA0CA,EAClE7d,cAA+B,oBAAXsd,GAAyBA,EAAO5vD,OAAS,GAAI,QAAS,8GAC1E,IAAIowD,EAAUva,cACV+Q,EAAgBz5C,WAAc,WAChC,IAAIkjD,EAAU,IAAI3R,IAAIpkD,OAAOyzB,KAAKqiC,GAASpgD,QAAO,SAAUsgD,GAC1D,OAAOF,EAAQE,OAEjB,OAAQ5Q,GAAW6Q,YAAyBthC,IAAWjf,QAAO,SAAUxT,GACtE,OAAQA,EAAEy5C,YAAcz5C,EAAEy5C,WAAW8J,MAAK,SAAU/B,GAClD,OAAOqS,EAAQ/S,IAAIU,WAGtB,CAAC/uB,EAAUywB,EAAS0Q,IACnBI,EAAapyB,YAAKljB,EAAO,CAAC,YAAa,QAAS,YAChDi3B,EAAOhlC,aAAiBulC,MAExBH,EAAoBplC,aAAiBqlC,KACrCie,EAAwBle,EAAkB/sB,OAC1CuwB,OAA0C,IAA1B0a,EAAmCzZ,GAAgByZ,EACnEC,EAAcne,EAAkBme,YAChCxhC,EAAYqjB,EAAkBrjB,UAE9BgrB,GAAahI,GAAiBC,EAE9B0K,GAActvB,YAASA,YAAS,GAAIwoB,EAAcwZ,OAAQ/pC,GAE1DmrC,GAAUhB,GAAcL,GAGxB7c,GADqBtlC,aAAiBqlC,KACJC,aAElCR,GAAYQ,GAAa,QAAST,GAClCiX,GAAoBxW,GAAa,WAAYid,GAE7CkB,GAAmBrjC,YAAS,CAC9B2tB,mBAAoB4U,EACpBhT,sBAAuBA,GACtBmR,GAEC4C,GAAwBD,GAAiB1V,mBACzCA,QAA+C,IAA1B2V,GAAmC,WAAaA,GACrEjU,GAAazvC,WAAc,WAC7B,OAAIwjD,GAAQ5Q,MAAK,SAAU+Q,GACzB,IAAIhf,EAEJ,OAAuB,QAAfA,EAAKgf,SAAyB,IAAPhf,OAAgB,EAASA,EAAGoJ,OAEpD,OAGL8U,GAAqB/B,GAAcA,EAAW+B,kBACzC,MAGF,OACN,CAACW,KACAI,GAAe,CACjBjpB,KAAM36B,YAGJwvC,GAAYxvC,WAAc,WAC5B,MAAsB,oBAAXyiD,EACFA,EAGF,SAAUzU,GACf,IAAIrJ,EAEJ,OAAyB,QAAjBA,EAAKqJ,SAA2B,IAAPrJ,OAAgB,EAASA,EAAG8d,MAE9D,CAACA,IAEAoB,GChIS,SAAsB/V,EAAMC,EAAoByB,GAC7D,IAAIsU,EAAc9jD,SAAa,IAgC/B,MAAO,CA9BP,SAAwBM,GACtB,IAAKwjD,EAAYnoC,SAAWmoC,EAAYnoC,QAAQmyB,OAASA,GAAQgW,EAAYnoC,QAAQoyB,qBAAuBA,GAAsB+V,EAAYnoC,QAAQ6zB,YAAcA,EAAW,KACzKuU,EAAQ,IAAI/T,KAGhB,SAASgU,EAAInS,GACXA,EAAQ3wB,SAAQ,SAAU8sB,EAAQ1wC,GAChC,IAAImlD,EAASjT,EAAUxB,EAAQ1wC,GAC/BymD,EAAM3T,IAAIqS,EAAQzU,GAEdA,GAA8B,WAApBtzB,YAAQszB,IAAwBD,KAAsBC,GAClEgW,EAAIhW,EAAOD,IAAuB,OAOxCiW,CAAIlW,GACJgW,EAAYnoC,QAAU,CACpBmyB,KAAMA,EACNC,mBAAoBA,EACpBgW,MAAOA,EACPvU,UAAWA,GAIf,OAAOsU,EAAYnoC,QAAQooC,MAAMx0B,IAAIjvB,KDkGnB2jD,CAAaT,GAASzV,GAAoByB,IAE1DD,GADiBja,YAAeuuB,GAAe,GACf,GAGhCK,GAAkB,GAElBC,GAAkB,SAAyBC,EAAMC,GACnD,IAAItzC,EAAQniB,UAAUiE,OAAS,QAAsBhE,IAAjBD,UAAU,IAAmBA,UAAU,GAEvE01D,EAAalkC,YAASA,YAAS,GAAI8jC,IAAkBE,GAErDrzC,IACFmzC,GAAgBK,kBAEZD,EAAWra,WAAWtuB,UACxB2oC,EAAWra,WAAWtuB,QAAU,GAI9BsuB,GAAcA,EAAW9qC,UAC3B8qC,EAAW9qC,SAAS,EAAGmlD,EAAWra,WAAWO,WAI7CuY,IAA8C,IAApCA,EAAOyB,0BAAsCZ,GAAajpB,KAAKhf,SAC3E6lC,GAAS,EAAG,CACV7oB,aAAc,WACZ,OAAOirB,GAAajpB,KAAKhf,WAKlB,OAAbxc,QAAkC,IAAbA,GAA+BA,EAASmlD,EAAWra,WAAYqa,EAAWpJ,QAASoJ,EAAWhO,OAAQ,CACzHmO,kBAAmBjF,GAAczG,GAAYyK,GAASc,EAAWzL,aAAc9K,IAAqBuW,EAAWxF,cAC/GuF,OAAQA,KAkBRK,GAAaC,GAAU,CACzB7f,UAAWA,GACX2U,cAAeA,EACfC,eAVmB,SAAwBpD,EAAQuC,GACnDsL,GAAgB,CACd7N,OAAQA,EACRuC,aAAcA,GACb,QAAQ,IAOXtB,eAAgBA,GAAkB,CAAC,SAAU,WAC7C7H,YAAaA,GACb8H,kBAAmBA,IAEjBoN,GAActvB,YAAeovB,GAAY,GACzCG,GAAyBD,GAAY,GACrCjO,GAAaiO,GAAY,GACzBE,GAAmBF,GAAY,GAC/BG,GAAaH,GAAY,GAEzBI,GAAahlD,WAAc,WAC7B,OAAO+4C,GAAYyK,GAAS7M,GAAY5I,MACvC,CAACyV,GAAS7M,KACbuN,GAAgB5N,OAASyO,KACzBb,GAAgBrL,aAAelC,GAE/B,IAOIsO,GAAalF,GAAU,CACzBjb,UAAWA,GACXzsB,OAAQq3B,GACRoM,kBAAmBA,GACnBrC,cAAeA,EACfuG,eAZmB,SAAwB9E,EAAS4D,GACpDqF,GAAgB,CACdjJ,QAASA,EACT4D,aAAcA,GACb,UAAU,IASblP,kBAAmBA,IAEjBsV,GAAc5vB,YAAe2vB,GAAY,GACzCE,GAAyBD,GAAY,GACrCpG,GAAeoG,GAAY,GAC3B7E,GAAa6E,GAAY,GAEzBE,GAAa5F,GAAcwF,GAAYlG,IAC3CoF,GAAgBhJ,QAAUmF,KAC1B6D,GAAgBpF,aAAeA,GAE/B,IAIIuG,GAAmB3E,GAJA1gD,WAAc,WACnC,OAAOogB,YAAS,GAAI0kC,MACnB,CAACA,MAIAQ,GADoBhwB,YAAe+vB,GAAkB,GACX,GAY1CE,GAAiBxb,EAAcqb,GAAWvyD,OAAQo3C,GAT7B,SAA4BtuB,EAAS6uB,GAC5D2Z,GAAgB,CACdla,WAAY7pB,YAASA,YAAS,GAAI8jC,GAAgBja,YAAa,CAC7DtuB,QAASA,EACT6uB,SAAUA,KAEX,eAIDgb,GAAkBlwB,YAAeiwB,GAAgB,GACjD1a,GAAmB2a,GAAgB,GACnCjB,GAAkBiB,GAAgB,GAEtCtB,GAAgBja,YAA4B,IAAfA,EAAuB,G5BvO/C,SAA4BA,EAAYY,GAC7C,IAAI4a,EAAQ,CACV9pC,QAASkvB,EAAiBlvB,QAC1B6uB,SAAUK,EAAiBL,UAEzBJ,EAAgBH,GAAsC,WAAxBvvB,YAAQuvB,GAA2BA,EAAa,GAQlF,OAPA98C,OAAOyzB,KAAKwpB,GAAelpB,SAAQ,SAAUwkC,GAC3C,IAAI/3D,EAAQk9C,EAAiB6a,GAER,oBAAV/3D,IACT83D,EAAMC,GAAY/3D,MAGf83D,E4B0NkDE,CAAmB1b,EAAYY,IACxFqZ,GAAgBK,gBAAkBA,GAElC,IAAIjV,GAAWtvC,WAAc,WAC3B,IAAmB,IAAfiqC,IAAyBY,GAAiBL,SAC5C,OAAO4a,GAGT,IAAIQ,EAAwB/a,GAAiBlvB,QACzCA,OAAoC,IAA1BiqC,EAAmC,EAAIA,EACjD5b,EAAQa,GAAiBb,MACzB6b,EAAwBhb,GAAiBL,SACzCA,OAAqC,IAA1Bqb,E5BpPY,G4BoP2CA,EAGtE,OAFA1gB,YAAWxpB,EAAU,EAAG,QAAS,wCAE7BypC,GAAWvyD,OAASm3C,EAClBob,GAAWvyD,OAAS23C,GACtBrF,aAAW,EAAO,QAAS,wJACpBigB,GAAW/2D,OAAOstB,EAAU,GAAK6uB,EAAU7uB,EAAU6uB,IAGvD4a,GAGFA,GAAW/2D,OAAOstB,EAAU,GAAK6uB,EAAU7uB,EAAU6uB,KAC3D,GAAGP,EAAYmb,GAAYva,IAAoBA,GAAiBlvB,QAASkvB,IAAoBA,GAAiBL,SAAUK,IAAoBA,GAAiBb,QAE5J8b,GAAgB7X,GAAaC,EAAc,CAC7CpJ,UAAWA,GACXgJ,KAAMsX,GACN9V,SAAUA,GACVE,UAAWA,GACXD,eAAgBA,GAChBE,WAAYA,GACZ1B,mBAAoBA,GACpB11B,OAAQq3B,GACRC,sBAAuB8T,GAAiB9T,sBACxCC,kBAAmBA,IAEjBmW,GAAiBzwB,YAAewwB,GAAe,GAC/CE,GAA4BD,GAAe,GAC3CE,GAAiBF,GAAe,GAgBpCtC,GAAiByC,uBAAyBzC,GAAiBb,WAE3Da,GAAiBb,WAAaa,GAAiBb,YAAcA,GAAcjC,GAAiBjR,IAEzE,SAAfD,SAAoE5gD,IAA3C40D,GAAiB9T,sBAC5C8T,GAAiB9T,sBAAwBzB,EAAe,EAAI,EACnDuV,GAAiB9T,sBAAwB,GAAKzB,IACvDuV,GAAiB9T,uBAAyB,GAID,kBAAhC8T,GAAiBX,aAC1BW,GAAiBX,WAAmC,kBAAfA,EAA0BA,EAAa,IAI9E,IAGIqD,GACAC,GAkDAC,GAtDAC,GAAmBtmD,eAAkB,SAAU26C,GACjD,OAAO2K,GAAsBU,GAA0Bb,GAAuBN,GAAuBlK,QACpG,CAACkK,GAAwBM,GAAwBa,KAIpD,IAAmB,IAAf/b,IAA8C,OAArBY,SAAkD,IAArBA,QAA8B,EAASA,GAAiBb,OAAQ,CACxH,IAAIuc,GAGFA,GADE1b,GAAiB7F,KACF6F,GAAiB7F,KAEF,UAAf+H,IAAyC,WAAfA,GAA0B,aAAUl+C,EAGjF,IAAI85C,GAAmB,SAA0B3kC,GAC/C,OAAoBhE,gBAAoBooC,EAAYhoB,YAAS,CAC3DpY,UAAW,GAAGsJ,OAAOwzB,GAAW,gBAAgBxzB,OAAOwzB,GAAW,gBAAgBxzB,OAAOtN,IACxF6mC,GAAkB,CACnB7F,KAAMuhB,OAINC,GAAgC,QAAdzkC,EAAsB,OAAS,QACjD/d,GAAW6mC,GAAiB7mC,SAEhC,GAAiB,OAAbA,IAAqB1I,MAAMmc,QAAQzT,IAAW,CAChD,IAAIyiD,GAASziD,GAAS0mB,MAAK,SAAU3F,GACnC,OAA6B,IAAtBA,EAAEhiB,QAAQ,UAEf2jD,GAAY1iD,GAAS0mB,MAAK,SAAU3F,GACtC,OAAgC,IAAzBA,EAAEhiB,QAAQ,aAEf4jD,GAAY3iD,GAAS0uC,OAAM,SAAU3tB,GACvC,MAAwB,SAAjB,GAAGzT,OAAOyT,MAGd0hC,IAAWC,IAAcC,KAC5BP,GAAuBzd,GAAiB6d,KAGtCC,KACFN,GAAoBxd,GAAiB8d,GAAOp0C,cAAcnkB,QAAQ,MAAO,MAGvEw4D,KACFN,GAAuBzd,GAAiB+d,GAAUr0C,cAAcnkB,QAAQ,SAAU,WAGpFk4D,GAAuBzd,GAAiB6d,IAOrB,mBAAZvhB,EACTohB,GAAY,CACVO,SAAU3hB,GAEkB,WAArBvqB,YAAQuqB,KACjBohB,GAAYjmC,YAAS,CACnBwmC,UAAU,GACT3hB,IAGL,IAAI4hB,GAAoBr+C,IAAW,GAAG8I,OAAOwzB,GAAW,YAAaluB,YAAgB,GAAI,GAAGtF,OAAOwzB,GAAW,gBAA+B,QAAd/iB,GAAsB/Z,GACrJ,OAAoBhI,gBAAoB,MAAO,CAC7CgI,UAAW6+C,GACXp/C,MAAOA,GACOzH,gBAAoB8mD,IAAM1mC,YAAS,CACjDwmC,UAAU,GACTP,IAAYF,GAAgCnmD,gBAAoB+mD,UAAS3mC,YAAS,GAAIijC,EAAY,CACnG9Q,QAASkH,EACT13B,UAAWA,EACX++B,WAAY2C,GACZ3e,UAAWA,GACX98B,UAAWQ,KAAY65C,EAAe,GAAIzrC,YAAgByrC,EAAc,GAAG/wC,OAAOwzB,GAAW,WAA2B,WAAfiI,IAA0Bn2B,YAAgByrC,EAAc,GAAG/wC,OAAOwzB,GAAW,UAA0B,UAAfiI,IAAyBn2B,YAAgByrC,EAAc,GAAG/wC,OAAOwzB,GAAW,aAAcwd,GAAW1rC,YAAgByrC,EAAc,GAAG/wC,OAAOwzB,GAAW,UAA8B,IAAnB0e,GAAQ3wD,QAAewvD,IAC3XvU,KAAMwB,GACNmT,OAAQjT,GACRkT,aA9GyB,SAA8B1U,EAAQ1wC,EAAO0pD,GACtE,IAAIC,EAQJ,OALEA,EAD0B,oBAAjBvE,EACYl6C,IAAWk6C,EAAa1U,EAAQ1wC,EAAO0pD,IAEvCx+C,IAAWk6C,GAG3Bl6C,IAAWoO,YAAgB,GAAI,GAAGtF,OAAOwzB,GAAW,iBAAkBmhB,GAAe9V,IAAIX,GAAUxB,EAAQ1wC,KAAU2pD,IAsG5HC,UAAW7uC,GAAUA,EAAO6uC,WAAa3D,EAAY,SAErD4D,cAAeC,IACfxD,aAAcA,GACd0C,iBAAkBA,MACfF,KAGPhE,GAAMjyB,aAAe,CACnBsyB,OAAQ,OAEVL,GAAM7U,cAAgBA,GACtB6U,GAAM5U,iBAAmBA,GACzB4U,GAAM3U,eAAiBA,GACvB2U,GAAMH,OAASA,GACfG,GAAMF,YAAcA,GACpBE,GAAMiF,QAAUA,UACDjF,UEpaAA,Q,4FCEX7d,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAwBM6iB,EAjBJ,SAAc3iB,GACvB,IAAIG,EAAYH,EAAGG,UACf98B,EAAY28B,EAAG38B,UACfu/C,EAAe5iB,EAAG6iB,UAClBA,OAA6B,IAAjBD,GAAiCA,EAC7Cx5C,EAAQw2B,EAAOI,EAAI,CAAC,YAAa,YAAa,cAElD,OAAoB3kC,gBAAoBynD,IAAgB,MAAM,SAAUvqC,GACtE,IACIhX,GAASo/B,EADMpoB,EAAKooB,cACE,OAAQR,GAC9BkI,EAAcxkC,IAAW,GAAG8I,OAAOpL,EAAQ,SAAU8B,EAAW4O,YAAgB,GAAI,GAAGtF,OAAOpL,EAAQ,mBAAoBshD,IAC9H,OAAoBxnD,gBAAoB,MAAOogB,YAAS,GAAIrS,EAAO,CACjE/F,UAAWglC,SC9BbzI,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAsCMijB,EA/BJ,SAAc35C,GACvB,OAAoB/N,gBAAoBynD,IAAgB,MAAM,SAAUvqC,GACtE,IAAIooB,EAAepoB,EAAKooB,aAEpBT,EAAqB92B,EAAM+2B,UAC3B98B,EAAY+F,EAAM/F,UAClB2/C,EAAS55C,EAAM45C,OACf7+C,EAAQiF,EAAMjF,MACd0yC,EAAcztC,EAAMytC,YACpBoM,EAASrjB,EAAOx2B,EAAO,CAAC,YAAa,YAAa,SAAU,QAAS,gBAErE+2B,EAAYQ,EAAa,OAAQT,GACjCmI,EAAcxkC,IAAW,GAAG8I,OAAOwzB,EAAW,SAAU98B,GACxD6/C,EAAYF,EAAsB3nD,gBAAoB,MAAO,CAC/DgI,UAAW,GAAGsJ,OAAOwzB,EAAW,iBAC/B6iB,GAAU,KACTG,EAAWh/C,EAAqB9I,gBAAoB,MAAO,CAC7DgI,UAAW,GAAGsJ,OAAOwzB,EAAW,gBAC/Bh8B,GAAS,KACRi/C,EAAiBvM,EAA2Bx7C,gBAAoB,MAAO,CACzEgI,UAAW,GAAGsJ,OAAOwzB,EAAW,sBAC/B0W,GAAe,KACdwM,EAAaF,GAAYC,EAA8B/nD,gBAAoB,MAAO,CACpFgI,UAAW,GAAGsJ,OAAOwzB,EAAW,iBAC/BgjB,EAAUC,GAAkB,KAC/B,OAAoB/nD,gBAAoB,MAAOogB,YAAS,GAAIwnC,EAAQ,CAClE5/C,UAAWglC,IACT6a,EAAWG,O,yBC5CJC,EADI,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,GAAI,SAAY,CAAC,CAAE,IAAO,QAAS,MAAS,MAAS,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,8DAAiE,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gEAAoE,KAAQ,OAAQ,MAAS,Y,QCMpaA,EAAe,SAAsBl6C,EAAOrO,GAC9C,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAMqgB,MAIVD,EAAa30B,YAAc,eACCtzB,mBAAiBioD,G,yBCZzC1jB,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAaT,SAAS0jB,EAAKxjB,GACZ,IAkBIyjB,EAlBAt5D,EAAO61C,EAAG71C,KACVkZ,EAAY28B,EAAG38B,UACfqgD,EAAW1jB,EAAGK,KACdsjB,EAAU3jB,EAAG4jB,OACbC,EAAU7jB,EAAG6jB,QACbC,EAAW9jB,EAAG8jB,SACdC,EAAU/jB,EAAG+jB,QACb36C,EAAQw2B,EAAOI,EAAI,CAAC,OAAQ,YAAa,OAAQ,SAAU,UAAW,WAAY,YAElFE,EAAqB92B,EAAM+2B,UAC3B6jB,EAAkB56C,EAAM66C,SACxBA,OAA+B,IAApBD,EAA0C3oD,gBAAoB6oD,IAAkB,MAAQF,EAEnGvjB,EAAoBplC,aAAiBqlC,KACrCC,EAAeF,EAAkBE,aACjCvjB,EAAYqjB,EAAkBrjB,UAE9B+iB,EAAYQ,EAAa,OAAQT,GAGxB,kBAAT/1C,IACFs5D,EAAW,CACTG,OAAQ,SAAgBO,EAAU5rC,GAChC,IAAI5c,EAAM4c,EAAK5c,IACXlC,EAAQ8e,EAAK9e,MACL,OAAZkqD,QAAgC,IAAZA,GAA8BA,EAAqB,QAAbQ,EAAqB1qD,EAAQkC,EAAKwoD,IAE9FC,WAAyB/oD,gBAAoBgpD,IAAe,MAC5DN,QAASA,GAAwB1oD,gBAAoBioD,EAAc,MACnEgB,SAAqB,IAAZT,IAIb,IAAIU,EAAgB5jB,IAEpB,OADAH,cAAa,gBAAiBp3B,MAAY,gBAAiBA,GAAQ,OAAQ,uFACvD/N,gBAAoBulC,IAAY4jB,SAAU,MAAM,SAAUC,GAC5E,IAAIxkB,EAEAI,OAAoBn2C,IAAbw5D,EAAyBA,EAAWe,EAC/C,OAAoBppD,gBAAoBqpD,UAAQjpC,YAAS,CACvD2B,UAAWA,EACXunC,mBAAoB,GAAGh4C,OAAO43C,EAAe,cAC5Cn7C,EAAO,CACR/F,UAAWQ,KAAYo8B,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,KAAKxzB,OAAO0zB,GAAOA,GAAOpuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,SAAU,CAAC,OAAQ,iBAAiBna,SAAS77B,IAAQ8nB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,kBAA4B,kBAATh2C,GAA2B8nB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,aAAc2jB,GAAW7jB,GAAc58B,GACrZogD,SAAUA,EACVQ,SAAUA,EACV9jB,UAAWA,QAKjBqjB,EAAKoB,QAAUA,UACApB,Q,kBC5EX5jB,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GA8BT,IAAI+kB,EAAO,SAAcz7C,GACvB,IAAI07C,EAAW7kB,EA8FX8kB,EA5FAtkB,EAAoBplC,aAAiBqlC,KACrCC,EAAeF,EAAkBE,aACjCvjB,EAAYqjB,EAAkBrjB,UAE9BijB,EAAOhlC,aAAiBulC,KAkBxBV,EAAqB92B,EAAM+2B,UAC3B98B,EAAY+F,EAAM/F,UAClB2hD,EAAQ57C,EAAM47C,MACdC,EAAmB77C,EAAM87C,UACzBA,OAAiC,IAArBD,EAA8B,GAAKA,EAC/CE,EAAmB/7C,EAAMg8C,UACzBA,OAAiC,IAArBD,EAA8B,GAAKA,EAC/ChhD,EAAQiF,EAAMjF,MACdm8B,EAAUl3B,EAAMk3B,QAChB+kB,EAAkBj8C,EAAMu0C,SACxBA,OAA+B,IAApB0H,GAAoCA,EAC/CjlB,EAAgBh3B,EAAMi3B,KACtBl2C,EAAOif,EAAMjf,KACbm7D,EAAQl8C,EAAMk8C,MACdC,EAAUn8C,EAAMm8C,QAChBC,EAAUp8C,EAAMo8C,QAChBroC,EAAW/T,EAAM+T,SACjBsoC,EAAer8C,EAAMq8C,aACrBC,EAAsBt8C,EAAMs8C,oBAC5BC,EAAqBv8C,EAAMu8C,mBAC3B9C,EAAYz5C,EAAMy5C,UAClB+C,EAAkBx8C,EAAMy8C,SACxBA,OAA+B,IAApBD,EAA6B,GAAKA,EAC7C3C,EAASrjB,EAAOx2B,EAAO,CAAC,YAAa,YAAa,QAAS,YAAa,YAAa,QAAS,UAAW,WAAY,OAAQ,OAAQ,QAAS,UAAW,UAAW,WAAY,eAAgB,sBAAuB,qBAAsB,YAAa,aAE1P+2B,EAAYQ,EAAa,OAAQT,GACjC4lB,EAA0C,IAAtBV,EAAUW,SAAuC,QAAtBX,EAAUW,QAAoB,CAC/EA,QAAS,SACP77D,EACA87D,EAAqB3qD,gBAAoB,MAAO,CAClDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,oBAE9B8lB,EAA4B5qD,gBAAoB,MAAO,CACzDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,oBAChCr9B,MAAOgjD,GACOzqD,gBAAoB6qD,IAAK,CACvCC,OAAQ,GACM9qD,gBAAoB+qD,IAAK,CACvCC,KAAM,IACLL,IAAsB3qD,gBAAoB6qD,IAAK,CAChDC,OAAQ,GACM9qD,gBAAoB+qD,IAAK,CACvCC,KAAM,GACLL,GAAqB3qD,gBAAoB+qD,IAAK,CAC/CC,KAAM,IACLL,IAAsB3qD,gBAAoB6qD,IAAK,CAChDC,OAAQ,GACM9qD,gBAAoB+qD,IAAK,CACvCC,KAAM,GACLL,GAAqB3qD,gBAAoB+qD,IAAK,CAC/CC,KAAM,IACLL,IAAsB3qD,gBAAoB6qD,IAAK,CAChDC,OAAQ,GACM9qD,gBAAoB+qD,IAAK,CACvCC,KAAM,IACLL,GAAqB3qD,gBAAoB+qD,IAAK,CAC/CC,KAAM,GACLL,IAAsB3qD,gBAAoB6qD,IAAK,CAChDC,OAAQ,GACM9qD,gBAAoB+qD,IAAK,CACvCC,KAAM,GACLL,GAAqB3qD,gBAAoB+qD,IAAK,CAC/CC,KAAM,GACLL,GAAqB3qD,gBAAoB+qD,IAAK,CAC/CC,KAAM,IACLL,KACCM,OAAmCp8D,IAAjBu7D,EAElBc,EAAa9qC,YAASA,YAAS,GAAIoqC,IAAYf,EAAY,GAAI7yC,YAAgB6yC,EAAWwB,EAAkB,YAAc,mBAAoBA,EAAkBb,EAAeC,GAAsBzzC,YAAgB6yC,EAAW,qBAAsBa,GAAqBb,IAG3Q0B,EAAOhB,GAAWA,EAAQt3D,OAAsBmN,gBAAoBmoD,EAAM/nC,YAAS,CACrF4kB,KAAM,SACLkmB,EAAY,CACbljD,UAAW,GAAGsJ,OAAOwzB,EAAW,cAChC3lC,SA3FgB,SAAqBmB,GACrC,IAAIqkC,EAEyB,QAA5BA,EAAK52B,EAAMq9C,mBAAgC,IAAPzmB,GAAyBA,EAAG92C,KAAKkgB,EAAOzN,MAyF3E6pD,EAAQh4C,KAAI,SAAUwxC,GACxB,OAAoB3jD,gBAAoBmoD,EAAKoB,QAAS,CACpD8B,IAAK1H,EAAK0H,IACV7jD,SAAUm8C,EAAKn8C,SACflH,IAAKqjD,EAAKrjD,UAER,MAEFwI,GAAS6gD,GAASwB,KACpBzB,EAAoB1pD,gBAAoB,MAAO,CAC7CgI,UAAW,GAAGsJ,OAAOwzB,EAAW,SAChCr9B,MAAOoiD,GACO7pD,gBAAoB,MAAO,CACzCgI,UAAW,GAAGsJ,OAAOwzB,EAAW,kBAC/Bh8B,GAAsB9I,gBAAoB,MAAO,CAClDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,gBAC/Bh8B,GAAQ6gD,GAAsB3pD,gBAAoB,MAAO,CAC1DgI,UAAW,GAAGsJ,OAAOwzB,EAAW,WAC/B6kB,IAASwB,IAGd,IAAIG,EAAWrB,EAAqBjqD,gBAAoB,MAAO,CAC7DgI,UAAW,GAAGsJ,OAAOwzB,EAAW,WAC/BmlB,GAAS,KACRtvB,EAAoB36B,gBAAoB,MAAO,CACjDgI,UAAW,GAAGsJ,OAAOwzB,EAAW,SAChCr9B,MAAOsiD,GACN9kB,EAAU2lB,EAAe9oC,GACxBypC,EAAYrB,GAAWA,EAAQr3D,OAAsBmN,gBAAoB,KAAM,CACjFgI,UAAW,GAAGsJ,OAAOwzB,EAAW,aAlJpC,SAAmBolB,GAajB,OAZiBA,EAAQ/3C,KAAI,SAAUkyC,EAAQ/mD,GAC7C,OAGE0C,gBAAoB,KAAM,CACxByH,MAAO,CACLujB,MAAO,GAAG1Z,OAAO,IAAM44C,EAAQr3D,OAAQ,MAEzCyN,IAAK,UAAUgR,OAAOhU,IACR0C,gBAAoB,OAAQ,KAAMqkD,OAyInDmH,CAAUtB,IAAY,KACrBuB,GAAWx6B,YAAK22B,EAAQ,CAAC,gBACzB7a,GAAahI,GAAiBC,EAC9BgI,GAAcxkC,IAAWs8B,GAAYF,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,YAAaG,GAAUruB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,aAAcwd,GAAW1rC,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,cAAe0iB,GAAY5wC,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,iBAvH1T,WAClB,IAAI4mB,EAMJ,OALA1rD,WAAekhB,QAAQnT,EAAM+T,UAAU,SAAUrsB,GAC3CA,GAAWA,EAAQ3G,MAAQ2G,EAAQ3G,OAASw4D,IAC9CoE,GAAc,MAGXA,EAgHuVC,IAAkB/0C,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,iBAAkBqlB,GAAWA,EAAQt3D,QAAS+jB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,KAAKxzB,OAAOy7B,IAAaA,IAAan2B,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,UAAUxzB,OAAOxiB,KAASA,GAAO8nB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,QAAuB,QAAd/iB,GAAsB6iB,GAAc58B,GAC5tB,OAAoBhI,gBAAoB,MAAOogB,YAAS,GAAIqrC,GAAU,CACpEzjD,UAAWglC,KACT0c,EAAM4B,EAAU3wB,EAAM4wB,IAG5B/B,EAAKlC,KAAOA,EACZkC,EAAK9B,KAAOA,EACG8B,O,oDCvLAoC,EADE,CAAE,KAAQ,SAAgBC,EAAcC,GAAkB,MAAO,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uLAAwL,KAAQA,IAAoB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uNAAwN,KAAQA,IAAoB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,iTAAkT,KAAQD,IAAkB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,2KAA4K,KAAQA,OAAwB,KAAQ,MAAO,MAAS,W,QCMtyCD,EAAa,SAAoB79C,EAAOrO,GAC1C,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAMkkB,MAIVH,EAAWt4B,YAAc,aACGtzB,iBAAiB4rD,I,oDCb9BI,EADW,CAAE,KAAQ,SAAgBH,EAAcC,GAAkB,MAAO,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,0TAA2T,KAAQA,IAAoB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gqBAAiqB,KAAQD,IAAkB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,sJAAuJ,KAAQA,OAAwB,KAAQ,gBAAiB,MAAS,W,QCMjgDG,EAAsB,SAA6Bj+C,EAAOrO,GAC5D,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAMokB,MAIVD,EAAoB14B,YAAc,sBACNtzB,iBAAiBgsD,I,oDCb9BE,EADU,CAAE,KAAQ,SAAgBL,EAAcC,GAAkB,MAAO,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gLAAiL,KAAQD,IAAkB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uRAAwR,KAAQC,IAAoB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,6LAA8L,KAAQD,OAAwB,KAAQ,eAAgB,MAAS,W,QCMnhCK,EAAqB,SAA4Bn+C,EAAOrO,GAC1D,OAAoBM,gBAAoB4nC,IAAU3mB,YAAcA,YAAc,GAAIlT,GAAQ,GAAI,CAC5FrO,IAAKA,EACLmoC,KAAMskB,MAIVD,EAAmB54B,YAAc,qBACLtzB,iBAAiBksD,I,iCCb7C,IAAIpxB,EAAOsxB,EAAQ,KAIf/+D,EAAWF,OAAOC,UAAUC,SAQhC,SAASoqB,EAAQszB,GACf,MAA8B,mBAAvB19C,EAASQ,KAAKk9C,GASvB,SAASshB,EAAYthB,GACnB,MAAsB,qBAARA,EA4EhB,SAASh9C,EAASg9C,GAChB,OAAe,OAARA,GAA+B,kBAARA,EAShC,SAASuhB,EAAcvhB,GACrB,GAA2B,oBAAvB19C,EAASQ,KAAKk9C,GAChB,OAAO,EAGT,IAAI39C,EAAYD,OAAO64B,eAAe+kB,GACtC,OAAqB,OAAd39C,GAAsBA,IAAcD,OAAOC,UAuCpD,SAASm/D,EAAWxhB,GAClB,MAA8B,sBAAvB19C,EAASQ,KAAKk9C,GAwEvB,SAAS7pB,EAAQrK,EAAKpD,GAEpB,GAAY,OAARoD,GAA+B,qBAARA,EAU3B,GALmB,kBAARA,IAETA,EAAM,CAACA,IAGLY,EAAQZ,GAEV,IAAK,IAAIxmB,EAAI,EAAGm8D,EAAI31C,EAAIhkB,OAAQxC,EAAIm8D,EAAGn8D,IACrCojB,EAAG5lB,KAAK,KAAMgpB,EAAIxmB,GAAIA,EAAGwmB,QAI3B,IAAK,IAAIvW,KAAOuW,EACV1pB,OAAOC,UAAUozB,eAAe3yB,KAAKgpB,EAAKvW,IAC5CmT,EAAG5lB,KAAK,KAAMgpB,EAAIvW,GAAMA,EAAKuW,GA2ErC9nB,EAAOC,QAAU,CACfyoB,QAASA,EACTg1C,cA1RF,SAAuB1hB,GACrB,MAA8B,yBAAvB19C,EAASQ,KAAKk9C,IA0RrB2hB,SAtSF,SAAkB3hB,GAChB,OAAe,OAARA,IAAiBshB,EAAYthB,IAA4B,OAApBA,EAAI76C,cAAyBm8D,EAAYthB,EAAI76C,cAChD,oBAA7B66C,EAAI76C,YAAYw8D,UAA2B3hB,EAAI76C,YAAYw8D,SAAS3hB,IAqShF4hB,WAlRF,SAAoB5hB,GAClB,MAA4B,qBAAb6hB,UAA8B7hB,aAAe6hB,UAkR5DC,kBAzQF,SAA2B9hB,GAOzB,MAL4B,qBAAhB+hB,aAAiCA,YAAY9wC,OAC9C8wC,YAAY9wC,OAAO+uB,GAElBA,GAASA,EAAIgiB,QAAYhiB,EAAIgiB,kBAAkBD,aAqQ3DE,SA1PF,SAAkBjiB,GAChB,MAAsB,kBAARA,GA0PdkiB,SAjPF,SAAkBliB,GAChB,MAAsB,kBAARA,GAiPdh9C,SAAUA,EACVu+D,cAAeA,EACfD,YAAaA,EACba,OAlNF,SAAgBniB,GACd,MAA8B,kBAAvB19C,EAASQ,KAAKk9C,IAkNrBoiB,OAzMF,SAAgBpiB,GACd,MAA8B,kBAAvB19C,EAASQ,KAAKk9C,IAyMrBqiB,OAhMF,SAAgBriB,GACd,MAA8B,kBAAvB19C,EAASQ,KAAKk9C,IAgMrBwhB,WAAYA,EACZc,SA9KF,SAAkBtiB,GAChB,OAAOh9C,EAASg9C,IAAQwhB,EAAWxhB,EAAIuiB,OA8KvCC,kBArKF,SAA2BxiB,GACzB,MAAkC,qBAApByiB,iBAAmCziB,aAAeyiB,iBAqKhEC,qBAzIF,WACE,OAAyB,qBAAd1vD,WAAoD,gBAAtBA,UAAU2vD,SACY,iBAAtB3vD,UAAU2vD,SACY,OAAtB3vD,UAAU2vD,WAI/B,qBAAX/7C,QACa,qBAAb4f,WAkITrQ,QAASA,EACTysC,MAvEF,SAASA,IACP,IAAIlgE,EAAS,GACb,SAASmgE,EAAY7iB,EAAKzqC,GACpBgsD,EAAc7+D,EAAO6S,KAASgsD,EAAcvhB,GAC9Ct9C,EAAO6S,GAAOqtD,EAAMlgE,EAAO6S,GAAMyqC,GACxBuhB,EAAcvhB,GACvBt9C,EAAO6S,GAAOqtD,EAAM,GAAI5iB,GACftzB,EAAQszB,GACjBt9C,EAAO6S,GAAOyqC,EAAI18C,QAElBZ,EAAO6S,GAAOyqC,EAIlB,IAAK,IAAI16C,EAAI,EAAGm8D,EAAI59D,UAAUiE,OAAQxC,EAAIm8D,EAAGn8D,IAC3C6wB,EAAQtyB,UAAUyB,GAAIu9D,GAExB,OAAOngE,GAuDPogE,OA5CF,SAAgB1+D,EAAGC,EAAG0+D,GAQpB,OAPA5sC,EAAQ9xB,GAAG,SAAqB27C,EAAKzqC,GAEjCnR,EAAEmR,GADAwtD,GAA0B,oBAAR/iB,EACXjQ,EAAKiQ,EAAK+iB,GAEV/iB,KAGN57C,GAqCP4+D,KAhKF,SAAcC,GACZ,OAAOA,EAAID,KAAOC,EAAID,OAASC,EAAI9/D,QAAQ,aAAc,KAgKzD+/D,SA7BF,SAAkBC,GAIhB,OAH8B,QAA1BA,EAAQC,WAAW,KACrBD,EAAUA,EAAQ7/D,MAAM,IAEnB6/D,K,oBClUTn/D,EAAOC,QAAUo9D,EAAQ,M,kCCAzB,YAEA,IAAIgC,EAAQhC,EAAQ,KAChBiC,EAAsBjC,EAAQ,KAC9BkC,EAAelC,EAAQ,KAEvBmC,EAAuB,CACzB,eAAgB,qCAGlB,SAASC,EAAsBC,EAAS9gE,IACjCygE,EAAM/B,YAAYoC,IAAYL,EAAM/B,YAAYoC,EAAQ,mBAC3DA,EAAQ,gBAAkB9gE,GA+B9B,IAAI+gE,EAAW,CAEbC,aAAc,CACZC,mBAAmB,EACnBC,mBAAmB,EACnBC,qBAAqB,GAGvBC,QAnCF,WACE,IAAIA,EAQJ,OAP8B,qBAAnBC,gBAGmB,qBAAZC,GAAuE,qBAA5C9hE,OAAOC,UAAUC,SAASQ,KAAKohE,MAD1EF,EAAU3C,EAAQ,MAKb2C,EA0BEG,GAETC,iBAAkB,CAAC,SAA0BrhB,EAAM2gB,GAIjD,OAHAJ,EAAoBI,EAAS,UAC7BJ,EAAoBI,EAAS,gBAEzBL,EAAMzB,WAAW7e,IACnBsgB,EAAM3B,cAAc3e,IACpBsgB,EAAM1B,SAAS5e,IACfsgB,EAAMf,SAASvf,IACfsgB,EAAMjB,OAAOrf,IACbsgB,EAAMhB,OAAOtf,GAENA,EAELsgB,EAAMvB,kBAAkB/e,GACnBA,EAAKif,OAEVqB,EAAMb,kBAAkBzf,IAC1B0gB,EAAsBC,EAAS,mDACxB3gB,EAAKzgD,YAEV+gE,EAAMrgE,SAAS+/C,IAAU2gB,GAAuC,qBAA5BA,EAAQ,iBAC9CD,EAAsBC,EAAS,oBA9CrC,SAAyB/iC,EAAU3lB,EAAQqpD,GACzC,GAAIhB,EAAMpB,SAASthC,GACjB,IAEE,OADC3lB,GAAUspD,KAAKxwD,OAAO6sB,GAChB0iC,EAAML,KAAKriC,GAClB,MAAOn8B,GACP,GAAe,gBAAXA,EAAEM,KACJ,MAAMN,EAKZ,OAAQ6/D,GAAWC,KAAKC,WAAW5jC,GAmCxB6jC,CAAgBzhB,IAElBA,IAGT0hB,kBAAmB,CAAC,SAA2B1hB,GAC7C,IAAI6gB,EAAehgE,KAAKggE,aACpBC,EAAoBD,GAAgBA,EAAaC,kBACjDC,EAAoBF,GAAgBA,EAAaE,kBACjDY,GAAqBb,GAA2C,SAAtBjgE,KAAK+gE,aAEnD,GAAID,GAAsBZ,GAAqBT,EAAMpB,SAASlf,IAASA,EAAKj7C,OAC1E,IACE,OAAOw8D,KAAKxwD,MAAMivC,GAClB,MAAOv+C,GACP,GAAIkgE,EAAmB,CACrB,GAAe,gBAAXlgE,EAAEM,KACJ,MAAMy+D,EAAa/+D,EAAGZ,KAAM,gBAE9B,MAAMY,GAKZ,OAAOu+C,IAOT6hB,QAAS,EAETC,eAAgB,aAChBC,eAAgB,eAEhBC,kBAAmB,EACnBC,eAAgB,EAEhBC,eAAgB,SAAwBC,GACtC,OAAOA,GAAU,KAAOA,EAAS,KAIrCvB,QAAmB,CACjBwB,OAAQ,CACN,OAAU,uCAId9B,EAAMltC,QAAQ,CAAC,SAAU,MAAO,SAAS,SAA6BkgC,GACpEsN,EAASD,QAAQrN,GAAU,MAG7BgN,EAAMltC,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BkgC,GACrEsN,EAASD,QAAQrN,GAAUgN,EAAMT,MAAMY,MAGzCx/D,EAAOC,QAAU0/D,I,oDCnIjB3/D,EAAOC,QAAU,SAAcykB,EAAIq6C,GACjC,OAAO,WAEL,IADA,IAAIn+D,EAAO,IAAI2L,MAAM1M,UAAUiE,QACtBxC,EAAI,EAAGA,EAAIV,EAAKkD,OAAQxC,IAC/BV,EAAKU,GAAKzB,UAAUyB,GAEtB,OAAOojB,EAAG/kB,MAAMo/D,EAASn+D,M,iCCN7B,IAAIy+D,EAAQhC,EAAQ,KAEpB,SAAS+D,EAAOplB,GACd,OAAOqlB,mBAAmBrlB,GACxB78C,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KAUrBa,EAAOC,QAAU,SAAkBqhE,EAAKC,EAAQC,GAE9C,IAAKD,EACH,OAAOD,EAGT,IAAIG,EACJ,GAAID,EACFC,EAAmBD,EAAiBD,QAC/B,GAAIlC,EAAMb,kBAAkB+C,GACjCE,EAAmBF,EAAOjjE,eACrB,CACL,IAAIojE,EAAQ,GAEZrC,EAAMltC,QAAQovC,GAAQ,SAAmBvlB,EAAKzqC,GAChC,OAARyqC,GAA+B,qBAARA,IAIvBqjB,EAAM32C,QAAQszB,GAChBzqC,GAAY,KAEZyqC,EAAM,CAACA,GAGTqjB,EAAMltC,QAAQ6pB,GAAK,SAAoB2lB,GACjCtC,EAAMlB,OAAOwD,GACfA,EAAIA,EAAEC,cACGvC,EAAMrgE,SAAS2iE,KACxBA,EAAIrB,KAAKC,UAAUoB,IAErBD,EAAM3+C,KAAKq+C,EAAO7vD,GAAO,IAAM6vD,EAAOO,WAI1CF,EAAmBC,EAAMl/C,KAAK,KAGhC,GAAIi/C,EAAkB,CACpB,IAAII,EAAgBP,EAAIttD,QAAQ,MACT,IAAnB6tD,IACFP,EAAMA,EAAIhiE,MAAM,EAAGuiE,IAGrBP,KAA8B,IAAtBA,EAAIttD,QAAQ,KAAc,IAAM,KAAOytD,EAGjD,OAAOH,I,iCCxDTthE,EAAOC,QAAU,SAAsBS,EAAO6rC,EAAQu1B,EAAMC,EAASC,GA4BnE,OA3BAthE,EAAM6rC,OAASA,EACXu1B,IACFphE,EAAMohE,KAAOA,GAGfphE,EAAMqhE,QAAUA,EAChBrhE,EAAMshE,SAAWA,EACjBthE,EAAMuhE,cAAe,EAErBvhE,EAAMwhE,OAAS,WACb,MAAO,CAELC,QAASviE,KAAKuiE,QACdrhE,KAAMlB,KAAKkB,KAEX2rD,YAAa7sD,KAAK6sD,YAClBjnD,OAAQ5F,KAAK4F,OAEb48D,SAAUxiE,KAAKwiE,SACfC,WAAYziE,KAAKyiE,WACjBC,aAAc1iE,KAAK0iE,aACnBC,MAAO3iE,KAAK2iE,MAEZh2B,OAAQ3sC,KAAK2sC,OACbu1B,KAAMliE,KAAKkiE,OAGRphE,I,iCCtCT,IAAI2+D,EAAQhC,EAAQ,KAChBmF,EAASnF,EAAQ,KACjBoF,EAAUpF,EAAQ,KAClBqF,EAAWrF,EAAQ,KACnBsF,EAAgBtF,EAAQ,KACxBuF,EAAevF,EAAQ,KACvBwF,EAAkBxF,EAAQ,KAC1ByF,EAAczF,EAAQ,KAE1Br9D,EAAOC,QAAU,SAAoBssC,GACnC,OAAO,IAAIwE,SAAQ,SAA4BC,EAASG,GACtD,IAAI4xB,EAAcx2B,EAAOwS,KACrBikB,EAAiBz2B,EAAOmzB,QACxBiB,EAAep0B,EAAOo0B,aAEtBtB,EAAMzB,WAAWmF,WACZC,EAAe,gBAGxB,IAAIjB,EAAU,IAAI9B,eAGlB,GAAI1zB,EAAO02B,KAAM,CACf,IAAIC,EAAW32B,EAAO02B,KAAKC,UAAY,GACnCC,EAAW52B,EAAO02B,KAAKE,SAAWC,SAAS/B,mBAAmB90B,EAAO02B,KAAKE,WAAa,GAC3FH,EAAeK,cAAgB,SAAWC,KAAKJ,EAAW,IAAMC,GAGlE,IAAII,EAAWZ,EAAcp2B,EAAOi3B,QAASj3B,EAAO+0B,KAMpD,SAASmC,IACP,GAAK1B,EAAL,CAIA,IAAI2B,EAAkB,0BAA2B3B,EAAUa,EAAab,EAAQ4B,yBAA2B,KAGvG3B,EAAW,CACbjjB,KAHkB4hB,GAAiC,SAAjBA,GAA6C,SAAjBA,EACvCoB,EAAQC,SAA/BD,EAAQ6B,aAGR1C,OAAQa,EAAQb,OAChB2C,WAAY9B,EAAQ8B,WACpBnE,QAASgE,EACTn3B,OAAQA,EACRw1B,QAASA,GAGXS,EAAOxxB,EAASG,EAAQ6wB,GAGxBD,EAAU,MAmEZ,GA5FAA,EAAQ+B,KAAKv3B,EAAO8lB,OAAO5uC,cAAei/C,EAASa,EAAUh3B,EAAOg1B,OAAQh1B,EAAOi1B,mBAAmB,GAGtGO,EAAQnB,QAAUr0B,EAAOq0B,QAyBrB,cAAemB,EAEjBA,EAAQ0B,UAAYA,EAGpB1B,EAAQgC,mBAAqB,WACtBhC,GAAkC,IAAvBA,EAAQiC,aAQD,IAAnBjC,EAAQb,QAAkBa,EAAQkC,aAAwD,IAAzClC,EAAQkC,YAAYjwD,QAAQ,WAKjF7E,WAAWs0D,IAKf1B,EAAQmC,QAAU,WACXnC,IAIL5wB,EAAO2xB,EAAY,kBAAmBv2B,EAAQ,eAAgBw1B,IAG9DA,EAAU,OAIZA,EAAQoC,QAAU,WAGhBhzB,EAAO2xB,EAAY,gBAAiBv2B,EAAQ,KAAMw1B,IAGlDA,EAAU,MAIZA,EAAQqC,UAAY,WAClB,IAAIC,EAAsB,cAAgB93B,EAAOq0B,QAAU,cACvDr0B,EAAO83B,sBACTA,EAAsB93B,EAAO83B,qBAE/BlzB,EAAO2xB,EACLuB,EACA93B,EACAA,EAAOqzB,cAAgBrzB,EAAOqzB,aAAaG,oBAAsB,YAAc,eAC/EgC,IAGFA,EAAU,MAMR1C,EAAMX,uBAAwB,CAEhC,IAAI4F,GAAa/3B,EAAOg4B,iBAAmB1B,EAAgBU,KAAch3B,EAAOs0B,eAC9E4B,EAAQ+B,KAAKj4B,EAAOs0B,qBACpB/gE,EAEEwkE,IACFtB,EAAez2B,EAAOu0B,gBAAkBwD,GAKxC,qBAAsBvC,GACxB1C,EAAMltC,QAAQ6wC,GAAgB,SAA0BhnB,EAAKzqC,GAChC,qBAAhBwxD,GAAqD,iBAAtBxxD,EAAI+R,qBAErC0/C,EAAezxD,GAGtBwwD,EAAQ0C,iBAAiBlzD,EAAKyqC,MAM/BqjB,EAAM/B,YAAY/wB,EAAOg4B,mBAC5BxC,EAAQwC,kBAAoBh4B,EAAOg4B,iBAIjC5D,GAAiC,SAAjBA,IAClBoB,EAAQpB,aAAep0B,EAAOo0B,cAIS,oBAA9Bp0B,EAAOm4B,oBAChB3C,EAAQ9xB,iBAAiB,WAAY1D,EAAOm4B,oBAIP,oBAA5Bn4B,EAAOo4B,kBAAmC5C,EAAQ6C,QAC3D7C,EAAQ6C,OAAO30B,iBAAiB,WAAY1D,EAAOo4B,kBAGjDp4B,EAAOs4B,aAETt4B,EAAOs4B,YAAYC,QAAQh5B,MAAK,SAAoBjB,GAC7Ck3B,IAILA,EAAQgD,QACR5zB,EAAOtG,GAEPk3B,EAAU,SAITgB,IACHA,EAAc,MAIhBhB,EAAQiD,KAAKjC,Q,iCCxLjB,IAAIxD,EAAelC,EAAQ,KAY3Br9D,EAAOC,QAAU,SAAqBkiE,EAAS51B,EAAQu1B,EAAMC,EAASC,GACpE,IAAIthE,EAAQ,IAAIC,MAAMwhE,GACtB,OAAO5C,EAAa7+D,EAAO6rC,EAAQu1B,EAAMC,EAASC,K,iCCdpDhiE,EAAOC,QAAU,SAAkBrB,GACjC,SAAUA,IAASA,EAAMqmE,c,iCCD3B,IAAI5F,EAAQhC,EAAQ,KAUpBr9D,EAAOC,QAAU,SAAqBilE,EAASC,GAE7CA,EAAUA,GAAW,GACrB,IAAI54B,EAAS,GAET64B,EAAuB,CAAC,MAAO,SAAU,QACzCC,EAA0B,CAAC,UAAW,OAAQ,QAAS,UACvDC,EAAuB,CACzB,UAAW,mBAAoB,oBAAqB,mBACpD,UAAW,iBAAkB,kBAAmB,UAAW,eAAgB,iBAC3E,iBAAkB,mBAAoB,qBAAsB,aAC5D,mBAAoB,gBAAiB,eAAgB,YAAa,YAClE,aAAc,cAAe,aAAc,oBAEzCC,EAAkB,CAAC,kBAEvB,SAASC,EAAej0C,EAAQC,GAC9B,OAAI6tC,EAAM9B,cAAchsC,IAAW8tC,EAAM9B,cAAc/rC,GAC9C6tC,EAAMT,MAAMrtC,EAAQC,GAClB6tC,EAAM9B,cAAc/rC,GACtB6tC,EAAMT,MAAM,GAAIptC,GACd6tC,EAAM32C,QAAQ8I,GAChBA,EAAOlyB,QAETkyB,EAGT,SAASi0C,EAAoBruC,GACtBioC,EAAM/B,YAAY6H,EAAQ/tC,IAEnBioC,EAAM/B,YAAY4H,EAAQ9tC,MACpCmV,EAAOnV,GAAQouC,OAAe1lE,EAAWolE,EAAQ9tC,KAFjDmV,EAAOnV,GAAQouC,EAAeN,EAAQ9tC,GAAO+tC,EAAQ/tC,IAMzDioC,EAAMltC,QAAQizC,GAAsB,SAA0BhuC,GACvDioC,EAAM/B,YAAY6H,EAAQ/tC,MAC7BmV,EAAOnV,GAAQouC,OAAe1lE,EAAWqlE,EAAQ/tC,QAIrDioC,EAAMltC,QAAQkzC,EAAyBI,GAEvCpG,EAAMltC,QAAQmzC,GAAsB,SAA0BluC,GACvDioC,EAAM/B,YAAY6H,EAAQ/tC,IAEnBioC,EAAM/B,YAAY4H,EAAQ9tC,MACpCmV,EAAOnV,GAAQouC,OAAe1lE,EAAWolE,EAAQ9tC,KAFjDmV,EAAOnV,GAAQouC,OAAe1lE,EAAWqlE,EAAQ/tC,OAMrDioC,EAAMltC,QAAQozC,GAAiB,SAAenuC,GACxCA,KAAQ+tC,EACV54B,EAAOnV,GAAQouC,EAAeN,EAAQ9tC,GAAO+tC,EAAQ/tC,IAC5CA,KAAQ8tC,IACjB34B,EAAOnV,GAAQouC,OAAe1lE,EAAWolE,EAAQ9tC,QAIrD,IAAIsuC,EAAYN,EACb7iD,OAAO8iD,GACP9iD,OAAO+iD,GACP/iD,OAAOgjD,GAENI,EAAYvnE,OACbyzB,KAAKqzC,GACL3iD,OAAOnkB,OAAOyzB,KAAKszC,IACnBrxD,QAAO,SAAyBvC,GAC/B,OAAmC,IAA5Bm0D,EAAU1xD,QAAQzC,MAK7B,OAFA8tD,EAAMltC,QAAQwzC,EAAWF,GAElBl5B,I,iCC7ET,SAASq5B,EAAOzD,GACdviE,KAAKuiE,QAAUA,EAGjByD,EAAOvnE,UAAUC,SAAW,WAC1B,MAAO,UAAYsB,KAAKuiE,QAAU,KAAOviE,KAAKuiE,QAAU,KAG1DyD,EAAOvnE,UAAU4mE,YAAa,EAE9BjlE,EAAOC,QAAU2lE,G,iCClBjB,4HAOIpwB,EAAgC,SAAUC,EAAGj1C,GAC/C,IAAIk1C,EAAI,GAER,IAAK,IAAI1f,KAAKyf,EACRr3C,OAAOC,UAAUozB,eAAe3yB,KAAK22C,EAAGzf,IAAMx1B,EAAEwT,QAAQgiB,GAAK,IAAG0f,EAAE1f,GAAKyf,EAAEzf,IAG/E,GAAS,MAALyf,GAAqD,oBAAjCr3C,OAAO0zB,sBAA2C,KAAIxwB,EAAI,EAAb,IAAgB00B,EAAI53B,OAAO0zB,sBAAsB2jB,GAAIn0C,EAAI00B,EAAElyB,OAAQxC,IAClId,EAAEwT,QAAQgiB,EAAE10B,IAAM,GAAKlD,OAAOC,UAAUs0B,qBAAqB7zB,KAAK22C,EAAGzf,EAAE10B,MAAKo0C,EAAE1f,EAAE10B,IAAMm0C,EAAEzf,EAAE10B,KAEhG,OAAOo0C,GAYLmwB,GAFYC,YAAM,QAAS,UAAW,SAEnB,MAuCvB,IAAI/N,EAAoB,SAAUtrB,GAChC/U,YAAUqgC,EAAMtrB,GAEhB,IAAI5U,EAAS1B,YAAa4hC,GAE1B,SAASA,EAAK/4C,GACZ,IAAI8Y,EAEJpC,YAAgB91B,KAAMm4D,IAEtBjgC,EAAQD,EAAO/4B,KAAKc,KAAMof,IAEpB+mD,yBAA2B,SAAU/mD,GACzC,IACIgnD,GADOhnD,GAAS8Y,EAAM9Y,OACTgnD,MAEbA,IACFluC,EAAMmuC,qBAENnuC,EAAMouC,eAAiBC,IAASruC,EAAMsuC,uBAAwBJ,KAIlEluC,EAAMouC,eAAiB,WACrB,IAAIrO,EAAW//B,EAAM9Y,MAAM64C,SACL//B,EAAMzlB,MAAMwlD,WAEVA,GACtB//B,EAAM1hB,SAAS,CACbyhD,SAAUA,KAKhB//B,EAAMuuC,WAAa,SAAUrkC,GAC3B,IAAI6T,EAEAU,EAAevU,EAAMuU,aACrBvjB,EAAYgP,EAAMhP,UAElB4iB,EAAK9d,EAAM9Y,MACX82B,EAAqBF,EAAGG,UACxB98B,EAAY28B,EAAG38B,UACfg9B,EAAOL,EAAGK,KACVqwB,EAAM1wB,EAAG0wB,IACTC,EAAmB3wB,EAAG2wB,iBACtB7tD,EAAQk9B,EAAGl9B,MACX+gC,EAAYjE,EAAOI,EAAI,CAAC,YAAa,YAAa,OAAQ,MAAO,mBAAoB,UAErFiiB,EAAW//B,EAAMzlB,MAAMwlD,SACvB9hB,EAAYQ,EAAa,OAAQT,GACjC0wB,EAAgB/sD,IAAWs8B,GAAYF,EAAc,GAAIhuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,OAAiB,UAATE,GAAmBpuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,OAAiB,UAATE,GAAmBpuB,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,aAAc8hB,GAAWhwC,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,gBAAiBuwB,GAAMz+C,YAAgBguB,EAAa,GAAGtzB,OAAOwzB,EAAW,QAAuB,QAAd/iB,GAAsB6iB,GAAc58B,GAEtcyjD,EAAWx6B,YAAKuX,EAAW,CAAC,WAAY,QAAS,cACjDgtB,EAA2Bx1D,gBAAoB,MAAOogB,YAAS,GAAIqrC,EAAU,CAC/EhkD,MAAOA,EACPO,UAAWutD,IA7FnB,SAAyBzwB,EAAW/2B,GAClC,IAAI0nD,EAAY1nD,EAAM0nD,UAClBC,EAAe,GAAGpkD,OAAOwzB,EAAW,QAExC,OAAkB,OAAd2wB,EACK,KAGLE,YAAeF,GACVnzC,YAAamzC,EAAW,CAC7BztD,UAAWQ,IAAWitD,EAAU1nD,MAAM/F,UAAW0tD,KAIjDC,YAAef,GACVtyC,YAAasyC,EAAkB,CACpC5sD,UAAWQ,IAAWosD,EAAiB7mD,MAAM/F,UAAW0tD,KAIxC11D,gBAAoB,OAAQ,CAC9CgI,UAAWQ,IAAWktD,EAAc,GAAGpkD,OAAOwzB,EAAW,eAC3C9kC,gBAAoB,IAAK,CACvCgI,UAAW,GAAGsJ,OAAOwzB,EAAW,eACjB9kC,gBAAoB,IAAK,CACxCgI,UAAW,GAAGsJ,OAAOwzB,EAAW,eACjB9kC,gBAAoB,IAAK,CACxCgI,UAAW,GAAGsJ,OAAOwzB,EAAW,eACjB9kC,gBAAoB,IAAK,CACxCgI,UAAW,GAAGsJ,OAAOwzB,EAAW,gBAiE1B8wB,CAAgB9wB,EAAWje,EAAM9Y,OAAQsnD,EAAmBr1D,gBAAoB,MAAO,CACzFgI,UAAW,GAAGsJ,OAAOwzB,EAAW,UAC/BuwB,GAAO,MAEV,GAAIxuC,EAAMgvC,kBAAmB,CAC3B,IAAIC,EAAqBttD,IAAW,GAAG8I,OAAOwzB,EAAW,cAAeluB,YAAgB,GAAI,GAAGtF,OAAOwzB,EAAW,SAAU8hB,IAC3H,OAAoB5mD,gBAAoB,MAAOogB,YAAS,GAAIqrC,EAAU,CACpEzjD,UAAWQ,IAAW,GAAG8I,OAAOwzB,EAAW,mBAAoBwwB,KAC7D1O,GAAyB5mD,gBAAoB,MAAO,CACtDM,IAAK,WACJk1D,GAA2Bx1D,gBAAoB,MAAO,CACvDgI,UAAW8tD,EACXx1D,IAAK,aACJumB,EAAM9Y,MAAM+T,WAGjB,OAAO0zC,GAGT,IAAI5O,EAAW74C,EAAM64C,SAEjBmP,EAlFR,SAAqBnP,EAAUmO,GAC7B,QAASnO,KAAcmO,IAAUtkE,MAAMF,OAAOwkE,IAiFtBiB,CAAYpP,EADtB74C,EAAMgnD,OASlB,OAPAluC,EAAMzlB,MAAQ,CACZwlD,SAAUA,IAAamP,GAEzBlvC,EAAMsuC,uBAAyBtuC,EAAMouC,eAErCpuC,EAAMiuC,yBAAyB/mD,GAExB8Y,EA6CT,OA1CA0J,YAAau2B,EAAM,CAAC,CAClBxmD,IAAK,oBACL3S,MAAO,WACLgB,KAAKsmE,mBAEN,CACD30D,IAAK,qBACL3S,MAAO,WACLgB,KAAKmmE,2BACLnmE,KAAKsmE,mBAEN,CACD30D,IAAK,uBACL3S,MAAO,WACLgB,KAAKqmE,uBAEN,CACD10D,IAAK,qBACL3S,MAAO,WACL,IAAIsnE,EAAiBtmE,KAAKsmE,eAEtBA,GAAkBA,EAAer7B,QACnCq7B,EAAer7B,WAGlB,CACDt5B,IAAK,kBACL3S,MAAO,WACL,SAAUgB,KAAKof,OAAwC,qBAAxBpf,KAAKof,MAAM+T,YAE3C,CACDxhB,IAAK,SACL3S,MAAO,WACL,OAAoBqS,gBAAoBynD,IAAgB,KAAM94D,KAAKymE,eAEnE,CAAC,CACH90D,IAAK,sBACL3S,MAAO,SAA6B8nE,GAClCb,EAAmBa,MAIhB3O,EAnIe,CAoItB9mD,aAEF8mD,EAAK32B,aAAe,CAClBy2B,UAAU,EACV5hB,KAAM,UACNswB,iBAAkB,IAELxO,O,iOCzMFmP,EACuD,YAA/C,oBAAXtkD,4BAA8CA,OAArB,Y,MAAA,GAAqBA,SAO3CukD,EAAkBD,EAAa1kC,SAAW,GAO1C4kC,EAAiB,CAC5B,YACA,UACA,QACA,iBACA,aACA,YACA,aACA,YACA,gBACA,gBACA,oBAaK,SAASC,EAAW3iD,EAAIshD,OACzBsB,WACK5oE,+BAAWkC,6CACd0mE,GACF/5B,aAAa+5B,GAEfA,EAAUn4D,YAAW,WACnBuV,eAAM9jB,GACN0mE,EAAU,OACTtB,UAGLtnE,EAAOmsC,OAAS,WACd0C,aAAa+5B,IAGR5oE,EAYF,SAAS6oE,EAAW7iD,EAAIshD,OACzBwB,EAAW,SACR,eACC3yC,GAAM,IAAIvQ,MAAOC,eACnBsQ,EAAM2yC,EAAWxB,UAGrBwB,EAAW3yC,EACJnQ,2BAIX,IAAI+iD,EAAS,EACTC,EAAa,EAQV,SAASC,QACRC,GAAK,IAAItjD,MAAOC,iBAClBqjD,IAAOH,EAEG,IAALG,KADPF,GAGAD,EAASG,EACTF,EAAa,EACD,IAALE,GAUJ,SAASC,WACP3zD,KAAK4zD,SAASxpE,SAAS,IAAIypE,UAAU,GAyBvC,SAASC,QAAOlV,yDAAO,SACrB,IAAI/hB,SAAQ,mBAAW5hC,WAAW6hC,EAAS8hB,MAS7C,SAASj+B,WACP,IAAIvQ,MAAOC,UClGpB,MAAe,CACbkT,OA/CK,SAAiBwwC,OAChB51D,EAAQ,CACZ61D,iBAAkB,KAClBC,GAAI,IAAIC,iBAAiBH,WAG3B51D,EAAM81D,GAAGE,UAAY,YACfh2D,EAAM61D,kBACR71D,EAAM61D,iBAAiBI,EAAIvpB,OAIxB1sC,GAoCPk2D,MAjCK,SAAgBC,GACrBA,EAAaL,GAAGI,SAiChBE,UApBK,SAAoBD,EAAc9jD,GACvC8jD,EAAaN,iBAAmBxjD,GAoBhCgkD,YA/BK,SAAsBF,EAAcG,cAEvCH,EAAaL,GAAGO,YAAYC,MACrB53B,QAAQC,UACf,MAAO43B,UAEA73B,QAAQI,OAAOy3B,KA0BxBC,UAlBK,iBAC2B,mBAArBT,kBAkBXroE,KAtDkB,mBAuDlB+oE,oBAXK,kBACE,KAWPnB,gBCzDmBoB,8BACNC,yDAAM,qBACZA,IAAMA,OACN3nB,IAAM,IAAImB,SACVymB,QAAU,IAAIhoB,mCAGrB,SAAKriD,UACIgB,KAAKyhD,IAAID,IAAIxiD,sBAGtB,SAAKA,QACEqqE,QAAQ5nB,IAAIziD,EAAOi2B,UACnBwsB,IAAItR,IAAInxC,QACRsqE,2CAGP,gBACO7nB,IAAIhY,aACJ4/B,QAAQ5/B,2CAGf,mBACQ8/B,EAAYt0C,IAAQj1B,KAAKopE,IACzBlgD,EAAWlpB,KAAKyhD,IAAIx4B,OAAOC,cAEpB,KACLlqB,EAAQkqB,EAAS4W,OAAO9gC,UACzBA,EAAO,YACCgB,KAAKqpE,QAAQzoC,IAAI5hC,GACnBuqE,eACJF,eAAerqE,QACfyiD,WAAWziD,UAhCHmqE,GCUd,SAASK,QACVC,KACkB,oBAAXzmD,OAAwB,OAAO,SAExCymD,EAAezmD,OAAOymD,aACtBA,EAAezmD,OAAO,8BAAgCA,OAAOymD,aAC7D,MAAO7oE,WAKF6oE,EAsCF,SAASC,EAAyBrB,EAAavjD,OAC9CnT,EAAiB02D,EACjBsB,EAAW,SAAA/oE,GACX88C,EAAG/rC,MAAQA,GACbmT,EAAG47C,KAAKxwD,MAAMwtC,EAAG1lC,mBAGrBgL,OAAOqtB,iBAAiB,UAAWs5B,GAC5BA,EAoDF,SAASV,QACRW,EAAKJ,QAENI,EAAI,OAAO,UAGRj4D,EAAM,UACZi4D,EAAGC,QAAQl4D,EAAK,SAChBi4D,EAAGE,WAAWn4D,GACd,MAAO/Q,YAMA,SAiBX,MAAe,CACbi3B,OA/EK,SAAiBwwC,OAAa5gE,yDAAU,OACxCwhE,UAEG,IAAIloE,MAAM,2CAGZgpE,EAAO9B,IAOP+B,EAAO,IAAIb,EAAa1hE,EAAQwiE,eAEhCx3D,EAAQ,CACZ41D,cACA0B,OACAC,eAGFv3D,EAAMk3D,SAAWD,EACfrB,GACA,SAAC6B,GACMz3D,EAAM61D,kBACP4B,EAAOH,OAASA,GACfG,EAAOC,QAASH,EAAKxoB,IAAI0oB,EAAOC,SACjCD,EAAO/qB,KAAK+T,MAAQgX,EAAO/qB,KAAK+T,KAAOzgD,EAAM23D,uBAEjDJ,EAAK75B,IAAI+5B,EAAOC,OAChB13D,EAAM61D,iBAAiB4B,EAAO/qB,WAI3B1sC,GA8CPk2D,MA3CK,SAAgBC,GAzChB,IAAqCe,IA0Cff,EAAae,SAzCxC3mD,OAAO6uB,oBAAoB,UAAW83B,IAoFtCd,UAxCK,SAAoBD,EAAc9jD,EAAIouC,GAC3C0V,EAAawB,qBAAuBlX,EACpC0V,EAAaN,iBAAmBxjD,GAuChCgkD,YA3HK,SAAsBF,EAAcG,UAClC,IAAI53B,SAAQ,gBACXx/B,EAAiBi3D,EAAaP,YAC9BgC,EAAW,CACfF,MAAOlC,IACP/U,MAAM,IAAIxuC,MAAOC,UACjBw6B,KAAM4pB,EACNgB,KAAMnB,EAAamB,MAEf/qE,EAAQ0hE,KAAKC,UAAU0J,GAC7Bb,IAAkBK,QAAQl4D,EAAK3S,OAOzB0+C,EAAK9a,SAAS0nC,YAAY,SAChC5sB,EAAG6sB,UAAU,cAAW,GACxB7sB,EAAG/rC,IAAMA,EACT+rC,EAAG1lC,SAAWhZ,EACdgkB,OAAOwnD,cAAc9sB,GAErBtM,QAqGF63B,YACA9oE,KAxJkB,eAyJlB+oE,oBAjBK,eAECuB,EAAYr7D,UAAUq7D,UAAU/mD,qBAClC+mD,EAAUzuC,SAAS,YAAcyuC,EAAUzuC,SAAS,UAE/C0uC,IAJW,KAiBpB3C,gBC7JI4C,EAAoB,IAAI/nB,IA0C9B,EAAe,CACb/qB,OAzCK,SAAiBwwC,OAChB51D,EAAQ,CACZvR,KAAMmnE,EACNC,iBAAkB,aAEpBqC,EAAkBx6B,IAAI19B,GAEfA,GAmCPk2D,MAhCK,SAAgBC,GACrB+B,SAAyB/B,IAgCzBC,UAjBK,SAAoBD,EAAc9jD,GACvC8jD,EAAaN,iBAAmBxjD,GAiBhCgkD,YA9BK,SAAsBF,EAAcG,UAClC,IAAI53B,SAAQ,mBAAW5hC,YAAW,WAClB5C,MAAMwc,KAAKwhD,GAE7Bz2D,QAAO,mBAAW02D,EAAQ1pE,OAAS0nE,EAAa1nE,QAChDgT,QAAO,mBAAW02D,IAAYhC,KAC9B10D,QAAO,oBAAa02D,EAAQtC,oBAC5B/1C,SAAQ,mBAAWq4C,EAAQtC,iBAAiBS,MAC/C33B,MACC,OAsBH63B,UAdK,qBAeL9oE,KAlDkB,WAmDlB+oE,oBAXK,kBACE,GAWPnB,gBCjDI8C,EAAU,CACdC,EACAC,GAGK,SAASC,QAAcvjE,yDAAU,MAClCA,EAAQtH,KAAM,IAEK,aAAjBsH,EAAQtH,YACH8qE,MAIHxY,EAASoY,EAAQ9uC,MAAK,mBAAKy4B,EAAEr0D,OAASsH,EAAQtH,WAC/CsyD,EACA,OAAOA,EADC,MAAM,IAAI1xD,8BAAkB0G,EAAQtH,gCAI7C+qE,EAAYL,EAAQ9uC,MAAK,mBAAU02B,EAAOwW,mBAG3CiC,QACG,IAAInqE,uCAA2B2/D,KAAKC,UAAUkK,EAAQrnD,KAAI,mBAAKgxC,EAAEr0D,kBAElE+qE,MC1BIC,wBACEjqE,OAAMuG,yDAAU,oBACtBvG,KAAOA,OACPuG,QAAUA,OACVgrD,OAASuY,EAAahrE,KAAKyH,cAC3B2jE,UAAS,KAGTC,gBAAe,KAOfC,mBAAqB,UAKrBC,mBAAqB,CACxBhJ,QAAS,GACTiJ,SAAU,SAQPC,uBAAyB,IAAI7oB,SAO7B8oB,aAAe,QAKfC,iBAAmB,KACxBC,EAAgB5rE,6CAGlB,SAAa0oE,MACP1oE,KAAKorE,aACD,IAAIrqE,MACR,8DAGG8qE,EAAM7rE,KAAM,UAAW0oE,+BAGhC,SAAcA,UACLmD,EAAM7rE,KAAM,WAAY0oE,4CAqBxB1oE,KAAKsrE,wBAlBd,SAAexmD,OAEPgnD,EAAY,CAChB5Y,KAFWlzD,KAAKyyD,OAAOsV,eAGvBjjD,MAEFinD,EAAsB/rE,KAAM,UAAWA,KAAKsrE,oBACxCxmD,GAAoB,mBAAPA,QACVwmD,mBAAqBQ,EAC1BE,EAAmBhsE,KAAM,UAAW8rE,SAG/BR,mBAAqB,qCAS9B,SAAkBnrE,EAAM2kB,GAMtBknD,EAAmBhsE,KAAMG,EAJP,CAChB+yD,KAFWlzD,KAAKyyD,OAAOsV,eAGvBjjD,0CAKJ,SAAqB3kB,EAAM2kB,GAEzBinD,EAAsB/rE,KAAMG,EADhBH,KAAKurE,mBAAmBprE,GAAM47B,MAAK,mBAAO7T,EAAIpD,KAAOA,2BAInE,0BACM9kB,KAAKorE,aAGJA,UAAS,IACRa,EAAejsE,KAAK2rE,iBAAmB3rE,KAAK2rE,iBAAmBx6B,QAAQC,sBAExEk6B,mBAAqB,UACrBC,mBAAmBhJ,QAAU,GAE3B0J,EAEJ//B,MAAK,kBAAMiF,QAAQ+6B,IAAIv/D,MAAMwc,KAAK+O,EAAKuzC,4BAEvCv/B,MAAK,kBAAMiF,QAAQ+6B,IAAIh0C,EAAKwzC,aAAaloD,KAAI,mBAAMsB,WAEnDonB,MAAK,kBAAMhU,EAAKu6B,OAAOkW,MAAMzwC,EAAKi0C,8BAGvC,kBACSnsE,KAAKyyD,OAAOtyD,6BAGrB,kBACSH,KAAKorE,aAtHHD,GA0Hb,SAASU,EAAOO,EAAgBjsE,EAAMuoE,OAE9BwB,EAAS,CACbhX,KAFWkZ,EAAe3Z,OAAOsV,eAGjC5nE,OACAg/C,KAAMupB,UAGa0D,EAAeT,iBAAmBS,EAAeT,iBAAmBx6B,QAAQC,WAC7ElF,MAAK,eACjBmgC,EAAcD,EAAe3Z,OAAOqW,YACxCsD,EAAeD,OACfjC,UAIFkC,EAAeX,uBAAuBt7B,IAAIk8B,GAC1CA,UAEGngC,MAAK,kBAAMkgC,EAAeX,8BAA8BY,MAEpDA,KAIX,SAAST,EAAiBhB,ON5BC1iD,EM6BnBokD,EAAe1B,EAAQnY,OAAO56B,OAAO+yC,EAAQ1pE,KAAM0pE,EAAQnjE,UN7BxCygB,EM+BXokD,IN9BiB,mBAAbpkD,EAAIgkB,MM+BpB0+B,EAAQe,iBAAmBW,EAC3BA,EAAapgC,MAAK,YAChB0+B,EAAQuB,OAASt2B,MAGnB+0B,EAAQuB,OAASG,EAIrB,SAASC,EAAsB3B,UACzBA,EAAQW,mBAAmBhJ,QAAQr+D,OAAS,GAC5C0mE,EAAQW,mBAAmBC,SAAStnE,OAAS,EAInD,SAAS8nE,EAAoBpB,EAASzqE,EAAM+nB,GAC1C0iD,EAAQW,mBAAmBprE,GAAMgjB,KAAK+E,GASxC,SAA0B0iD,OACnBA,EAAQS,cAAgBkB,EAAqB3B,GAAU,KAGpD4B,EAAa,YACjB5B,EAAQW,mBAAmBrB,EAAO/pE,MAAMoyB,SAAQ,YAC1C23C,EAAOhX,MAAQhrC,EAAIgrC,MACrBhrC,EAAIpD,GAAGolD,EAAO/qB,UAKd+T,EAAO0X,EAAQnY,OAAOsV,eACxB6C,EAAQe,iBAEVf,EAAQe,iBAAiBz/B,MAAK,WAC5B0+B,EAAQS,gBACRT,EAAQnY,OAAOoW,UACb+B,EAAQuB,OACRK,EACAtZ,OAIJ0X,EAAQS,gBACRT,EAAQnY,OAAOoW,UACb+B,EAAQuB,OACRK,EACAtZ,KA5BR,CARkB0X,GAGlB,SAASmB,EAAuBnB,EAASzqE,EAAM+nB,GAC7C0iD,EAAQW,mBAAmBprE,GAAQyqE,EAAQW,mBAAmBprE,GAAM+T,QAAO,mBAAKmV,IAAMnB,KAsCxF,SAAyB0iD,MACnBA,EAAQS,eAAiBkB,EAAqB3B,GAAU,CAE1DA,EAAQS,gBAAe,IACjBnY,EAAO0X,EAAQnY,OAAOsV,eAC5B6C,EAAQnY,OAAOoW,UACb+B,EAAQuB,OACR,KACAjZ,IARN,CArCiB0X,OC9KX6B,wBACS7B,EAASnjE,+BACfilE,SAAW9B,OACX+B,SAAWllE,OAEXmlE,YAAW,KACXC,UAAS,KACT1C,MAAQlC,SAER6E,eAAc,KACdC,YAAW,KAGXC,WAAa,QACbC,WAAa,QACbC,WAAa,QACbC,oBAAsB,kBACtBC,oBAAmB,KACnBC,2BAAe,sBAAA7sE,EAAA,8FAEd8sE,iCAAW,sBAAA9sE,EAAA,+EAAY03B,EAAKq1C,oGAA5BD,GAEFhG,IACFtkD,OAAOqtB,iBAAiB,eAAgBi9B,GACxCtqD,OAAOqtB,iBAAiB,SAAUi9B,QAE7BN,WAAW7pD,KAAK,CAAC,eAAgBmqD,SACjCN,WAAW7pD,KAAK,CAAC,SAAUmqD,gDAIpC,yBACMttE,KAAK4sE,SAAU,OAAOz7B,QAAQC,YAAQ,GACtCpxC,KAAK6sE,OAAQ,OAAO17B,QAAQC,YAAQ,GAGpCpxC,KAAK8sE,wBACFC,YACE57B,QAAQC,YAAQ,KAEpB07B,eAAc,IAEfU,KAGEC,EAAgB,SAAC/E,GACD,WAAhBA,EAAIhzB,SAAwBgzB,EAAIyB,QAAUr2B,EAAKq2B,QAG9B,UAAfzB,EAAIhT,QAEFgT,EAAIyB,MAAQr2B,EAAKq2B,QAEnBqD,MAIe,SAAf9E,EAAIhT,SAEN8X,QAAe,YAIhBd,SAASr8B,iBAAiB,WAAYo9B,GAEpCC,EAAa1tE,KAAM,SACvBksC,MAAK,kBAAMk8B,EAAMt0B,EAAK64B,SAASgB,iBAC/BzhC,MAAK,kBACAshC,EAAqBr8B,QAAQI,OAAO,IAAIxwC,OAChC2sE,EAAa55B,EAAM,YAEhC5H,MAAK,kBAAMk8B,EAAMt0B,EAAK64B,SAASgB,iBAC/BzhC,MAAK,kBACAshC,EAAqBr8B,QAAQI,OAAO,IAAIxwC,OAChC2sE,EAAa55B,MAE1B5H,MAAK,kBAoHL,SAAmB0hC,GACxBA,EAAchB,YAAW,IAEnBiB,EAAmB,YACH,WAAhBnF,EAAIhzB,SAAuC,UAAfgzB,EAAIhT,QAClCgY,EAAaE,EAAe,QAGV,WAAhBlF,EAAIhzB,SAAuC,SAAfgzB,EAAIhT,QAAsBkY,EAAcR,mBAOtEQ,EAAcR,oBACdQ,EAAcT,sBACdO,EAAaE,EAAe,iBAGhCA,EAAclB,SAASr8B,iBAAiB,WAAYw9B,GACpDD,EAAcX,WAAW9pD,KAAK0qD,GACvBH,EAAaE,EAAe,QAtB9B,CApHoB95B,MACpB5H,MAAK,uBAAM,OACL,uBACNA,MAAK,mBACJ4H,EAAK44B,SAAS76B,oBAAoB,WAAY47B,GAC9C35B,EAAKg5B,gBACAgB,GAAWh6B,EAAKi5B,UACnBj5B,EAAKi5B,YACEj5B,EAAKi6B,aACAD,oCAIpB,WA2CF,IAA+BF,SAzCxB5tE,KAAKguE,+BAEDA,yBAuCoBJ,EAvC2B5tE,MAwCtC4sE,SAAiBz7B,QAAQC,UAEpC,IAAID,SAAQ,gBACb88B,KAAW,SAENC,IAEHD,IAGJA,KACAzlC,cAAcD,GACdqlC,EAAclB,SAAS76B,oBAAoB,WAAYs8B,GACvD/8B,OAIFw8B,EAAcG,YAAY7hC,MAAK,WACzB0hC,EAAchB,UAChBsB,WAKE3lC,EAAWoB,aAAY,WAE3BikC,EAAcG,YAAY7hC,MAAK,WACzB0hC,EAAchB,UAChBsB,SAGHN,EAAcjB,SAASyB,kBAC1BR,EAAcV,WAAW/pD,KAAKolB,OAGxB4lC,EAAoB,YACJ,WAAhBzF,EAAIhzB,SAAuC,UAAfgzB,EAAIhT,QAClCkY,EAAcG,YAAY7hC,MAAK,WACzB0hC,EAAchB,UAAUsB,QAIlCN,EAAclB,SAASr8B,iBAAiB,WAAY89B,GACpDP,EAAcX,WAAW9pD,KAAKgrD,OAjFvBnuE,KAAKguE,mEASLhuE,KAAKmtE,yBANd,SAAiBroD,QACVqoD,oBAAsBroD,6CAcpB9kB,KAAKqtE,kBANd,SAAiBvoD,QACVuoD,aAAevoD,sCAQtB,iCAAAtkB,EAAA,0DACMR,KAAK6sE,oEACJA,UAAS,SAER7sE,KAAKquE,iCACNpB,WAAW16C,SAAQ,mBAAY4hB,EAAKu4B,SAAS76B,oBAAoB,WAAY83B,WAC7EuD,WAAW36C,SAAQ,mBAAYiW,cAAcD,WAC7CykC,WAAWz6C,SAAQ,YAClB+0C,GACFtkD,OAAO6uB,oBAAoBy8B,EAAI,GAAIA,EAAI,yBAGpCZ,EAAa1tE,KAAM,2GAhIxBysE,GAuLN,SAASiB,EAAcE,EAAelY,OAC9B6Y,EAAU,CACd74B,QAAS,SACTggB,SACAyU,MAAOyD,EAAczD,cAEhByD,EAAclB,SAAS8B,aAAaD,GC9LtC,IAAME,GAAa,SAAC,GAAD,IACxBtuE,SACAkoE,gBACA+F,qBACAT,iBACAe,kBACAC,cACA/iE,UACAwW,UACAwsD,UACAC,WAEMjE,EAAU,IAAIO,EAAe9C,EAAa,CAAEloE,SAC5C2uE,ED6MD,SAA+BlE,EAASnjE,MACzCmjE,EAAQmE,qBACJ,IAAIhuE,MAAM,0DAGZ+tE,EAAU,IAAIrC,EAAe7B,EAASnjE,UAC5CmjE,EAAQc,aAAavoD,mBAAK,sBAAA3iB,EAAA,+EAAYsuE,EAAQvB,mDAE9C3C,EAAQmE,eAAiBD,EAClBA,EATF,CC7MgClE,EAAS,CAAEwD,mBAAkBT,iBAC5DqB,EAAW,GAGjBA,EAASF,EAAQ3E,UAAS,IAEtB8E,KACAC,KAEEtC,EAAW,kBAAMqC,GAEvBH,EAAQK,kBAAkBjjC,MAAK,WAC7B+iC,QAGFrE,EAAQv6B,iBAAiB,WAAW,2BAAElwC,OAAM69C,cAClC79C,OACD,WACH6uE,EAAShxB,MAAM,UAEZ,oBACIgxB,EAAShxB,aAEb,OACHoxB,EAAKpxB,aAEF,SACH/b,EAAO+b,aAEJ,WACH2wB,EAAUU,mBAEP,aACHV,EAAUW,qBAEP,QACH1jE,MAAM,UAEH,QACHwW,MAAM,UAEH,QACHwsD,MAAM,UAEH,SACHC,UAAO,IAaPO,EAAO,eAACpxB,yDAAK8wB,EAAQ3E,MACzB6E,EAAShxB,MAAM,IACTuxB,EAAS/wE,OAAOytB,OAAO+iD,GAAUjrB,OAAM,mBAAKge,MAC7CmN,GAAWK,IACdL,KACItC,KACF+B,EAAUU,SACNX,GAAetJ,EAAK,aAExBA,EAAK,UAKLnjC,EAAS,eAAC+b,yDAAK8wB,EAAQ3E,MAC3B6E,EAAShxB,MAAM,IACTtQ,EAAWlvC,OAAOytB,OAAO+iD,GAAU/qB,MAAK,mBAAM8d,KAChDmN,GAAWxhC,IACbwhC,KACItC,KACF+B,EAAUW,WACNZ,GAAetJ,EAAK,eAExBA,EAAK,YAMX0J,EAAQU,0BAAc,sBAAAhvE,EAAA,sEAAkBsuE,EAAQvB,yFAChDuB,EAAQT,0BAAc,sBAAA7tE,EAAA,sEAAkB4kE,EAAK,qGAEvCA,iCAAO,WAAM7C,6FAAWqI,EAAQ9B,YAAY,CAACvG,EAASuM,EAAQ3E,uGAA9D/E,GAEAuD,iCAAQ,sBAAAnoE,EAAA,sEACNsuE,EAAQvB,6BACR3C,EAAQjC,qGAFVA,GAEUA,OAIhBvD,EAAK,YAEE,CAAEuD,QAAOvD,OAAMwH,WAAUwC,OAAMntC,SAAQwtC,UA5C5B,kBAAMP,GA4CiCQ,WAhDtC,YACjBR,EAAUl2D,SC7CR22D,qBAAkB92C,mBD6CV7f,2aC7CU6f,eASTzZ,uCACLA,IAOD3M,MAAQ,CACX28D,QACAQ,SAAU,IAAIlrD,KACdmrD,YAAa,IAAInrD,KACjBorD,SAAU,KACVC,SAAU,EACVC,UAAW,KACX9qC,MAAO,KACPC,MAAO,QAQJ8qC,IAAM,OAONC,eAAc,EAEdC,aAAe,GAGhB/wD,EAAMmnD,SAAW,GAAKnnD,EAAMgxD,SAAW,QACnC,IAAIrvE,MAAM,mEAIdqe,EAAMmnD,SAAW,IACd8J,UAAY5I,EAAUroD,EAAMkxD,SAAUlxD,EAAMmnD,UAGxCnnD,EAAMgxD,SAAW,IACrBC,UAAY1I,EAAUvoD,EAAMkxD,SAAUlxD,EAAMgxD,YAI5CC,UAAYjxD,EAAMkxD,SAIrBlxD,EAAMmxD,eAAiB,IACpBC,YAAc7I,EAAUzvC,EAAKu4C,aAAatkC,aAAY/sB,EAAMmxD,kBAE5DC,YAAct4C,EAAKu4C,aAAatkC,aAIlC/sB,EAAMsxD,eAAgBtxD,EAAMuxD,kBAC1Bl+D,MAAM28D,SAAO,EAIfwB,iBAAmB14C,EAAK04C,iBAAiBzkC,eACzCvgC,MAAQssB,EAAKtsB,MAAMugC,eACnB/pB,MAAQ8V,EAAK9V,MAAM+pB,eACnByiC,MAAQ12C,EAAK02C,MAAMziC,eACnB0iC,OAAS32C,EAAK22C,OAAO1iC,eACrBojC,OAASr3C,EAAKq3C,OAAOpjC,eACrB0kC,iBAAmB34C,EAAK24C,iBAAiB1kC,eACzC2kC,eAAiB54C,EAAK44C,eAAe3kC,eACrC4kC,kBAAoB74C,EAAK64C,kBAAkB5kC,eAC3C6kC,gBAAkB94C,EAAK84C,gBAAgB7kC,eACvC8kC,iBAAmB/4C,EAAK+4C,iBAAiB9kC,eACzC+kC,mBAAqBh5C,EAAKg5C,mBAAmB/kC,4DASpD,iBAC0CnsC,KAAKof,MAArCsxD,iBAAcC,uBAGjBQ,mBAEDR,IACAD,OACG9kE,aAEAwlE,iDAIT,SAAoB/xD,GAEbA,EAAUknD,WAAavmE,KAAKof,MAAMmnD,UAAavmE,KAAKof,MAAMmnD,SAAW,GACpEvmE,KAAKqwE,UAAUplC,QAAQjrC,KAAKqwE,UAAUplC,cACrColC,UAAY5I,EAAUznE,KAAKof,MAAMkxD,SAAUtwE,KAAKof,MAAMmnD,WAGxDlnD,EAAU+wD,WAAapwE,KAAKof,MAAMgxD,UAAapwE,KAAKof,MAAMgxD,SAAW,GACpEpwE,KAAKqwE,UAAUplC,QAAQjrC,KAAKqwE,UAAUplC,cACrColC,UAAY1I,EAAU3nE,KAAKof,MAAMkxD,SAAUtwE,KAAKof,MAAMgxD,YAI1D/wD,EAAU+wD,UAAoC,IAAxBpwE,KAAKof,MAAMgxD,UACjC/wD,EAAUknD,UAAoC,IAAxBvmE,KAAKof,MAAMmnD,YAE9BvmE,KAAKqwE,UAAUplC,QAAQjrC,KAAKqwE,UAAUplC,cACrColC,UAAYrwE,KAAKof,MAAMkxD,UAI1BjxD,EAAUkxD,iBAAmBvwE,KAAKof,MAAMmxD,sBACrCc,qBACAb,YAAc7I,EAAU3nE,KAAKywE,aAAatkC,KAAKnsC,MAAOA,KAAKof,MAAMmxD,qBACjEa,eAGH/xD,EAAU2hD,UAAYhhE,KAAKof,MAAM4hD,SAC/BhhE,KAAKyS,MAAM28D,MAAMpvE,KAAKoiB,QAIxB/C,EAAUiwD,WAAatvE,KAAKof,MAAMkwD,WAAUtvE,KAAKmwE,aAAab,SAAWtvE,KAAKof,MAAMkwD,UACpFjwD,EAAUgwD,SAAWrvE,KAAKof,MAAMiwD,SAAQrvE,KAAKmwE,aAAad,OAASrvE,KAAKof,MAAMiwD,4CASpF,WAEE1hC,aAAa3tC,KAAKiwE,UACboB,kBAEDrxE,KAAKqwE,UAAUplC,QAAQjrC,KAAKqwE,UAAUplC,SAEtCjrC,KAAKssC,cACFA,QAAQq8B,cAActtD,QAAQva,6BASvC,kBACuBd,KAAKof,MAAlB+T,UACW,qCAOrB,iBACyCnzB,KAAKof,MAApCkyD,aAAUjC,WAAQC,qBACrBa,aAAe,CAAEd,SAAQC,YAG1BgC,EAAU,OAOR9yE,OAAOkzB,OAAO,CAChB22C,YAAa,aACb+F,iBAAkB,IAClBT,aAAc,IACd1D,cAAe,IACfyE,mBAAe,IACd4C,EAAoB,GAAKA,GAX1BnxE,SACAkoE,gBACA+F,qBACAT,iBACAe,uBASGpiC,QAAUmiC,GAAW,CACxBtuE,OACAkoE,cACA+F,mBACAT,eACAe,gBACAC,UAAW3uE,KAAKmwE,aAChBvkE,MAAO5L,KAAK4L,MACZwW,MAAOpiB,KAAKoiB,MACZwsD,MAAO5uE,KAAK4uE,MACZC,OAAQ7uE,KAAK6uE,qCASnB,yBAGOvH,SAGyCtnE,KAAKof,MAA3CtY,YAAS27B,WAAQ8uC,YAASC,YAC7BxxE,KAAKkwE,cACRztC,EAAOlQ,SAAQ,YACbzrB,EAAQupC,iBAAiBzvC,EAAGkzC,EAAK08B,YAAa,CAC5CgB,UACAD,oBAGCrB,mBAAc,2BAQvB,sBAAeuB,6DAGRnK,SAEyCtnE,KAAKof,MAA3CtY,YAAS27B,WAAQ8uC,YAASC,aAC9BxxE,KAAKkwE,aAAeuB,KACtBhvC,EAAOlQ,SAAQ,YACbzrB,EAAQ+qC,oBAAoBjxC,EAAGuzC,EAAKq8B,YAAa,CAC/CgB,UACAD,oBAGCrB,mBAAc,8BASvB,SAAkBtvE,mBAIX4V,UAAS,SAAC4J,SAAe,CAC5BgvD,MAAOhvD,EAAUgvD,KACjBU,SAAW1vD,EAAUgvD,KAA4ChvD,EAAU0vD,UAA7C,IAAIprD,KAAUgtD,EAAKtyD,MAAM4hD,QACvD+O,SAAU3vD,EAAUgvD,KAAOhvD,EAAU2vD,WAAa,IAAIrrD,KAAUtE,EAAU0vD,SAAW1vD,EAAU2vD,aAC7F,iBACuC2B,EAAKtyD,MAAtCkwD,aAAUD,WAAQsC,eACTD,EAAKj/D,MAAd28D,MAEFuC,IAEFhkC,aAAa+jC,EAAKzB,KAClByB,EAAKzB,IAAM,KAEXyB,EAAKL,iBAGHK,EAAKplC,QAEPolC,EAAKplC,QAAQ8iC,OAEbC,EAAOzuE,KAGT8wE,EAAKN,cACDM,EAAKplC,QAEPolC,EAAKplC,QAAQrK,SAEbqtC,EAAS1uE,mCAWjB,SAAcA,SAC8BZ,KAAKyS,MAAvCu9D,cAAW9qC,UAAOC,UAAOiqC,WACDpvE,KAAKof,MAA7B4hD,YAAS2Q,uBAGZtB,UAAUzvE,IAGXovE,MAGW,cAAXpvE,EAAET,KAAsB,IAGtBS,EAAEskC,QAAUA,GAAStkC,EAAEukC,QAAUA,qBAI1BvkC,EAAEskC,gBAAgCtkC,EAAEukC,gBAM/BnlC,KAAK8wE,iBAEP,WAMhBnjC,aAAa3tC,KAAKiwE,UACbA,IAAM,SAGL2B,GAA8B,IAAIltD,KAAS1kB,KAAK+wE,qBAGjD3B,IAASuC,IAAiBvC,GAAQwC,EAA6B5Q,SAC7D4P,iBAAiBhwE,QAKnB4V,SAAS,CACZq5D,YAAa,IAAInrD,KACjBwgB,MAAOtkC,EAAEskC,MACTC,MAAOvkC,EAAEukC,QAKPiqC,GACGuC,SAIA1B,IAAM1gE,WAAWvP,KAAK4wE,iBAAkB5P,0BAQjD,eAAO6Q,6DAELlkC,aAAa3tC,KAAKiwE,UACbA,IAAM,UAGNmB,mBAGA56D,SAAS,CACZ44D,QACAQ,SAAU,IAAIlrD,KACdmrD,YAAa,IAAInrD,KACjBsrD,UAAW,OAGThwE,KAAKssC,eAEFA,QAAQojC,gBAERmC,GAAU7xE,KAAKof,MAAMkyD,SAAS5C,oBAC5BpiC,QAAQ84B,KAAK,cAKdpE,EAAYhhE,KAAKof,MAAjB4hD,aACHiP,IAAM1gE,WAAWvP,KAAK4wE,iBAAkB5P,wBAO/C,eAAO6Q,0DAELlkC,aAAa3tC,KAAKiwE,UACbA,IAAM,UAGNmB,cAEDpxE,KAAKyS,MAAM28D,OACTpvE,KAAKssC,aAEFA,QAAQrK,cAER7iB,MAAMkwD,YAIXtvE,KAAKssC,eAEFA,QAAQojC,gBAERmC,GAAU7xE,KAAKof,MAAMkyD,SAAS5C,oBAC5BpiC,QAAQ84B,KAAK,eAKjB5uD,SAAS,CACZ44D,QACAQ,SAAU,IAAIlrD,KACdmrD,YAAa,IAAInrD,KACjBsrD,UAAW,WAILhP,EAAYhhE,KAAKof,MAAjB4hD,aACHiP,IAAM1gE,WAAWvP,KAAK4wE,iBAAkB5P,wBAO/C,eAAO6Q,0DAEG7B,EAAchwE,KAAKyS,MAAnBu9D,UACU,OAAdA,SAGCqB,gBAGL1jC,aAAa3tC,KAAKiwE,UACbA,IAAM,KAGPjwE,KAAKssC,UAEFulC,GAAU7xE,KAAKof,MAAMkyD,SAAS5C,oBAC5BpiC,QAAQ84B,KAAK,cAKjB5uD,SAAS,CACZw5D,UAAWhwE,KAAK6wE,4CAQpB,eAAQgB,4DAEsB7xE,KAAKyS,MAAzBu9D,cAAWZ,SACD,OAAdY,SAGCoB,cAGDpxE,KAAKssC,UAEFulC,GAAU7xE,KAAKof,MAAMkyD,SAAS5C,oBAC5BpiC,QAAQ84B,KAAK,UAMjBgK,SAEEa,IAAM1gE,WAAWvP,KAAK4wE,iBAAkBZ,QAExCx5D,SAAS,CAAEw5D,UAAW,KAAMH,YAAa,IAAInrD,yCAStD,iBACoC1kB,KAAKyS,MAA/Bu9D,cAAWH,eACX7O,EAAYhhE,KAAKof,MAAjB4hD,WAGU,OAAdgP,SACKA,EAAY,EAAI,EAAIA,MAIvB8B,EAAW9Q,IAAa,IAAIt8C,KAAUmrD,UACrCiC,EAAW,EAAI,EAAIA,gCAQ5B,eACUlC,EAAY5vE,KAAKyS,MAAjBm9D,eACC,IAAIlrD,KAAUkrD,iCAQzB,kBACuB5vE,KAAKyS,MAAlBq9D,yCASV,iBACuC9vE,KAAKyS,MAAlC28D,SAAMU,aAAUC,oBACpBX,GACQ,IAAI1qD,KAAUorD,EAAYC,EAE7BA,mCASX,kBACyB/vE,KAAKyS,MAApBo9D,6CASV,kBACS7vE,KAAK8wE,iBAAmB9wE,KAAKixE,yCAQtC,kBACmBjxE,KAAKyS,MAAd28D,6BASV,kBACSpvE,KAAKssC,SAAUtsC,KAAKssC,QAAQsgC,iBA9kBjC+C,GCAN,SAASoC,kEAgBL,OAfF/Q,qBAAU,WACVl6D,qBAAUygE,QACV9kC,oBAAS+kC,QACT6H,oBAAS,mBACTC,sBAAW,mBACXgB,sBAAW,mBACX/J,sBAAW,QACX6J,sBAAW,QACXG,4BAAiB,UACjBG,iCACAC,kCACAgB,+BACAH,4BACAD,4BACAD,yBAEMpB,EAAct/D,qBACdw+D,EAAOx+D,qBACPg/D,EAAUh/D,kBAAQ,IAAI8T,MACtBsrD,EAAYp/D,iBAAO,MACnBs0B,EAAQt0B,iBAAO,MACfu0B,EAAQv0B,iBAAO,MACfq/D,EAAMr/D,iBAAO,MACbi/D,EAAaj/D,iBAAO,MACpBk/D,EAAWl/D,iBAAO,MAClBm/D,EAAWn/D,iBAAO,GAClBohE,EAAYphE,qBACZqhE,EAAWrhE,iBAAOowD,GAClB10B,EAAU17B,iBAAO,MAGnB0gE,SACEA,IAAmBA,EAAW,IAClCA,EAAW9yE,OAAOkzB,OAAO,CACvB22C,YAAa,aACb+F,iBAAkB,IAClBT,aAAc,IACd1D,cAAe,IACfyE,kBACC4C,QAICY,EAAathE,iBAAOy+D,GACpB8C,EAAevhE,iBAAO0+D,GACtB8C,GAAexhE,iBAAO0/D,GAE5B+B,qBAAU,WACRH,EAAWllD,QAAUqiD,IACpB,CAACA,IAEJgD,qBAAU,WACRF,EAAanlD,QAAUsiD,IACtB,CAACA,IAEJ+C,qBAAU,WACRD,GAAaplD,QAAUsjD,IACtB,CAACA,QAEEgC,GAAuB75D,mBAAQ,oBAC1B85D,EAAc3xE,GACrBwxE,GAAaplD,QAAQpsB,UAInB2xE,EAAatnC,QAAQsnC,EAAatnC,SAGlCs7B,EAAW,EACNkB,EAAU8K,EAAchM,GAGtB6J,EAAW,EACbzI,EAAU4K,EAAcnC,GAIxBmC,IAER,CAACnC,EAAU7J,IAORqK,GAAmB,SAAAhwE,GAAA,IACjB4xE,GAAYpD,EAAKpiD,QACvBoiD,EAAKpiD,QAAUwlD,EACXA,GACEb,IAEFhkC,aAAasiC,EAAIjjD,SACjBijD,EAAIjjD,QAAU,KAEdqkD,MAEFvB,EAAS9iD,SAAY,IAAItI,KAAUutD,EAASjlD,QACxCsf,EAAQtf,QAEVsf,EAAQtf,QAAQoiD,OAEhB8C,EAAWllD,QAAQpsB,KAGrBmvE,EAAS/iD,UAAa,IAAItI,KAAUorD,EAAS9iD,QAC7CokD,KACI9kC,EAAQtf,QAEVsf,EAAQtf,QAAQiV,SAEhBkwC,EAAanlD,QAAQpsB,KASrB6vE,GAAe,SAAA7vE,GAAA,GAEnB0xE,GAAqB1xE,IAGjBovE,EAAUhjD,YAIC,cAAXpsB,EAAET,KAAsB,IAEtBS,EAAEskC,QAAUA,GAAStkC,EAAEukC,QAAUA,qBAI1BvkC,EAAEskC,gBAAgCtkC,EAAEukC,gBAK/B2rC,KACF,WAMhBnjC,aAAasiC,EAAIjjD,SACjBijD,EAAIjjD,QAAU,SAGR4kD,GAA8B,IAAIltD,KAASqsD,MAI9C3B,EAAKpiD,UAAY2kD,IAChBvC,EAAKpiD,SAAW4kD,EAA6BK,EAASjlD,UAExD4jD,GAAiBhwE,GAKnBivE,EAAW7iD,SAAW,IAAItI,KAC1BwgB,EAAMlY,QAAUpsB,EAAEskC,MAClBC,EAAMnY,QAAUpsB,EAAEukC,MAGbiqC,EAAKpiD,UACRijD,EAAIjjD,QAAUzd,WAAWqhE,GAAkBqB,EAASjlD,YAQlDwjD,GAAc5/D,iBAAO6/D,IAMrBW,GAAc,WAGb9J,IAGA4I,EAAYljD,UACfyV,EAAOlQ,SAAQ,SAAA3xB,GACbkG,EAAQupC,iBAAiBzvC,EAAG4vE,GAAYxjD,QAAS,CAC/CwkD,UACAD,eAGJrB,EAAYljD,cAQVqkD,GAAgB,eAACI,0DAGhBnK,IAED4I,EAAYljD,SAAWykD,KACzBhvC,EAAOlQ,SAAQ,SAAA3xB,GACbkG,EAAQ+qC,oBAAoBjxC,EAAG4vE,GAAYxjD,QAAS,CAClDwkD,UACAD,eAGJrB,EAAYljD,aASV6jD,GAAmB,cAEG,OAAtBb,EAAUhjD,eACLgjD,EAAUhjD,QAAU,EAAI,EAAIgjD,EAAUhjD,YAIzC8kD,EAAWG,EAASjlD,UAAa,IAAItI,KAAUmrD,EAAW7iD,gBACzD8kD,EAAW,EAAI,EAAIA,GAQtBhB,GAAiB,kBAAQ,IAAIpsD,KAAUkrD,EAAQ5iD,SAO/CgkD,GAAkB,kBAAMlB,EAAS9iD,SAOjCikD,GAAmB,kBACnB7B,EAAKpiD,SACG,IAAItI,KAAUorD,EAAS9iD,QAAW+iD,EAAS/iD,QAE9C+iD,EAAS/iD,SASd+jD,GAAoB,kBAAMlB,EAAW7iD,SAOrCkkD,GAAqB,kBAAMJ,KAAmBG,MAO9C1B,GAAS,kBAAMH,EAAKpiD,SAMpB4/C,GAAW,kBAAMtgC,EAAQtf,SAAUsf,EAAQtf,QAAQ4/C,YAMnDhhE,GAAQ,eAACimE,0DAEblkC,aAAasiC,EAAIjjD,SACjBijD,EAAIjjD,QAAU,KAGdokD,KAGAhC,EAAKpiD,WACL4iD,EAAQ5iD,SAAW,IAAItI,KACvBmrD,EAAW7iD,SAAW,IAAItI,KAC1BsrD,EAAUhjD,QAAU,KAEhBsf,EAAQtf,UAEVsf,EAAQtf,QAAQ0iD,gBAEXmC,GAAUP,EAAS5C,eACtBpiC,EAAQtf,QAAQo4C,KAAK,UAKzB6K,EAAIjjD,QAAUzd,WAAWqhE,GAAkBqB,EAASjlD,UAOhD5K,GAAQ,eAACyvD,0DAEblkC,aAAasiC,EAAIjjD,SACjBijD,EAAIjjD,QAAU,KAGdokD,KAGIhC,EAAKpiD,UACHsf,EAAQtf,QAEVsf,EAAQtf,QAAQiV,SAEhBkwC,EAAanlD,WAKjBoiD,EAAKpiD,WACL4iD,EAAQ5iD,SAAW,IAAItI,KACvBmrD,EAAW7iD,SAAW,IAAItI,KAC1BsrD,EAAUhjD,QAAU,KAEhBsf,EAAQtf,UAEVsf,EAAQtf,QAAQ0iD,gBAEXmC,GAAUP,EAAS5C,eACtBpiC,EAAQtf,QAAQo4C,KAAK,UAKzB6K,EAAIjjD,QAAUzd,WAAWqhE,GAAkBqB,EAASjlD,UAOhD4hD,GAAQ,eAACiD,0DAEa,OAAtB7B,EAAUhjD,UAGdqkD,KAGA1jC,aAAasiC,EAAIjjD,SACjBijD,EAAIjjD,QAAU,KAGdgjD,EAAUhjD,QAAU6jD,KAEhBvkC,EAAQtf,UAEL6kD,GAAUP,EAAS5C,eACtBpiC,EAAQtf,QAAQo4C,KAAK,WASrByJ,GAAS,eAACgD,0DAEY,OAAtB7B,EAAUhjD,UAGdokD,KAIKhC,EAAKpiD,UAERijD,EAAIjjD,QAAUzd,WAAWqhE,GAAkBZ,EAAUhjD,SAErDgjD,EAAUhjD,QAAU,KACpB6iD,EAAW7iD,SAAW,IAAItI,MAGxB4nB,EAAQtf,UAEL6kD,GAAUP,EAAS5C,eACtBpiC,EAAQtf,QAAQo4C,KAAK,mBAQ3BiN,qBAAU,cAEJ9L,EAAW,GAAK6J,EAAW,QACvB,IAAIrvE,MAAM,mEAKduwE,IACFhlC,EAAQtf,QAAUyhD,GAAW,CAC3BtuE,KAAMmxE,EAASnxE,KACfkoE,YAAaiJ,EAASjJ,YACtB+F,iBAAkBkD,EAASlD,iBAC3BT,aAAc2D,EAAS3D,aACvBe,cAAe4C,EAAS5C,cACxBC,UAAW,CACTU,OAAQ6C,EAAWllD,QACnBsiD,SAAU6C,EAAanlD,SAEzBphB,SACAwW,SACAwsD,SACAC,aAKA8B,gBACK,sBAAAnwE,EAAA,yDACLmtC,aAAasiC,EAAIjjD,SACjBqkD,QACIC,kCAAgBhlC,EAAQtf,QAAQ27C,oDAIpC+H,EACF9kE,KAEAwlE,mBAIK,sBAAA5wE,EAAA,yDACLmtC,aAAasiC,EAAIjjD,SACjBqkD,OACIiB,GAAqBrnC,QAAQqnC,GAAqBrnC,UAClDqmC,kCAAgBhlC,EAAQtf,QAAQ27C,sDAErC,IAEH0J,qBAAU,eACFI,EAAkBvC,EAAYljD,QAChCylD,GAAiBpB,KAEnBb,GAAYxjD,QADVujD,EAAiB,EACG5I,EAAU8I,GAAcF,GAExBE,GAEpBgC,GAAiBrB,OACpB,CAACb,IAEJ8B,qBAAU,WACRJ,EAASjlD,QAAUg0C,GACdgR,EAAUhlD,SAAWoiD,EAAKpiD,SAC7B5K,KAEF4vD,EAAUhlD,aACT,CAACg0C,IAEG,CACLuO,UACA3C,YACAhhE,SACAgjE,SACAxsD,SACAysD,UACAmC,mBACAC,oBACAF,qBACAG,sBACAJ,kBACAD,qBDiGJlB,GAAUl4C,UAAY,CAMpBupC,QAAS5zD,IAAUxH,OAMnB68B,OAAQr1B,IAAUmf,QAAQnf,IAAUlH,QAMpCmpE,OAAQjiE,IAAUvO,KAMlBywE,SAAUliE,IAAUvO,KAMpByxE,SAAUljE,IAAUvO,KAMpB0nE,SAAUn5D,IAAUxH,OAMpBwqE,SAAUhjE,IAAUxH,OAMpB2qE,eAAgBnjE,IAAUxH,OAM1BkB,QAASsG,IAAUkf,UAAU,CAAClf,IAAU2kB,OAAQ3kB,IAAUtG,UAM1D4pE,aAActjE,IAAU4L,KAMxB23D,cAAevjE,IAAU4L,KAQzB24D,WAAYvkE,IAAU4L,KAMtBu4D,QAASnkE,IAAU4L,KAMnBw4D,QAASpkE,IAAU4L,KAMnBs4D,SAAUlkE,IAAUkf,UAAU,CAC5Blf,IAAU4L,KACV5L,IAAU2f,MAAM,CACd5sB,KAAMiN,IAAUgf,MAAM,CAAC,mBAAoB,eAAgB,aAC3Di8C,YAAaj7D,IAAUlH,OACvBkoE,iBAAkBhhE,IAAUxH,OAC5B+nE,aAAcvgE,IAAUxH,OACxBqkE,cAAe78D,IAAUxH,OACzB8oE,cAAethE,IAAU4L,UAU/B22D,GAAUnuC,aAAe,CACvBw/B,QAAS,KACTl6D,QAASygE,EACT9kC,OAAQ+kC,EACR6H,OAAQ,aACRC,SAAU,aACVgB,SAAU,aACV/J,SAAU,EACV6J,SAAU,EACVG,eAAgB,IAChBG,gBACAC,iBACAgB,cACAH,WACAD,WACAD,aCrNFS,GAAat6C,UAAY,CAMvBupC,QAAS5zD,IAAUxH,OAMnB68B,OAAQr1B,IAAUmf,QAAQnf,IAAUlH,QAMpCmpE,OAAQjiE,IAAUvO,KAMlBywE,SAAUliE,IAAUvO,KAMpByxE,SAAUljE,IAAUvO,KAMpB0nE,SAAUn5D,IAAUxH,OAMpBwqE,SAAUhjE,IAAUxH,OAMpB2qE,eAAgBnjE,IAAUxH,OAM1BkB,QAASsG,IAAUkf,UAAU,CAAClf,IAAU2kB,OAAQ3kB,IAAUtG,UAM1D4pE,aAActjE,IAAU4L,KAMxB23D,cAAevjE,IAAU4L,KAQzB24D,WAAYvkE,IAAU4L,KAMtBu4D,QAASnkE,IAAU4L,KAMnBw4D,QAASpkE,IAAU4L,KAMnBs4D,SAAUlkE,IAAUkf,UAAU,CAC5Blf,IAAU4L,KACV5L,IAAU2f,MAAM,CACd5sB,KAAMiN,IAAUgf,MAAM,CAAC,mBAAoB,eAAgB,aAC3Di8C,YAAaj7D,IAAUlH,OACvBkoE,iBAAkBhhE,IAAUxH,OAC5B+nE,aAAcvgE,IAAUxH,OACxBqkE,cAAe78D,IAAUxH,OACzB8oE,cAAethE,IAAU4L,UAU/B+4D,GAAavwC,aAAe,CAC1Bw/B,QAAS,KACTl6D,QAASygE,EACT9kC,OAAQ+kC,EACR6H,OAAQ,aACRC,SAAU,aACVgB,SAAU,aACV/J,SAAU,EACV6J,SAAU,EACVG,eAAgB,IAChBG,gBACAC,iBACAgB,cACAH,WACAD,WACAD,aAAU,Q,kBClpBZ,SAASoB,EAAmBC,EAAKvhC,EAASG,EAAQqhC,EAAOC,EAAQlhE,EAAK+Q,GACpE,IACE,IAAI+yC,EAAOkd,EAAIhhE,GAAK+Q,GAChB1jB,EAAQy2D,EAAKz2D,MACjB,MAAO8B,GAEP,YADAywC,EAAOzwC,GAIL20D,EAAKqd,KACP1hC,EAAQpyC,GAERmyC,QAAQC,QAAQpyC,GAAOktC,KAAK0mC,EAAOC,GAwBvCzyE,EAAOC,QApBP,SAA2BykB,GACzB,OAAO,WACL,IAAIf,EAAO/jB,KACPgB,EAAOf,UACX,OAAO,IAAIkxC,SAAQ,SAAUC,EAASG,GACpC,IAAIohC,EAAM7tD,EAAG/kB,MAAMgkB,EAAM/iB,GAEzB,SAAS4xE,EAAM5zE,GACb0zE,EAAmBC,EAAKvhC,EAASG,EAAQqhC,EAAOC,EAAQ,OAAQ7zE,GAGlE,SAAS6zE,EAAO7J,GACd0J,EAAmBC,EAAKvhC,EAASG,EAAQqhC,EAAOC,EAAQ,QAAS7J,GAGnE4J,OAAM1yE,QAMZE,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQ0yE,YAAa,G,iCCnCxE,IAAItT,EAAQhC,EAAQ,KAChBtxB,EAAOsxB,EAAQ,KACfuV,EAAQvV,EAAQ,KAChBwV,EAAcxV,EAAQ,KAS1B,SAASyV,EAAeC,GACtB,IAAIz9B,EAAU,IAAIs9B,EAAMG,GACpBp9C,EAAWoW,EAAK6mC,EAAMv0E,UAAU0jE,QAASzsB,GAQ7C,OALA+pB,EAAMP,OAAOnpC,EAAUi9C,EAAMv0E,UAAWi3C,GAGxC+pB,EAAMP,OAAOnpC,EAAU2f,GAEhB3f,EAIT,IAAIq9C,EAAQF,EAtBGzV,EAAQ,MAyBvB2V,EAAMJ,MAAQA,EAGdI,EAAMv7C,OAAS,SAAgBw7C,GAC7B,OAAOH,EAAeD,EAAYG,EAAMrT,SAAUsT,KAIpDD,EAAMpN,OAASvI,EAAQ,KACvB2V,EAAME,YAAc7V,EAAQ,KAC5B2V,EAAMG,SAAW9V,EAAQ,KAGzB2V,EAAMlH,IAAM,SAAasH,GACvB,OAAOriC,QAAQ+6B,IAAIsH,IAErBJ,EAAMK,OAAShW,EAAQ,KAGvB2V,EAAM/Q,aAAe5E,EAAQ,KAE7Br9D,EAAOC,QAAU+yE,EAGjBhzE,EAAOC,QAAQqzE,QAAUN,G,iCCrDzB,IAAI3T,EAAQhC,EAAQ,KAChBqF,EAAWrF,EAAQ,KACnBkW,EAAqBlW,EAAQ,KAC7BmW,EAAkBnW,EAAQ,KAC1BwV,EAAcxV,EAAQ,KACtBoW,EAAYpW,EAAQ,KAEpBqW,EAAaD,EAAUC,WAM3B,SAASd,EAAMK,GACbrzE,KAAK+/D,SAAWsT,EAChBrzE,KAAK+zE,aAAe,CAClB5R,QAAS,IAAIwR,EACbvR,SAAU,IAAIuR,GASlBX,EAAMv0E,UAAU0jE,QAAU,SAAiBx1B,GAGnB,kBAAXA,GACTA,EAAS1sC,UAAU,IAAM,IAClByhE,IAAMzhE,UAAU,GAEvB0sC,EAASA,GAAU,IAGrBA,EAASsmC,EAAYjzE,KAAK+/D,SAAUpzB,IAGzB8lB,OACT9lB,EAAO8lB,OAAS9lB,EAAO8lB,OAAO/uC,cACrB1jB,KAAK+/D,SAAStN,OACvB9lB,EAAO8lB,OAASzyD,KAAK+/D,SAAStN,OAAO/uC,cAErCipB,EAAO8lB,OAAS,MAGlB,IAAIuN,EAAerzB,EAAOqzB,kBAEL9/D,IAAjB8/D,GACF6T,EAAUG,cAAchU,EAAc,CACpCC,kBAAmB6T,EAAW9T,aAAa8T,EAAWG,QAAS,SAC/D/T,kBAAmB4T,EAAW9T,aAAa8T,EAAWG,QAAS,SAC/D9T,oBAAqB2T,EAAW9T,aAAa8T,EAAWG,QAAS,WAChE,GAIL,IAAIC,EAA0B,GAC1BC,GAAiC,EACrCn0E,KAAK+zE,aAAa5R,QAAQ5vC,SAAQ,SAAoC6hD,GACjC,oBAAxBA,EAAYC,UAA0D,IAAhCD,EAAYC,QAAQ1nC,KAIrEwnC,EAAiCA,GAAkCC,EAAYE,YAE/EJ,EAAwBK,QAAQH,EAAYI,UAAWJ,EAAYK,cAGrE,IAKIvP,EALAwP,EAA2B,GAO/B,GANA10E,KAAK+zE,aAAa3R,SAAS7vC,SAAQ,SAAkC6hD,GACnEM,EAAyBvxD,KAAKixD,EAAYI,UAAWJ,EAAYK,cAK9DN,EAAgC,CACnC,IAAIQ,EAAQ,CAACf,OAAiB1zE,GAM9B,IAJAyM,MAAMlO,UAAU81E,QAAQx0E,MAAM40E,EAAOT,GACrCS,EAAQA,EAAMhyD,OAAO+xD,GAErBxP,EAAU/zB,QAAQC,QAAQzE,GACnBgoC,EAAMzwE,QACXghE,EAAUA,EAAQh5B,KAAKyoC,EAAM9hC,QAAS8hC,EAAM9hC,SAG9C,OAAOqyB,EAKT,IADA,IAAI0P,EAAYjoC,EACTunC,EAAwBhwE,QAAQ,CACrC,IAAI2wE,EAAcX,EAAwBrhC,QACtCiiC,EAAaZ,EAAwBrhC,QACzC,IACE+hC,EAAYC,EAAYD,GACxB,MAAO9zE,GACPg0E,EAAWh0E,GACX,OAIJ,IACEokE,EAAU0O,EAAgBgB,GAC1B,MAAO9zE,GACP,OAAOqwC,QAAQI,OAAOzwC,GAGxB,KAAO4zE,EAAyBxwE,QAC9BghE,EAAUA,EAAQh5B,KAAKwoC,EAAyB7hC,QAAS6hC,EAAyB7hC,SAGpF,OAAOqyB,GAGT8N,EAAMv0E,UAAUs2E,OAAS,SAAgBpoC,GAEvC,OADAA,EAASsmC,EAAYjzE,KAAK+/D,SAAUpzB,GAC7Bm2B,EAASn2B,EAAO+0B,IAAK/0B,EAAOg1B,OAAQh1B,EAAOi1B,kBAAkBriE,QAAQ,MAAO,KAIrFkgE,EAAMltC,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6BkgC,GAE/EugB,EAAMv0E,UAAUg0D,GAAU,SAASiP,EAAK/0B,GACtC,OAAO3sC,KAAKmiE,QAAQ8Q,EAAYtmC,GAAU,GAAI,CAC5C8lB,OAAQA,EACRiP,IAAKA,EACLviB,MAAOxS,GAAU,IAAIwS,YAK3BsgB,EAAMltC,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BkgC,GAErEugB,EAAMv0E,UAAUg0D,GAAU,SAASiP,EAAKviB,EAAMxS,GAC5C,OAAO3sC,KAAKmiE,QAAQ8Q,EAAYtmC,GAAU,GAAI,CAC5C8lB,OAAQA,EACRiP,IAAKA,EACLviB,KAAMA,SAKZ/+C,EAAOC,QAAU2yE,G,iCCjJjB,IAAIvT,EAAQhC,EAAQ,KAEpB,SAASkW,IACP3zE,KAAKg1E,SAAW,GAWlBrB,EAAmBl1E,UAAUw2E,IAAM,SAAaT,EAAWC,EAAUhtE,GAOnE,OANAzH,KAAKg1E,SAAS7xD,KAAK,CACjBqxD,UAAWA,EACXC,SAAUA,EACVH,cAAa7sE,GAAUA,EAAQ6sE,YAC/BD,QAAS5sE,EAAUA,EAAQ4sE,QAAU,OAEhCr0E,KAAKg1E,SAAS9wE,OAAS,GAQhCyvE,EAAmBl1E,UAAUy2E,MAAQ,SAAel3B,GAC9Ch+C,KAAKg1E,SAASh3B,KAChBh+C,KAAKg1E,SAASh3B,GAAM,OAYxB21B,EAAmBl1E,UAAU8zB,QAAU,SAAiBzN,GACtD26C,EAAMltC,QAAQvyB,KAAKg1E,UAAU,SAAwBG,GACzC,OAANA,GACFrwD,EAAGqwD,OAKT/0E,EAAOC,QAAUszE,G,iCCnDjB,IAAIlU,EAAQhC,EAAQ,KAChB2X,EAAgB3X,EAAQ,KACxB8V,EAAW9V,EAAQ,KACnBsC,EAAWtC,EAAQ,KAKvB,SAAS4X,EAA6B1oC,GAChCA,EAAOs4B,aACTt4B,EAAOs4B,YAAYqQ,mBAUvBl1E,EAAOC,QAAU,SAAyBssC,GA8BxC,OA7BA0oC,EAA6B1oC,GAG7BA,EAAOmzB,QAAUnzB,EAAOmzB,SAAW,GAGnCnzB,EAAOwS,KAAOi2B,EAAcl2E,KAC1BytC,EACAA,EAAOwS,KACPxS,EAAOmzB,QACPnzB,EAAO6zB,kBAIT7zB,EAAOmzB,QAAUL,EAAMT,MACrBryB,EAAOmzB,QAAQyB,QAAU,GACzB50B,EAAOmzB,QAAQnzB,EAAO8lB,SAAW,GACjC9lB,EAAOmzB,SAGTL,EAAMltC,QACJ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WAClD,SAA2BkgC,UAClB9lB,EAAOmzB,QAAQrN,OAIZ9lB,EAAOyzB,SAAWL,EAASK,SAE1BzzB,GAAQT,MAAK,SAA6Bk2B,GAWvD,OAVAiT,EAA6B1oC,GAG7By1B,EAASjjB,KAAOi2B,EAAcl2E,KAC5BytC,EACAy1B,EAASjjB,KACTijB,EAAStC,QACTnzB,EAAOk0B,mBAGFuB,KACN,SAA4BmT,GAe7B,OAdKhC,EAASgC,KACZF,EAA6B1oC,GAGzB4oC,GAAUA,EAAOnT,WACnBmT,EAAOnT,SAASjjB,KAAOi2B,EAAcl2E,KACnCytC,EACA4oC,EAAOnT,SAASjjB,KAChBo2B,EAAOnT,SAAStC,QAChBnzB,EAAOk0B,qBAKN1vB,QAAQI,OAAOgkC,Q,iCC7E1B,IAAI9V,EAAQhC,EAAQ,KAChBsC,EAAWtC,EAAQ,KAUvBr9D,EAAOC,QAAU,SAAuB8+C,EAAM2gB,EAAS0V,GACrD,IAAI9/B,EAAU11C,MAAQ+/D,EAMtB,OAJAN,EAAMltC,QAAQijD,GAAK,SAAmB1wD,GACpCq6B,EAAOr6B,EAAG5lB,KAAKw2C,EAASyJ,EAAM2gB,MAGzB3gB,I,iCClBT,IAAIsgB,EAAQhC,EAAQ,KAEpBr9D,EAAOC,QAAU,SAA6By/D,EAAS2V,GACrDhW,EAAMltC,QAAQutC,GAAS,SAAuB9gE,EAAOkC,GAC/CA,IAASu0E,GAAkBv0E,EAAK2iB,gBAAkB4xD,EAAe5xD,gBACnEi8C,EAAQ2V,GAAkBz2E,SACnB8gE,EAAQ5+D,S,iCCNrB,IAAIgiE,EAAczF,EAAQ,KAS1Br9D,EAAOC,QAAU,SAAgB+wC,EAASG,EAAQ6wB,GAChD,IAAIf,EAAiBe,EAASz1B,OAAO00B,eAChCe,EAASd,QAAWD,IAAkBA,EAAee,EAASd,QAGjE/vB,EAAO2xB,EACL,mCAAqCd,EAASd,OAC9Cc,EAASz1B,OACT,KACAy1B,EAASD,QACTC,IAPFhxB,EAAQgxB,K,iCCZZ,IAAI3C,EAAQhC,EAAQ,KAEpBr9D,EAAOC,QACLo/D,EAAMX,uBAIK,CACL4W,MAAO,SAAex0E,EAAMlC,EAAO22E,EAASC,EAAMC,EAAQC,GACxD,IAAIC,EAAS,GACbA,EAAO5yD,KAAKjiB,EAAO,IAAMugE,mBAAmBziE,IAExCygE,EAAMnB,SAASqX,IACjBI,EAAO5yD,KAAK,WAAa,IAAIuB,KAAKixD,GAASK,eAGzCvW,EAAMpB,SAASuX,IACjBG,EAAO5yD,KAAK,QAAUyyD,GAGpBnW,EAAMpB,SAASwX,IACjBE,EAAO5yD,KAAK,UAAY0yD,IAGX,IAAXC,GACFC,EAAO5yD,KAAK,UAGdyf,SAASmzC,OAASA,EAAOnzD,KAAK,OAGhCgiD,KAAM,SAAc1jE,GAClB,IAAI+hC,EAAQL,SAASmzC,OAAO9yC,MAAM,IAAIz9B,OAAO,aAAetE,EAAO,cACnE,OAAQ+hC,EAAQgzC,mBAAmBhzC,EAAM,IAAM,MAGjD0S,OAAQ,SAAgBz0C,GACtBlB,KAAK01E,MAAMx0E,EAAM,GAAIwjB,KAAKuQ,MAAQ,SAO/B,CACLygD,MAAO,aACP9Q,KAAM,WAAkB,OAAO,MAC/BjvB,OAAQ,e,iCC/ChB,IAAIugC,EAAgBzY,EAAQ,KACxB0Y,EAAc1Y,EAAQ,KAW1Br9D,EAAOC,QAAU,SAAuBujE,EAASwS,GAC/C,OAAIxS,IAAYsS,EAAcE,GACrBD,EAAYvS,EAASwS,GAEvBA,I,iCCVTh2E,EAAOC,QAAU,SAAuBqhE,GAItC,MAAO,gCAAgCjiE,KAAKiiE,K,iCCH9CthE,EAAOC,QAAU,SAAqBujE,EAASyS,GAC7C,OAAOA,EACHzS,EAAQrkE,QAAQ,OAAQ,IAAM,IAAM82E,EAAY92E,QAAQ,OAAQ,IAChEqkE,I,iCCVN,IAAInE,EAAQhC,EAAQ,KAIhB6Y,EAAoB,CACtB,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,cAgB5Bl2E,EAAOC,QAAU,SAAsBy/D,GACrC,IACInuD,EACAyqC,EACA16C,EAHA60E,EAAS,GAKb,OAAKzW,GAELL,EAAMltC,QAAQutC,EAAQl8C,MAAM,OAAO,SAAgB4yD,GAKjD,GAJA90E,EAAI80E,EAAKpiE,QAAQ,KACjBzC,EAAM8tD,EAAML,KAAKoX,EAAKrzC,OAAO,EAAGzhC,IAAIgiB,cACpC04B,EAAMqjB,EAAML,KAAKoX,EAAKrzC,OAAOzhC,EAAI,IAE7BiQ,EAAK,CACP,GAAI4kE,EAAO5kE,IAAQ2kE,EAAkBliE,QAAQzC,IAAQ,EACnD,OAGA4kE,EAAO5kE,GADG,eAARA,GACa4kE,EAAO5kE,GAAO4kE,EAAO5kE,GAAO,IAAIgR,OAAO,CAACy5B,IAEzCm6B,EAAO5kE,GAAO4kE,EAAO5kE,GAAO,KAAOyqC,EAAMA,MAKtDm6B,GAnBgBA,I,iCC9BzB,IAAI9W,EAAQhC,EAAQ,KAEpBr9D,EAAOC,QACLo/D,EAAMX,uBAIH,WACC,IAEI2X,EAFAC,EAAO,kBAAkBj3E,KAAK2P,UAAUq7D,WACxCkM,EAAiB/zC,SAASzR,cAAc,KAS5C,SAASylD,EAAWlV,GAClB,IAAImV,EAAOnV,EAWX,OATIgV,IAEFC,EAAeG,aAAa,OAAQD,GACpCA,EAAOF,EAAeE,MAGxBF,EAAeG,aAAa,OAAQD,GAG7B,CACLA,KAAMF,EAAeE,KACrBE,SAAUJ,EAAeI,SAAWJ,EAAeI,SAASx3E,QAAQ,KAAM,IAAM,GAChFy3E,KAAML,EAAeK,KACrBC,OAAQN,EAAeM,OAASN,EAAeM,OAAO13E,QAAQ,MAAO,IAAM,GAC3E23E,KAAMP,EAAeO,KAAOP,EAAeO,KAAK33E,QAAQ,KAAM,IAAM,GACpE43E,SAAUR,EAAeQ,SACzBC,KAAMT,EAAeS,KACrBC,SAAiD,MAAtCV,EAAeU,SAASC,OAAO,GACxCX,EAAeU,SACf,IAAMV,EAAeU,UAY3B,OARAZ,EAAYG,EAAW5zD,OAAOu0D,SAASV,MAQhC,SAAyBW,GAC9B,IAAIjB,EAAU9W,EAAMpB,SAASmZ,GAAeZ,EAAWY,GAAcA,EACrE,OAAQjB,EAAOQ,WAAaN,EAAUM,UAClCR,EAAOS,OAASP,EAAUO,MAhDjC,GAsDQ,WACL,OAAO,I,iCC9Df,IAAIS,EAAMha,EAAQ,KAEdqW,EAAa,GAGjB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAUvhD,SAAQ,SAASpyB,EAAMuB,GACrFoyE,EAAW3zE,GAAQ,SAAmBu3E,GACpC,cAAcA,IAAUv3E,GAAQ,KAAOuB,EAAI,EAAI,KAAO,KAAOvB,MAIjE,IAAIw3E,EAAqB,GACrBC,EAAgBH,EAAI7yE,QAAQgf,MAAM,KAQtC,SAASi0D,EAAejzE,EAASkzE,GAG/B,IAFA,IAAIC,EAAgBD,EAAcA,EAAYl0D,MAAM,KAAOg0D,EACvDI,EAAUpzE,EAAQgf,MAAM,KACnBliB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,GAAIq2E,EAAcr2E,GAAKs2E,EAAQt2E,GAC7B,OAAO,EACF,GAAIq2E,EAAcr2E,GAAKs2E,EAAQt2E,GACpC,OAAO,EAGX,OAAO,EAUToyE,EAAW9T,aAAe,SAAsB6T,EAAWjvE,EAAS29D,GAClE,IAAI0V,EAAerzE,GAAWizE,EAAejzE,GAE7C,SAASszE,EAAcC,EAAKC,GAC1B,MAAO,WAAaX,EAAI7yE,QAAU,0BAA6BuzE,EAAM,IAAOC,GAAQ7V,EAAU,KAAOA,EAAU,IAIjH,OAAO,SAASvjE,EAAOm5E,EAAKE,GAC1B,IAAkB,IAAdxE,EACF,MAAM,IAAI9yE,MAAMm3E,EAAcC,EAAK,wBAA0BvzE,IAc/D,OAXIqzE,IAAiBN,EAAmBQ,KACtCR,EAAmBQ,IAAO,EAE1B98D,QAAQi9D,KACNJ,EACEC,EACA,+BAAiCvzE,EAAU,8CAK1CivE,GAAYA,EAAU70E,EAAOm5E,EAAKE,KAkC7Cj4E,EAAOC,QAAU,CACfw3E,eAAgBA,EAChB7D,cAzBF,SAAuBvsE,EAAS8wE,EAAQC,GACtC,GAAuB,kBAAZ/wE,EACT,MAAM,IAAI1I,UAAU,6BAItB,IAFA,IAAIkzB,EAAOzzB,OAAOyzB,KAAKxqB,GACnB/F,EAAIuwB,EAAK/tB,OACNxC,KAAM,GAAG,CACd,IAAIy2E,EAAMlmD,EAAKvwB,GACXmyE,EAAY0E,EAAOJ,GACvB,GAAItE,EAAJ,CACE,IAAI70E,EAAQyI,EAAQ0wE,GAChBr5E,OAAmBoB,IAAVlB,GAAuB60E,EAAU70E,EAAOm5E,EAAK1wE,GAC1D,IAAe,IAAX3I,EACF,MAAM,IAAIC,UAAU,UAAYo5E,EAAM,YAAcr5E,QAIxD,IAAqB,IAAjB05E,EACF,MAAMz3E,MAAM,kBAAoBo3E,KAQpCrE,WAAYA,I,kmFCrGd,IAAI9N,EAASvI,EAAQ,KAQrB,SAAS6V,EAAYmF,GACnB,GAAwB,oBAAbA,EACT,MAAM,IAAI15E,UAAU,gCAGtB,IAAI25E,EACJ14E,KAAKklE,QAAU,IAAI/zB,SAAQ,SAAyBC,GAClDsnC,EAAiBtnC,KAGnB,IAAI+4B,EAAQnqE,KACZy4E,GAAS,SAAgBlW,GACnB4H,EAAMoL,SAKVpL,EAAMoL,OAAS,IAAIvP,EAAOzD,GAC1BmW,EAAevO,EAAMoL,YAOzBjC,EAAY70E,UAAU62E,iBAAmB,WACvC,GAAIt1E,KAAKu1E,OACP,MAAMv1E,KAAKu1E,QAQfjC,EAAY1hD,OAAS,WACnB,IAAIqZ,EAIJ,MAAO,CACLk/B,MAJU,IAAImJ,GAAY,SAAkB5yE,GAC5CuqC,EAASvqC,KAITuqC,OAAQA,IAIZ7qC,EAAOC,QAAUizE,G,iCClCjBlzE,EAAOC,QAAU,SAAgB29B,GAC/B,OAAO,SAAcza,GACnB,OAAOya,EAASj+B,MAAM,KAAMwjB,M,iCChBhCnjB,EAAOC,QAAU,SAAsBs4E,GACrC,MAA2B,kBAAZA,IAAmD,IAAzBA,EAAQtW","file":"static/js/4.cf73644a.chunk.js","sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = once;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","// The minimum length of the national significant number.\r\nexport const MIN_LENGTH_FOR_NSN = 2\r\n\r\n// The ITU says the maximum length should be 15,\r\n// but one can find longer numbers in Germany.\r\nexport const MAX_LENGTH_FOR_NSN = 17\r\n\r\n// The maximum length of the country calling code.\r\nexport const MAX_LENGTH_COUNTRY_CODE = 3\r\n\r\n// Digits accepted in phone numbers\r\n// (ascii, fullwidth, arabic-indic, and eastern arabic digits).\r\nexport const VALID_DIGITS = '0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9'\r\n\r\n// `DASHES` will be right after the opening square bracket of the \"character class\"\r\nconst DASHES = '-\\u2010-\\u2015\\u2212\\u30FC\\uFF0D'\r\nconst SLASHES = '\\uFF0F/'\r\nconst DOTS = '\\uFF0E.'\r\nexport const WHITESPACE = ' \\u00A0\\u00AD\\u200B\\u2060\\u3000'\r\nconst BRACKETS = '()\\uFF08\\uFF09\\uFF3B\\uFF3D\\\\[\\\\]'\r\n// export const OPENING_BRACKETS = '(\\uFF08\\uFF3B\\\\\\['\r\nconst TILDES = '~\\u2053\\u223C\\uFF5E'\r\n\r\n// Regular expression of acceptable punctuation found in phone numbers. This\r\n// excludes punctuation found as a leading character only. This consists of dash\r\n// characters, white space characters, full stops, slashes, square brackets,\r\n// parentheses and tildes. Full-width variants are also present.\r\nexport const VALID_PUNCTUATION = `${DASHES}${SLASHES}${DOTS}${WHITESPACE}${BRACKETS}${TILDES}`\r\n\r\nexport const PLUS_CHARS = '+\\uFF0B'\r\n// const LEADING_PLUS_CHARS_PATTERN = new RegExp('^[' + PLUS_CHARS + ']+')","// https://stackoverflow.com/a/46971044/970769\r\nexport default class ParseError {\r\n  constructor(code) {\r\n    this.name = this.constructor.name\r\n    this.message = code\r\n    this.stack = (new Error(code)).stack\r\n  }\r\n}\r\n\r\nParseError.prototype = Object.create(Error.prototype)\r\nParseError.prototype.constructor = ParseError","// Copy-pasted from:\r\n// https://github.com/substack/semver-compare/blob/master/index.js\r\n//\r\n// Inlining this function because some users reported issues with\r\n// importing from `semver-compare` in a browser with ES6 \"native\" modules.\r\n//\r\n// Fixes `semver-compare` not being able to compare versions with alpha/beta/etc \"tags\".\r\n// https://github.com/catamphetamine/libphonenumber-js/issues/381\r\nexport default function(a, b) {\r\n    a = a.split('-')\r\n    b = b.split('-')\r\n    var pa = a[0].split('.')\r\n    var pb = b[0].split('.')\r\n    for (var i = 0; i < 3; i++) {\r\n        var na = Number(pa[i])\r\n        var nb = Number(pb[i])\r\n        if (na > nb) return 1\r\n        if (nb > na) return -1\r\n        if (!isNaN(na) && isNaN(nb)) return 1\r\n        if (isNaN(na) && !isNaN(nb)) return -1\r\n    }\r\n    if (a[1] && b[1]) {\r\n        return a[1] > b[1] ? 1 : (a[1] < b[1] ? -1 : 0)\r\n    }\r\n    return !a[1] && b[1] ? 1 : (a[1] && !b[1] ? -1 : 0)\r\n}","import compare from './tools/semver-compare'\r\n\r\n// Added \"possibleLengths\" and renamed\r\n// \"country_phone_code_to_countries\" to \"country_calling_codes\".\r\nconst V2 = '1.0.18'\r\n\r\n// Added \"idd_prefix\" and \"default_idd_prefix\".\r\nconst V3 = '1.2.0'\r\n\r\n// Moved `001` country code to \"nonGeographic\" section of metadata.\r\nconst V4 = '1.7.35'\r\n\r\nconst DEFAULT_EXT_PREFIX = ' ext. '\r\n\r\nconst CALLING_CODE_REG_EXP = /^\\d+$/\r\n\r\n/**\r\n * See: https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md\r\n */\r\nexport default class Metadata {\r\n\tconstructor(metadata) {\r\n\t\tvalidateMetadata(metadata)\r\n\t\tthis.metadata = metadata\r\n\t\tsetVersion.call(this, metadata)\r\n\t}\r\n\r\n\tgetCountries() {\r\n\t\treturn Object.keys(this.metadata.countries).filter(_ => _ !== '001')\r\n\t}\r\n\r\n\tgetCountryMetadata(countryCode) {\r\n\t\treturn this.metadata.countries[countryCode]\r\n\t}\r\n\r\n\tnonGeographic() {\r\n\t\tif (this.v1 || this.v2 || this.v3) return\r\n\t\t// `nonGeographical` was a typo.\r\n\t\t// It's present in metadata generated from `1.7.35` to `1.7.37`.\r\n\t\treturn this.metadata.nonGeographic || this.metadata.nonGeographical\r\n\t}\r\n\r\n\thasCountry(country) {\r\n\t\treturn this.getCountryMetadata(country) !== undefined\r\n\t}\r\n\r\n\thasCallingCode(callingCode) {\r\n\t\tif (this.getCountryCodesForCallingCode(callingCode)) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tif (this.nonGeographic()) {\r\n\t\t\tif (this.nonGeographic()[callingCode]) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// A hacky workaround for old custom metadata (generated before V4).\r\n\t\t\tconst countryCodes = this.countryCallingCodes()[callingCode]\r\n\t\t\tif (countryCodes && countryCodes.length === 1 && countryCodes[0] === '001') {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisNonGeographicCallingCode(callingCode) {\r\n\t\tif (this.nonGeographic()) {\r\n\t\t\treturn this.nonGeographic()[callingCode] ? true : false\r\n\t\t} else {\r\n\t\t\treturn this.getCountryCodesForCallingCode(callingCode) ? false : true\r\n\t\t}\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tcountry(countryCode) {\r\n\t\treturn this.selectNumberingPlan(countryCode)\r\n\t}\r\n\r\n\tselectNumberingPlan(countryCode, callingCode) {\r\n\t\t// Supports just passing `callingCode` as the first argument.\r\n\t\tif (countryCode && CALLING_CODE_REG_EXP.test(countryCode)) {\r\n\t\t\tcallingCode = countryCode\r\n\t\t\tcountryCode = null\r\n\t\t}\r\n\t\tif (countryCode && countryCode !== '001') {\r\n\t\t\tif (!this.hasCountry(countryCode)) {\r\n\t\t\t\tthrow new Error(`Unknown country: ${countryCode}`)\r\n\t\t\t}\r\n\t\t\tthis.numberingPlan = new NumberingPlan(this.getCountryMetadata(countryCode), this)\r\n\t\t} else if (callingCode) {\r\n\t\t\tif (!this.hasCallingCode(callingCode)) {\r\n\t\t\t\tthrow new Error(`Unknown calling code: ${callingCode}`)\r\n\t\t\t}\r\n\t\t\tthis.numberingPlan = new NumberingPlan(this.getNumberingPlanMetadata(callingCode), this)\r\n\t\t} else {\r\n\t\t\tthis.numberingPlan = undefined\r\n\t\t}\r\n\t\treturn this\r\n\t}\r\n\r\n\tgetCountryCodesForCallingCode(callingCode) {\r\n\t\tconst countryCodes = this.countryCallingCodes()[callingCode]\r\n\t\tif (countryCodes) {\r\n\t\t\t// Metadata before V4 included \"non-geographic entity\" calling codes\r\n\t\t\t// inside `country_calling_codes` (for example, `\"881\":[\"001\"]`).\r\n\t\t\t// Now the semantics of `country_calling_codes` has changed:\r\n\t\t\t// it's specifically for \"countries\" now.\r\n\t\t\t// Older versions of custom metadata will simply skip parsing\r\n\t\t\t// \"non-geographic entity\" phone numbers with new versions\r\n\t\t\t// of this library: it's not considered a bug,\r\n\t\t\t// because such numbers are extremely rare,\r\n\t\t\t// and developers extremely rarely use custom metadata.\r\n\t\t\tif (countryCodes.length === 1 && countryCodes[0].length === 3) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn countryCodes\r\n\t\t}\r\n\t}\r\n\r\n\tgetCountryCodeForCallingCode(callingCode) {\r\n\t\tconst countryCodes = this.getCountryCodesForCallingCode(callingCode)\r\n\t\tif (countryCodes) {\r\n\t\t\treturn countryCodes[0]\r\n\t\t}\r\n\t}\r\n\r\n\tgetNumberingPlanMetadata(callingCode) {\r\n\t\tconst countryCode = this.getCountryCodeForCallingCode(callingCode)\r\n\t\tif (countryCode) {\r\n\t\t\treturn this.getCountryMetadata(countryCode)\r\n\t\t}\r\n\t\tif (this.nonGeographic()) {\r\n\t\t\tconst metadata = this.nonGeographic()[callingCode]\r\n\t\t\tif (metadata) {\r\n\t\t\t\treturn metadata\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// A hacky workaround for old custom metadata (generated before V4).\r\n\t\t\tconst countryCodes = this.countryCallingCodes()[callingCode]\r\n\t\t\tif (countryCodes && countryCodes.length === 1 && countryCodes[0] === '001') {\r\n\t\t\t\treturn this.metadata.countries['001']\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tcountryCallingCode() {\r\n\t\treturn this.numberingPlan.callingCode()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tIDDPrefix() {\r\n\t\treturn this.numberingPlan.IDDPrefix()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tdefaultIDDPrefix() {\r\n\t\treturn this.numberingPlan.defaultIDDPrefix()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tnationalNumberPattern() {\r\n\t\treturn this.numberingPlan.nationalNumberPattern()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tpossibleLengths() {\r\n\t\treturn this.numberingPlan.possibleLengths()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tformats() {\r\n\t\treturn this.numberingPlan.formats()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tnationalPrefixForParsing() {\r\n\t\treturn this.numberingPlan.nationalPrefixForParsing()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tnationalPrefixTransformRule() {\r\n\t\treturn this.numberingPlan.nationalPrefixTransformRule()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tleadingDigits() {\r\n\t\treturn this.numberingPlan.leadingDigits()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\thasTypes() {\r\n\t\treturn this.numberingPlan.hasTypes()\r\n\t}\r\n\r\n\t// Deprecated.\r\n\ttype(type) {\r\n\t\treturn this.numberingPlan.type(type)\r\n\t}\r\n\r\n\t// Deprecated.\r\n\text() {\r\n\t\treturn this.numberingPlan.ext()\r\n\t}\r\n\r\n\tcountryCallingCodes() {\r\n\t\tif (this.v1) return this.metadata.country_phone_code_to_countries\r\n\t\treturn this.metadata.country_calling_codes\r\n\t}\r\n\r\n\t// Deprecated.\r\n\tchooseCountryByCountryCallingCode(callingCode) {\r\n\t\treturn this.selectNumberingPlan(callingCode)\r\n\t}\r\n\r\n\thasSelectedNumberingPlan() {\r\n\t\treturn this.numberingPlan !== undefined\r\n\t}\r\n}\r\n\r\nclass NumberingPlan {\r\n\tconstructor(metadata, globalMetadataObject) {\r\n\t\tthis.globalMetadataObject = globalMetadataObject\r\n\t\tthis.metadata = metadata\r\n\t\tsetVersion.call(this, globalMetadataObject.metadata)\r\n\t}\r\n\r\n\tcallingCode() {\r\n\t\treturn this.metadata[0]\r\n\t}\r\n\r\n\t// Formatting information for regions which share\r\n\t// a country calling code is contained by only one region\r\n\t// for performance reasons. For example, for NANPA region\r\n\t// (\"North American Numbering Plan Administration\",\r\n\t//  which includes USA, Canada, Cayman Islands, Bahamas, etc)\r\n\t// it will be contained in the metadata for `US`.\r\n\tgetDefaultCountryMetadataForRegion() {\r\n\t\treturn this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())\r\n\t}\r\n\r\n\t// Is always present.\r\n\tIDDPrefix() {\r\n\t\tif (this.v1 || this.v2) return\r\n\t\treturn this.metadata[1]\r\n\t}\r\n\r\n\t// Is only present when a country supports multiple IDD prefixes.\r\n\tdefaultIDDPrefix() {\r\n\t\tif (this.v1 || this.v2) return\r\n\t\treturn this.metadata[12]\r\n\t}\r\n\r\n\tnationalNumberPattern() {\r\n\t\tif (this.v1 || this.v2) return this.metadata[1]\r\n\t\treturn this.metadata[2]\r\n\t}\r\n\r\n\t// Is always present.\r\n\tpossibleLengths() {\r\n\t\tif (this.v1) return\r\n\t\treturn this.metadata[this.v2 ? 2 : 3]\r\n\t}\r\n\r\n\t_getFormats(metadata) {\r\n\t\treturn metadata[this.v1 ? 2 : this.v2 ? 3 : 4]\r\n\t}\r\n\r\n\t// For countries of the same region (e.g. NANPA)\r\n\t// formats are all stored in the \"main\" country for that region.\r\n\t// E.g. \"RU\" and \"KZ\", \"US\" and \"CA\".\r\n\tformats() {\r\n\t\tconst formats = this._getFormats(this.metadata) || this._getFormats(this.getDefaultCountryMetadataForRegion()) || []\r\n\t\treturn formats.map(_ => new Format(_, this))\r\n\t}\r\n\r\n\tnationalPrefix() {\r\n\t\treturn this.metadata[this.v1 ? 3 : this.v2 ? 4 : 5]\r\n\t}\r\n\r\n\t_getNationalPrefixFormattingRule(metadata) {\r\n\t\treturn metadata[this.v1 ? 4 : this.v2 ? 5 : 6]\r\n\t}\r\n\r\n\t// For countries of the same region (e.g. NANPA)\r\n\t// national prefix formatting rule is stored in the \"main\" country for that region.\r\n\t// E.g. \"RU\" and \"KZ\", \"US\" and \"CA\".\r\n\tnationalPrefixFormattingRule() {\r\n\t\treturn this._getNationalPrefixFormattingRule(this.metadata) || this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())\r\n\t}\r\n\r\n\t_nationalPrefixForParsing() {\r\n\t\treturn this.metadata[this.v1 ? 5 : this.v2 ? 6 : 7]\r\n\t}\r\n\r\n\tnationalPrefixForParsing() {\r\n\t\t// If `national_prefix_for_parsing` is not set explicitly,\r\n\t\t// then infer it from `national_prefix` (if any)\r\n\t\treturn this._nationalPrefixForParsing() || this.nationalPrefix()\r\n\t}\r\n\r\n\tnationalPrefixTransformRule() {\r\n\t\treturn this.metadata[this.v1 ? 6 : this.v2 ? 7 : 8]\r\n\t}\r\n\r\n\t_getNationalPrefixIsOptionalWhenFormatting() {\r\n\t\treturn !!this.metadata[this.v1 ? 7 : this.v2 ? 8 : 9]\r\n\t}\r\n\r\n\t// For countries of the same region (e.g. NANPA)\r\n\t// \"national prefix is optional when formatting\" flag is\r\n\t// stored in the \"main\" country for that region.\r\n\t// E.g. \"RU\" and \"KZ\", \"US\" and \"CA\".\r\n\tnationalPrefixIsOptionalWhenFormattingInNationalFormat() {\r\n\t\treturn this._getNationalPrefixIsOptionalWhenFormatting(this.metadata) ||\r\n\t\t\tthis._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())\r\n\t}\r\n\r\n\tleadingDigits() {\r\n\t\treturn this.metadata[this.v1 ? 8 : this.v2 ? 9 : 10]\r\n\t}\r\n\r\n\ttypes() {\r\n\t\treturn this.metadata[this.v1 ? 9 : this.v2 ? 10 : 11]\r\n\t}\r\n\r\n\thasTypes() {\r\n\t\t// Versions 1.2.0 - 1.2.4: can be `[]`.\r\n\t\t/* istanbul ignore next */\r\n\t\tif (this.types() && this.types().length === 0) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t// Versions <= 1.2.4: can be `undefined`.\r\n\t\t// Version >= 1.2.5: can be `0`.\r\n\t\treturn !!this.types()\r\n\t}\r\n\r\n\ttype(type) {\r\n\t\tif (this.hasTypes() && getType(this.types(), type)) {\r\n\t\t\treturn new Type(getType(this.types(), type), this)\r\n\t\t}\r\n\t}\r\n\r\n\text() {\r\n\t\tif (this.v1 || this.v2) return DEFAULT_EXT_PREFIX\r\n\t\treturn this.metadata[13] || DEFAULT_EXT_PREFIX\r\n\t}\r\n}\r\n\r\nclass Format {\r\n\tconstructor(format, metadata) {\r\n\t\tthis._format = format\r\n\t\tthis.metadata = metadata\r\n\t}\r\n\r\n\tpattern() {\r\n\t\treturn this._format[0]\r\n\t}\r\n\r\n\tformat() {\r\n\t\treturn this._format[1]\r\n\t}\r\n\r\n\tleadingDigitsPatterns() {\r\n\t\treturn this._format[2] || []\r\n\t}\r\n\r\n\tnationalPrefixFormattingRule() {\r\n\t\treturn this._format[3] || this.metadata.nationalPrefixFormattingRule()\r\n\t}\r\n\r\n\tnationalPrefixIsOptionalWhenFormattingInNationalFormat() {\r\n\t\treturn !!this._format[4] || this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()\r\n\t}\r\n\r\n\tnationalPrefixIsMandatoryWhenFormattingInNationalFormat() {\r\n\t\t// National prefix is omitted if there's no national prefix formatting rule\r\n\t\t// set for this country, or when the national prefix formatting rule\r\n\t\t// contains no national prefix itself, or when this rule is set but\r\n\t\t// national prefix is optional for this phone number format\r\n\t\t// (and it is not enforced explicitly)\r\n\t\treturn this.usesNationalPrefix() && !this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()\r\n\t}\r\n\r\n\t// Checks whether national prefix formatting rule contains national prefix.\r\n\tusesNationalPrefix() {\r\n\t\treturn this.nationalPrefixFormattingRule() &&\r\n\t\t\t// Check that national prefix formatting rule is not a \"dummy\" one.\r\n\t\t\t!FIRST_GROUP_ONLY_PREFIX_PATTERN.test(this.nationalPrefixFormattingRule())\r\n\t\t\t// In compressed metadata, `this.nationalPrefixFormattingRule()` is `0`\r\n\t\t\t// when `national_prefix_formatting_rule` is not present.\r\n\t\t\t// So, `true` or `false` are returned explicitly here, so that\r\n\t\t\t// `0` number isn't returned.\r\n\t\t\t? true\r\n\t\t\t: false\r\n\t}\r\n\r\n\tinternationalFormat() {\r\n\t\treturn this._format[5] || this.format()\r\n\t}\r\n}\r\n\r\n/**\r\n * A pattern that is used to determine if the national prefix formatting rule\r\n * has the first group only, i.e., does not start with the national prefix.\r\n * Note that the pattern explicitly allows for unbalanced parentheses.\r\n */\r\nconst FIRST_GROUP_ONLY_PREFIX_PATTERN = /^\\(?\\$1\\)?$/\r\n\r\nclass Type {\r\n\tconstructor(type, metadata) {\r\n\t\tthis.type = type\r\n\t\tthis.metadata = metadata\r\n\t}\r\n\r\n\tpattern() {\r\n\t\tif (this.metadata.v1) return this.type\r\n\t\treturn this.type[0]\r\n\t}\r\n\r\n\tpossibleLengths() {\r\n\t\tif (this.metadata.v1) return\r\n\t\treturn this.type[1] || this.metadata.possibleLengths()\r\n\t}\r\n}\r\n\r\nfunction getType(types, type) {\r\n\tswitch (type) {\r\n\t\tcase 'FIXED_LINE':\r\n\t\t\treturn types[0]\r\n\t\tcase 'MOBILE':\r\n\t\t\treturn types[1]\r\n\t\tcase 'TOLL_FREE':\r\n\t\t\treturn types[2]\r\n\t\tcase 'PREMIUM_RATE':\r\n\t\t\treturn types[3]\r\n\t\tcase 'PERSONAL_NUMBER':\r\n\t\t\treturn types[4]\r\n\t\tcase 'VOICEMAIL':\r\n\t\t\treturn types[5]\r\n\t\tcase 'UAN':\r\n\t\t\treturn types[6]\r\n\t\tcase 'PAGER':\r\n\t\t\treturn types[7]\r\n\t\tcase 'VOIP':\r\n\t\t\treturn types[8]\r\n\t\tcase 'SHARED_COST':\r\n\t\t\treturn types[9]\r\n\t}\r\n}\r\n\r\nexport function validateMetadata(metadata) {\r\n\tif (!metadata) {\r\n\t\tthrow new Error('[libphonenumber-js] `metadata` argument not passed. Check your arguments.')\r\n\t}\r\n\r\n\t// `country_phone_code_to_countries` was renamed to\r\n\t// `country_calling_codes` in `1.0.18`.\r\n\tif (!is_object(metadata) || !is_object(metadata.countries)) {\r\n\t\tthrow new Error(`[libphonenumber-js] \\`metadata\\` argument was passed but it's not a valid metadata. Must be an object having \\`.countries\\` child object property. Got ${is_object(metadata) ? 'an object of shape: { ' + Object.keys(metadata).join(', ') + ' }' : 'a ' + type_of(metadata) + ': ' + metadata}.`)\r\n\t}\r\n}\r\n\r\n// Babel transforms `typeof` into some \"branches\"\r\n// so istanbul will show this as \"branch not covered\".\r\n/* istanbul ignore next */\r\nconst is_object = _ => typeof _ === 'object'\r\n\r\n// Babel transforms `typeof` into some \"branches\"\r\n// so istanbul will show this as \"branch not covered\".\r\n/* istanbul ignore next */\r\nconst type_of = _ => typeof _\r\n\r\n/**\r\n * Returns extension prefix for a country.\r\n * @param  {string} country\r\n * @param  {object} metadata\r\n * @return {string?}\r\n * @example\r\n * // Returns \" ext. \"\r\n * getExtPrefix(\"US\")\r\n */\r\nexport function getExtPrefix(country, metadata) {\r\n\tmetadata = new Metadata(metadata)\r\n\tif (metadata.hasCountry(country)) {\r\n\t\treturn metadata.country(country).ext()\r\n\t}\r\n\treturn DEFAULT_EXT_PREFIX\r\n}\r\n\r\n/**\r\n * Returns \"country calling code\" for a country.\r\n * Throws an error if the country doesn't exist or isn't supported by this library.\r\n * @param  {string} country\r\n * @param  {object} metadata\r\n * @return {string}\r\n * @example\r\n * // Returns \"44\"\r\n * getCountryCallingCode(\"GB\")\r\n */\r\nexport function getCountryCallingCode(country, metadata) {\r\n\tmetadata = new Metadata(metadata)\r\n\tif (metadata.hasCountry(country)) {\r\n\t\treturn metadata.country(country).countryCallingCode()\r\n\t}\r\n\tthrow new Error(`Unknown country: ${country}`)\r\n}\r\n\r\nexport function isSupportedCountry(country, metadata) {\r\n\t// metadata = new Metadata(metadata)\r\n\t// return metadata.hasCountry(country)\r\n\treturn metadata.countries[country] !== undefined\r\n}\r\n\r\nfunction setVersion(metadata) {\r\n\tconst { version } = metadata\r\n\tif (typeof version === 'number') {\r\n\t\tthis.v1 = version === 1\r\n\t\tthis.v2 = version === 2\r\n\t\tthis.v3 = version === 3\r\n\t\tthis.v4 = version === 4\r\n\t} else {\r\n\t\tif (!version) {\r\n\t\t\tthis.v1 = true\r\n\t\t} else if (compare(version, V3) === -1) {\r\n\t\t\tthis.v2 = true\r\n\t\t} else if (compare(version, V4) === -1) {\r\n\t\t\tthis.v3 = true\r\n\t\t} else {\r\n\t\t\tthis.v4 = true\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// const ISO_COUNTRY_CODE = /^[A-Z]{2}$/\r\n// function isCountryCode(countryCode) {\r\n// \treturn ISO_COUNTRY_CODE.test(countryCodeOrCountryCallingCode)\r\n// }","import { VALID_DIGITS } from '../../constants'\r\n\r\n// The RFC 3966 format for extensions.\r\nconst RFC3966_EXTN_PREFIX = ';ext='\r\n\r\n/**\r\n * Helper method for constructing regular expressions for parsing. Creates\r\n * an expression that captures up to max_length digits.\r\n * @return {string} RegEx pattern to capture extension digits.\r\n */\r\nconst getExtensionDigitsPattern = (maxLength) => `([${VALID_DIGITS}]{1,${maxLength}})`\r\n\r\n/**\r\n * Helper initialiser method to create the regular-expression pattern to match\r\n * extensions.\r\n * Copy-pasted from Google's `libphonenumber`:\r\n * https://github.com/google/libphonenumber/blob/55b2646ec9393f4d3d6661b9c82ef9e258e8b829/javascript/i18n/phonenumbers/phonenumberutil.js#L759-L766\r\n * @return {string} RegEx pattern to capture extensions.\r\n */\r\nexport default function createExtensionPattern(purpose) {\r\n\t// We cap the maximum length of an extension based on the ambiguity of the way\r\n\t// the extension is prefixed. As per ITU, the officially allowed length for\r\n\t// extensions is actually 40, but we don't support this since we haven't seen real\r\n\t// examples and this introduces many false interpretations as the extension labels\r\n\t// are not standardized.\r\n\t/** @type {string} */\r\n\tvar extLimitAfterExplicitLabel = '20';\r\n\t/** @type {string} */\r\n\tvar extLimitAfterLikelyLabel = '15';\r\n\t/** @type {string} */\r\n\tvar extLimitAfterAmbiguousChar = '9';\r\n\t/** @type {string} */\r\n\tvar extLimitWhenNotSure = '6';\r\n\r\n\t/** @type {string} */\r\n\tvar possibleSeparatorsBetweenNumberAndExtLabel = \"[ \\u00A0\\\\t,]*\";\r\n\t// Optional full stop (.) or colon, followed by zero or more spaces/tabs/commas.\r\n\t/** @type {string} */\r\n\tvar possibleCharsAfterExtLabel = \"[:\\\\.\\uFF0E]?[ \\u00A0\\\\t,-]*\";\r\n\t/** @type {string} */\r\n\tvar optionalExtnSuffix = \"#?\";\r\n\r\n\t// Here the extension is called out in more explicit way, i.e mentioning it obvious\r\n\t// patterns like \"ext.\".\r\n\t/** @type {string} */\r\n\tvar explicitExtLabels =\r\n\t  \"(?:e?xt(?:ensi(?:o\\u0301?|\\u00F3))?n?|\\uFF45?\\uFF58\\uFF54\\uFF4E?|\\u0434\\u043E\\u0431|anexo)\";\r\n\t// One-character symbols that can be used to indicate an extension, and less\r\n\t// commonly used or more ambiguous extension labels.\r\n\t/** @type {string} */\r\n\tvar ambiguousExtLabels = \"(?:[x\\uFF58#\\uFF03~\\uFF5E]|int|\\uFF49\\uFF4E\\uFF54)\";\r\n\t// When extension is not separated clearly.\r\n\t/** @type {string} */\r\n\tvar ambiguousSeparator = \"[- ]+\";\r\n\t// This is the same as possibleSeparatorsBetweenNumberAndExtLabel, but not matching\r\n\t// comma as extension label may have it.\r\n\t/** @type {string} */\r\n\tvar possibleSeparatorsNumberExtLabelNoComma = \"[ \\u00A0\\\\t]*\";\r\n\t// \",,\" is commonly used for auto dialling the extension when connected. First\r\n\t// comma is matched through possibleSeparatorsBetweenNumberAndExtLabel, so we do\r\n\t// not repeat it here. Semi-colon works in Iphone and Android also to pop up a\r\n\t// button with the extension number following.\r\n\t/** @type {string} */\r\n\tvar autoDiallingAndExtLabelsFound = \"(?:,{2}|;)\";\r\n\r\n\t/** @type {string} */\r\n\tvar rfcExtn = RFC3966_EXTN_PREFIX\r\n\t     + getExtensionDigitsPattern(extLimitAfterExplicitLabel);\r\n\t/** @type {string} */\r\n\tvar explicitExtn = possibleSeparatorsBetweenNumberAndExtLabel + explicitExtLabels\r\n\t     + possibleCharsAfterExtLabel\r\n\t     + getExtensionDigitsPattern(extLimitAfterExplicitLabel)\r\n\t     + optionalExtnSuffix;\r\n\t/** @type {string} */\r\n\tvar ambiguousExtn = possibleSeparatorsBetweenNumberAndExtLabel + ambiguousExtLabels\r\n\t     + possibleCharsAfterExtLabel\r\n\t+ getExtensionDigitsPattern(extLimitAfterAmbiguousChar)\r\n\t+ optionalExtnSuffix;\r\n\t/** @type {string} */\r\n\tvar americanStyleExtnWithSuffix = ambiguousSeparator\r\n\t+ getExtensionDigitsPattern(extLimitWhenNotSure) + \"#\";\r\n\r\n\t/** @type {string} */\r\n\tvar autoDiallingExtn = possibleSeparatorsNumberExtLabelNoComma\r\n\t     + autoDiallingAndExtLabelsFound + possibleCharsAfterExtLabel\r\n\t     + getExtensionDigitsPattern(extLimitAfterLikelyLabel)\r\n\t+ optionalExtnSuffix;\r\n\t/** @type {string} */\r\n\tvar onlyCommasExtn = possibleSeparatorsNumberExtLabelNoComma\r\n\t    + \"(?:,)+\" + possibleCharsAfterExtLabel\r\n\t    + getExtensionDigitsPattern(extLimitAfterAmbiguousChar)\r\n\t    + optionalExtnSuffix;\r\n\r\n\t// The first regular expression covers RFC 3966 format, where the extension is added\r\n\t// using \";ext=\". The second more generic where extension is mentioned with explicit\r\n\t// labels like \"ext:\". In both the above cases we allow more numbers in extension than\r\n\t// any other extension labels. The third one captures when single character extension\r\n\t// labels or less commonly used labels are used. In such cases we capture fewer\r\n\t// extension digits in order to reduce the chance of falsely interpreting two\r\n\t// numbers beside each other as a number + extension. The fourth one covers the\r\n\t// special case of American numbers where the extension is written with a hash\r\n\t// at the end, such as \"- 503#\". The fifth one is exclusively for extension\r\n\t// autodialling formats which are used when dialling and in this case we accept longer\r\n\t// extensions. The last one is more liberal on the number of commas that acts as\r\n\t// extension labels, so we have a strict cap on the number of digits in such extensions.\r\n\treturn rfcExtn + \"|\"\r\n\t       + explicitExtn + \"|\"\r\n\t       + ambiguousExtn + \"|\"\r\n\t       + americanStyleExtnWithSuffix + \"|\"\r\n\t       + autoDiallingExtn + \"|\"\r\n\t       + onlyCommasExtn;\r\n}","import {\r\n\tMIN_LENGTH_FOR_NSN,\r\n\tVALID_DIGITS,\r\n\tVALID_PUNCTUATION,\r\n\tPLUS_CHARS\r\n} from '../constants'\r\n\r\nimport createExtensionPattern from './extension/createExtensionPattern'\r\n\r\n//  Regular expression of viable phone numbers. This is location independent.\r\n//  Checks we have at least three leading digits, and only valid punctuation,\r\n//  alpha characters and digits in the phone number. Does not include extension\r\n//  data. The symbol 'x' is allowed here as valid punctuation since it is often\r\n//  used as a placeholder for carrier codes, for example in Brazilian phone\r\n//  numbers. We also allow multiple '+' characters at the start.\r\n//\r\n//  Corresponds to the following:\r\n//  [digits]{minLengthNsn}|\r\n//  plus_sign*\r\n//  (([punctuation]|[star])*[digits]){3,}([punctuation]|[star]|[digits]|[alpha])*\r\n//\r\n//  The first reg-ex is to allow short numbers (two digits long) to be parsed if\r\n//  they are entered as \"15\" etc, but only if there is no punctuation in them.\r\n//  The second expression restricts the number of digits to three or more, but\r\n//  then allows them to be in international form, and to have alpha-characters\r\n//  and punctuation. We split up the two reg-exes here and combine them when\r\n//  creating the reg-ex VALID_PHONE_NUMBER_PATTERN itself so we can prefix it\r\n//  with ^ and append $ to each branch.\r\n//\r\n//  \"Note VALID_PUNCTUATION starts with a -,\r\n//   so must be the first in the range\" (c) Google devs.\r\n//  (wtf did they mean by saying that; probably nothing)\r\n//\r\nconst MIN_LENGTH_PHONE_NUMBER_PATTERN = '[' + VALID_DIGITS + ']{' + MIN_LENGTH_FOR_NSN + '}'\r\n//\r\n// And this is the second reg-exp:\r\n// (see MIN_LENGTH_PHONE_NUMBER_PATTERN for a full description of this reg-exp)\r\n//\r\nexport const VALID_PHONE_NUMBER =\r\n\t'[' + PLUS_CHARS + ']{0,1}' +\r\n\t'(?:' +\r\n\t\t'[' + VALID_PUNCTUATION + ']*' +\r\n\t\t'[' + VALID_DIGITS + ']' +\r\n\t'){3,}' +\r\n\t'[' +\r\n\t\tVALID_PUNCTUATION +\r\n\t\tVALID_DIGITS +\r\n\t']*'\r\n\r\n// This regular expression isn't present in Google's `libphonenumber`\r\n// and is only used to determine whether the phone number being input\r\n// is too short for it to even consider it a \"valid\" number.\r\n// This is just a way to differentiate between a really invalid phone\r\n// number like \"abcde\" and a valid phone number that a user has just\r\n// started inputting, like \"+1\" or \"1\": both these cases would be\r\n// considered `NOT_A_NUMBER` by Google's `libphonenumber`, but this\r\n// library can provide a more detailed error message  whether it's\r\n// really \"not a number\", or is it just a start of a valid phone number.\r\nconst VALID_PHONE_NUMBER_START_REG_EXP = new RegExp(\r\n\t'^' +\r\n\t'[' + PLUS_CHARS + ']{0,1}' +\r\n\t'(?:' +\r\n\t\t'[' + VALID_PUNCTUATION + ']*' +\r\n\t\t'[' + VALID_DIGITS + ']' +\r\n\t'){1,2}' +\r\n\t'$'\r\n, 'i')\r\n\r\nexport const VALID_PHONE_NUMBER_WITH_EXTENSION =\r\n\tVALID_PHONE_NUMBER +\r\n\t// Phone number extensions\r\n\t'(?:' + createExtensionPattern() + ')?'\r\n\r\n// The combined regular expression for valid phone numbers:\r\n//\r\nconst VALID_PHONE_NUMBER_PATTERN = new RegExp(\r\n\t// Either a short two-digit-only phone number\r\n\t'^' +\r\n\t\tMIN_LENGTH_PHONE_NUMBER_PATTERN +\r\n\t'$' +\r\n\t'|' +\r\n\t// Or a longer fully parsed phone number (min 3 characters)\r\n\t'^' +\r\n\t\tVALID_PHONE_NUMBER_WITH_EXTENSION +\r\n\t'$'\r\n, 'i')\r\n\r\n// Checks to see if the string of characters could possibly be a phone number at\r\n// all. At the moment, checks to see that the string begins with at least 2\r\n// digits, ignoring any punctuation commonly found in phone numbers. This method\r\n// does not require the number to be normalized in advance - but does assume\r\n// that leading non-number symbols have been removed, such as by the method\r\n// `extract_possible_number`.\r\n//\r\nexport default function isViablePhoneNumber(number) {\r\n\treturn number.length >= MIN_LENGTH_FOR_NSN &&\r\n\t\tVALID_PHONE_NUMBER_PATTERN.test(number)\r\n}\r\n\r\n// This is just a way to differentiate between a really invalid phone\r\n// number like \"abcde\" and a valid phone number that a user has just\r\n// started inputting, like \"+1\" or \"1\": both these cases would be\r\n// considered `NOT_A_NUMBER` by Google's `libphonenumber`, but this\r\n// library can provide a more detailed error message  whether it's\r\n// really \"not a number\", or is it just a start of a valid phone number.\r\nexport function isViablePhoneNumberStart(number) {\r\n\treturn VALID_PHONE_NUMBER_START_REG_EXP.test(number)\r\n}","import createExtensionPattern from './createExtensionPattern'\r\n\r\n// Regexp of all known extension prefixes used by different regions followed by\r\n// 1 or more valid digits, for use when parsing.\r\nconst EXTN_PATTERN = new RegExp('(?:' + createExtensionPattern() + ')$', 'i')\r\n\r\n// Strips any extension (as in, the part of the number dialled after the call is\r\n// connected, usually indicated with extn, ext, x or similar) from the end of\r\n// the number, and returns it.\r\nexport default function extractExtension(number) {\r\n\tconst start = number.search(EXTN_PATTERN)\r\n\tif (start < 0) {\r\n\t\treturn {}\r\n\t}\r\n\t// If we find a potential extension, and the number preceding this is a viable\r\n\t// number, we assume it is an extension.\r\n\tconst numberWithoutExtension = number.slice(0, start)\r\n\tconst matches = number.match(EXTN_PATTERN)\r\n\tlet i = 1\r\n\twhile (i < matches.length) {\r\n\t\tif (matches[i]) {\r\n\t\t\treturn {\r\n\t\t\t\tnumber: numberWithoutExtension,\r\n\t\t\t\text: matches[i]\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}","// These mappings map a character (key) to a specific digit that should\r\n// replace it for normalization purposes. Non-European digits that\r\n// may be used in phone numbers are mapped to a European equivalent.\r\n//\r\n// E.g. in Iraq they don't write `+442323234` but rather `+`.\r\n//\r\nexport const DIGITS = {\r\n\t'0': '0',\r\n\t'1': '1',\r\n\t'2': '2',\r\n\t'3': '3',\r\n\t'4': '4',\r\n\t'5': '5',\r\n\t'6': '6',\r\n\t'7': '7',\r\n\t'8': '8',\r\n\t'9': '9',\r\n\t'\\uFF10': '0', // Fullwidth digit 0\r\n\t'\\uFF11': '1', // Fullwidth digit 1\r\n\t'\\uFF12': '2', // Fullwidth digit 2\r\n\t'\\uFF13': '3', // Fullwidth digit 3\r\n\t'\\uFF14': '4', // Fullwidth digit 4\r\n\t'\\uFF15': '5', // Fullwidth digit 5\r\n\t'\\uFF16': '6', // Fullwidth digit 6\r\n\t'\\uFF17': '7', // Fullwidth digit 7\r\n\t'\\uFF18': '8', // Fullwidth digit 8\r\n\t'\\uFF19': '9', // Fullwidth digit 9\r\n\t'\\u0660': '0', // Arabic-indic digit 0\r\n\t'\\u0661': '1', // Arabic-indic digit 1\r\n\t'\\u0662': '2', // Arabic-indic digit 2\r\n\t'\\u0663': '3', // Arabic-indic digit 3\r\n\t'\\u0664': '4', // Arabic-indic digit 4\r\n\t'\\u0665': '5', // Arabic-indic digit 5\r\n\t'\\u0666': '6', // Arabic-indic digit 6\r\n\t'\\u0667': '7', // Arabic-indic digit 7\r\n\t'\\u0668': '8', // Arabic-indic digit 8\r\n\t'\\u0669': '9', // Arabic-indic digit 9\r\n\t'\\u06F0': '0', // Eastern-Arabic digit 0\r\n\t'\\u06F1': '1', // Eastern-Arabic digit 1\r\n\t'\\u06F2': '2', // Eastern-Arabic digit 2\r\n\t'\\u06F3': '3', // Eastern-Arabic digit 3\r\n\t'\\u06F4': '4', // Eastern-Arabic digit 4\r\n\t'\\u06F5': '5', // Eastern-Arabic digit 5\r\n\t'\\u06F6': '6', // Eastern-Arabic digit 6\r\n\t'\\u06F7': '7', // Eastern-Arabic digit 7\r\n\t'\\u06F8': '8', // Eastern-Arabic digit 8\r\n\t'\\u06F9': '9'  // Eastern-Arabic digit 9\r\n}\r\n\r\nexport function parseDigit(character) {\r\n\treturn DIGITS[character]\r\n}\r\n\r\n/**\r\n * Parses phone number digits from a string.\r\n * Drops all punctuation leaving only digits.\r\n * Also converts wide-ascii and arabic-indic numerals to conventional numerals.\r\n * E.g. in Iraq they don't write `+442323234` but rather `+`.\r\n * @param  {string} string\r\n * @return {string}\r\n * @example\r\n * ```js\r\n * parseDigits('8 (800) 555')\r\n * // Outputs '8800555'.\r\n * ```\r\n */\r\nexport default function parseDigits(string) {\r\n\tlet result = ''\r\n\t// Using `.split('')` here instead of normal `for ... of`\r\n\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t// (the ones consisting of four bytes) but digits\r\n\t// (including non-European ones) don't fall into that range\r\n\t// so such \"exotic\" characters would be discarded anyway.\r\n\tfor (const character of string.split('')) {\r\n\t\tconst digit = parseDigit(character)\r\n\t\tif (digit) {\r\n\t\t\tresult += digit\r\n\t\t}\r\n\t}\r\n\treturn result\r\n}","import { parseDigit } from './helpers/parseDigits'\r\n\r\n/**\r\n * Parses phone number characters from a string.\r\n * Drops all punctuation leaving only digits and the leading `+` sign (if any).\r\n * Also converts wide-ascii and arabic-indic numerals to conventional numerals.\r\n * E.g. in Iraq they don't write `+442323234` but rather `+`.\r\n * @param  {string} string\r\n * @return {string}\r\n * @example\r\n * ```js\r\n * // Outputs '8800555'.\r\n * parseIncompletePhoneNumber('8 (800) 555')\r\n * // Outputs '+7800555'.\r\n * parseIncompletePhoneNumber('+7 800 555')\r\n * ```\r\n */\r\nexport default function parseIncompletePhoneNumber(string) {\r\n\tlet result = ''\r\n\t// Using `.split('')` here instead of normal `for ... of`\r\n\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t// (the ones consisting of four bytes) but digits\r\n\t// (including non-European ones) don't fall into that range\r\n\t// so such \"exotic\" characters would be discarded anyway.\r\n\tfor (const character of string.split('')) {\r\n\t\tresult += parsePhoneNumberCharacter(character, result) || ''\r\n\t}\r\n\treturn result\r\n}\r\n\r\n/**\r\n * Parses next character while parsing phone number digits (including a `+`)\r\n * from text: discards everything except `+` and digits, and `+` is only allowed\r\n * at the start of a phone number.\r\n * For example, is used in `react-phone-number-input` where it uses\r\n * [`input-format`](https://gitlab.com/catamphetamine/input-format).\r\n * @param  {string} character - Yet another character from raw input string.\r\n * @param  {string?} prevParsedCharacters - Previous parsed characters.\r\n * @param  {object} meta - Optional custom use-case-specific metadata.\r\n * @return {string?} The parsed character.\r\n */\r\nexport function parsePhoneNumberCharacter(character, prevParsedCharacters) {\r\n\t// Only allow a leading `+`.\r\n\tif (character === '+') {\r\n\t\t// If this `+` is not the first parsed character\r\n\t\t// then discard it.\r\n\t\tif (prevParsedCharacters) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\treturn '+'\r\n\t}\r\n\t// Allow digits.\r\n\treturn parseDigit(character)\r\n}","import mergeArrays from './mergeArrays'\r\n\r\nexport default function checkNumberLength(nationalNumber, metadata) {\r\n\treturn checkNumberLengthForType(nationalNumber, undefined, metadata)\r\n}\r\n\r\n// Checks whether a number is possible for the country based on its length.\r\n// Should only be called for the \"new\" metadata which has \"possible lengths\".\r\nexport function checkNumberLengthForType(nationalNumber, type, metadata) {\r\n\tconst type_info = metadata.type(type)\r\n\r\n\t// There should always be \"<possiblePengths/>\" set for every type element.\r\n\t// This is declared in the XML schema.\r\n\t// For size efficiency, where a sub-description (e.g. fixed-line)\r\n\t// has the same \"<possiblePengths/>\" as the \"general description\", this is missing,\r\n\t// so we fall back to the \"general description\". Where no numbers of the type\r\n\t// exist at all, there is one possible length (-1) which is guaranteed\r\n\t// not to match the length of any real phone number.\r\n\tlet possible_lengths = type_info && type_info.possibleLengths() || metadata.possibleLengths()\r\n\t// let local_lengths    = type_info && type.possibleLengthsLocal() || metadata.possibleLengthsLocal()\r\n\r\n\t// Metadata before version `1.0.18` didn't contain `possible_lengths`.\r\n\tif (!possible_lengths) {\r\n\t\treturn 'IS_POSSIBLE'\r\n\t}\r\n\r\n\tif (type === 'FIXED_LINE_OR_MOBILE') {\r\n\t\t// No such country in metadata.\r\n\t\t/* istanbul ignore next */\r\n\t\tif (!metadata.type('FIXED_LINE')) {\r\n\t\t\t// The rare case has been encountered where no fixedLine data is available\r\n\t\t\t// (true for some non-geographic entities), so we just check mobile.\r\n\t\t\treturn checkNumberLengthForType(nationalNumber, 'MOBILE', metadata)\r\n\t\t}\r\n\r\n\t\tconst mobile_type = metadata.type('MOBILE')\r\n\t\tif (mobile_type) {\r\n\t\t\t// Merge the mobile data in if there was any. \"Concat\" creates a new\r\n\t\t\t// array, it doesn't edit possible_lengths in place, so we don't need a copy.\r\n\t\t\t// Note that when adding the possible lengths from mobile, we have\r\n\t\t\t// to again check they aren't empty since if they are this indicates\r\n\t\t\t// they are the same as the general desc and should be obtained from there.\r\n\t\t\tpossible_lengths = mergeArrays(possible_lengths, mobile_type.possibleLengths())\r\n\t\t\t// The current list is sorted; we need to merge in the new list and\r\n\t\t\t// re-sort (duplicates are okay). Sorting isn't so expensive because\r\n\t\t\t// the lists are very small.\r\n\r\n\t\t\t// if (local_lengths) {\r\n\t\t\t// \tlocal_lengths = mergeArrays(local_lengths, mobile_type.possibleLengthsLocal())\r\n\t\t\t// } else {\r\n\t\t\t// \tlocal_lengths = mobile_type.possibleLengthsLocal()\r\n\t\t\t// }\r\n\t\t}\r\n\t}\r\n\t// If the type doesn't exist then return 'INVALID_LENGTH'.\r\n\telse if (type && !type_info) {\r\n\t\treturn 'INVALID_LENGTH'\r\n\t}\r\n\r\n\tconst actual_length = nationalNumber.length\r\n\r\n\t// In `libphonenumber-js` all \"local-only\" formats are dropped for simplicity.\r\n\t// // This is safe because there is never an overlap beween the possible lengths\r\n\t// // and the local-only lengths; this is checked at build time.\r\n\t// if (local_lengths && local_lengths.indexOf(nationalNumber.length) >= 0)\r\n\t// {\r\n\t// \treturn 'IS_POSSIBLE_LOCAL_ONLY'\r\n\t// }\r\n\r\n\tconst minimum_length = possible_lengths[0]\r\n\r\n\tif (minimum_length === actual_length) {\r\n\t\treturn 'IS_POSSIBLE'\r\n\t}\r\n\r\n\tif (minimum_length > actual_length) {\r\n\t\treturn 'TOO_SHORT'\r\n\t}\r\n\r\n\tif (possible_lengths[possible_lengths.length - 1] < actual_length) {\r\n\t\treturn 'TOO_LONG'\r\n\t}\r\n\r\n\t// We skip the first element since we've already checked it.\r\n\treturn possible_lengths.indexOf(actual_length, 1) >= 0 ? 'IS_POSSIBLE' : 'INVALID_LENGTH'\r\n}","/**\r\n * Merges two arrays.\r\n * @param  {*} a\r\n * @param  {*} b\r\n * @return {*}\r\n */\r\nexport default function mergeArrays(a, b) {\r\n\tconst merged = a.slice()\r\n\r\n\tfor (const element of b) {\r\n\t\tif (a.indexOf(element) < 0) {\r\n\t\t\tmerged.push(element)\r\n\t\t}\r\n\t}\r\n\r\n\treturn merged.sort((a, b) => a - b)\r\n\r\n\t// ES6 version, requires Set polyfill.\r\n\t// let merged = new Set(a)\r\n\t// for (const element of b) {\r\n\t// \tmerged.add(i)\r\n\t// }\r\n\t// return Array.from(merged).sort((a, b) => a - b)\r\n}","import Metadata from './metadata'\r\nimport checkNumberLength from './helpers/checkNumberLength'\r\n\r\nexport default function isPossiblePhoneNumber(input, options, metadata) {\r\n\t/* istanbul ignore if */\r\n\tif (options === undefined) {\r\n\t\toptions = {}\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\tif (options.v2) {\r\n\t\tif (!input.countryCallingCode) {\r\n\t\t\tthrow new Error('Invalid phone number object passed')\r\n\t\t}\r\n\t\tmetadata.selectNumberingPlan(input.countryCallingCode)\r\n\t} else {\r\n\t\tif (!input.phone) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tif (input.country) {\r\n\t\t\tif (!metadata.hasCountry(input.country)) {\r\n\t\t\t\tthrow new Error(`Unknown country: ${input.country}`)\r\n\t\t\t}\r\n\t\t\tmetadata.country(input.country)\r\n\t\t} else {\r\n\t\t\tif (!input.countryCallingCode) {\r\n\t\t\t\tthrow new Error('Invalid phone number object passed')\r\n\t\t\t}\r\n\t\t\tmetadata.selectNumberingPlan(input.countryCallingCode)\r\n\t\t}\r\n\t}\r\n\r\n\tif (metadata.possibleLengths()) {\r\n\t\treturn isPossibleNumber(input.phone || input.nationalNumber, metadata)\r\n\t} else {\r\n\t\t// There was a bug between `1.7.35` and `1.7.37` where \"possible_lengths\"\r\n\t\t// were missing for \"non-geographical\" numbering plans.\r\n\t\t// Just assume the number is possible in such cases:\r\n\t\t// it's unlikely that anyone generated their custom metadata\r\n\t\t// in that short period of time (one day).\r\n\t\t// This code can be removed in some future major version update.\r\n\t\tif (input.countryCallingCode && metadata.isNonGeographicCallingCode(input.countryCallingCode)) {\r\n\t\t\t// \"Non-geographic entities\" did't have `possibleLengths`\r\n\t\t\t// due to a bug in metadata generation process.\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\tthrow new Error('Missing \"possibleLengths\" in metadata. Perhaps the metadata has been generated before v1.0.18.');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isPossibleNumber(nationalNumber, metadata) { //, isInternational) {\r\n\tswitch (checkNumberLength(nationalNumber, metadata)) {\r\n\t\tcase 'IS_POSSIBLE':\r\n\t\t\treturn true\r\n\t\t// This library ignores \"local-only\" phone numbers (for simplicity).\r\n\t\t// See the readme for more info on what are \"local-only\" phone numbers.\r\n\t\t// case 'IS_POSSIBLE_LOCAL_ONLY':\r\n\t\t// \treturn !isInternational\r\n\t\tdefault:\r\n\t\t\treturn false\r\n\t}\r\n}","/**\r\n * Checks whether the entire input sequence can be matched\r\n * against the regular expression.\r\n * @return {boolean}\r\n */\r\nexport default function matchesEntirely(text, regular_expression) {\r\n\t// If assigning the `''` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\ttext = text || ''\r\n\treturn new RegExp('^(?:' + regular_expression + ')$').test(text)\r\n}","import Metadata from '../metadata'\r\nimport matchesEntirely from './matchesEntirely'\r\n\r\nconst NON_FIXED_LINE_PHONE_TYPES = [\r\n\t'MOBILE',\r\n\t'PREMIUM_RATE',\r\n\t'TOLL_FREE',\r\n\t'SHARED_COST',\r\n\t'VOIP',\r\n\t'PERSONAL_NUMBER',\r\n\t'PAGER',\r\n\t'UAN',\r\n\t'VOICEMAIL'\r\n]\r\n\r\n// Finds out national phone number type (fixed line, mobile, etc)\r\nexport default function getNumberType(input, options, metadata)\r\n{\r\n\t// If assigning the `{}` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\toptions = options || {}\r\n\r\n\t// When `parse()` returned `{}`\r\n\t// meaning that the phone number is not a valid one.\r\n\tif (!input.country) {\r\n\t\treturn\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\tmetadata.selectNumberingPlan(input.country, input.countryCallingCode)\r\n\r\n\tconst nationalNumber = options.v2 ? input.nationalNumber : input.phone\r\n\r\n\t// The following is copy-pasted from the original function:\r\n\t// https://github.com/googlei18n/libphonenumber/blob/3ea547d4fbaa2d0b67588904dfa5d3f2557c27ff/javascript/i18n/phonenumbers/phonenumberutil.js#L2835\r\n\r\n\t// Is this national number even valid for this country\r\n\tif (!matchesEntirely(nationalNumber, metadata.nationalNumberPattern())) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Is it fixed line number\r\n\tif (isNumberTypeEqualTo(nationalNumber, 'FIXED_LINE', metadata)) {\r\n\t\t// Because duplicate regular expressions are removed\r\n\t\t// to reduce metadata size, if \"mobile\" pattern is \"\"\r\n\t\t// then it means it was removed due to being a duplicate of the fixed-line pattern.\r\n\t\t//\r\n\t\tif (metadata.type('MOBILE') && metadata.type('MOBILE').pattern() === '') {\r\n\t\t\treturn 'FIXED_LINE_OR_MOBILE'\r\n\t\t}\r\n\r\n\t\t// v1 metadata.\r\n\t\t// Legacy.\r\n\t\t// Deprecated.\r\n\t\tif (!metadata.type('MOBILE')) {\r\n\t\t\treturn 'FIXED_LINE_OR_MOBILE'\r\n\t\t}\r\n\r\n\t\t// Check if the number happens to qualify as both fixed line and mobile.\r\n\t\t// (no such country in the minimal metadata set)\r\n\t\t/* istanbul ignore if */\r\n\t\tif (isNumberTypeEqualTo(nationalNumber, 'MOBILE', metadata)) {\r\n\t\t\treturn 'FIXED_LINE_OR_MOBILE'\r\n\t\t}\r\n\r\n\t\treturn 'FIXED_LINE'\r\n\t}\r\n\r\n\tfor (const type of NON_FIXED_LINE_PHONE_TYPES) {\r\n\t\tif (isNumberTypeEqualTo(nationalNumber, type, metadata)) {\r\n\t\t\treturn type\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isNumberTypeEqualTo(nationalNumber, type, metadata) {\r\n\ttype = metadata.type(type)\r\n\tif (!type || !type.pattern()) {\r\n\t\treturn false\r\n\t}\r\n\t// Check if any possible number lengths are present;\r\n\t// if so, we use them to avoid checking\r\n\t// the validation pattern if they don't match.\r\n\t// If they are absent, this means they match\r\n\t// the general description, which we have\r\n\t// already checked before a specific number type.\r\n\tif (type.possibleLengths() &&\r\n\t\ttype.possibleLengths().indexOf(nationalNumber.length) < 0) {\r\n\t\treturn false\r\n\t}\r\n\treturn matchesEntirely(nationalNumber, type.pattern())\r\n}","import { VALID_PUNCTUATION } from '../constants'\r\n\r\n// Removes brackets and replaces dashes with spaces.\r\n//\r\n// E.g. \"(999) 111-22-33\" -> \"999 111 22 33\"\r\n//\r\n// For some reason Google's metadata contains `<intlFormat/>`s with brackets and dashes.\r\n// Meanwhile, there's no single opinion about using punctuation in international phone numbers.\r\n//\r\n// For example, Google's `<intlFormat/>` for USA is `+1 213-373-4253`.\r\n// And here's a quote from WikiPedia's \"North American Numbering Plan\" page:\r\n// https://en.wikipedia.org/wiki/North_American_Numbering_Plan\r\n//\r\n// \"The country calling code for all countries participating in the NANP is 1.\r\n// In international format, an NANP number should be listed as +1 301 555 01 00,\r\n// where 301 is an area code (Maryland).\"\r\n//\r\n// I personally prefer the international format without any punctuation.\r\n// For example, brackets are remnants of the old age, meaning that the\r\n// phone number part in brackets (so called \"area code\") can be omitted\r\n// if dialing within the same \"area\".\r\n// And hyphens were clearly introduced for splitting local numbers into memorizable groups.\r\n// For example, remembering \"5553535\" is difficult but \"555-35-35\" is much simpler.\r\n// Imagine a man taking a bus from home to work and seeing an ad with a phone number.\r\n// He has a couple of seconds to memorize that number until it passes by.\r\n// If it were spaces instead of hyphens the man wouldn't necessarily get it,\r\n// but with hyphens instead of spaces the grouping is more explicit.\r\n// I personally think that hyphens introduce visual clutter,\r\n// so I prefer replacing them with spaces in international numbers.\r\n// In the modern age all output is done on displays where spaces are clearly distinguishable\r\n// so hyphens can be safely replaced with spaces without losing any legibility.\r\n//\r\nexport default function applyInternationalSeparatorStyle(formattedNumber) {\r\n\treturn formattedNumber.replace(new RegExp(`[${VALID_PUNCTUATION}]+`, 'g'), ' ').trim()\r\n}","import applyInternationalSeparatorStyle from './applyInternationalSeparatorStyle'\r\n\r\n// This was originally set to $1 but there are some countries for which the\r\n// first group is not used in the national pattern (e.g. Argentina) so the $1\r\n// group does not match correctly. Therefore, we use `\\d`, so that the first\r\n// group actually used in the pattern will be matched.\r\nexport const FIRST_GROUP_PATTERN = /(\\$\\d)/\r\n\r\nexport default function formatNationalNumberUsingFormat(\r\n\tnumber,\r\n\tformat,\r\n\t{\r\n\t\tuseInternationalFormat,\r\n\t\twithNationalPrefix,\r\n\t\tcarrierCode,\r\n\t\tmetadata\r\n\t}\r\n) {\r\n\tconst formattedNumber = number.replace(\r\n\t\tnew RegExp(format.pattern()),\r\n\t\tuseInternationalFormat\r\n\t\t\t? format.internationalFormat()\r\n\t\t\t: (\r\n\t\t\t\t// This library doesn't use `domestic_carrier_code_formatting_rule`,\r\n\t\t\t\t// because that one is only used when formatting phone numbers\r\n\t\t\t\t// for dialing from a mobile phone, and this is not a dialing library.\r\n\t\t\t\t// carrierCode && format.domesticCarrierCodeFormattingRule()\r\n\t\t\t\t// \t// First, replace the $CC in the formatting rule with the desired carrier code.\r\n\t\t\t\t// \t// Then, replace the $FG in the formatting rule with the first group\r\n\t\t\t\t// \t// and the carrier code combined in the appropriate way.\r\n\t\t\t\t// \t? format.format().replace(FIRST_GROUP_PATTERN, format.domesticCarrierCodeFormattingRule().replace('$CC', carrierCode))\r\n\t\t\t\t// \t: (\r\n\t\t\t\t// \t\twithNationalPrefix && format.nationalPrefixFormattingRule()\r\n\t\t\t\t// \t\t\t? format.format().replace(FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule())\r\n\t\t\t\t// \t\t\t: format.format()\r\n\t\t\t\t// \t)\r\n\t\t\t\twithNationalPrefix && format.nationalPrefixFormattingRule()\r\n\t\t\t\t\t? format.format().replace(FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule())\r\n\t\t\t\t\t: format.format()\r\n\t\t\t)\r\n\t)\r\n\tif (useInternationalFormat) {\r\n\t\treturn applyInternationalSeparatorStyle(formattedNumber)\r\n\t}\r\n\treturn formattedNumber\r\n}","import Metadata from '../metadata'\r\n\r\n/**\r\n * Pattern that makes it easy to distinguish whether a region has a single\r\n * international dialing prefix or not. If a region has a single international\r\n * prefix (e.g. 011 in USA), it will be represented as a string that contains\r\n * a sequence of ASCII digits, and possibly a tilde, which signals waiting for\r\n * the tone. If there are multiple available international prefixes in a\r\n * region, they will be represented as a regex string that always contains one\r\n * or more characters that are not ASCII digits or a tilde.\r\n */\r\nconst SINGLE_IDD_PREFIX_REG_EXP = /^[\\d]+(?:[~\\u2053\\u223C\\uFF5E][\\d]+)?$/\r\n\r\n// For regions that have multiple IDD prefixes\r\n// a preferred IDD prefix is returned.\r\nexport default function getIddPrefix(country, callingCode, metadata) {\r\n\tconst countryMetadata = new Metadata(metadata)\r\n\tcountryMetadata.selectNumberingPlan(country, callingCode)\r\n\tif (countryMetadata.defaultIDDPrefix()) {\r\n\t\treturn countryMetadata.defaultIDDPrefix()\r\n\t}\r\n\tif (SINGLE_IDD_PREFIX_REG_EXP.test(countryMetadata.IDDPrefix())) {\r\n\t\treturn countryMetadata.IDDPrefix()\r\n\t}\r\n}\r\n","// This is a port of Google Android `libphonenumber`'s\r\n// `phonenumberutil.js` of December 31th, 2018.\r\n//\r\n// https://github.com/googlei18n/libphonenumber/commits/master/javascript/i18n/phonenumbers/phonenumberutil.js\r\n\r\nimport matchesEntirely from './helpers/matchesEntirely'\r\nimport formatNationalNumberUsingFormat from './helpers/formatNationalNumberUsingFormat'\r\nimport Metadata, { getCountryCallingCode } from './metadata'\r\nimport getIddPrefix from './helpers/getIddPrefix'\r\nimport { formatRFC3966 } from './helpers/RFC3966'\r\n\r\nconst DEFAULT_OPTIONS = {\r\n\tformatExtension: (formattedNumber, extension, metadata) => `${formattedNumber}${metadata.ext()}${extension}`\r\n}\r\n\r\n// Formats a phone number\r\n//\r\n// Example use cases:\r\n//\r\n// ```js\r\n// formatNumber('8005553535', 'RU', 'INTERNATIONAL')\r\n// formatNumber('8005553535', 'RU', 'INTERNATIONAL', metadata)\r\n// formatNumber({ phone: '8005553535', country: 'RU' }, 'INTERNATIONAL')\r\n// formatNumber({ phone: '8005553535', country: 'RU' }, 'INTERNATIONAL', metadata)\r\n// formatNumber('+78005553535', 'NATIONAL')\r\n// formatNumber('+78005553535', 'NATIONAL', metadata)\r\n// ```\r\n//\r\nexport default function formatNumber(input, format, options, metadata) {\r\n\t// Apply default options.\r\n\tif (options) {\r\n\t\toptions = { ...DEFAULT_OPTIONS, ...options }\r\n\t} else {\r\n\t\toptions = DEFAULT_OPTIONS\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\tif (input.country && input.country !== '001') {\r\n\t\t// Validate `input.country`.\r\n\t\tif (!metadata.hasCountry(input.country)) {\r\n\t\t\tthrow new Error(`Unknown country: ${input.country}`)\r\n\t\t}\r\n\t\tmetadata.country(input.country)\r\n\t}\r\n\telse if (input.countryCallingCode) {\r\n\t\tmetadata.selectNumberingPlan(input.countryCallingCode)\r\n\t}\r\n\telse return input.phone || ''\r\n\r\n\tconst countryCallingCode = metadata.countryCallingCode()\r\n\r\n\tconst nationalNumber = options.v2 ? input.nationalNumber : input.phone\r\n\r\n\t// This variable should have been declared inside `case`s\r\n\t// but Babel has a bug and it says \"duplicate variable declaration\".\r\n\tlet number\r\n\r\n\tswitch (format) {\r\n\t\tcase 'NATIONAL':\r\n\t\t\t// Legacy argument support.\r\n\t\t\t// (`{ country: ..., phone: '' }`)\r\n\t\t\tif (!nationalNumber) {\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t\tnumber = formatNationalNumber(nationalNumber, input.carrierCode, 'NATIONAL', metadata, options)\r\n\t\t\treturn addExtension(number, input.ext, metadata, options.formatExtension)\r\n\r\n\t\tcase 'INTERNATIONAL':\r\n\t\t\t// Legacy argument support.\r\n\t\t\t// (`{ country: ..., phone: '' }`)\r\n\t\t\tif (!nationalNumber) {\r\n\t\t\t\treturn `+${countryCallingCode}`\r\n\t\t\t}\r\n\t\t\tnumber = formatNationalNumber(nationalNumber, null, 'INTERNATIONAL', metadata, options)\r\n\t\t\tnumber = `+${countryCallingCode} ${number}`\r\n\t\t\treturn addExtension(number, input.ext, metadata, options.formatExtension)\r\n\r\n\t\tcase 'E.164':\r\n\t\t\t// `E.164` doesn't define \"phone number extensions\".\r\n\t\t\treturn `+${countryCallingCode}${nationalNumber}`\r\n\r\n\t\tcase 'RFC3966':\r\n\t\t\treturn formatRFC3966({\r\n\t\t\t\tnumber: `+${countryCallingCode}${nationalNumber}`,\r\n\t\t\t\text: input.ext\r\n\t\t\t})\r\n\r\n\t\t// For reference, here's Google's IDD formatter:\r\n\t\t// https://github.com/google/libphonenumber/blob/32719cf74e68796788d1ca45abc85dcdc63ba5b9/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L1546\r\n\t\t// Not saying that this IDD formatter replicates it 1:1, but it seems to work.\r\n\t\t// Who would even need to format phone numbers in IDD format anyway?\r\n\t\tcase 'IDD':\r\n\t\t\tif (!options.fromCountry) {\r\n\t\t\t\treturn\r\n\t\t\t\t// throw new Error('`fromCountry` option not passed for IDD-prefixed formatting.')\r\n\t\t\t}\r\n\t\t\tconst formattedNumber = formatIDD(\r\n\t\t\t\tnationalNumber,\r\n\t\t\t\tinput.carrierCode,\r\n\t\t\t\tcountryCallingCode,\r\n\t\t\t\toptions.fromCountry,\r\n\t\t\t\tmetadata\r\n\t\t\t)\r\n\t\t\treturn addExtension(formattedNumber, input.ext, metadata, options.formatExtension)\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error(`Unknown \"format\" argument passed to \"formatNumber()\": \"${format}\"`)\r\n\t}\r\n}\r\n\r\nfunction formatNationalNumber(number, carrierCode, formatAs, metadata, options) {\r\n\tconst format = chooseFormatForNumber(metadata.formats(), number)\r\n\tif (!format) {\r\n\t\treturn number\r\n\t}\r\n\treturn formatNationalNumberUsingFormat(\r\n\t\tnumber,\r\n\t\tformat,\r\n\t\t{\r\n\t\t\tuseInternationalFormat: formatAs === 'INTERNATIONAL',\r\n\t\t\twithNationalPrefix: format.nationalPrefixIsOptionalWhenFormattingInNationalFormat() && (options && options.nationalPrefix === false) ? false : true,\r\n\t\t\tcarrierCode,\r\n\t\t\tmetadata\r\n\t\t}\r\n\t)\r\n}\r\n\r\nfunction chooseFormatForNumber(availableFormats, nationalNnumber) {\r\n\tfor (const format of availableFormats) {\r\n\t\t// Validate leading digits\r\n\t\tif (format.leadingDigitsPatterns().length > 0) {\r\n\t\t\t// The last leading_digits_pattern is used here, as it is the most detailed\r\n\t\t\tconst lastLeadingDigitsPattern = format.leadingDigitsPatterns()[format.leadingDigitsPatterns().length - 1]\r\n\t\t\t// If leading digits don't match then move on to the next phone number format\r\n\t\t\tif (nationalNnumber.search(lastLeadingDigitsPattern) !== 0) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Check that the national number matches the phone number format regular expression\r\n\t\tif (matchesEntirely(nationalNnumber, format.pattern())) {\r\n\t\t\treturn format\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction addExtension(formattedNumber, ext, metadata, formatExtension) {\r\n\treturn ext ? formatExtension(formattedNumber, ext, metadata) : formattedNumber\r\n}\r\n\r\nfunction formatIDD(\r\n\tnationalNumber,\r\n\tcarrierCode,\r\n\tcountryCallingCode,\r\n\tfromCountry,\r\n\tmetadata\r\n) {\r\n\tconst fromCountryCallingCode = getCountryCallingCode(fromCountry, metadata.metadata)\r\n\t// When calling within the same country calling code.\r\n\tif (fromCountryCallingCode === countryCallingCode) {\r\n\t\tconst formattedNumber = formatNationalNumber(nationalNumber, carrierCode, 'NATIONAL', metadata)\r\n\t\t// For NANPA regions, return the national format for these regions\r\n\t\t// but prefix it with the country calling code.\r\n\t\tif (countryCallingCode === '1') {\r\n\t\t\treturn countryCallingCode + ' ' + formattedNumber\r\n\t\t}\r\n\t\t// If regions share a country calling code, the country calling code need\r\n\t\t// not be dialled. This also applies when dialling within a region, so this\r\n\t\t// if clause covers both these cases. Technically this is the case for\r\n\t\t// dialling from La Reunion to other overseas departments of France (French\r\n\t\t// Guiana, Martinique, Guadeloupe), but not vice versa - so we don't cover\r\n\t\t// this edge case for now and for those cases return the version including\r\n\t\t// country calling code. Details here:\r\n\t\t// http://www.petitfute.com/voyage/225-info-pratiques-reunion\r\n\t\t//\r\n\t\treturn formattedNumber\r\n\t}\r\n\tconst iddPrefix = getIddPrefix(fromCountry, undefined, metadata.metadata)\r\n\tif (iddPrefix) {\r\n\t\treturn `${iddPrefix} ${countryCallingCode} ${formatNationalNumber(nationalNumber, null, 'INTERNATIONAL', metadata)}`\r\n\t}\r\n}","import isViablePhoneNumber from './isViablePhoneNumber'\r\n\r\n// https://www.ietf.org/rfc/rfc3966.txt\r\n\r\n/**\r\n * @param  {string} text - Phone URI (RFC 3966).\r\n * @return {object} `{ ?number, ?ext }`.\r\n */\r\nexport function parseRFC3966(text) {\r\n\tlet number\r\n\tlet ext\r\n\r\n\t// Replace \"tel:\" with \"tel=\" for parsing convenience.\r\n\ttext = text.replace(/^tel:/, 'tel=')\r\n\r\n\tfor (const part of text.split(';')) {\r\n\t\tconst [name, value] = part.split('=')\r\n\t\tswitch (name) {\r\n\t\t\tcase 'tel':\r\n\t\t\t\tnumber = value\r\n\t\t\t\tbreak\r\n\t\t\tcase 'ext':\r\n\t\t\t\text = value\r\n\t\t\t\tbreak\r\n\t\t\tcase 'phone-context':\r\n\t\t\t\t// Only \"country contexts\" are supported.\r\n\t\t\t\t// \"Domain contexts\" are ignored.\r\n\t\t\t\tif (value[0] === '+') {\r\n\t\t\t\t\tnumber = value + number\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\t// If the phone number is not viable, then abort.\r\n\tif (!isViablePhoneNumber(number)) {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tconst result = { number }\r\n\tif (ext) {\r\n\t\tresult.ext = ext\r\n\t}\r\n\treturn result\r\n}\r\n\r\n/**\r\n * @param  {object} - `{ ?number, ?extension }`.\r\n * @return {string} Phone URI (RFC 3966).\r\n */\r\nexport function formatRFC3966({ number, ext }) {\r\n\tif (!number) {\r\n\t\treturn ''\r\n\t}\r\n\tif (number[0] !== '+') {\r\n\t\tthrow new Error(`\"formatRFC3966()\" expects \"number\" to be in E.164 format.`)\r\n\t}\r\n\treturn `tel:${number}${ext ? ';ext=' + ext : ''}`\r\n}","import Metadata from './metadata'\r\nimport isPossibleNumber from './isPossibleNumber_'\r\nimport isValidNumber from './validate_'\r\nimport isValidNumberForRegion from './isValidNumberForRegion_'\r\nimport getNumberType from './helpers/getNumberType'\r\nimport formatNumber from './format_'\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\nexport default class PhoneNumber {\r\n\tconstructor(countryCallingCode, nationalNumber, metadata) {\r\n\t\tif (!countryCallingCode) {\r\n\t\t\tthrow new TypeError('`country` or `countryCallingCode` not passed')\r\n\t\t}\r\n\t\tif (!nationalNumber) {\r\n\t\t\tthrow new TypeError('`nationalNumber` not passed')\r\n\t\t}\r\n\t\tif (!metadata) {\r\n\t\t\tthrow new TypeError('`metadata` not passed')\r\n\t\t}\r\n\t\tconst _metadata = new Metadata(metadata)\r\n\t\t// If country code is passed then derive `countryCallingCode` from it.\r\n\t\t// Also store the country code as `.country`.\r\n\t\tif (isCountryCode(countryCallingCode)) {\r\n\t\t\tthis.country = countryCallingCode\r\n\t\t\t_metadata.country(countryCallingCode)\r\n\t\t\tcountryCallingCode = _metadata.countryCallingCode()\r\n\t\t} else {\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t\tif (_metadata.isNonGeographicCallingCode(countryCallingCode)) {\r\n\t\t\t\t\tthis.country = '001'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.countryCallingCode = countryCallingCode\r\n\t\tthis.nationalNumber = nationalNumber\r\n\t\tthis.number = '+' + this.countryCallingCode + this.nationalNumber\r\n\t\tthis.metadata = metadata\r\n\t}\r\n\r\n\tsetExt(ext) {\r\n\t\tthis.ext = ext\r\n\t}\r\n\r\n\tisPossible() {\r\n\t\treturn isPossibleNumber(this, { v2: true }, this.metadata)\r\n\t}\r\n\r\n\tisValid() {\r\n\t\treturn isValidNumber(this, { v2: true }, this.metadata)\r\n\t}\r\n\r\n\tisNonGeographic() {\r\n\t\tconst metadata = new Metadata(this.metadata)\r\n\t\treturn metadata.isNonGeographicCallingCode(this.countryCallingCode)\r\n\t}\r\n\r\n\tisEqual(phoneNumber) {\r\n\t\treturn this.number === phoneNumber.number && this.ext === phoneNumber.ext\r\n\t}\r\n\r\n\t// // Is just an alias for `this.isValid() && this.country === country`.\r\n\t// // https://github.com/googlei18n/libphonenumber/blob/master/FAQ.md#when-should-i-use-isvalidnumberforregion\r\n\t// isValidForRegion(country) {\r\n\t// \treturn isValidNumberForRegion(this, country, { v2: true }, this.metadata)\r\n\t// }\r\n\r\n\tgetType() {\r\n\t\treturn getNumberType(this, { v2: true }, this.metadata)\r\n\t}\r\n\r\n\tformat(format, options) {\r\n\t\treturn formatNumber(\r\n\t\t\tthis,\r\n\t\t\tformat,\r\n\t\t\toptions ? { ...options, v2: true } : { v2: true },\r\n\t\t\tthis.metadata\r\n\t\t)\r\n\t}\r\n\r\n\tformatNational(options) {\r\n\t\treturn this.format('NATIONAL', options)\r\n\t}\r\n\r\n\tformatInternational(options) {\r\n\t\treturn this.format('INTERNATIONAL', options)\r\n\t}\r\n\r\n\tgetURI(options) {\r\n\t\treturn this.format('RFC3966', options)\r\n\t}\r\n}\r\n\r\nconst isCountryCode = (value) => /^[A-Z]{2}$/.test(value)","import Metadata from './metadata'\r\nimport matchesEntirely from './helpers/matchesEntirely'\r\nimport getNumberType from './helpers/getNumberType'\r\n\r\n/**\r\n * Checks if a given phone number is valid.\r\n *\r\n * If the `number` is a string, it will be parsed to an object,\r\n * but only if it contains only valid phone number characters (including punctuation).\r\n * If the `number` is an object, it is used as is.\r\n *\r\n * The optional `defaultCountry` argument is the default country.\r\n * I.e. it does not restrict to just that country,\r\n * e.g. in those cases where several countries share\r\n * the same phone numbering rules (NANPA, Britain, etc).\r\n * For example, even though the number `07624 369230`\r\n * belongs to the Isle of Man (\"IM\" country code)\r\n * calling `isValidNumber('07624369230', 'GB', metadata)`\r\n * still returns `true` because the country is not restricted to `GB`,\r\n * it's just that `GB` is the default one for the phone numbering rules.\r\n * For restricting the country see `isValidNumberForRegion()`\r\n * though restricting a country might not be a good idea.\r\n * https://github.com/googlei18n/libphonenumber/blob/master/FAQ.md#when-should-i-use-isvalidnumberforregion\r\n *\r\n * Examples:\r\n *\r\n * ```js\r\n * isValidNumber('+78005553535', metadata)\r\n * isValidNumber('8005553535', 'RU', metadata)\r\n * isValidNumber('88005553535', 'RU', metadata)\r\n * isValidNumber({ phone: '8005553535', country: 'RU' }, metadata)\r\n * ```\r\n */\r\nexport default function isValidNumber(input, options, metadata)\r\n{\r\n\t// If assigning the `{}` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\toptions = options || {}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\t// This is just to support `isValidNumber({})`\r\n\t// for cases when `parseNumber()` returns `{}`.\r\n\tif (!input.country)\r\n\t{\r\n\t\treturn false\r\n\t}\r\n\r\n\tmetadata.selectNumberingPlan(input.country, input.countryCallingCode)\r\n\r\n\t// By default, countries only have type regexps when it's required for\r\n\t// distinguishing different countries having the same `countryCallingCode`.\r\n\tif (metadata.hasTypes())\r\n\t{\r\n\t\treturn getNumberType(input, options, metadata.metadata) !== undefined\r\n\t}\r\n\r\n\t// If there are no type regexps for this country in metadata then use\r\n\t// `nationalNumberPattern` as a \"better than nothing\" replacement.\r\n\tconst national_number = options.v2 ? input.nationalNumber : input.phone\r\n\treturn matchesEntirely(national_number, metadata.nationalNumberPattern())\r\n}","import Metadata from '../metadata'\r\nimport { VALID_DIGITS } from '../constants'\r\n\r\nconst CAPTURING_DIGIT_PATTERN = new RegExp('([' + VALID_DIGITS + '])')\r\n\r\nexport default function stripIddPrefix(number, country, callingCode, metadata) {\r\n\tif (!country) {\r\n\t\treturn\r\n\t}\r\n\t// Check if the number is IDD-prefixed.\r\n\tconst countryMetadata = new Metadata(metadata)\r\n\tcountryMetadata.selectNumberingPlan(country, callingCode)\r\n\tconst IDDPrefixPattern = new RegExp(countryMetadata.IDDPrefix())\r\n\tif (number.search(IDDPrefixPattern) !== 0) {\r\n\t\treturn\r\n\t}\r\n\t// Strip IDD prefix.\r\n\tnumber = number.slice(number.match(IDDPrefixPattern)[0].length)\r\n\t// If there're any digits after an IDD prefix,\r\n\t// then those digits are a country calling code.\r\n\t// Since no country code starts with a `0`,\r\n\t// the code below validates that the next digit (if present) is not `0`.\r\n\tconst matchedGroups = number.match(CAPTURING_DIGIT_PATTERN)\r\n\tif (matchedGroups && matchedGroups[1] != null && matchedGroups[1].length > 0) {\r\n\t\tif (matchedGroups[1] === '0') {\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\treturn number\r\n}","/**\r\n * Strips any national prefix (such as 0, 1) present in a\r\n * (possibly incomplete) number provided.\r\n * \"Carrier codes\" are only used  in Colombia and Brazil,\r\n * and only when dialing within those countries from a mobile phone to a fixed line number.\r\n * Sometimes it won't actually strip national prefix\r\n * and will instead prepend some digits to the `number`:\r\n * for example, when number `2345678` is passed with `VI` country selected,\r\n * it will return `{ number: \"3402345678\" }`, because `340` area code is prepended.\r\n * @param {string} number  National number digits.\r\n * @param {object} metadata  Metadata with country selected.\r\n * @return {object} `{ nationalNumber: string, nationalPrefix: string? carrierCode: string? }`.\r\n */\r\nexport default function extractNationalNumberFromPossiblyIncompleteNumber(number, metadata) {\r\n\tif (number && metadata.numberingPlan.nationalPrefixForParsing()) {\r\n\t\t// See METADATA.md for the description of\r\n\t\t// `national_prefix_for_parsing` and `national_prefix_transform_rule`.\r\n\t\t// Attempt to parse the first digits as a national prefix.\r\n\t\tconst prefixPattern = new RegExp('^(?:' + metadata.numberingPlan.nationalPrefixForParsing() + ')')\r\n\t\tconst prefixMatch = prefixPattern.exec(number)\r\n\t\tif (prefixMatch) {\r\n\t\t\tlet nationalNumber\r\n\t\t\tlet carrierCode\r\n\t\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/-/blob/master/METADATA.md#national_prefix_for_parsing--national_prefix_transform_rule\r\n\t\t\t// If a `national_prefix_for_parsing` has any \"capturing groups\"\r\n\t\t\t// then it means that the national (significant) number is equal to\r\n\t\t\t// those \"capturing groups\" transformed via `national_prefix_transform_rule`,\r\n\t\t\t// and nothing could be said about the actual national prefix:\r\n\t\t\t// what is it and was it even there.\r\n\t\t\t// If a `national_prefix_for_parsing` doesn't have any \"capturing groups\",\r\n\t\t\t// then everything it matches is a national prefix.\r\n\t\t\t// To determine whether `national_prefix_for_parsing` matched any\r\n\t\t\t// \"capturing groups\", the value of the result of calling `.exec()`\r\n\t\t\t// is looked at, and if it has non-undefined values where there're\r\n\t\t\t// \"capturing groups\" in the regular expression, then it means\r\n\t\t\t// that \"capturing groups\" have been matched.\r\n\t\t\t// It's not possible to tell whether there'll be any \"capturing gropus\"\r\n\t\t\t// before the matching process, because a `national_prefix_for_parsing`\r\n\t\t\t// could exhibit both behaviors.\r\n\t\t\tconst capturedGroupsCount = prefixMatch.length - 1\r\n\t\t\tconst hasCapturedGroups = capturedGroupsCount > 0 && prefixMatch[capturedGroupsCount]\r\n\t\t\tif (metadata.nationalPrefixTransformRule() && hasCapturedGroups) {\r\n\t\t\t\tnationalNumber = number.replace(\r\n\t\t\t\t\tprefixPattern,\r\n\t\t\t\t\tmetadata.nationalPrefixTransformRule()\r\n\t\t\t\t)\r\n\t\t\t\t// If there's more than one captured group,\r\n\t\t\t\t// then carrier code is the second one.\r\n\t\t\t\tif (capturedGroupsCount > 1) {\r\n\t\t\t\t\tcarrierCode = prefixMatch[1]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If there're no \"capturing groups\",\r\n\t\t\t// or if there're \"capturing groups\" but no\r\n\t\t\t// `national_prefix_transform_rule`,\r\n\t\t\t// then just strip the national prefix from the number,\r\n\t\t\t// and possibly a carrier code.\r\n\t\t\t// Seems like there could be more.\r\n\t\t\telse {\r\n\t\t\t\t// `prefixBeforeNationalNumber` is the whole substring matched by\r\n\t\t\t\t// the `national_prefix_for_parsing` regular expression.\r\n\t\t\t\t// There seem to be no guarantees that it's just a national prefix.\r\n\t\t\t\t// For example, if there's a carrier code, it's gonna be a\r\n\t\t\t\t// part of `prefixBeforeNationalNumber` too.\r\n\t\t\t\tconst prefixBeforeNationalNumber = prefixMatch[0]\r\n\t\t\t\tnationalNumber = number.slice(prefixBeforeNationalNumber.length)\r\n\t\t\t\t// If there's at least one captured group,\r\n\t\t\t\t// then carrier code is the first one.\r\n\t\t\t\tif (hasCapturedGroups) {\r\n\t\t\t\t\tcarrierCode = prefixMatch[1]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Tries to guess whether a national prefix was present in the input.\r\n\t\t\t// This is not something copy-pasted from Google's library:\r\n\t\t\t// they don't seem to have an equivalent for that.\r\n\t\t\t// So this isn't an \"officially approved\" way of doing something like that.\r\n\t\t\t// But since there seems no other existing method, this library uses it.\r\n\t\t\tlet nationalPrefix\r\n\t\t\tif (hasCapturedGroups) {\r\n\t\t\t\tconst possiblePositionOfTheFirstCapturedGroup = number.indexOf(prefixMatch[1])\r\n\t\t\t\tconst possibleNationalPrefix = number.slice(0, possiblePositionOfTheFirstCapturedGroup)\r\n\t\t\t\t// Example: an Argentinian (AR) phone number `0111523456789`.\r\n\t\t\t\t// `prefixMatch[0]` is `01115`, and `$1` is `11`,\r\n\t\t\t\t// and the rest of the phone number is `23456789`.\r\n\t\t\t\t// The national number is transformed via `9$1` to `91123456789`.\r\n\t\t\t\t// National prefix `0` is detected being present at the start.\r\n\t\t\t\t// if (possibleNationalPrefix.indexOf(metadata.numberingPlan.nationalPrefix()) === 0) {\r\n\t\t\t\tif (possibleNationalPrefix === metadata.numberingPlan.nationalPrefix()) {\r\n\t\t\t\t\tnationalPrefix = metadata.numberingPlan.nationalPrefix()\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnationalPrefix = prefixMatch[0]\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tnationalNumber,\r\n\t\t\t\tnationalPrefix,\r\n\t\t\t\tcarrierCode\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n   return {\r\n   \tnationalNumber: number\r\n   }\r\n}","import extractNationalNumberFromPossiblyIncompleteNumber from './extractNationalNumberFromPossiblyIncompleteNumber'\r\nimport matchesEntirely from './matchesEntirely'\r\nimport checkNumberLength from './checkNumberLength'\r\n\r\n/**\r\n * Strips national prefix and carrier code from a complete phone number.\r\n * The difference from the non-\"FromCompleteNumber\" function is that\r\n * it won't extract national prefix if the resultant number is too short\r\n * to be a complete number for the selected phone numbering plan.\r\n * @param  {string} number  Complete phone number digits.\r\n * @param  {Metadata} metadata  Metadata with a phone numbering plan selected.\r\n * @return {object} `{ nationalNumber: string, carrierCode: string? }`.\r\n */\r\nexport default function extractNationalNumber(number, metadata) {\r\n\t// Parsing national prefixes and carrier codes\r\n\t// is only required for local phone numbers\r\n\t// but some people don't understand that\r\n\t// and sometimes write international phone numbers\r\n\t// with national prefixes (or maybe even carrier codes).\r\n\t// http://ucken.blogspot.ru/2016/03/trunk-prefixes-in-skype4b.html\r\n\t// Google's original library forgives such mistakes\r\n\t// and so does this library, because it has been requested:\r\n\t// https://github.com/catamphetamine/libphonenumber-js/issues/127\r\n\tconst {\r\n\t\tnationalNumber,\r\n\t\tcarrierCode\r\n\t} = extractNationalNumberFromPossiblyIncompleteNumber(\r\n\t\tnumber,\r\n\t\tmetadata\r\n\t)\r\n\tif (!shouldExtractNationalPrefix(number, nationalNumber, metadata)) {\r\n\t\t// Don't strip the national prefix.\r\n\t\treturn { nationalNumber: number }\r\n\t}\r\n\t// If a national prefix has been extracted, check to see\r\n\t// if the resultant number isn't too short.\r\n\t// Same code in Google's `libphonenumber`:\r\n\t// https://github.com/google/libphonenumber/blob/e326fa1fc4283bb05eb35cb3c15c18f98a31af33/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L3291-L3302\r\n\t// For some reason, they do this check right after the `national_number_pattern` check\r\n\t// this library does in `shouldExtractNationalPrefix()` function.\r\n\t// Why is there a second \"resultant\" number validity check?\r\n\t// They don't provide an explanation.\r\n\t// This library just copies the behavior.\r\n\tif (number.length !== nationalNumber.length + (carrierCode ? carrierCode.length : 0)) {\r\n\t\t// If not using legacy generated metadata (before version `1.0.18`)\r\n\t\t// then it has \"possible lengths\", so use those to validate the number length.\r\n\t\tif (metadata.possibleLengths()) {\r\n\t\t\t// \"We require that the NSN remaining after stripping the national prefix and\r\n\t\t\t// carrier code be long enough to be a possible length for the region.\r\n\t\t\t// Otherwise, we don't do the stripping, since the original number could be\r\n\t\t\t// a valid short number.\"\r\n\t\t\t// https://github.com/google/libphonenumber/blob/876268eb1ad6cdc1b7b5bef17fc5e43052702d57/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L3236-L3250\r\n\t\t\tswitch (checkNumberLength(nationalNumber, metadata)) {\r\n\t\t\t\tcase 'TOO_SHORT':\r\n\t\t\t\tcase 'INVALID_LENGTH':\r\n\t\t\t\t// case 'IS_POSSIBLE_LOCAL_ONLY':\r\n\t\t\t\t\t// Don't strip the national prefix.\r\n\t\t\t\t\treturn { nationalNumber: number }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn { nationalNumber, carrierCode }\r\n}\r\n\r\n// In some countries, the same digit could be a national prefix\r\n// or a leading digit of a valid phone number.\r\n// For example, in Russia, national prefix is `8`,\r\n// and also `800 555 35 35` is a valid number\r\n// in which `8` is not a national prefix, but the first digit\r\n// of a national (significant) number.\r\n// Same's with Belarus:\r\n// `82004910060` is a valid national (significant) number,\r\n// but `2004910060` is not.\r\n// To support such cases (to prevent the code from always stripping\r\n// national prefix), a condition is imposed: a national prefix\r\n// is not extracted when the original number is \"viable\" and the\r\n// resultant number is not, a \"viable\" national number being the one\r\n// that matches `national_number_pattern`.\r\nfunction shouldExtractNationalPrefix(number, nationalSignificantNumber, metadata) {\r\n\t// The equivalent in Google's code is:\r\n\t// https://github.com/google/libphonenumber/blob/e326fa1fc4283bb05eb35cb3c15c18f98a31af33/java/libphonenumber/src/com/google/i18n/phonenumbers/PhoneNumberUtil.java#L2969-L3004\r\n\tif (matchesEntirely(number, metadata.nationalNumberPattern()) &&\r\n\t\t!matchesEntirely(nationalSignificantNumber, metadata.nationalNumberPattern())) {\r\n\t\treturn false\r\n\t}\r\n\t// Just \"possible\" number check would be more relaxed, so it's not used.\r\n\t// if (isPossibleNumber(number, metadata) &&\r\n\t// \t!isPossibleNumber(numberWithNationalPrefixExtracted, metadata)) {\r\n\t// \treturn false\r\n\t// }\r\n\treturn true\r\n}","import Metadata from '../metadata'\r\nimport matchesEntirely from './matchesEntirely'\r\nimport extractNationalNumber from './extractNationalNumber'\r\nimport checkNumberLength from './checkNumberLength'\r\nimport getCountryCallingCode from '../getCountryCallingCode'\r\n\r\n/**\r\n * Sometimes some people incorrectly input international phone numbers\r\n * without the leading `+`. This function corrects such input.\r\n * @param  {string} number  Phone number digits.\r\n * @param  {string?} country\r\n * @param  {string?} callingCode\r\n * @param  {object} metadata\r\n * @return {object} `{ countryCallingCode: string?, number: string }`.\r\n */\r\nexport default function extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(\r\n\tnumber,\r\n\tcountry,\r\n\tcallingCode,\r\n\tmetadata\r\n) {\r\n\tconst countryCallingCode = country ? getCountryCallingCode(country, metadata) : callingCode\r\n\tif (number.indexOf(countryCallingCode) === 0) {\r\n\t\tmetadata = new Metadata(metadata)\r\n\t\tmetadata.selectNumberingPlan(country, callingCode)\r\n\t\tconst possibleShorterNumber = number.slice(countryCallingCode.length)\r\n\t\tconst {\r\n\t\t\tnationalNumber: possibleShorterNationalNumber,\r\n\t\t} = extractNationalNumber(\r\n\t\t\tpossibleShorterNumber,\r\n\t\t\tmetadata\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tnationalNumber\r\n\t\t} = extractNationalNumber(\r\n\t\t\tnumber,\r\n\t\t\tmetadata\r\n\t\t)\r\n\t\t// If the number was not valid before but is valid now,\r\n\t\t// or if it was too long before, we consider the number\r\n\t\t// with the country calling code stripped to be a better result\r\n\t\t// and keep that instead.\r\n\t\t// For example, in Germany (+49), `49` is a valid area code,\r\n\t\t// so if a number starts with `49`, it could be both a valid\r\n\t\t// national German number or an international number without\r\n\t\t// a leading `+`.\r\n\t\tif (\r\n\t\t\t(\r\n\t\t\t\t!matchesEntirely(nationalNumber, metadata.nationalNumberPattern())\r\n\t\t\t\t&&\r\n\t\t\t\tmatchesEntirely(possibleShorterNationalNumber, metadata.nationalNumberPattern())\r\n\t\t\t)\r\n\t\t\t||\r\n\t\t\tcheckNumberLength(nationalNumber, metadata) === 'TOO_LONG'\r\n\t\t) {\r\n\t\t\treturn {\r\n\t\t\t\tcountryCallingCode,\r\n\t\t\t\tnumber: possibleShorterNumber\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn { number }\r\n}","import stripIddPrefix from './stripIddPrefix'\r\nimport extractCountryCallingCodeFromInternationalNumberWithoutPlusSign from './extractCountryCallingCodeFromInternationalNumberWithoutPlusSign'\r\nimport Metadata from '../metadata'\r\nimport { MAX_LENGTH_COUNTRY_CODE } from '../constants'\r\n\r\n/**\r\n * Converts a phone number digits (possibly with a `+`)\r\n * into a calling code and the rest phone number digits.\r\n * The \"rest phone number digits\" could include\r\n * a national prefix, carrier code, and national\r\n * (significant) number.\r\n * @param  {string} number  Phone number digits (possibly with a `+`).\r\n * @param  {string} [country] Default country.\r\n * @param  {string} [callingCode]  Default calling code (some phone numbering plans are non-geographic).\r\n * @param  {object} metadata\r\n * @return {object} `{ countryCallingCode: string?, number: string }`\r\n * @example\r\n * // Returns `{ countryCallingCode: \"1\", number: \"2133734253\" }`.\r\n * extractCountryCallingCode('2133734253', 'US', null, metadata)\r\n * extractCountryCallingCode('2133734253', null, '1', metadata)\r\n * extractCountryCallingCode('+12133734253', null, null, metadata)\r\n * extractCountryCallingCode('+12133734253', 'RU', null, metadata)\r\n */\r\nexport default function extractCountryCallingCode(\r\n\tnumber,\r\n\tcountry,\r\n\tcallingCode,\r\n\tmetadata\r\n) {\r\n\tif (!number) {\r\n\t\treturn {}\r\n\t}\r\n\r\n\t// If this is not an international phone number,\r\n\t// then either extract an \"IDD\" prefix, or extract a\r\n\t// country calling code from a number by autocorrecting it\r\n\t// by prepending a leading `+` in cases when it starts\r\n\t// with the country calling code.\r\n\t// https://wikitravel.org/en/International_dialling_prefix\r\n\t// https://github.com/catamphetamine/libphonenumber-js/issues/376\r\n\tif (number[0] !== '+') {\r\n\t\t// Convert an \"out-of-country\" dialing phone number\r\n\t\t// to a proper international phone number.\r\n\t\tconst numberWithoutIDD = stripIddPrefix(number, country, callingCode, metadata)\r\n\t\t// If an IDD prefix was stripped then\r\n\t\t// convert the number to international one\r\n\t\t// for subsequent parsing.\r\n\t\tif (numberWithoutIDD && numberWithoutIDD !== number) {\r\n\t\t\tnumber = '+' + numberWithoutIDD\r\n\t\t} else {\r\n\t\t\t// Check to see if the number starts with the country calling code\r\n\t\t\t// for the default country. If so, we remove the country calling code,\r\n\t\t\t// and do some checks on the validity of the number before and after.\r\n\t\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/376\r\n\t\t\tif (country || callingCode) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcountryCallingCode,\r\n\t\t\t\t\tnumber: shorterNumber\r\n\t\t\t\t} = extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(\r\n\t\t\t\t\tnumber,\r\n\t\t\t\t\tcountry,\r\n\t\t\t\t\tcallingCode,\r\n\t\t\t\t\tmetadata\r\n\t\t\t\t)\r\n\t\t\t\tif (countryCallingCode) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcountryCallingCode,\r\n\t\t\t\t\t\tnumber: shorterNumber\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn { number }\r\n\t\t}\r\n\t}\r\n\r\n\t// Fast abortion: country codes do not begin with a '0'\r\n\tif (number[1] === '0') {\r\n\t\treturn {}\r\n\t}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\t// The thing with country phone codes\r\n\t// is that they are orthogonal to each other\r\n\t// i.e. there's no such country phone code A\r\n\t// for which country phone code B exists\r\n\t// where B starts with A.\r\n\t// Therefore, while scanning digits,\r\n\t// if a valid country code is found,\r\n\t// that means that it is the country code.\r\n\t//\r\n\tlet i = 2\r\n\twhile (i - 1 <= MAX_LENGTH_COUNTRY_CODE && i <= number.length) {\r\n\t\tconst countryCallingCode = number.slice(1, i)\r\n\t\tif (metadata.hasCallingCode(countryCallingCode)) {\r\n\t\t\tmetadata.selectNumberingPlan(countryCallingCode)\r\n\t\t\treturn {\r\n\t\t\t\tcountryCallingCode,\r\n\t\t\t\tnumber: number.slice(i)\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\treturn {}\r\n}","import Metadata from '../metadata'\r\nimport getNumberType from './getNumberType'\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\nexport default function getCountryByCallingCode(callingCode, nationalPhoneNumber, metadata) {\r\n\t/* istanbul ignore if */\r\n\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\tif (metadata.isNonGeographicCallingCode(callingCode)) {\r\n\t\t\treturn '001'\r\n\t\t}\r\n\t}\r\n\t// Is always non-empty, because `callingCode` is always valid\r\n\tconst possibleCountries = metadata.getCountryCodesForCallingCode(callingCode)\r\n\tif (!possibleCountries) {\r\n\t\treturn\r\n\t}\r\n\t// If there's just one country corresponding to the country code,\r\n\t// then just return it, without further phone number digits validation.\r\n\tif (possibleCountries.length === 1) {\r\n\t\treturn possibleCountries[0]\r\n\t}\r\n\treturn selectCountryFromList(possibleCountries, nationalPhoneNumber, metadata.metadata)\r\n}\r\n\r\nfunction selectCountryFromList(possibleCountries, nationalPhoneNumber, metadata) {\r\n\t// Re-create `metadata` because it will be selecting a `country`.\r\n\tmetadata = new Metadata(metadata)\r\n\tfor (const country of possibleCountries) {\r\n\t\tmetadata.country(country)\r\n\t\t// Leading digits check would be the simplest and fastest one.\r\n\t\t// Leading digits patterns are only defined for about 20% of all countries.\r\n\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/blob/master/METADATA.md#leading_digits\r\n\t\t// Matching \"leading digits\" is a sufficient but not necessary condition.\r\n\t\tif (metadata.leadingDigits()) {\r\n\t\t\tif (nationalPhoneNumber &&\r\n\t\t\t\tnationalPhoneNumber.search(metadata.leadingDigits()) === 0) {\r\n\t\t\t\treturn country\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Else perform full validation with all of those\r\n\t\t// fixed-line/mobile/etc regular expressions.\r\n\t\telse if (getNumberType({ phone: nationalPhoneNumber, country }, undefined, metadata.metadata)) {\r\n\t\t\treturn country\r\n\t\t}\r\n\t}\r\n}","// This is a port of Google Android `libphonenumber`'s\r\n// `phonenumberutil.js` of December 31th, 2018.\r\n//\r\n// https://github.com/googlei18n/libphonenumber/commits/master/javascript/i18n/phonenumbers/phonenumberutil.js\r\n\r\nimport {\r\n\tVALID_DIGITS,\r\n\tPLUS_CHARS,\r\n\tMIN_LENGTH_FOR_NSN,\r\n\tMAX_LENGTH_FOR_NSN\r\n} from './constants'\r\n\r\nimport ParseError from './ParseError'\r\nimport Metadata from './metadata'\r\nimport isViablePhoneNumber, { isViablePhoneNumberStart } from './helpers/isViablePhoneNumber'\r\nimport extractExtension from './helpers/extension/extractExtension'\r\nimport parseIncompletePhoneNumber from './parseIncompletePhoneNumber'\r\nimport getCountryCallingCode from './getCountryCallingCode'\r\nimport { isPossibleNumber } from './isPossibleNumber_'\r\nimport { parseRFC3966 } from './helpers/RFC3966'\r\nimport PhoneNumber from './PhoneNumber'\r\nimport matchesEntirely from './helpers/matchesEntirely'\r\nimport extractCountryCallingCode from './helpers/extractCountryCallingCode'\r\nimport extractCountryCallingCodeFromInternationalNumberWithoutPlusSign from './helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign'\r\nimport extractNationalNumber from './helpers/extractNationalNumber'\r\nimport stripIddPrefix from './helpers/stripIddPrefix'\r\nimport getCountryByCallingCode from './helpers/getCountryByCallingCode'\r\n\r\n// We don't allow input strings for parsing to be longer than 250 chars.\r\n// This prevents malicious input from consuming CPU.\r\nconst MAX_INPUT_STRING_LENGTH = 250\r\n\r\n// This consists of the plus symbol, digits, and arabic-indic digits.\r\nconst PHONE_NUMBER_START_PATTERN = new RegExp('[' + PLUS_CHARS + VALID_DIGITS + ']')\r\n\r\n// Regular expression of trailing characters that we want to remove.\r\n// A trailing `#` is sometimes used when writing phone numbers with extensions in US.\r\n// Example: \"+1 (645) 123 1234-910#\" number has extension \"910\".\r\nconst AFTER_PHONE_NUMBER_END_PATTERN = new RegExp('[^' + VALID_DIGITS + '#' + ']+$')\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\n// Examples:\r\n//\r\n// ```js\r\n// parse('8 (800) 555-35-35', 'RU')\r\n// parse('8 (800) 555-35-35', 'RU', metadata)\r\n// parse('8 (800) 555-35-35', { country: { default: 'RU' } })\r\n// parse('8 (800) 555-35-35', { country: { default: 'RU' } }, metadata)\r\n// parse('+7 800 555 35 35')\r\n// parse('+7 800 555 35 35', metadata)\r\n// ```\r\n//\r\nexport default function parse(text, options, metadata) {\r\n\t// If assigning the `{}` default value is moved to the arguments above,\r\n\t// code coverage would decrease for some weird reason.\r\n\toptions = options || {}\r\n\r\n\tmetadata = new Metadata(metadata)\r\n\r\n\t// Validate `defaultCountry`.\r\n\tif (options.defaultCountry && !metadata.hasCountry(options.defaultCountry)) {\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('INVALID_COUNTRY')\r\n\t\t}\r\n\t\tthrow new Error(`Unknown country: ${options.defaultCountry}`)\r\n\t}\r\n\r\n\t// Parse the phone number.\r\n\tconst { number: formattedPhoneNumber, ext, error } = parseInput(text, options.v2, options.extract)\r\n\r\n\t// If the phone number is not viable then return nothing.\r\n\tif (!formattedPhoneNumber) {\r\n\t\tif (options.v2) {\r\n\t\t\tif (error === 'TOO_SHORT') {\r\n\t\t\t\tthrow new ParseError('TOO_SHORT')\r\n\t\t\t}\r\n\t\t\tthrow new ParseError('NOT_A_NUMBER')\r\n\t\t}\r\n\t\treturn {}\r\n\t}\r\n\r\n\tconst {\r\n\t\tcountry,\r\n\t\tnationalNumber,\r\n\t\tcountryCallingCode,\r\n\t\tcarrierCode\r\n\t} = parsePhoneNumber(\r\n\t\tformattedPhoneNumber,\r\n\t\toptions.defaultCountry,\r\n\t\toptions.defaultCallingCode,\r\n\t\tmetadata\r\n\t)\r\n\r\n\tif (!metadata.hasSelectedNumberingPlan()) {\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('INVALID_COUNTRY')\r\n\t\t}\r\n\t\treturn {}\r\n\t}\r\n\r\n\t// Validate national (significant) number length.\r\n\tif (!nationalNumber || nationalNumber.length < MIN_LENGTH_FOR_NSN) {\r\n\t\t// Won't throw here because the regexp already demands length > 1.\r\n\t\t/* istanbul ignore if */\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('TOO_SHORT')\r\n\t\t}\r\n\t\t// Google's demo just throws an error in this case.\r\n\t\treturn {}\r\n\t}\r\n\r\n\t// Validate national (significant) number length.\r\n\t//\r\n\t// A sidenote:\r\n\t//\r\n\t// They say that sometimes national (significant) numbers\r\n\t// can be longer than `MAX_LENGTH_FOR_NSN` (e.g. in Germany).\r\n\t// https://github.com/googlei18n/libphonenumber/blob/7e1748645552da39c4e1ba731e47969d97bdb539/resources/phonenumber.proto#L36\r\n\t// Such numbers will just be discarded.\r\n\t//\r\n\tif (nationalNumber.length > MAX_LENGTH_FOR_NSN) {\r\n\t\tif (options.v2) {\r\n\t\t\tthrow new ParseError('TOO_LONG')\r\n\t\t}\r\n\t\t// Google's demo just throws an error in this case.\r\n\t\treturn {}\r\n\t}\r\n\r\n\tif (options.v2) {\r\n\t\tconst phoneNumber = new PhoneNumber(\r\n\t\t\tcountryCallingCode,\r\n\t\t\tnationalNumber,\r\n\t\t\tmetadata.metadata\r\n\t\t)\r\n\t\tif (country) {\r\n\t\t\tphoneNumber.country = country\r\n\t\t}\r\n\t\tif (carrierCode) {\r\n\t\t\tphoneNumber.carrierCode = carrierCode\r\n\t\t}\r\n\t\tif (ext) {\r\n\t\t\tphoneNumber.ext = ext\r\n\t\t}\r\n\t\treturn phoneNumber\r\n\t}\r\n\r\n\t// Check if national phone number pattern matches the number.\r\n\t// National number pattern is different for each country,\r\n\t// even for those ones which are part of the \"NANPA\" group.\r\n\tconst valid = (options.extended ? metadata.hasSelectedNumberingPlan() : country) ?\r\n\t\tmatchesEntirely(nationalNumber, metadata.nationalNumberPattern()) :\r\n\t\tfalse\r\n\r\n\tif (!options.extended) {\r\n\t\treturn valid ? result(country, nationalNumber, ext) : {}\r\n\t}\r\n\r\n\t// isInternational: countryCallingCode !== undefined\r\n\r\n\treturn {\r\n\t\tcountry,\r\n\t\tcountryCallingCode,\r\n\t\tcarrierCode,\r\n\t\tvalid,\r\n\t\tpossible: valid ? true : (\r\n\t\t\toptions.extended === true &&\r\n\t\t\tmetadata.possibleLengths() &&\r\n\t\t\tisPossibleNumber(nationalNumber, metadata) ? true : false\r\n\t\t),\r\n\t\tphone: nationalNumber,\r\n\t\text\r\n\t}\r\n}\r\n\r\n/**\r\n * Extracts a formatted phone number from text.\r\n * Doesn't guarantee that the extracted phone number\r\n * is a valid phone number (for example, doesn't validate its length).\r\n * @param  {string} text\r\n * @param  {boolean} [extract]  If `false`, then will parse the entire `text` as a phone number.\r\n * @param  {boolean} [throwOnError]  By default, it won't throw if the text is too long.\r\n * @return {string}\r\n * @example\r\n * // Returns \"(213) 373-4253\".\r\n * extractFormattedPhoneNumber(\"Call (213) 373-4253 for assistance.\")\r\n */\r\nfunction extractFormattedPhoneNumber(text, extract, throwOnError) {\r\n\tif (!text) {\r\n\t\treturn\r\n\t}\r\n\tif (text.length > MAX_INPUT_STRING_LENGTH) {\r\n\t\tif (throwOnError) {\r\n\t\t\tthrow new ParseError('TOO_LONG')\r\n\t\t}\r\n\t\treturn\r\n\t}\r\n\tif (extract === false) {\r\n\t\treturn text\r\n\t}\r\n\t// Attempt to extract a possible number from the string passed in\r\n\tconst startsAt = text.search(PHONE_NUMBER_START_PATTERN)\r\n\tif (startsAt < 0) {\r\n\t\treturn\r\n\t}\r\n\treturn text\r\n\t\t// Trim everything to the left of the phone number\r\n\t\t.slice(startsAt)\r\n\t\t// Remove trailing non-numerical characters\r\n\t\t.replace(AFTER_PHONE_NUMBER_END_PATTERN, '')\r\n}\r\n\r\n/**\r\n * @param  {string} text - Input.\r\n * @param  {boolean} v2 - Legacy API functions don't pass `v2: true` flag.\r\n * @param  {boolean} [extract] - Whether to extract a phone number from `text`, or attempt to parse the entire text as a phone number.\r\n * @return {object} `{ ?number, ?ext }`.\r\n */\r\nfunction parseInput(text, v2, extract) {\r\n\t// Parse RFC 3966 phone number URI.\r\n\tif (text && text.indexOf('tel:') === 0) {\r\n\t\treturn parseRFC3966(text)\r\n\t}\r\n\tlet number = extractFormattedPhoneNumber(text, extract, v2)\r\n\t// If the phone number is not viable, then abort.\r\n\tif (!number) {\r\n\t\treturn {}\r\n\t}\r\n\tif (!isViablePhoneNumber(number)) {\r\n\t\tif (isViablePhoneNumberStart(number)) {\r\n\t\t\treturn { error: 'TOO_SHORT' }\r\n\t\t}\r\n\t\treturn {}\r\n\t}\r\n\t// Attempt to parse extension first, since it doesn't require region-specific\r\n\t// data and we want to have the non-normalised number here.\r\n\tconst withExtensionStripped = extractExtension(number)\r\n\tif (withExtensionStripped.ext) {\r\n\t\treturn withExtensionStripped\r\n\t}\r\n\treturn { number }\r\n}\r\n\r\n/**\r\n * Creates `parse()` result object.\r\n */\r\nfunction result(country, nationalNumber, ext) {\r\n\tconst result = {\r\n\t\tcountry,\r\n\t\tphone: nationalNumber\r\n\t}\r\n\tif (ext) {\r\n\t\tresult.ext = ext\r\n\t}\r\n\treturn result\r\n}\r\n\r\n/**\r\n * Parses a viable phone number.\r\n * @param {string} formattedPhoneNumber  Example: \"(213) 373-4253\".\r\n * @param {string} [defaultCountry]\r\n * @param {string} [defaultCallingCode]\r\n * @param {Metadata} metadata\r\n * @return {object} Returns `{ country: string?, countryCallingCode: string?, nationalNumber: string? }`.\r\n */\r\nfunction parsePhoneNumber(\r\n\tformattedPhoneNumber,\r\n\tdefaultCountry,\r\n\tdefaultCallingCode,\r\n\tmetadata\r\n) {\r\n\t// Extract calling code from phone number.\r\n\tlet { countryCallingCode, number } = extractCountryCallingCode(\r\n\t\tparseIncompletePhoneNumber(formattedPhoneNumber),\r\n\t\tdefaultCountry,\r\n\t\tdefaultCallingCode,\r\n\t\tmetadata.metadata\r\n\t)\r\n\r\n\t// Choose a country by `countryCallingCode`.\r\n\tlet country\r\n\tif (countryCallingCode) {\r\n\t\tmetadata.selectNumberingPlan(countryCallingCode)\r\n\t}\r\n\t// If `formattedPhoneNumber` is in \"national\" format\r\n\t// then `number` is defined and `countryCallingCode` isn't.\r\n\telse if (number && (defaultCountry || defaultCallingCode)) {\r\n\t\tmetadata.selectNumberingPlan(defaultCountry, defaultCallingCode)\r\n\t\tif (defaultCountry) {\r\n\t\t\tcountry = defaultCountry\r\n\t\t} else {\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t\tif (metadata.isNonGeographicCallingCode(defaultCallingCode)) {\r\n\t\t\t\t\tcountry = '001'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcountryCallingCode = defaultCallingCode || getCountryCallingCode(defaultCountry, metadata.metadata)\r\n\t}\r\n\telse return {}\r\n\r\n\tif (!number) {\r\n\t\treturn { countryCallingCode }\r\n\t}\r\n\r\n\tconst {\r\n\t\tnationalNumber,\r\n\t\tcarrierCode\r\n\t} = extractNationalNumber(\r\n\t\tparseIncompletePhoneNumber(number),\r\n\t\tmetadata\r\n\t)\r\n\r\n\t// Sometimes there are several countries\r\n\t// corresponding to the same country phone code\r\n\t// (e.g. NANPA countries all having `1` country phone code).\r\n\t// Therefore, to reliably determine the exact country,\r\n\t// national (significant) number should have been parsed first.\r\n\t//\r\n\t// When `metadata.json` is generated, all \"ambiguous\" country phone codes\r\n\t// get their countries populated with the full set of\r\n\t// \"phone number type\" regular expressions.\r\n\t//\r\n\tconst exactCountry = getCountryByCallingCode(countryCallingCode, nationalNumber, metadata)\r\n\tif (exactCountry) {\r\n\t\tcountry = exactCountry\r\n\t\t/* istanbul ignore if */\r\n\t\tif (exactCountry === '001') {\r\n\t\t\t// Can't happen with `USE_NON_GEOGRAPHIC_COUNTRY_CODE` being `false`.\r\n\t\t\t// If `USE_NON_GEOGRAPHIC_COUNTRY_CODE` is set to `true` for some reason,\r\n\t\t\t// then remove the \"istanbul ignore if\".\r\n\t\t} else {\r\n\t\t\tmetadata.country(country)\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tcountry,\r\n\t\tcountryCallingCode,\r\n\t\tnationalNumber,\r\n\t\tcarrierCode\r\n\t}\r\n}","import parseNumber from './parse_'\r\n\r\nexport default function parsePhoneNumber(text, options, metadata) {\r\n\treturn parseNumber(text, { ...options, v2: true }, metadata)\r\n}","import parsePhoneNumber_ from './parsePhoneNumber_'\r\n\r\nexport default function parsePhoneNumber() {\r\n\tconst { text, options, metadata } = normalizeArguments(arguments)\r\n\treturn parsePhoneNumber_(text, options, metadata)\r\n}\r\n\r\nexport function normalizeArguments(args)\r\n{\r\n\tconst [arg_1, arg_2, arg_3, arg_4] = Array.prototype.slice.call(args)\r\n\r\n\tlet text\r\n\tlet options\r\n\tlet metadata\r\n\r\n\t// If the phone number is passed as a string.\r\n\t// `parsePhoneNumber('88005553535', ...)`.\r\n\tif (typeof arg_1 === 'string') {\r\n\t\ttext = arg_1\r\n\t}\r\n\telse throw new TypeError('A text for parsing must be a string.')\r\n\r\n\t// If \"default country\" argument is being passed then move it to `options`.\r\n\t// `parsePhoneNumber('88005553535', 'RU', [options], metadata)`.\r\n\tif (!arg_2 || typeof arg_2 === 'string')\r\n\t{\r\n\t\tif (arg_4) {\r\n\t\t\toptions = arg_3\r\n\t\t\tmetadata = arg_4\r\n\t\t} else {\r\n\t\t\toptions = undefined\r\n\t\t\tmetadata = arg_3\r\n\t\t}\r\n\r\n\t\tif (arg_2) {\r\n\t\t\toptions = { defaultCountry: arg_2, ...options }\r\n\t\t}\r\n\t}\r\n\t// `defaultCountry` is not passed.\r\n\t// Example: `parsePhoneNumber('+78005553535', [options], metadata)`.\r\n\telse if (isObject(arg_2))\r\n\t{\r\n\t\tif (arg_3) {\r\n\t\t\toptions  = arg_2\r\n\t\t\tmetadata = arg_3\r\n\t\t} else {\r\n\t\t\tmetadata = arg_2\r\n\t\t}\r\n\t}\r\n\telse throw new Error(`Invalid second argument: ${arg_2}`)\r\n\r\n\treturn {\r\n\t\ttext,\r\n\t\toptions,\r\n\t\tmetadata\r\n\t}\r\n}\r\n\r\n// Otherwise istanbul would show this as \"branch not covered\".\r\n/* istanbul ignore next */\r\nconst isObject = _ => typeof _ === 'object'","import parsePhoneNumber from './parsePhoneNumber_'\r\nimport ParseError from './ParseError'\r\nimport { isSupportedCountry } from './metadata'\r\n\r\nexport default function parsePhoneNumberFromString(text, options, metadata) {\r\n\t// Validate `defaultCountry`.\r\n\tif (options && options.defaultCountry && !isSupportedCountry(options.defaultCountry, metadata)) {\r\n\t\toptions = {\r\n\t\t\t...options,\r\n\t\t\tdefaultCountry: undefined\r\n\t\t}\r\n\t}\r\n\t// Parse phone number.\r\n\ttry {\r\n\t\treturn parsePhoneNumber(text, options, metadata)\r\n\t} catch (error) {\r\n\t\t/* istanbul ignore else */\r\n\t\tif (error instanceof ParseError) {\r\n\t\t\t//\r\n\t\t} else {\r\n\t\t\tthrow error\r\n\t\t}\r\n\t}\r\n}\r\n","import { normalizeArguments } from './parsePhoneNumber'\r\nimport parsePhoneNumberFromString_ from './parsePhoneNumberFromString_'\r\n\r\nexport default function parsePhoneNumberFromString() {\r\n\tconst { text, options, metadata } = normalizeArguments(arguments)\r\n\treturn parsePhoneNumberFromString_(text, options, metadata)\r\n}\r\n","import Metadata from './metadata'\r\n\r\nexport default function getCountries(metadata) {\r\n\treturn new Metadata(metadata).getCountries()\r\n}","import PropTypes from 'prop-types'\r\n\r\nexport const metadata = PropTypes.shape({\r\n\tcountry_calling_codes : PropTypes.object.isRequired,\r\n\tcountries : PropTypes.object.isRequired\r\n})\r\n\r\nexport const labels = PropTypes.objectOf(PropTypes.string)","// Counts all occurences of a symbol in a string\r\nexport function count_occurences(symbol, string) {\r\n\tlet count = 0\r\n\t// Using `.split('')` here instead of normal `for ... of`\r\n\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t// (the ones consisting of four bytes)\r\n\t// but template placeholder characters don't fall into that range\r\n\t// so skipping such miscellaneous \"exotic\" characters\r\n\t// won't matter here for just counting placeholder character occurrences.\r\n\tfor (const character of string.split('')) {\r\n\t\tif (character === symbol) {\r\n\t\t\tcount++\r\n\t\t}\r\n\t}\r\n\treturn count\r\n}","import { count_occurences } from './helpers'\r\n\r\nexport default function closeBraces(retained_template, template, placeholder = 'x', empty_placeholder = ' ')\r\n{\r\n\tlet cut_before = retained_template.length\r\n\r\n\tconst opening_braces = count_occurences('(', retained_template)\r\n\tconst closing_braces = count_occurences(')', retained_template)\r\n\r\n\tlet dangling_braces = opening_braces - closing_braces\r\n\r\n\twhile (dangling_braces > 0 && cut_before < template.length)\r\n\t{\r\n\t\tretained_template += template[cut_before].replace(placeholder, empty_placeholder)\r\n\r\n\t\tif (template[cut_before] === ')')\r\n\t\t{\r\n\t\t\tdangling_braces--\r\n\t\t}\r\n\r\n\t\tcut_before++\r\n\t}\r\n\r\n\treturn retained_template\r\n}\r\n","import template_formatter from './templateFormatter'\r\n\r\n// Formats `value` value preserving `caret` at the same character.\r\n//\r\n// `{ value, caret }` attribute is the result of `parse()` function call.\r\n//\r\n// Returns `{ text, caret }` where the new `caret` is the caret position\r\n// inside `text` text corresponding to the original `caret` position inside `value`.\r\n//\r\n// `formatter(value)` is a function returning `{ text, template }`.\r\n//\r\n// `text` is the `value` value formatted using `template`.\r\n// It may either cut off the non-filled right part of the `template`\r\n// or it may fill the non-filled character placeholders\r\n// in the right part of the `template` with `spacer`\r\n// which is a space (' ') character by default.\r\n//\r\n// `template` is the template used to format the `value`.\r\n// It can be either a full-length template or a partial template.\r\n//\r\n// `formatter` can also be a string  a `template`\r\n// where character placeholders are denoted by 'x'es.\r\n// In this case `formatter` function is automatically created.\r\n//\r\n// Example:\r\n//\r\n// `value` is '880',\r\n// `caret` is `2` (before the first `0`)\r\n//\r\n// `formatter` is `'880' =>\r\n//   { text: '8 (80 )', template: 'x (xxx) xxx-xx-xx' }`\r\n//\r\n// The result is `{ text: '8 (80 )', caret: 4 }`.\r\n//\r\nexport default function format(value, caret, formatter)\r\n{\r\n\tif (typeof formatter === 'string')\r\n\t{\r\n\t\tformatter = template_formatter(formatter)\r\n\t}\r\n\r\n\tlet { text, template } = formatter(value) || {}\r\n\r\n\tif (text === undefined)\r\n\t{\r\n\t\t text = value\r\n\t}\r\n\r\n\tif (template)\r\n\t{\r\n\t\tif (caret === undefined)\r\n\t\t{\r\n\t\t\tcaret = text.length\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet index = 0\r\n\t\t\tlet found = false\r\n\r\n\t\t\tlet possibly_last_input_character_index = -1\r\n\r\n\t\t\twhile (index < text.length && index < template.length)\r\n\t\t\t{\r\n\t\t\t\t// Character placeholder found\r\n\t\t\t\tif (text[index] !== template[index])\r\n\t\t\t\t{\r\n\t\t\t\t\tif (caret === 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfound = true\r\n\t\t\t\t\t\tcaret = index\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpossibly_last_input_character_index = index\r\n\r\n\t\t\t\t\tcaret--\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindex++\r\n\t\t\t}\r\n\r\n\t\t\t// If the caret was positioned after last input character,\r\n\t\t\t// then the text caret index is just after the last input character.\r\n\t\t\tif (!found)\r\n\t\t\t{\r\n\t\t\t\tcaret = possibly_last_input_character_index + 1\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn { text, caret }\r\n}","import { count_occurences } from './helpers'\r\nimport close_braces from './closeBraces'\r\n\r\n// Takes a `template` where character placeholders\r\n// are denoted by 'x'es (e.g. 'x (xxx) xxx-xx-xx').\r\n//\r\n// Returns a function which takes `value` characters\r\n// and returns the `template` filled with those characters.\r\n// If the `template` can only be partially filled\r\n// then it is cut off.\r\n//\r\n// If `should_close_braces` is `true`,\r\n// then it will also make sure all dangling braces are closed,\r\n// e.g. \"8 (8\" -> \"8 (8  )\" (iPhone style phone number input).\r\n//\r\nexport default function(template, placeholder = 'x', should_close_braces)\r\n{\r\n\tif (!template)\r\n\t{\r\n\t\treturn value => ({ text: value })\r\n\t}\r\n\r\n\tconst characters_in_template = count_occurences(placeholder, template)\r\n\r\n\treturn function(value)\r\n\t{\r\n\t\tif (!value)\r\n\t\t{\r\n\t\t\treturn { text: '', template }\r\n\t\t}\r\n\r\n\t\tlet value_character_index = 0\r\n\t\tlet filled_in_template = ''\r\n\r\n\t\t// Using `.split('')` here instead of normal `for ... of`\r\n\t\t// because the importing application doesn't neccessarily include an ES6 polyfill.\r\n\t\t// The `.split('')` approach discards \"exotic\" UTF-8 characters\r\n\t\t// (the ones consisting of four bytes)\r\n\t\t// but template placeholder characters don't fall into that range\r\n\t\t// and appending UTF-8 characters to a string in parts still works.\r\n\t\tfor (const character of template.split(''))\r\n\t\t{\r\n\t\t\tif (character !== placeholder)\r\n\t\t\t{\r\n\t\t\t\tfilled_in_template += character\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\r\n\t\t\tfilled_in_template += value[value_character_index]\r\n\t\t\tvalue_character_index++\r\n\r\n\t\t\t// If the last available value character has been filled in,\r\n\t\t\t// then return the filled in template\r\n\t\t\t// (either trim the right part or retain it,\r\n\t\t\t//  if no more character placeholders in there)\r\n\t\t\tif (value_character_index === value.length)\r\n\t\t\t{\r\n\t\t\t\t// If there are more character placeholders\r\n\t\t\t\t// in the right part of the template\r\n\t\t\t\t// then simply trim it.\r\n\t\t\t\tif (value.length < characters_in_template)\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (should_close_braces)\r\n\t\t{\r\n\t\t\tfilled_in_template = close_braces(filled_in_template, template)\r\n\t\t}\r\n\r\n\t\treturn { text: filled_in_template, template }\r\n\t}\r\n}","// Gets <input/> selection bounds\r\nexport function getSelection(element)\r\n{\r\n\t// If no selection, return nothing\r\n\tif (element.selectionStart === element.selectionEnd)\r\n\t{\r\n\t\treturn\r\n\t}\r\n\r\n\treturn { start: element.selectionStart, end: element.selectionEnd }\r\n}\r\n\r\n// Key codes\r\nexport const Keys =\r\n{\r\n\tBackspace : 8,\r\n\tDelete    : 46\r\n}\r\n\r\n// Finds out the operation to be intercepted and performed\r\n// based on the key down event `keyCode`.\r\nexport function getOperation(event)\r\n{\r\n\tswitch (event.keyCode)\r\n\t{\r\n\t\tcase Keys.Backspace:\r\n\t\t\treturn 'Backspace'\r\n\r\n\t\tcase Keys.Delete:\r\n\t\t\treturn 'Delete'\r\n\t}\r\n}\r\n\r\n// Gets <input/> caret position\r\nexport function getCaretPosition(element)\r\n{\r\n\treturn element.selectionStart\r\n}\r\n\r\n// Sets <input/> caret position\r\nexport function setCaretPosition(element, caret_position)\r\n{\r\n\t// Sanity check\r\n\tif (caret_position === undefined)\r\n\t{\r\n\t\treturn\r\n\t}\r\n\r\n\t// Set caret position.\r\n\t// There has been an issue with caret positioning on Android devices.\r\n\t// https://github.com/catamphetamine/input-format/issues/2\r\n\t// I was revisiting this issue and looked for similar issues in other libraries.\r\n\t// For example, there's [`text-mask`](https://github.com/text-mask/text-mask) library.\r\n\t// They've had exactly the same issue when the caret seemingly refused to be repositioned programmatically.\r\n\t// The symptoms were the same: whenever the caret passed through a non-digit character of a mask (a whitespace, a bracket, a dash, etc), it looked as if it placed itself one character before its correct position.\r\n\t// https://github.com/text-mask/text-mask/issues/300\r\n\t// They seem to have found a basic fix for it: calling `input.setSelectionRange()` in a timeout rather than instantly for Android devices.\r\n\t// https://github.com/text-mask/text-mask/pull/400/files\r\n\t// I've implemented the same workaround here.\r\n\tif (isAndroid()) {\r\n      setTimeout(() => element.setSelectionRange(caret_position, caret_position), 0)\r\n\t} else {\r\n\t\telement.setSelectionRange(caret_position, caret_position)\r\n\t}\r\n}\r\n\r\nfunction isAndroid() {\r\n\t// `navigator` is not defined when running mocha tests.\r\n\tif (typeof navigator !== 'undefined') {\r\n\t\treturn ANDROID_USER_AGENT_REG_EXP.test(navigator.userAgent)\r\n\t}\r\n}\r\n\r\nconst ANDROID_USER_AGENT_REG_EXP = /Android/i","import edit   from './edit'\r\nimport parse  from './parse'\r\nimport format from './format'\r\n\r\nimport\r\n{\r\n\tgetOperation,\r\n\tgetSelection,\r\n\tgetCaretPosition,\r\n\tsetCaretPosition\r\n}\r\nfrom './dom'\r\n\r\n// Deprecated.\r\n// I don't know why this function exists.\r\nexport function onCut(event, input, _parse, _format, on_change)\r\n{\r\n\t// The actual cut hasn't happened just yet hence the timeout.\r\n\tsetTimeout(() => formatInputText(input, _parse, _format, undefined, on_change), 0)\r\n}\r\n\r\n// Deprecated.\r\n// I don't know why this function exists.\r\nexport function onPaste(event, input, _parse, _format, on_change)\r\n{\r\n\tconst selection = getSelection(input)\r\n\r\n\t// If selection is made,\r\n\t// just erase the selected text\r\n\t// prior to pasting\r\n\tif (selection)\r\n\t{\r\n\t\teraseSelection(input, selection)\r\n\t}\r\n\r\n\tformatInputText(input, _parse, _format, undefined, on_change)\r\n}\r\n\r\nexport function onChange(event, input, _parse, _format, on_change)\r\n{\r\n\tformatInputText(input, _parse, _format, undefined, on_change)\r\n}\r\n\r\n// \"Delete\" and \"Backspace\" keys are special\r\n// in a way that they're not handled by the regular `onChange()` handler\r\n// and instead are intercepted and re-applied manually.\r\n// The reason is that normally hitting \"Backspace\" or \"Delete\"\r\n// results in erasing a character, but that character might be any character,\r\n// while it would be a better \"user experience\" if it erased not just any character\r\n// but the closest \"meaningful\" character.\r\n// For example, if a template is `(xxx) xxx-xxxx`,\r\n// and the `<input/>` value is `(111) 222-3333`,\r\n// then, if a user begins erasing the `3333` part via \"Backspace\"\r\n// and reaches the \"-\" character, then it would just erase the \"-\" character.\r\n// Nothing wrong with that, but it would be a better \"user experience\"\r\n// if hitting \"Backspace\" at that position would erase the closest \"meaningful\"\r\n// character, which would be the rightmost `2`.\r\n// So, what this `onKeyDown()` handler does is it intercepts\r\n// \"Backspace\" and \"Delete\" keys and re-applies those operations manually\r\n// following the logic described above.\r\nexport function onKeyDown(event, input, _parse, _format, on_change)\r\n{\r\n\tconst operation = getOperation(event)\r\n\tswitch (operation)\r\n\t{\r\n\t\tcase 'Delete':\r\n\t\tcase 'Backspace':\r\n\t\t\t// Intercept this operation and perform it manually.\r\n\t\t\tevent.preventDefault()\r\n\r\n\t\t\tconst selection = getSelection(input)\r\n\r\n\t\t\t// If a selection is made, just erase the selected text.\r\n\t\t\tif (selection)\r\n\t\t\t{\r\n\t\t\t\teraseSelection(input, selection)\r\n\t\t\t\treturn formatInputText(input, _parse, _format, undefined, on_change)\r\n\t\t\t}\r\n\r\n\t\t\t// Else, perform the (character erasing) operation manually.\r\n\t\t\treturn formatInputText(input, _parse, _format, operation, on_change)\r\n\r\n\t\tdefault:\r\n\t\t\t// Will be handled normally as part of the `onChange` handler.\r\n\t}\r\n}\r\n\r\n/**\r\n * Erases the selected text inside an `<input/>`.\r\n * @param  {DOMElement} input\r\n * @param  {Selection} selection\r\n */\r\nfunction eraseSelection(input, selection)\r\n{\r\n\tlet text = input.value\r\n\ttext = text.slice(0, selection.start) + text.slice(selection.end)\r\n\r\n\tinput.value = text\r\n\tsetCaretPosition(input, selection.start)\r\n}\r\n\r\n/**\r\n * Parses and re-formats `<input/>` textual value.\r\n * E.g. when a user enters something into the `<input/>`\r\n * that raw input must first be parsed and the re-formatted properly.\r\n * Is called either after some user input (e.g. entered a character, pasted something)\r\n * or after the user performed an `operation` (e.g. \"Backspace\", \"Delete\").\r\n * @param  {DOMElement} input\r\n * @param  {Function} parse\r\n * @param  {Function} format\r\n * @param  {string} [operation] - The operation that triggered `<input/>` textual value change. E.g. \"Backspace\", \"Delete\".\r\n * @param  {Function} onChange\r\n */\r\nfunction formatInputText(input, _parse, _format, operation, on_change)\r\n{\r\n\t// Parse `<input/>` textual value.\r\n\t// Get the `value` and `caret` position.\r\n\tlet { value, caret } = parse(input.value, getCaretPosition(input), _parse)\r\n\r\n\t// If a user performed an operation (\"Backspace\", \"Delete\")\r\n\t// then apply that operation and get the new `value` and `caret` position.\r\n\tif (operation)\r\n\t{\r\n\t\tconst newValueAndCaret = edit(value, caret, operation)\r\n\r\n\t\tvalue = newValueAndCaret.value\r\n\t\tcaret = newValueAndCaret.caret\r\n\t}\r\n\r\n\t// Format the `value`.\r\n\t// (and reposition the caret accordingly)\r\n\tconst formatted = format(value, caret, _format)\r\n\r\n\tconst text = formatted.text\r\n\tcaret      = formatted.caret\r\n\r\n\t// Set `<input/>` textual value manually\r\n\t// to prevent React from resetting the caret position\r\n\t// later inside a subsequent `render()`.\r\n\t// Doesn't work for custom `inputComponent`s for some reason.\r\n\tinput.value = text\r\n\t// Position the caret properly.\r\n\tsetCaretPosition(input, caret)\r\n\r\n\t// If the `<input/>` textual value did change,\r\n\t// then the parsed `value` may have changed too.\r\n\ton_change(value)\r\n}","// Parses the `text`.\r\n//\r\n// Returns `{ value, caret }` where `caret` is\r\n// the caret position inside `value`\r\n// corresponding to the `caret_position` inside `text`.\r\n//\r\n// The `text` is parsed by feeding each character sequentially to\r\n// `parse_character(character, value)` function\r\n// and appending the result (if it's not `undefined`) to `value`.\r\n//\r\n// Example:\r\n//\r\n// `text` is `8 (800) 555-35-35`,\r\n// `caret_position` is `4` (before the first `0`).\r\n// `parse_character` is `(character, value) =>\r\n//   if (character >= '0' && character <= '9') { return character }`.\r\n//\r\n// then `parse()` outputs `{ value: '88005553535', caret: 2 }`.\r\n//\r\nexport default function parse(text, caret_position, parse_character)\r\n{\r\n\tlet value = ''\r\n\r\n\tlet focused_input_character_index = 0\r\n\r\n\tlet index = 0\r\n\twhile (index < text.length)\r\n\t{\r\n\t\tconst character = parse_character(text[index], value)\r\n\r\n\t\tif (character !== undefined)\r\n\t\t{\r\n\t\t\tvalue += character\r\n\r\n\t\t\tif (caret_position !== undefined)\r\n\t\t\t{\r\n\t\t\t\tif (caret_position === index)\r\n\t\t\t\t{\r\n\t\t\t\t\tfocused_input_character_index = value.length - 1;\r\n\t\t\t\t}\r\n\t\t\t\telse if (caret_position > index)\r\n\t\t\t\t{\r\n\t\t\t\t\tfocused_input_character_index = value.length\r\n\t\t\t\t}\r\n\t\t\t }\r\n\t\t}\r\n\r\n\t\tindex++\r\n\t}\r\n\r\n\t// If caret position wasn't specified\r\n\tif (caret_position === undefined)\r\n\t{\r\n\t\t// Then set caret position to \"after the last input character\"\r\n\t\tfocused_input_character_index = value.length\r\n\t}\r\n\r\n\tconst result =\r\n\t{\r\n\t\tvalue,\r\n\t\tcaret : focused_input_character_index\r\n\t}\r\n\r\n\treturn result\r\n}","// Edits text `value` (if `operation` is passed) and repositions the `caret` if needed.\r\n//\r\n// Example:\r\n//\r\n// value - '88005553535'\r\n// caret - 2 // starting from 0; is positioned before the first zero\r\n// operation - 'Backspace'\r\n//\r\n// Returns\r\n// {\r\n// \tvalue: '8005553535'\r\n// \tcaret: 1\r\n// }\r\n//\r\n// Currently supports just 'Delete' and 'Backspace' operations\r\n//\r\nexport default function edit(value, caret, operation)\r\n{\r\n\tswitch (operation)\r\n\t{\r\n\t\tcase 'Backspace':\r\n\t\t\t// If there exists the previous character,\r\n\t\t\t// then erase it and reposition the caret.\r\n\t\t\tif (caret > 0)\r\n\t\t\t{\r\n\t\t\t\t// Remove the previous character\r\n\t\t\t\tvalue = value.slice(0, caret - 1) + value.slice(caret)\r\n\t\t\t\t// Position the caret where the previous (erased) character was\r\n\t\t\t\tcaret--\r\n\t\t\t}\r\n\t\t\tbreak\r\n\r\n\t\tcase 'Delete':\r\n\t\t\t// Remove current digit (if any)\r\n\t\t\tvalue = value.slice(0, caret) + value.slice(caret + 1)\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn { value, caret }\r\n}","// This is just `./ReactInput.js` rewritten in Hooks.\r\n\r\nimport React, { useCallback, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n\tonChange as onInputChange,\r\n\tonKeyDown as onInputKeyDown\r\n} from '../inputControl'\r\n\r\n// Usage:\r\n//\r\n// <ReactInput\r\n// \tvalue={this.state.phone}\r\n// \tonChange={phone => this.setState({ phone })}\r\n// \tparse={character => character}\r\n// \tformat={value => ({ text: value, template: 'xxxxxxxx' })}/>\r\n//\r\nfunction Input({\r\n\tvalue,\r\n\tparse,\r\n\tformat,\r\n\tinputComponent: InputComponent,\r\n\tonChange,\r\n\tonKeyDown,\r\n\t...rest\r\n}, ref) {\r\n\tconst internalRef = useRef();\r\n\tconst setRef = useCallback((instance) => {\r\n\t\tinternalRef.current = instance;\r\n\t\tif (ref) {\r\n\t\t\tif (typeof ref === 'function') {\r\n\t\t\t\tref(instance)\r\n\t\t\t} else {\r\n\t\t\t\tref.current = instance\r\n\t\t\t}\r\n\t\t}\r\n\t}, [ref]);\r\n\tconst _onChange = useCallback((event) => {\r\n\t\treturn onInputChange(\r\n\t\t\tevent,\r\n\t\t\tinternalRef.current,\r\n\t\t\tparse,\r\n\t\t\tformat,\r\n\t\t\tonChange\r\n\t\t)\r\n\t}, [internalRef, parse, format, onChange])\r\n\r\n\tconst _onKeyDown = useCallback((event) => {\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\t\treturn onInputKeyDown(\r\n\t\t\tevent,\r\n\t\t\tinternalRef.current,\r\n\t\t\tparse,\r\n\t\t\tformat,\r\n\t\t\tonChange\r\n\t\t)\r\n\t}, [internalRef, parse, format, onChange, onKeyDown])\r\n\r\n\treturn (\r\n\t\t<InputComponent\r\n\t\t\t{...rest}\r\n\t\t\tref={setRef}\r\n\t\t\tvalue={format(isEmptyValue(value) ? '' : value).text}\r\n\t\t\tonKeyDown={_onKeyDown}\r\n\t\t\tonChange={_onChange}/>\r\n\t)\r\n}\r\n\r\nInput = React.forwardRef(Input)\r\n\r\nInput.propTypes = {\r\n\t// Parses a single characher of `<input/>` text.\r\n\tparse: PropTypes.func.isRequired,\r\n\r\n\t// Formats `value` into `<input/>` text.\r\n\tformat: PropTypes.func.isRequired,\r\n\r\n\t// Renders `<input/>` by default.\r\n\tinputComponent: PropTypes.elementType.isRequired,\r\n\r\n\t// `<input/>` `type` attribute.\r\n\ttype: PropTypes.string.isRequired,\r\n\r\n\t// Is parsed from <input/> text.\r\n\tvalue: PropTypes.string,\r\n\r\n\t// This handler is called each time `<input/>` text is changed.\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t// Passthrough\r\n\tonKeyDown: PropTypes.func,\r\n\tonCut: PropTypes.func,\r\n\tonPaste: PropTypes.func\r\n}\r\n\r\nInput.defaultProps = {\r\n\t// Renders `<input/>` by default.\r\n\tinputComponent: 'input',\r\n\r\n\t// `<input/>` `type` attribute.\r\n\ttype: 'text'\r\n}\r\n\r\nexport default Input\r\n\r\nfunction isEmptyValue(value) {\r\n\treturn value === undefined || value === null\r\n}","export default class AsYouTypeState {\r\n\tconstructor({ onCountryChange, onCallingCodeChange }) {\r\n\t\tthis.onCountryChange = onCountryChange\r\n\t\tthis.onCallingCodeChange = onCallingCodeChange\r\n\t}\r\n\r\n\treset(defaultCountry, defaultCallingCode) {\r\n\t\tthis.international = false\r\n\t\tthis.IDDPrefix = undefined\r\n\t\tthis.missingPlus = undefined\r\n\t\tthis.callingCode = undefined\r\n\t\tthis.digits = ''\r\n\t\tthis.resetNationalSignificantNumber()\r\n\t\tthis.initCountryAndCallingCode(defaultCountry, defaultCallingCode)\r\n\t}\r\n\r\n\tresetNationalSignificantNumber() {\r\n\t\tthis.nationalSignificantNumber = this.getNationalDigits()\r\n\t\tthis.nationalSignificantNumberMatchesInput = true\r\n\t\tthis.nationalPrefix = undefined\r\n\t\tthis.carrierCode = undefined\r\n\t\tthis.complexPrefixBeforeNationalSignificantNumber = undefined\r\n\t}\r\n\r\n\tupdate = (properties) => {\r\n\t\tfor (const key of Object.keys(properties)) {\r\n\t\t\tthis[key] = properties[key]\r\n\t\t}\r\n\t}\r\n\r\n\tinitCountryAndCallingCode(country, callingCode) {\r\n\t\tthis.setCountry(country)\r\n\t\tthis.setCallingCode(callingCode)\r\n\t}\r\n\r\n\tsetCountry(country) {\r\n\t\tthis.country = country\r\n\t\tthis.onCountryChange(country)\r\n\t}\r\n\r\n\tsetCallingCode(callingCode) {\r\n\t\tthis.callingCode = callingCode\r\n\t\treturn this.onCallingCodeChange(this.country, callingCode)\r\n\t}\r\n\r\n\tstartInternationalNumber() {\r\n\t\t// Prepend the `+` to parsed input.\r\n\t\tthis.international = true\r\n\t\t// If a default country was set then reset it\r\n\t\t// because an explicitly international phone\r\n\t\t// number is being entered.\r\n\t\tthis.initCountryAndCallingCode()\r\n\t}\r\n\r\n\tappendDigits(nextDigits) {\r\n\t\tthis.digits += nextDigits\r\n\t}\r\n\r\n\tappendNationalSignificantNumberDigits(nextDigits) {\r\n\t\tthis.nationalSignificantNumber += nextDigits\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the part of `this.digits` that corresponds to the national number.\r\n\t * Basically, all digits that have been input by the user, except for the\r\n\t * international prefix and the country calling code part\r\n\t * (if the number is an international one).\r\n\t * @return {string}\r\n\t */\r\n\tgetNationalDigits() {\r\n\t\tif (this.international) {\r\n\t\t\treturn this.digits.slice(\r\n\t\t\t\t(this.IDDPrefix ? this.IDDPrefix.length : 0) +\r\n\t\t\t\t(this.callingCode ? this.callingCode.length : 0)\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.digits\r\n\t}\r\n\r\n\tgetDigitsWithoutInternationalPrefix() {\r\n\t\tif (this.international) {\r\n\t\t\tif (this.IDDPrefix) {\r\n\t\t\t\treturn this.digits.slice(this.IDDPrefix.length)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.digits\r\n\t}\r\n}","// Should be the same as `DIGIT_PLACEHOLDER` in `libphonenumber-metadata-generator`.\r\nexport const DIGIT_PLACEHOLDER = 'x' // '\\u2008' (punctuation space)\r\nconst DIGIT_PLACEHOLDER_MATCHER = new RegExp(DIGIT_PLACEHOLDER)\r\n\r\n// Counts all occurences of a symbol in a string.\r\n// Unicode-unsafe (because using `.split()`).\r\nexport function countOccurences(symbol, string) {\r\n\tlet count = 0\r\n\t// Using `.split('')` to iterate through a string here\r\n\t// to avoid requiring `Symbol.iterator` polyfill.\r\n\t// `.split('')` is generally not safe for Unicode,\r\n\t// but in this particular case for counting brackets it is safe.\r\n\t// for (const character of string)\r\n\tfor (const character of string.split('')) {\r\n\t\tif (character === symbol) {\r\n\t\t\tcount++\r\n\t\t}\r\n\t}\r\n\treturn count\r\n}\r\n\r\n// Repeats a string (or a symbol) N times.\r\n// http://stackoverflow.com/questions/202605/repeat-string-javascript\r\nexport function repeat(string, times) {\r\n\tif (times < 1) {\r\n\t\treturn ''\r\n\t}\r\n\tlet result = ''\r\n\twhile (times > 1) {\r\n\t\tif (times & 1) {\r\n\t\t\tresult += string\r\n\t\t}\r\n\t\ttimes >>= 1\r\n\t\tstring += string\r\n\t}\r\n\treturn result + string\r\n}\r\n\r\nexport function cutAndStripNonPairedParens(string, cutBeforeIndex) {\r\n\tif (string[cutBeforeIndex] === ')') {\r\n\t\tcutBeforeIndex++\r\n\t}\r\n\treturn stripNonPairedParens(string.slice(0, cutBeforeIndex))\r\n}\r\n\r\nexport function closeNonPairedParens(template, cut_before) {\r\n\tconst retained_template = template.slice(0, cut_before)\r\n\tconst opening_braces = countOccurences('(', retained_template)\r\n\tconst closing_braces = countOccurences(')', retained_template)\r\n\tlet dangling_braces = opening_braces - closing_braces\r\n\twhile (dangling_braces > 0 && cut_before < template.length) {\r\n\t\tif (template[cut_before] === ')') {\r\n\t\t\tdangling_braces--\r\n\t\t}\r\n\t\tcut_before++\r\n\t}\r\n\treturn template.slice(0, cut_before)\r\n}\r\n\r\nexport function stripNonPairedParens(string) {\r\n\tconst dangling_braces =[]\r\n\tlet i = 0\r\n\twhile (i < string.length) {\r\n\t\tif (string[i] === '(') {\r\n\t\t\tdangling_braces.push(i)\r\n\t\t}\r\n\t\telse if (string[i] === ')') {\r\n\t\t\tdangling_braces.pop()\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\tlet start = 0\r\n\tlet cleared_string = ''\r\n\tdangling_braces.push(string.length)\r\n\tfor (const index of dangling_braces) {\r\n\t\tcleared_string += string.slice(start, index)\r\n\t\tstart = index + 1\r\n\t}\r\n\treturn cleared_string\r\n}\r\n\r\nexport function populateTemplateWithDigits(template, position, digits) {\r\n\t// Using `.split('')` to iterate through a string here\r\n\t// to avoid requiring `Symbol.iterator` polyfill.\r\n\t// `.split('')` is generally not safe for Unicode,\r\n\t// but in this particular case for `digits` it is safe.\r\n\t// for (const digit of digits)\r\n\tfor (const digit of digits.split('')) {\r\n\t\t// If there is room for more digits in current `template`,\r\n\t\t// then set the next digit in the `template`,\r\n\t\t// and return the formatted digits so far.\r\n\t\t// If more digits are entered than the current format could handle.\r\n\t\tif (template.slice(position + 1).search(DIGIT_PLACEHOLDER_MATCHER) < 0) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tposition = template.search(DIGIT_PLACEHOLDER_MATCHER)\r\n\t\ttemplate = template.replace(DIGIT_PLACEHOLDER_MATCHER, digit)\r\n\t}\r\n\treturn [template, position]\r\n}","import checkNumberLength from './helpers/checkNumberLength'\r\nimport parseDigits from './helpers/parseDigits'\r\nimport formatNationalNumberUsingFormat from './helpers/formatNationalNumberUsingFormat'\r\n\r\nexport default function formatCompleteNumber(state, format, {\r\n\tmetadata,\r\n\tshouldTryNationalPrefixFormattingRule,\r\n\tgetSeparatorAfterNationalPrefix\r\n}) {\r\n\tconst matcher = new RegExp(`^(?:${format.pattern()})$`)\r\n\tif (matcher.test(state.nationalSignificantNumber)) {\r\n\t\treturn formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(\r\n\t\t\tstate,\r\n\t\t\tformat,\r\n\t\t\t{\r\n\t\t\t\tmetadata,\r\n\t\t\t\tshouldTryNationalPrefixFormattingRule,\r\n\t\t\t\tgetSeparatorAfterNationalPrefix\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function canFormatCompleteNumber(nationalSignificantNumber, metadata) {\r\n\treturn checkNumberLength(nationalSignificantNumber, metadata) === 'IS_POSSIBLE'\r\n}\r\n\r\nfunction formatNationalNumberWithAndWithoutNationalPrefixFormattingRule(state, format, {\r\n\tmetadata,\r\n\tshouldTryNationalPrefixFormattingRule,\r\n\tgetSeparatorAfterNationalPrefix\r\n}) {\r\n\t// `format` has already been checked for `nationalPrefix` requirement.\r\n\r\n\tconst {\r\n\t\tnationalSignificantNumber,\r\n\t\tinternational,\r\n\t\tnationalPrefix,\r\n\t\tcarrierCode\r\n\t} = state\r\n\r\n\t// Format the number with using `national_prefix_formatting_rule`.\r\n\t// If the resulting formatted number is a valid formatted number, then return it.\r\n\t//\r\n\t// Google's AsYouType formatter is different in a way that it doesn't try\r\n\t// to format using the \"national prefix formatting rule\", and instead it\r\n\t// simply prepends a national prefix followed by a \" \" character.\r\n\t// This code does that too, but as a fallback.\r\n\t// The reason is that \"national prefix formatting rule\" may use parentheses,\r\n\t// which wouldn't be included has it used the simpler Google's way.\r\n\t//\r\n\tif (shouldTryNationalPrefixFormattingRule(format)) {\r\n\t\tconst formattedNumber = formatNationalNumber(state, format, {\r\n\t\t\tuseNationalPrefixFormattingRule: true,\r\n\t\t\tgetSeparatorAfterNationalPrefix,\r\n\t\t\tmetadata\r\n\t\t})\r\n\t\tif (formattedNumber) {\r\n\t\t\treturn formattedNumber\r\n\t\t}\r\n\t}\r\n\r\n\t// Format the number without using `national_prefix_formatting_rule`.\r\n\treturn formatNationalNumber(state, format, {\r\n\t\tuseNationalPrefixFormattingRule: false,\r\n\t\tgetSeparatorAfterNationalPrefix,\r\n\t\tmetadata\r\n\t})\r\n}\r\n\r\nfunction formatNationalNumber(state, format, {\r\n\tmetadata,\r\n\tuseNationalPrefixFormattingRule,\r\n\tgetSeparatorAfterNationalPrefix\r\n}) {\r\n\tlet formattedNationalNumber = formatNationalNumberUsingFormat(\r\n\t\tstate.nationalSignificantNumber,\r\n\t\tformat,\r\n\t\t{\r\n\t\t\tcarrierCode: state.carrierCode,\r\n\t\t\tuseInternationalFormat: state.international,\r\n\t\t\twithNationalPrefix: useNationalPrefixFormattingRule,\r\n\t\t\tmetadata\r\n\t\t}\r\n\t)\r\n\tif (!useNationalPrefixFormattingRule) {\r\n\t\tif (state.nationalPrefix) {\r\n\t\t\t// If a national prefix was extracted, then just prepend it,\r\n\t\t\t// followed by a \" \" character.\r\n\t\t\tformattedNationalNumber = state.nationalPrefix +\r\n\t\t\t\tgetSeparatorAfterNationalPrefix(format) +\r\n\t\t\t\tformattedNationalNumber\r\n\t\t} else if (state.complexPrefixBeforeNationalSignificantNumber) {\r\n\t\t\tformattedNationalNumber = state.complexPrefixBeforeNationalSignificantNumber +\r\n\t\t\t\t' ' +\r\n\t\t\t\tformattedNationalNumber\r\n\t\t}\r\n\t}\r\n\tif (isValidFormattedNationalNumber(formattedNationalNumber, state)) {\r\n\t\treturn formattedNationalNumber\r\n\t}\r\n}\r\n\r\n// Check that the formatted phone number contains exactly\r\n// the same digits that have been input by the user.\r\n// For example, when \"0111523456789\" is input for `AR` country,\r\n// the extracted `this.nationalSignificantNumber` is \"91123456789\",\r\n// which means that the national part of `this.digits` isn't simply equal to\r\n// `this.nationalPrefix` + `this.nationalSignificantNumber`.\r\n//\r\n// Also, a `format` can add extra digits to the `this.nationalSignificantNumber`\r\n// being formatted via `metadata[country].national_prefix_transform_rule`.\r\n// For example, for `VI` country, it prepends `340` to the national number,\r\n// and if this check hasn't been implemented, then there would be a bug\r\n// when `340` \"area coude\" is \"duplicated\" during input for `VI` country:\r\n// https://github.com/catamphetamine/libphonenumber-js/issues/318\r\n//\r\n// So, all these \"gotchas\" are filtered out.\r\n//\r\n// In the original Google's code, the comments say:\r\n// \"Check that we didn't remove nor add any extra digits when we matched\r\n// this formatting pattern. This usually happens after we entered the last\r\n// digit during AYTF. Eg: In case of MX, we swallow mobile token (1) when\r\n// formatted but AYTF should retain all the number entered and not change\r\n// in order to match a format (of same leading digits and length) display\r\n// in that way.\"\r\n// \"If it's the same (i.e entered number and format is same), then it's\r\n// safe to return this in formatted number as nothing is lost / added.\"\r\n// Otherwise, don't use this format.\r\n// https://github.com/google/libphonenumber/commit/3e7c1f04f5e7200f87fb131e6f85c6e99d60f510#diff-9149457fa9f5d608a11bb975c6ef4bc5\r\n// https://github.com/google/libphonenumber/commit/3ac88c7106e7dcb553bcc794b15f19185928a1c6#diff-2dcb77e833422ee304da348b905cde0b\r\n//\r\nfunction isValidFormattedNationalNumber(formattedNationalNumber, state) {\r\n\treturn parseDigits(formattedNationalNumber) === state.getNationalDigits()\r\n}","import {\r\n\tDIGIT_PLACEHOLDER,\r\n\tcountOccurences,\r\n\trepeat,\r\n\tcutAndStripNonPairedParens,\r\n\tcloseNonPairedParens,\r\n\tstripNonPairedParens,\r\n\tpopulateTemplateWithDigits\r\n} from './AsYouTypeFormatter.util'\r\n\r\nimport formatCompleteNumber, {\r\n\tcanFormatCompleteNumber\r\n} from './AsYouTypeFormatter.complete'\r\n\r\nimport parseDigits from './helpers/parseDigits'\r\nexport { DIGIT_PLACEHOLDER } from './AsYouTypeFormatter.util'\r\nimport { FIRST_GROUP_PATTERN } from './helpers/formatNationalNumberUsingFormat'\r\nimport { VALID_PUNCTUATION } from './constants'\r\nimport applyInternationalSeparatorStyle from './helpers/applyInternationalSeparatorStyle'\r\n\r\n// Used in phone number format template creation.\r\n// Could be any digit, I guess.\r\nconst DUMMY_DIGIT = '9'\r\n// I don't know why is it exactly `15`\r\nconst LONGEST_NATIONAL_PHONE_NUMBER_LENGTH = 15\r\n// Create a phone number consisting only of the digit 9 that matches the\r\n// `number_pattern` by applying the pattern to the \"longest phone number\" string.\r\nconst LONGEST_DUMMY_PHONE_NUMBER = repeat(DUMMY_DIGIT, LONGEST_NATIONAL_PHONE_NUMBER_LENGTH)\r\n\r\n// A set of characters that, if found in a national prefix formatting rules, are an indicator to\r\n// us that we should separate the national prefix from the number when formatting.\r\nconst NATIONAL_PREFIX_SEPARATORS_PATTERN = /[- ]/\r\n\r\n// Deprecated: Google has removed some formatting pattern related code from their repo.\r\n// https://github.com/googlei18n/libphonenumber/commit/a395b4fef3caf57c4bc5f082e1152a4d2bd0ba4c\r\n// \"We no longer have numbers in formatting matching patterns, only \\d.\"\r\n// Because this library supports generating custom metadata\r\n// some users may still be using old metadata so the relevant\r\n// code seems to stay until some next major version update.\r\nconst SUPPORT_LEGACY_FORMATTING_PATTERNS = true\r\n\r\n// A pattern that is used to match character classes in regular expressions.\r\n// An example of a character class is \"[1-4]\".\r\nconst CREATE_CHARACTER_CLASS_PATTERN = SUPPORT_LEGACY_FORMATTING_PATTERNS && (() => /\\[([^\\[\\]])*\\]/g)\r\n\r\n// Any digit in a regular expression that actually denotes a digit. For\r\n// example, in the regular expression \"80[0-2]\\d{6,10}\", the first 2 digits\r\n// (8 and 0) are standalone digits, but the rest are not.\r\n// Two look-aheads are needed because the number following \\\\d could be a\r\n// two-digit number, since the phone number can be as long as 15 digits.\r\nconst CREATE_STANDALONE_DIGIT_PATTERN = SUPPORT_LEGACY_FORMATTING_PATTERNS && (() => /\\d(?=[^,}][^,}])/g)\r\n\r\n// A regular expression that is used to determine if a `format` is\r\n// suitable to be used in the \"as you type formatter\".\r\n// A `format` is suitable when the resulting formatted number has\r\n// the same digits as the user has entered.\r\n//\r\n// In the simplest case, that would mean that the format\r\n// doesn't add any additional digits when formatting a number.\r\n// Google says that it also shouldn't add \"star\" (`*`) characters,\r\n// like it does in some Israeli formats.\r\n// Such basic format would only contain \"valid punctuation\"\r\n// and \"captured group\" identifiers ($1, $2, etc).\r\n//\r\n// An example of a format that adds additional digits:\r\n//\r\n// Country: `AR` (Argentina).\r\n// Format:\r\n// {\r\n//    \"pattern\": \"(\\\\d)(\\\\d{2})(\\\\d{4})(\\\\d{4})\",\r\n//    \"leading_digits_patterns\": [\"91\"],\r\n//    \"national_prefix_formatting_rule\": \"0$1\",\r\n//    \"format\": \"$2 15-$3-$4\",\r\n//    \"international_format\": \"$1 $2 $3-$4\"\r\n// }\r\n//\r\n// In the format above, the `format` adds `15` to the digits when formatting a number.\r\n// A sidenote: this format actually is suitable because `national_prefix_for_parsing`\r\n// has previously removed `15` from a national number, so re-adding `15` in `format`\r\n// doesn't actually result in any extra digits added to user's input.\r\n// But verifying that would be a complex procedure, so the code chooses a simpler path:\r\n// it simply filters out all `format`s that contain anything but \"captured group\" ids.\r\n//\r\n// This regular expression is called `ELIGIBLE_FORMAT_PATTERN` in Google's\r\n// `libphonenumber` code.\r\n//\r\nconst NON_ALTERING_FORMAT_REG_EXP = new RegExp(\r\n\t'^' +\r\n\t'[' + VALID_PUNCTUATION + ']*' +\r\n\t'(\\\\$\\\\d[' + VALID_PUNCTUATION + ']*)+' +\r\n\t'$'\r\n)\r\n\r\n// This is the minimum length of the leading digits of a phone number\r\n// to guarantee the first \"leading digits pattern\" for a phone number format\r\n// to be preemptive.\r\nconst MIN_LEADING_DIGITS_LENGTH = 3\r\n\r\nexport default class AsYouTypeFormatter {\r\n\tconstructor({\r\n\t\tstate,\r\n\t\tmetadata\r\n\t}) {\r\n\t\tthis.metadata = metadata\r\n\t\tthis.resetFormat()\r\n\t}\r\n\r\n\tresetFormat() {\r\n\t\tthis.chosenFormat = undefined\r\n\t\tthis.template = undefined\r\n\t\tthis.nationalNumberTemplate = undefined\r\n\t\tthis.populatedNationalNumberTemplate = undefined\r\n\t\tthis.populatedNationalNumberTemplatePosition = -1\r\n\t}\r\n\r\n\treset(numberingPlan, state) {\r\n\t\tthis.resetFormat()\r\n\t\tif (numberingPlan) {\r\n\t\t\tthis.isNANP = numberingPlan.callingCode() === '1'\r\n\t\t\tthis.matchingFormats = numberingPlan.formats()\r\n\t\t\tif (state.nationalSignificantNumber) {\r\n\t\t\t\tthis.narrowDownMatchingFormats(state)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.isNANP = undefined\r\n\t\t\tthis.matchingFormats = []\r\n\t\t}\r\n\t}\r\n\r\n\tformat(nextDigits, state) {\r\n\t\t// See if the phone number digits can be formatted as a complete phone number.\r\n\t\t// If not, use the results from `formatNationalNumberWithNextDigits()`,\r\n\t\t// which formats based on the chosen formatting pattern.\r\n\t\t//\r\n\t\t// Attempting to format complete phone number first is how it's done\r\n\t\t// in Google's `libphonenumber`, so this library just follows it.\r\n\t\t// Google's `libphonenumber` code doesn't explain in detail why does it\r\n\t\t// attempt to format digits as a complete phone number\r\n\t\t// instead of just going with a previoulsy (or newly) chosen `format`:\r\n\t\t//\r\n\t\t// \"Checks to see if there is an exact pattern match for these digits.\r\n\t\t//  If so, we should use this instead of any other formatting template\r\n\t\t//  whose leadingDigitsPattern also matches the input.\"\r\n\t\t//\r\n\t\tif (canFormatCompleteNumber(state.nationalSignificantNumber, this.metadata)) {\r\n\t\t\tfor (const format of this.matchingFormats) {\r\n\t\t\t\tconst formattedCompleteNumber = formatCompleteNumber(\r\n\t\t\t\t\tstate,\r\n\t\t\t\t\tformat,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmetadata: this.metadata,\r\n\t\t\t\t\t\tshouldTryNationalPrefixFormattingRule: format => this.shouldTryNationalPrefixFormattingRule(format, {\r\n\t\t\t\t\t\t\tinternational: state.international,\r\n\t\t\t\t\t\t\tnationalPrefix: state.nationalPrefix\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tgetSeparatorAfterNationalPrefix: this.getSeparatorAfterNationalPrefix\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\tif (formattedCompleteNumber) {\r\n\t\t\t\t\tthis.resetFormat()\r\n\t\t\t\t\tthis.chosenFormat = format\r\n\t\t\t\t\tthis.setNationalNumberTemplate(formattedCompleteNumber.replace(/\\d/g, DIGIT_PLACEHOLDER), state)\r\n\t\t\t\t\tthis.populatedNationalNumberTemplate = formattedCompleteNumber\r\n\t\t\t\t\t// With a new formatting template, the matched position\r\n\t\t\t\t\t// using the old template needs to be reset.\r\n\t\t\t\t\tthis.populatedNationalNumberTemplatePosition = this.template.lastIndexOf(DIGIT_PLACEHOLDER)\r\n\t\t\t\t\treturn formattedCompleteNumber\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Format the digits as a partial (incomplete) phone number\r\n\t\t// using the previously chosen formatting pattern (or a newly chosen one).\r\n\t\treturn this.formatNationalNumberWithNextDigits(nextDigits, state)\r\n\t}\r\n\r\n\t// Formats the next phone number digits.\r\n\tformatNationalNumberWithNextDigits(nextDigits, state) {\r\n\t\tconst previouslyChosenFormat = this.chosenFormat\r\n\t\t// Choose a format from the list of matching ones.\r\n\t\tconst newlyChosenFormat = this.chooseFormat(state)\r\n\t\tif (newlyChosenFormat) {\r\n\t\t\tif (newlyChosenFormat === previouslyChosenFormat) {\r\n\t\t\t\t// If it can format the next (current) digits\r\n\t\t\t\t// using the previously chosen phone number format\r\n\t\t\t\t// then return the updated formatted number.\r\n\t\t\t\treturn this.formatNextNationalNumberDigits(nextDigits)\r\n\t\t\t} else {\r\n\t\t\t\t// If a more appropriate phone number format\r\n\t\t\t\t// has been chosen for these \"leading digits\",\r\n\t\t\t\t// then re-format the national phone number part\r\n\t\t\t\t// using the newly selected format.\r\n\t\t\t\treturn this.formatNextNationalNumberDigits(state.getNationalDigits())\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tnarrowDownMatchingFormats({\r\n\t\tnationalSignificantNumber,\r\n\t\tnationalPrefix,\r\n\t\tinternational\r\n\t}) {\r\n\t\tconst leadingDigits = nationalSignificantNumber\r\n\r\n\t\t// \"leading digits\" pattern list starts with a\r\n\t\t// \"leading digits\" pattern fitting a maximum of 3 leading digits.\r\n\t\t// So, after a user inputs 3 digits of a national (significant) phone number\r\n\t\t// this national (significant) number can already be formatted.\r\n\t\t// The next \"leading digits\" pattern is for 4 leading digits max,\r\n\t\t// and the \"leading digits\" pattern after it is for 5 leading digits max, etc.\r\n\r\n\t\t// This implementation is different from Google's\r\n\t\t// in that it searches for a fitting format\r\n\t\t// even if the user has entered less than\r\n\t\t// `MIN_LEADING_DIGITS_LENGTH` digits of a national number.\r\n\t\t// Because some leading digit patterns already match for a single first digit.\r\n\t\tlet leadingDigitsPatternIndex = leadingDigits.length - MIN_LEADING_DIGITS_LENGTH\r\n\t\tif (leadingDigitsPatternIndex < 0) {\r\n\t\t\tleadingDigitsPatternIndex = 0\r\n\t\t}\r\n\r\n\t\tthis.matchingFormats = this.matchingFormats.filter(\r\n\t\t\tformat => this.formatSuits(format, international, nationalPrefix)\r\n\t\t\t\t&& this.formatMatches(format, leadingDigits, leadingDigitsPatternIndex)\r\n\t\t)\r\n\r\n\t\t// If there was a phone number format chosen\r\n\t\t// and it no longer holds given the new leading digits then reset it.\r\n\t\t// The test for this `if` condition is marked as:\r\n\t\t// \"Reset a chosen format when it no longer holds given the new leading digits\".\r\n\t\t// To construct a valid test case for this one can find a country\r\n\t\t// in `PhoneNumberMetadata.xml` yielding one format for 3 `<leadingDigits>`\r\n\t\t// and yielding another format for 4 `<leadingDigits>` (Australia in this case).\r\n\t\tif (this.chosenFormat && this.matchingFormats.indexOf(this.chosenFormat) === -1) {\r\n\t\t\tthis.resetFormat()\r\n\t\t}\r\n\t}\r\n\r\n\tformatSuits(format, international, nationalPrefix) {\r\n\t\t// When a prefix before a national (significant) number is\r\n\t\t// simply a national prefix, then it's parsed as `this.nationalPrefix`.\r\n\t\t// In more complex cases, a prefix before national (significant) number\r\n\t\t// could include a national prefix as well as some \"capturing groups\",\r\n\t\t// and in that case there's no info whether a national prefix has been parsed.\r\n\t\t// If national prefix is not used when formatting a phone number\r\n\t\t// using this format, but a national prefix has been entered by the user,\r\n\t\t// and was extracted, then discard such phone number format.\r\n\t\t// In Google's \"AsYouType\" formatter code, the equivalent would be this part:\r\n\t\t// https://github.com/google/libphonenumber/blob/0a45cfd96e71cad8edb0e162a70fcc8bd9728933/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L175-L184\r\n\t\tif (nationalPrefix &&\r\n\t\t\t!format.usesNationalPrefix() &&\r\n\t\t\t// !format.domesticCarrierCodeFormattingRule() &&\r\n\t\t\t!format.nationalPrefixIsOptionalWhenFormattingInNationalFormat()) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\t// If national prefix is mandatory for this phone number format\r\n\t\t// and there're no guarantees that a national prefix is present in user input\r\n\t\t// then discard this phone number format as not suitable.\r\n\t\t// In Google's \"AsYouType\" formatter code, the equivalent would be this part:\r\n\t\t// https://github.com/google/libphonenumber/blob/0a45cfd96e71cad8edb0e162a70fcc8bd9728933/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L185-L193\r\n\t\tif (!international &&\r\n\t\t\t!nationalPrefix &&\r\n\t\t\tformat.nationalPrefixIsMandatoryWhenFormattingInNationalFormat()) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\r\n\tformatMatches(format, leadingDigits, leadingDigitsPatternIndex) {\r\n\t\tconst leadingDigitsPatternsCount = format.leadingDigitsPatterns().length\r\n\t\t// If this format is not restricted to a certain\r\n\t\t// leading digits pattern then it fits.\r\n\t\tif (leadingDigitsPatternsCount === 0) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// Start excluding any non-matching formats only when the\r\n\t\t// national number entered so far is at least 3 digits long,\r\n\t\t// otherwise format matching would give false negatives.\r\n\t\t// For example, when the digits entered so far are `2`\r\n\t\t// and the leading digits pattern is `21` \r\n\t\t// it's quite obvious in this case that the format could be the one\r\n\t\t// but due to the absence of further digits it would give false negative.\r\n\t\tif (leadingDigits.length < MIN_LEADING_DIGITS_LENGTH) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// If at least `MIN_LEADING_DIGITS_LENGTH` digits of a national number are available\r\n\t\t// then format matching starts narrowing down the list of possible formats\r\n\t\t// (only previously matched formats are considered for next digits).\r\n\t\tleadingDigitsPatternIndex = Math.min(leadingDigitsPatternIndex, leadingDigitsPatternsCount - 1)\r\n\t\tconst leadingDigitsPattern = format.leadingDigitsPatterns()[leadingDigitsPatternIndex]\r\n\t\t// Brackets are required for `^` to be applied to\r\n\t\t// all or-ed (`|`) parts, not just the first one.\r\n\t\treturn new RegExp(`^(${leadingDigitsPattern})`).test(leadingDigits)\r\n\t}\r\n\r\n\tgetFormatFormat(format, international) {\r\n\t\treturn international ? format.internationalFormat() : format.format()\r\n\t}\r\n\r\n\tchooseFormat(state) {\r\n\t\t// When there are multiple available formats, the formatter uses the first\r\n\t\t// format where a formatting template could be created.\r\n\t\tfor (const format of this.matchingFormats.slice()) {\r\n\t\t\t// If this format is currently being used\r\n\t\t\t// and is still suitable, then stick to it.\r\n\t\t\tif (this.chosenFormat === format) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\t// Sometimes, a formatting rule inserts additional digits in a phone number,\r\n\t\t\t// and \"as you type\" formatter can't do that: it should only use the digits\r\n\t\t\t// that the user has input.\r\n\t\t\t//\r\n\t\t\t// For example, in Argentina, there's a format for mobile phone numbers:\r\n\t\t\t//\r\n\t\t\t// {\r\n\t\t\t//    \"pattern\": \"(\\\\d)(\\\\d{2})(\\\\d{4})(\\\\d{4})\",\r\n\t\t\t//    \"leading_digits_patterns\": [\"91\"],\r\n\t\t\t//    \"national_prefix_formatting_rule\": \"0$1\",\r\n\t\t\t//    \"format\": \"$2 15-$3-$4\",\r\n\t\t\t//    \"international_format\": \"$1 $2 $3-$4\"\r\n\t\t\t// }\r\n\t\t\t//\r\n\t\t\t// In that format, `international_format` is used instead of `format`\r\n\t\t\t// because `format` inserts `15` in the formatted number,\r\n\t\t\t// and `AsYouType` formatter should only use the digits\r\n\t\t\t// the user has actually input, without adding any extra digits.\r\n\t\t\t// In this case, it wouldn't make a difference, because the `15`\r\n\t\t\t// is first stripped when applying `national_prefix_for_parsing`\r\n\t\t\t// and then re-added when using `format`, so in reality it doesn't\r\n\t\t\t// add any new digits to the number, but to detect that, the code\r\n\t\t\t// would have to be more complex: it would have to try formatting\r\n\t\t\t// the digits using the format and then see if any digits have\r\n\t\t\t// actually been added or removed, and then, every time a new digit\r\n\t\t\t// is input, it should re-check whether the chosen format doesn't\r\n\t\t\t// alter the digits.\r\n\t\t\t//\r\n\t\t\t// Google's code doesn't go that far, and so does this library:\r\n\t\t\t// it simply requires that a `format` doesn't add any additonal\r\n\t\t\t// digits to user's input.\r\n\t\t\t//\r\n\t\t\t// Also, people in general should move from inputting phone numbers\r\n\t\t\t// in national format (possibly with national prefixes)\r\n\t\t\t// and use international phone number format instead:\r\n\t\t\t// it's a logical thing in the modern age of mobile phones,\r\n\t\t\t// globalization and the internet.\r\n\t\t\t//\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (!NON_ALTERING_FORMAT_REG_EXP.test(this.getFormatFormat(format, state.international))) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif (!this.createTemplateForFormat(format, state)) {\r\n\t\t\t\t// Remove the format if it can't generate a template.\r\n\t\t\t\tthis.matchingFormats = this.matchingFormats.filter(_ => _ !== format)\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tthis.chosenFormat = format\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tif (!this.chosenFormat) {\r\n\t\t\t// No format matches the national (significant) phone number.\r\n\t\t\tthis.resetFormat()\r\n\t\t}\r\n\t\treturn this.chosenFormat\r\n\t}\r\n\r\n\tcreateTemplateForFormat(format, state) {\r\n\t\t// The formatter doesn't format numbers when numberPattern contains '|', e.g.\r\n\t\t// (20|3)\\d{4}. In those cases we quickly return.\r\n\t\t// (Though there's no such format in current metadata)\r\n\t\t/* istanbul ignore if */\r\n\t\tif (SUPPORT_LEGACY_FORMATTING_PATTERNS && format.pattern().indexOf('|') >= 0) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Get formatting template for this phone number format\r\n\t\tconst template = this.getTemplateForFormat(format, state)\r\n\t\t// If the national number entered is too long\r\n\t\t// for any phone number format, then abort.\r\n\t\tif (template) {\r\n\t\t\tthis.setNationalNumberTemplate(template, state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\tgetSeparatorAfterNationalPrefix = (format) => {\r\n\t\t// `US` metadata doesn't have a `national_prefix_formatting_rule`,\r\n\t\t// so the `if` condition below doesn't apply to `US`,\r\n\t\t// but in reality there shoudl be a separator\r\n\t\t// between a national prefix and a national (significant) number.\r\n\t\t// So `US` national prefix separator is a \"special\" \"hardcoded\" case.\r\n\t\tif (this.isNANP) {\r\n\t\t\treturn ' '\r\n\t\t}\r\n\t\t// If a `format` has a `national_prefix_formatting_rule`\r\n\t\t// and that rule has a separator after a national prefix,\r\n\t\t// then it means that there should be a separator\r\n\t\t// between a national prefix and a national (significant) number.\r\n\t\tif (format &&\r\n\t\t\tformat.nationalPrefixFormattingRule() &&\r\n\t\t\tNATIONAL_PREFIX_SEPARATORS_PATTERN.test(format.nationalPrefixFormattingRule())) {\r\n\t\t\treturn ' '\r\n\t\t}\r\n\t\t// At this point, there seems to be no clear evidence that\r\n\t\t// there should be a separator between a national prefix\r\n\t\t// and a national (significant) number. So don't insert one.\r\n\t\treturn ''\r\n\t}\r\n\r\n\tgetInternationalPrefixBeforeCountryCallingCode({ IDDPrefix, missingPlus }, options) {\r\n\t\tif (IDDPrefix) {\r\n\t\t\treturn options && options.spacing === false ? IDDPrefix : IDDPrefix + ' '\r\n\t\t}\r\n\t\tif (missingPlus) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn '+'\r\n\t}\r\n\r\n\tgetTemplate(state) {\r\n\t\tif (!this.template) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// `this.template` holds the template for a \"complete\" phone number.\r\n\t\t// The currently entered phone number is most likely not \"complete\",\r\n\t\t// so trim all non-populated digits.\r\n\t\tlet index = -1\r\n\t\tlet i = 0\r\n\t\tconst internationalPrefix = state.international ? this.getInternationalPrefixBeforeCountryCallingCode(state, { spacing: false }) : ''\r\n\t\twhile (i < internationalPrefix.length + state.getDigitsWithoutInternationalPrefix().length) {\r\n\t\t\tindex = this.template.indexOf(DIGIT_PLACEHOLDER, index + 1)\r\n\t\t\ti++\r\n\t\t}\r\n\t\treturn cutAndStripNonPairedParens(this.template, index + 1)\r\n\t}\r\n\r\n\tsetNationalNumberTemplate(template, state) {\r\n\t\tthis.nationalNumberTemplate = template\r\n\t\tthis.populatedNationalNumberTemplate = template\r\n\t\t// With a new formatting template, the matched position\r\n\t\t// using the old template needs to be reset.\r\n\t\tthis.populatedNationalNumberTemplatePosition = -1\r\n\t\t// For convenience, the public `.template` property\r\n\t\t// contains the whole international number\r\n\t\t// if the phone number being input is international:\r\n\t\t// 'x' for the '+' sign, 'x'es for the country phone code,\r\n\t\t// a spacebar and then the template for the formatted national number.\r\n\t\tif (state.international) {\r\n\t\t\tthis.template =\r\n\t\t\t\tthis.getInternationalPrefixBeforeCountryCallingCode(state).replace(/[\\d\\+]/g, DIGIT_PLACEHOLDER) +\r\n\t\t\t\trepeat(DIGIT_PLACEHOLDER, state.callingCode.length) +\r\n\t\t\t\t' ' +\r\n\t\t\t\ttemplate\r\n\t\t} else {\r\n\t\t\tthis.template = template\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Generates formatting template for a national phone number,\r\n\t * optionally containing a national prefix, for a format.\r\n\t * @param  {Format} format\r\n\t * @param  {string} nationalPrefix\r\n\t * @return {string}\r\n\t */\r\n\tgetTemplateForFormat(format, {\r\n\t\tnationalSignificantNumber,\r\n\t\tinternational,\r\n\t\tnationalPrefix,\r\n\t\tcomplexPrefixBeforeNationalSignificantNumber\r\n\t}) {\r\n\t\tlet pattern = format.pattern()\r\n\r\n\t\t/* istanbul ignore else */\r\n\t\tif (SUPPORT_LEGACY_FORMATTING_PATTERNS) {\r\n\t\t\tpattern = pattern\r\n\t\t\t\t// Replace anything in the form of [..] with \\d\r\n\t\t\t\t.replace(CREATE_CHARACTER_CLASS_PATTERN(), '\\\\d')\r\n\t\t\t\t// Replace any standalone digit (not the one in `{}`) with \\d\r\n\t\t\t\t.replace(CREATE_STANDALONE_DIGIT_PATTERN(), '\\\\d')\r\n\t\t}\r\n\r\n\t\t// Generate a dummy national number (consisting of `9`s)\r\n\t\t// that fits this format's `pattern`.\r\n\t\t//\r\n\t\t// This match will always succeed,\r\n\t\t// because the \"longest dummy phone number\"\r\n\t\t// has enough length to accomodate any possible\r\n\t\t// national phone number format pattern.\r\n\t\t//\r\n\t\tlet digits = LONGEST_DUMMY_PHONE_NUMBER.match(pattern)[0]\r\n\r\n\t\t// If the national number entered is too long\r\n\t\t// for any phone number format, then abort.\r\n\t\tif (nationalSignificantNumber.length > digits.length) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Get a formatting template which can be used to efficiently format\r\n\t\t// a partial number where digits are added one by one.\r\n\r\n\t\t// Below `strictPattern` is used for the\r\n\t\t// regular expression (with `^` and `$`).\r\n\t\t// This wasn't originally in Google's `libphonenumber`\r\n\t\t// and I guess they don't really need it\r\n\t\t// because they're not using \"templates\" to format phone numbers\r\n\t\t// but I added `strictPattern` after encountering\r\n\t\t// South Korean phone number formatting bug.\r\n\t\t//\r\n\t\t// Non-strict regular expression bug demonstration:\r\n\t\t//\r\n\t\t// this.nationalSignificantNumber : `111111111` (9 digits)\r\n\t\t//\r\n\t\t// pattern : (\\d{2})(\\d{3,4})(\\d{4})\r\n\t\t// format : `$1 $2 $3`\r\n\t\t// digits : `9999999999` (10 digits)\r\n\t\t//\r\n\t\t// '9999999999'.replace(new RegExp(/(\\d{2})(\\d{3,4})(\\d{4})/g), '$1 $2 $3') = \"99 9999 9999\"\r\n\t\t//\r\n\t\t// template : xx xxxx xxxx\r\n\t\t//\r\n\t\t// But the correct template in this case is `xx xxx xxxx`.\r\n\t\t// The template was generated incorrectly because of the\r\n\t\t// `{3,4}` variability in the `pattern`.\r\n\t\t//\r\n\t\t// The fix is, if `this.nationalSignificantNumber` has already sufficient length\r\n\t\t// to satisfy the `pattern` completely then `this.nationalSignificantNumber`\r\n\t\t// is used instead of `digits`.\r\n\r\n\t\tconst strictPattern = new RegExp('^' + pattern + '$')\r\n\t\tconst nationalNumberDummyDigits = nationalSignificantNumber.replace(/\\d/g, DUMMY_DIGIT)\r\n\r\n\t\t// If `this.nationalSignificantNumber` has already sufficient length\r\n\t\t// to satisfy the `pattern` completely then use it\r\n\t\t// instead of `digits`.\r\n\t\tif (strictPattern.test(nationalNumberDummyDigits)) {\r\n\t\t\tdigits = nationalNumberDummyDigits\r\n\t\t}\r\n\r\n\t\tlet numberFormat = this.getFormatFormat(format, international)\r\n\t\tlet nationalPrefixIncludedInTemplate\r\n\r\n\t\t// If a user did input a national prefix (and that's guaranteed),\r\n\t\t// and if a `format` does have a national prefix formatting rule,\r\n\t\t// then see if that national prefix formatting rule\r\n\t\t// prepends exactly the same national prefix the user has input.\r\n\t\t// If that's the case, then use the `format` with the national prefix formatting rule.\r\n\t\t// Otherwise, use  the `format` without the national prefix formatting rule,\r\n\t\t// and prepend a national prefix manually to it.\r\n\t\tif (this.shouldTryNationalPrefixFormattingRule(format, { international, nationalPrefix })) {\r\n\t\t\tconst numberFormatWithNationalPrefix = numberFormat.replace(\r\n\t\t\t\tFIRST_GROUP_PATTERN,\r\n\t\t\t\tformat.nationalPrefixFormattingRule()\r\n\t\t\t)\r\n\t\t\t// If `national_prefix_formatting_rule` of a `format` simply prepends\r\n\t\t\t// national prefix at the start of a national (significant) number,\r\n\t\t\t// then such formatting can be used with `AsYouType` formatter.\r\n\t\t\t// There seems to be no `else` case: everywhere in metadata,\r\n\t\t\t// national prefix formatting rule is national prefix + $1,\r\n\t\t\t// or `($1)`, in which case such format isn't even considered\r\n\t\t\t// when the user has input a national prefix.\r\n\t\t\t/* istanbul ignore else */\r\n\t\t\tif (parseDigits(format.nationalPrefixFormattingRule()) === (nationalPrefix || '') + parseDigits('$1')) {\r\n\t\t\t\tnumberFormat = numberFormatWithNationalPrefix\r\n\t\t\t\tnationalPrefixIncludedInTemplate = true\r\n\t\t\t\t// Replace all digits of the national prefix in the formatting template\r\n\t\t\t\t// with `DIGIT_PLACEHOLDER`s.\r\n\t\t\t\tif (nationalPrefix) {\r\n\t\t\t\t\tlet i = nationalPrefix.length\r\n\t\t\t\t\twhile (i > 0) {\r\n\t\t\t\t\t\tnumberFormat = numberFormat.replace(/\\d/, DIGIT_PLACEHOLDER)\r\n\t\t\t\t\t\ti--\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Generate formatting template for this phone number format.\r\n\t\tlet template = digits\r\n\t\t\t// Format the dummy phone number according to the format.\r\n\t\t\t.replace(new RegExp(pattern), numberFormat)\r\n\t\t\t// Replace each dummy digit with a DIGIT_PLACEHOLDER.\r\n\t\t\t.replace(new RegExp(DUMMY_DIGIT, 'g'), DIGIT_PLACEHOLDER)\r\n\r\n\t\t// If a prefix of a national (significant) number is not as simple\r\n\t\t// as just a basic national prefix, then just prepend such prefix\r\n\t\t// before the national (significant) number, optionally spacing\r\n\t\t// the two with a whitespace.\r\n\t\tif (!nationalPrefixIncludedInTemplate) {\r\n\t\t\tif (complexPrefixBeforeNationalSignificantNumber) {\r\n\t\t\t\t// Prepend the prefix to the template manually.\r\n\t\t\t\ttemplate = repeat(DIGIT_PLACEHOLDER, complexPrefixBeforeNationalSignificantNumber.length) +\r\n\t\t\t\t\t' ' +\r\n\t\t\t\t\ttemplate\r\n\t\t\t} else if (nationalPrefix) {\r\n\t\t\t\t// Prepend national prefix to the template manually.\r\n\t\t\t\ttemplate = repeat(DIGIT_PLACEHOLDER, nationalPrefix.length) +\r\n\t\t\t\t\tthis.getSeparatorAfterNationalPrefix(format) +\r\n\t\t\t\t\ttemplate\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (international) {\r\n\t\t\ttemplate = applyInternationalSeparatorStyle(template)\r\n\t\t}\r\n\r\n\t\treturn template\r\n\t}\r\n\r\n\tformatNextNationalNumberDigits(digits) {\r\n\t\tconst result = populateTemplateWithDigits(\r\n\t\t\tthis.populatedNationalNumberTemplate,\r\n\t\t\tthis.populatedNationalNumberTemplatePosition,\r\n\t\t\tdigits\r\n\t\t)\r\n\r\n\t\tif (!result) {\r\n\t\t\t// Reset the format.\r\n\t\t\tthis.resetFormat()\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.populatedNationalNumberTemplate = result[0]\r\n\t\tthis.populatedNationalNumberTemplatePosition = result[1]\r\n\r\n\t\t// Return the formatted phone number so far.\r\n\t\treturn cutAndStripNonPairedParens(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1)\r\n\r\n\t\t// The old way which was good for `input-format` but is not so good\r\n\t\t// for `react-phone-number-input`'s default input (`InputBasic`).\r\n\t\t// return closeNonPairedParens(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1)\r\n\t\t// \t.replace(new RegExp(DIGIT_PLACEHOLDER, 'g'), ' ')\r\n\t}\r\n\r\n\tshouldTryNationalPrefixFormattingRule = (format, { international, nationalPrefix }) => {\r\n\t\tif (format.nationalPrefixFormattingRule()) {\r\n\t\t\t// In some countries, `national_prefix_formatting_rule` is `($1)`,\r\n\t\t\t// so it applies even if the user hasn't input a national prefix.\r\n\t\t\t// `format.usesNationalPrefix()` detects such cases.\r\n\t\t\tconst usesNationalPrefix = format.usesNationalPrefix()\r\n\t\t\tif ((usesNationalPrefix && nationalPrefix) ||\r\n\t\t\t\t(!usesNationalPrefix && !international)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import extractCountryCallingCode from './helpers/extractCountryCallingCode'\r\nimport extractCountryCallingCodeFromInternationalNumberWithoutPlusSign from './helpers/extractCountryCallingCodeFromInternationalNumberWithoutPlusSign'\r\nimport extractNationalNumberFromPossiblyIncompleteNumber from './helpers/extractNationalNumberFromPossiblyIncompleteNumber'\r\nimport stripIddPrefix from './helpers/stripIddPrefix'\r\nimport parseDigits from './helpers/parseDigits'\r\n\r\nimport {\r\n\tVALID_DIGITS,\r\n\tVALID_PUNCTUATION,\r\n\tPLUS_CHARS\r\n} from './constants'\r\n\r\nconst VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART =\r\n\t'[' +\r\n\t\tVALID_PUNCTUATION +\r\n\t\tVALID_DIGITS +\r\n\t']+'\r\n\r\nconst VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN = new RegExp('^' + VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART + '$', 'i')\r\n\r\nconst VALID_FORMATTED_PHONE_NUMBER_PART =\r\n\t'(?:' +\r\n\t\t'[' + PLUS_CHARS + ']' +\r\n\t\t'[' +\r\n\t\t\tVALID_PUNCTUATION +\r\n\t\t\tVALID_DIGITS +\r\n\t\t']*' +\r\n\t\t'|' +\r\n\t\t'[' +\r\n\t\t\tVALID_PUNCTUATION +\r\n\t\t\tVALID_DIGITS +\r\n\t\t']+' +\r\n\t')'\r\n\r\nconst AFTER_PHONE_NUMBER_DIGITS_END_PATTERN = new RegExp(\r\n\t'[^' +\r\n\t\tVALID_PUNCTUATION +\r\n\t\tVALID_DIGITS +\r\n\t']+' +\r\n\t'.*' +\r\n\t'$'\r\n)\r\n\r\n// Tests whether `national_prefix_for_parsing` could match\r\n// different national prefixes.\r\n// Matches anything that's not a digit or a square bracket.\r\nconst COMPLEX_NATIONAL_PREFIX = /[^\\d\\[\\]]/\r\n\r\nexport default class AsYouTypeParser {\r\n\tconstructor({\r\n\t\tdefaultCountry,\r\n\t\tdefaultCallingCode,\r\n\t\tmetadata,\r\n\t\tonNationalSignificantNumberChange\r\n\t}) {\r\n\t\tthis.defaultCountry = defaultCountry\r\n\t\tthis.defaultCallingCode = defaultCallingCode\r\n\t\tthis.metadata = metadata\r\n\t\tthis.onNationalSignificantNumberChange = onNationalSignificantNumberChange\r\n\t}\r\n\r\n\tinput(text, state) {\r\n\t\tconst [formattedDigits, hasPlus] = extractFormattedDigitsAndPlus(text)\r\n\t\tconst digits = parseDigits(formattedDigits)\r\n\t\t// Checks for a special case: just a leading `+` has been entered.\r\n\t\tlet justLeadingPlus\r\n\t\tif (hasPlus) {\r\n\t\t\tif (!state.digits) {\r\n\t\t\t\tstate.startInternationalNumber()\r\n\t\t\t\tif (!digits) {\r\n\t\t\t\t\tjustLeadingPlus = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (digits) {\r\n\t\t\tthis.inputDigits(digits, state)\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tdigits,\r\n\t\t\tjustLeadingPlus\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Inputs \"next\" phone number digits.\r\n\t * @param  {string} digits\r\n\t * @return {string} [formattedNumber] Formatted national phone number (if it can be formatted at this stage). Returning `undefined` means \"don't format the national phone number at this stage\".\r\n\t */\r\n\tinputDigits(nextDigits, state) {\r\n\t\tconst { digits } = state\r\n\t\tconst hasReceivedThreeLeadingDigits = digits.length < 3 && digits.length + nextDigits.length >= 3\r\n\r\n\t\t// Append phone number digits.\r\n\t\tstate.appendDigits(nextDigits)\r\n\r\n\t\t// Attempt to extract IDD prefix:\r\n\t\t// Some users input their phone number in international format,\r\n\t\t// but in an \"out-of-country\" dialing format instead of using the leading `+`.\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/185\r\n\t\t// Detect such numbers as soon as there're at least 3 digits.\r\n\t\t// Google's library attempts to extract IDD prefix at 3 digits,\r\n\t\t// so this library just copies that behavior.\r\n\t\t// I guess that's because the most commot IDD prefixes are\r\n\t\t// `00` (Europe) and `011` (US).\r\n\t\t// There exist really long IDD prefixes too:\r\n\t\t// for example, in Australia the default IDD prefix is `0011`,\r\n\t\t// and it could even be as long as `14880011`.\r\n\t\t// An IDD prefix is extracted here, and then every time when\r\n\t\t// there's a new digit and the number couldn't be formatted.\r\n\t\tif (hasReceivedThreeLeadingDigits) {\r\n\t\t\tthis.extractIddPrefix(state)\r\n\t\t}\r\n\r\n\t\tif (this.isWaitingForCountryCallingCode(state)) {\r\n\t\t\tif (!this.extractCountryCallingCode(state)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tstate.appendNationalSignificantNumberDigits(nextDigits)\r\n\t\t}\r\n\r\n\t\t// If a phone number is being input in international format,\r\n\t\t// then it's not valid for it to have a national prefix.\r\n\t\t// Still, some people incorrectly input such numbers with a national prefix.\r\n\t\t// In such cases, only attempt to strip a national prefix if the number becomes too long.\r\n\t\t// (but that is done later, not here)\r\n\t\tif (!state.international) {\r\n\t\t\tif (!this.hasExtractedNationalSignificantNumber) {\r\n\t\t\t\tthis.extractNationalSignificantNumber(state.getNationalDigits(), state.update)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisWaitingForCountryCallingCode({ international, callingCode }) {\r\n\t\treturn international && !callingCode\r\n\t}\r\n\r\n\t// Extracts a country calling code from a number\r\n\t// being entered in internatonal format.\r\n\textractCountryCallingCode(state) {\r\n\t\tconst { countryCallingCode, number } = extractCountryCallingCode(\r\n\t\t\t'+' + state.getDigitsWithoutInternationalPrefix(),\r\n\t\t\tthis.defaultCountry,\r\n\t\t\tthis.defaultCallingCode,\r\n\t\t\tthis.metadata.metadata\r\n\t\t)\r\n\t\tif (countryCallingCode) {\r\n\t\t\tstate.setCallingCode(countryCallingCode)\r\n\t\t\tstate.update({\r\n\t\t\t\tnationalSignificantNumber: number\r\n\t\t\t})\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\treset(numberingPlan) {\r\n\t\tif (numberingPlan) {\r\n\t\t\tthis.hasSelectedNumberingPlan = true\r\n\t\t\tconst nationalPrefixForParsing = numberingPlan._nationalPrefixForParsing()\r\n\t\t\tthis.couldPossiblyExtractAnotherNationalSignificantNumber = nationalPrefixForParsing && COMPLEX_NATIONAL_PREFIX.test(nationalPrefixForParsing)\r\n\t\t} else {\r\n\t\t\tthis.hasSelectedNumberingPlan = undefined\r\n\t\t\tthis.couldPossiblyExtractAnotherNationalSignificantNumber = undefined\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Extracts a national (significant) number from user input.\r\n\t * Google's library is different in that it only applies `national_prefix_for_parsing`\r\n\t * and doesn't apply `national_prefix_transform_rule` after that.\r\n\t * https://github.com/google/libphonenumber/blob/a3d70b0487875475e6ad659af404943211d26456/java/libphonenumber/src/com/google/i18n/phonenumbers/AsYouTypeFormatter.java#L539\r\n\t * @return {boolean} [extracted]\r\n\t */\r\n\textractNationalSignificantNumber(nationalDigits, setState) {\r\n\t\tif (!this.hasSelectedNumberingPlan) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst {\r\n\t\t\tnationalPrefix,\r\n\t\t\tnationalNumber,\r\n\t\t\tcarrierCode\r\n\t\t} = extractNationalNumberFromPossiblyIncompleteNumber(\r\n\t\t\tnationalDigits,\r\n\t\t\tthis.metadata\r\n\t\t)\r\n\t\tif (nationalNumber === nationalDigits) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.onExtractedNationalNumber(\r\n\t\t\tnationalPrefix,\r\n\t\t\tcarrierCode,\r\n\t\t\tnationalNumber,\r\n\t\t\tnationalDigits,\r\n\t\t\tsetState\r\n\t\t)\r\n\t\treturn true\r\n\t}\r\n\r\n\t/**\r\n\t * In Google's code this function is called \"attempt to extract longer NDD\".\r\n\t * \"Some national prefixes are a substring of others\", they say.\r\n\t * @return {boolean} [result]  Returns `true` if extracting a national prefix produced different results from what they were.\r\n\t */\r\n\textractAnotherNationalSignificantNumber(nationalDigits, prevNationalSignificantNumber, setState) {\r\n\t\tif (!this.hasExtractedNationalSignificantNumber) {\r\n\t\t\treturn this.extractNationalSignificantNumber(nationalDigits, setState)\r\n\t\t}\r\n\t\tif (!this.couldPossiblyExtractAnotherNationalSignificantNumber) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst {\r\n\t\t\tnationalPrefix,\r\n\t\t\tnationalNumber,\r\n\t\t\tcarrierCode\r\n\t\t} = extractNationalNumberFromPossiblyIncompleteNumber(\r\n\t\t\tnationalDigits,\r\n\t\t\tthis.metadata\r\n\t\t)\r\n\t\t// If a national prefix has been extracted previously,\r\n\t\t// then it's always extracted as additional digits are added.\r\n\t\t// That's assuming `extractNationalNumberFromPossiblyIncompleteNumber()`\r\n\t\t// doesn't do anything different from what it currently does.\r\n\t\t// So, just in case, here's this check, though it doesn't occur.\r\n\t\t/* istanbul ignore if */\r\n\t\tif (nationalNumber === prevNationalSignificantNumber) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.onExtractedNationalNumber(\r\n\t\t\tnationalPrefix,\r\n\t\t\tcarrierCode,\r\n\t\t\tnationalNumber,\r\n\t\t\tnationalDigits,\r\n\t\t\tsetState\r\n\t\t)\r\n\t\treturn true\r\n\t}\r\n\r\n\tonExtractedNationalNumber(\r\n\t\tnationalPrefix,\r\n\t\tcarrierCode,\r\n\t\tnationalSignificantNumber,\r\n\t\tnationalDigits,\r\n\t\tsetState\r\n\t) {\r\n\t\tlet complexPrefixBeforeNationalSignificantNumber\r\n\t\tlet nationalSignificantNumberMatchesInput\r\n\t\t// This check also works with empty `this.nationalSignificantNumber`.\r\n\t\tconst nationalSignificantNumberIndex = nationalDigits.lastIndexOf(nationalSignificantNumber)\r\n\t\t// If the extracted national (significant) number is the\r\n\t\t// last substring of the `digits`, then it means that it hasn't been altered:\r\n\t\t// no digits have been removed from the national (significant) number\r\n\t\t// while applying `national_prefix_transform_rule`.\r\n\t\t// https://gitlab.com/catamphetamine/libphonenumber-js/-/blob/master/METADATA.md#national_prefix_for_parsing--national_prefix_transform_rule\r\n\t\tif (nationalSignificantNumberIndex >= 0 &&\r\n\t\t\tnationalSignificantNumberIndex === nationalDigits.length - nationalSignificantNumber.length) {\r\n\t\t\tnationalSignificantNumberMatchesInput = true\r\n\t\t\t// If a prefix of a national (significant) number is not as simple\r\n\t\t\t// as just a basic national prefix, then such prefix is stored in\r\n\t\t\t// `this.complexPrefixBeforeNationalSignificantNumber` property and will be\r\n\t\t\t// prepended \"as is\" to the national (significant) number to produce\r\n\t\t\t// a formatted result.\r\n\t\t\tconst prefixBeforeNationalNumber = nationalDigits.slice(0, nationalSignificantNumberIndex)\r\n\t\t\t// `prefixBeforeNationalNumber` is always non-empty,\r\n\t\t\t// because `onExtractedNationalNumber()` isn't called\r\n\t\t\t// when a national (significant) number hasn't been actually \"extracted\":\r\n\t\t\t// when a national (significant) number is equal to the national part of `digits`,\r\n\t\t\t// then `onExtractedNationalNumber()` doesn't get called.\r\n\t\t\tif (prefixBeforeNationalNumber !== nationalPrefix) {\r\n\t\t\t\tcomplexPrefixBeforeNationalSignificantNumber = prefixBeforeNationalNumber\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetState({\r\n\t\t\tnationalPrefix,\r\n\t\t\tcarrierCode,\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tnationalSignificantNumberMatchesInput,\r\n\t\t\tcomplexPrefixBeforeNationalSignificantNumber\r\n\t\t})\r\n\t\t// `onExtractedNationalNumber()` is only called when\r\n\t\t// the national (significant) number actually did change.\r\n\t\tthis.hasExtractedNationalSignificantNumber = true\r\n\t\tthis.onNationalSignificantNumberChange()\r\n\t}\r\n\r\n\treExtractNationalSignificantNumber(state) {\r\n\t\t// Attempt to extract a national prefix.\r\n\t\t//\r\n\t\t// Some people incorrectly input national prefix\r\n\t\t// in an international phone number.\r\n\t\t// For example, some people write British phone numbers as `+44(0)...`.\r\n\t\t//\r\n\t\t// Also, in some rare cases, it is valid for a national prefix\r\n\t\t// to be a part of an international phone number.\r\n\t\t// For example, mobile phone numbers in Mexico are supposed to be\r\n\t\t// dialled internationally using a `1` national prefix,\r\n\t\t// so the national prefix will be part of an international number.\r\n\t\t//\r\n\t\t// Quote from:\r\n\t\t// https://www.mexperience.com/dialing-cell-phones-in-mexico/\r\n\t\t//\r\n\t\t// \"Dialing a Mexican cell phone from abroad\r\n\t\t// When you are calling a cell phone number in Mexico from outside Mexico,\r\n\t\t// its necessary to dial an additional 1 after Mexicos country code\r\n\t\t// (which is 52) and before the area code.\r\n\t\t// You also ignore the 045, and simply dial the area code and the\r\n\t\t// cell phones number.\r\n\t\t//\r\n\t\t// If you dont add the 1, youll receive a recorded announcement\r\n\t\t// asking you to redial using it.\r\n\t\t//\r\n\t\t// For example, if you are calling from the USA to a cell phone\r\n\t\t// in Mexico City, you would dial +52  1  55  1234 5678.\r\n\t\t// (Note that this is different to calling a land line in Mexico City\r\n\t\t// from abroad, where the number dialed would be +52  55  1234 5678)\".\r\n\t\t//\r\n\t\t// Google's demo output:\r\n\t\t// https://libphonenumber.appspot.com/phonenumberparser?number=%2b5215512345678&country=MX\r\n\t\t//\r\n\t\tif (this.extractAnotherNationalSignificantNumber(\r\n\t\t\tstate.getNationalDigits(),\r\n\t\t\tstate.nationalSignificantNumber,\r\n\t\t\tstate.update\r\n\t\t)) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// If no format matches the phone number, then it could be\r\n\t\t// \"a really long IDD\" (quote from a comment in Google's library).\r\n\t\t// An IDD prefix is first extracted when the user has entered at least 3 digits,\r\n\t\t// and then here  every time when there's a new digit and the number\r\n\t\t// couldn't be formatted.\r\n\t\t// For example, in Australia the default IDD prefix is `0011`,\r\n\t\t// and it could even be as long as `14880011`.\r\n\t\t//\r\n\t\t// Could also check `!hasReceivedThreeLeadingDigits` here\r\n\t\t// to filter out the case when this check duplicates the one\r\n\t\t// already performed when there're 3 leading digits,\r\n\t\t// but it's not a big deal, and in most cases there\r\n\t\t// will be a suitable `format` when there're 3 leading digits.\r\n\t\t//\r\n\t\tif (this.extractIddPrefix(state)) {\r\n\t\t\tthis.extractCallingCodeAndNationalSignificantNumber(state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t\t// Google's AsYouType formatter supports sort of an \"autocorrection\" feature\r\n\t\t// when it \"autocorrects\" numbers that have been input for a country\r\n\t\t// with that country's calling code.\r\n\t\t// Such \"autocorrection\" feature looks weird, but different people have been requesting it:\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/376\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/375\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/316\r\n\t\tif (this.fixMissingPlus(state)) {\r\n\t\t\tthis.extractCallingCodeAndNationalSignificantNumber(state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\textractIddPrefix(state) {\r\n\t\t// An IDD prefix can't be present in a number written with a `+`.\r\n\t\t// Also, don't re-extract an IDD prefix if has already been extracted.\r\n\t\tconst {\r\n\t\t\tinternational,\r\n\t\t\tIDDPrefix,\r\n\t\t\tdigits,\r\n\t\t\tnationalSignificantNumber\r\n\t\t} = state\r\n\t\tif (international || IDDPrefix) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// Some users input their phone number in \"out-of-country\"\r\n\t\t// dialing format instead of using the leading `+`.\r\n\t\t// https://github.com/catamphetamine/libphonenumber-js/issues/185\r\n\t\t// Detect such numbers.\r\n\t\tconst numberWithoutIDD = stripIddPrefix(\r\n\t\t\tdigits,\r\n\t\t\tthis.defaultCountry,\r\n\t\t\tthis.defaultCallingCode,\r\n\t\t\tthis.metadata.metadata\r\n\t\t)\r\n\t\tif (numberWithoutIDD !== undefined && numberWithoutIDD !== digits) {\r\n\t\t\t// If an IDD prefix was stripped then convert the IDD-prefixed number\r\n\t\t\t// to international number for subsequent parsing.\r\n\t\t\tstate.update({\r\n\t\t\t\tIDDPrefix: digits.slice(0, digits.length - numberWithoutIDD.length)\r\n\t\t\t})\r\n\t\t\tthis.startInternationalNumber(state)\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\tfixMissingPlus(state) {\r\n\t\tif (!state.international) {\r\n\t\t\tconst {\r\n\t\t\t\tcountryCallingCode: newCallingCode,\r\n\t\t\t\tnumber\r\n\t\t\t} = extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(\r\n\t\t\t\tstate.digits,\r\n\t\t\t\tthis.defaultCountry,\r\n\t\t\t\tthis.defaultCallingCode,\r\n\t\t\t\tthis.metadata.metadata\r\n\t\t\t)\r\n\t\t\tif (newCallingCode) {\r\n\t\t\t\tstate.update({\r\n\t\t\t\t\tmissingPlus: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.startInternationalNumber(state)\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstartInternationalNumber(state) {\r\n\t\tstate.startInternationalNumber()\r\n\t\t// If a national (significant) number has been extracted before, reset it.\r\n\t\tif (state.nationalSignificantNumber) {\r\n\t\t\tstate.resetNationalSignificantNumber()\r\n\t\t\tthis.onNationalSignificantNumberChange()\r\n\t\t\tthis.hasExtractedNationalSignificantNumber = undefined\r\n\t\t}\r\n\t}\r\n\r\n\textractCallingCodeAndNationalSignificantNumber(state) {\r\n\t\tif (this.extractCountryCallingCode(state)) {\r\n\t\t\t// `this.extractCallingCode()` is currently called when the number\r\n\t\t\t// couldn't be formatted during the standard procedure.\r\n\t\t\t// Normally, the national prefix would be re-extracted\r\n\t\t\t// for an international number if such number couldn't be formatted,\r\n\t\t\t// but since it's already not able to be formatted,\r\n\t\t\t// there won't be yet another retry, so also extract national prefix here.\r\n\t\t\tthis.extractNationalSignificantNumber(state.getNationalDigits(), state.update)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Extracts formatted phone number from text (if there's any).\r\n * @param  {string} text\r\n * @return {string} [formattedPhoneNumber]\r\n */\r\nfunction extractFormattedPhoneNumber(text) {\r\n\t// Attempt to extract a possible number from the string passed in.\r\n\tconst startsAt = text.search(VALID_FORMATTED_PHONE_NUMBER_PART)\r\n\tif (startsAt < 0) {\r\n\t\treturn\r\n\t}\r\n\t// Trim everything to the left of the phone number.\r\n\ttext = text.slice(startsAt)\r\n\t// Trim the `+`.\r\n\tlet hasPlus\r\n\tif (text[0] === '+') {\r\n\t\thasPlus = true\r\n\t\ttext = text.slice('+'.length)\r\n\t}\r\n\t// Trim everything to the right of the phone number.\r\n\ttext = text.replace(AFTER_PHONE_NUMBER_DIGITS_END_PATTERN, '')\r\n\t// Re-add the previously trimmed `+`.\r\n\tif (hasPlus) {\r\n\t\ttext = '+' + text\r\n\t}\r\n\treturn text\r\n}\r\n\r\n/**\r\n * Extracts formatted phone number digits (and a `+`) from text (if there're any).\r\n * @param  {string} text\r\n * @return {any[]}\r\n */\r\nfunction _extractFormattedDigitsAndPlus(text) {\r\n\t// Extract a formatted phone number part from text.\r\n\tconst extractedNumber = extractFormattedPhoneNumber(text) || ''\r\n\t// Trim a `+`.\r\n\tif (extractedNumber[0] === '+') {\r\n\t\treturn [extractedNumber.slice('+'.length), true]\r\n\t}\r\n\treturn [extractedNumber]\r\n}\r\n\r\n/**\r\n * Extracts formatted phone number digits (and a `+`) from text (if there're any).\r\n * @param  {string} text\r\n * @return {any[]}\r\n */\r\nexport function extractFormattedDigitsAndPlus(text) {\r\n\tlet [formattedDigits, hasPlus] = _extractFormattedDigitsAndPlus(text)\r\n\t// If the extracted phone number part\r\n\t// can possibly be a part of some valid phone number\r\n\t// then parse phone number characters from a formatted phone number.\r\n\tif (!VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN.test(formattedDigits)) {\r\n\t\tformattedDigits = ''\r\n\t}\r\n\treturn [formattedDigits, hasPlus]\r\n}","import Metadata from './metadata'\r\nimport PhoneNumber from './PhoneNumber'\r\nimport AsYouTypeState from './AsYouTypeState'\r\nimport AsYouTypeFormatter, { DIGIT_PLACEHOLDER } from './AsYouTypeFormatter'\r\nimport AsYouTypeParser, { extractFormattedDigitsAndPlus } from './AsYouTypeParser'\r\nimport getCountryByCallingCode from './helpers/getCountryByCallingCode'\r\n\r\nconst USE_NON_GEOGRAPHIC_COUNTRY_CODE = false\r\n\r\nexport default class AsYouType {\r\n\t/**\r\n\t * @param {(string|object)?} [optionsOrDefaultCountry] - The default country used for parsing non-international phone numbers. Can also be an `options` object.\r\n\t * @param {Object} metadata\r\n\t */\r\n\tconstructor(optionsOrDefaultCountry, metadata) {\r\n\t\tthis.metadata = new Metadata(metadata)\r\n\t\tconst [defaultCountry, defaultCallingCode] = this.getCountryAndCallingCode(optionsOrDefaultCountry)\r\n\t\tthis.defaultCountry = defaultCountry\r\n\t\tthis.defaultCallingCode = defaultCallingCode\r\n\t\tthis.reset()\r\n\t}\r\n\r\n\tgetCountryAndCallingCode(optionsOrDefaultCountry) {\r\n\t\t// Set `defaultCountry` and `defaultCallingCode` options.\r\n\t\tlet defaultCountry\r\n\t\tlet defaultCallingCode\r\n\t\t// Turns out `null` also has type \"object\". Weird.\r\n\t\tif (optionsOrDefaultCountry) {\r\n\t\t\tif (typeof optionsOrDefaultCountry === 'object') {\r\n\t\t\t\tdefaultCountry = optionsOrDefaultCountry.defaultCountry\r\n\t\t\t\tdefaultCallingCode = optionsOrDefaultCountry.defaultCallingCode\r\n\t\t\t} else {\r\n\t\t\t\tdefaultCountry = optionsOrDefaultCountry\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (defaultCountry && !this.metadata.hasCountry(defaultCountry)) {\r\n\t\t\tdefaultCountry = undefined\r\n\t\t}\r\n\t\tif (defaultCallingCode) {\r\n\t\t\t/* istanbul ignore if */\r\n\t\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t\tif (this.metadata.isNonGeographicCallingCode(defaultCallingCode)) {\r\n\t\t\t\t\tdefaultCountry = '001'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [defaultCountry, defaultCallingCode]\r\n\t}\r\n\r\n\t/**\r\n\t * Inputs \"next\" phone number characters.\r\n\t * @param  {string} text\r\n\t * @return {string} Formatted phone number characters that have been input so far.\r\n\t */\r\n\tinput(text) {\r\n\t\tconst {\r\n\t\t\tdigits,\r\n\t\t\tjustLeadingPlus\r\n\t\t} = this.parser.input(text, this.state)\r\n\t\tif (justLeadingPlus) {\r\n\t\t\tthis.formattedOutput = '+'\r\n\t\t} else if (digits) {\r\n\t\t\tthis.determineTheCountryIfNeeded()\r\n\t\t\t// Match the available formats by the currently available leading digits.\r\n\t\t\tif (this.state.nationalSignificantNumber) {\r\n\t\t\t\tthis.formatter.narrowDownMatchingFormats(this.state)\r\n\t\t\t}\r\n\t\t\tlet formattedNationalNumber\r\n\t\t\tif (this.metadata.hasSelectedNumberingPlan()) {\r\n\t\t\t\tformattedNationalNumber = this.formatter.format(digits, this.state)\r\n\t\t\t}\r\n\t\t\tif (formattedNationalNumber === undefined) {\r\n\t\t\t\t// See if another national (significant) number could be re-extracted.\r\n\t\t\t\tif (this.parser.reExtractNationalSignificantNumber(this.state)) {\r\n\t\t\t\t\tthis.determineTheCountryIfNeeded()\r\n\t\t\t\t\t// If it could, then re-try formatting the new national (significant) number.\r\n\t\t\t\t\tconst nationalDigits = this.state.getNationalDigits()\r\n\t\t\t\t\tif (nationalDigits) {\r\n\t\t\t\t\t\tformattedNationalNumber = this.formatter.format(nationalDigits, this.state)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.formattedOutput = formattedNationalNumber\r\n\t\t\t\t? this.getFullNumber(formattedNationalNumber)\r\n\t\t\t\t: this.getNonFormattedNumber()\r\n\t\t}\r\n\t\treturn this.formattedOutput\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.state = new AsYouTypeState({\r\n\t\t\tonCountryChange: (country) => {\r\n\t\t\t\t// Before version `1.6.0`, the official `AsYouType` formatter API\r\n\t\t\t\t// included the `.country` property of an `AsYouType` instance.\r\n\t\t\t\t// Since that property (along with the others) have been moved to\r\n\t\t\t\t// `this.state`, `this.country` property is emulated for compatibility\r\n\t\t\t\t// with the old versions.\r\n\t\t\t\tthis.country = country\r\n\t\t\t},\r\n\t\t\tonCallingCodeChange: (country, callingCode) => {\r\n\t\t\t\tthis.metadata.selectNumberingPlan(country, callingCode)\r\n\t\t\t\tthis.formatter.reset(this.metadata.numberingPlan, this.state)\r\n\t\t\t\tthis.parser.reset(this.metadata.numberingPlan)\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.formatter = new AsYouTypeFormatter({\r\n\t\t\tstate: this.state,\r\n\t\t\tmetadata: this.metadata\r\n\t\t})\r\n\t\tthis.parser = new AsYouTypeParser({\r\n\t\t\tdefaultCountry: this.defaultCountry,\r\n\t\t\tdefaultCallingCode: this.defaultCallingCode,\r\n\t\t\tmetadata: this.metadata,\r\n\t\t\tstate: this.state,\r\n\t\t\tonNationalSignificantNumberChange: () => {\r\n\t\t\t\tthis.determineTheCountryIfNeeded()\r\n\t\t\t\tthis.formatter.reset(this.metadata.numberingPlan, this.state)\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.state.reset(this.defaultCountry, this.defaultCallingCode)\r\n\t\tthis.formattedOutput = ''\r\n\t\treturn this\r\n\t}\r\n\r\n\t/**\r\n\t * Returns `true` if the phone number is being input in international format.\r\n\t * In other words, returns `true` if and only if the parsed phone number starts with a `\"+\"`.\r\n\t * @return {boolean}\r\n\t */\r\n\tisInternational() {\r\n\t\treturn this.state.international\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the \"country calling code\" part of the phone number.\r\n\t * Returns `undefined` if the number is not being input in international format.\r\n\t * Returns \"country calling code\" for \"non-geographic\" phone numbering plans too.\r\n\t * @return {string} [callingCode]\r\n\t */\r\n\tgetCallingCode() {\r\n\t\treturn this.state.callingCode\r\n\t}\r\n\r\n\t// A legacy alias.\r\n\tgetCountryCallingCode() {\r\n\t\treturn this.getCallingCode()\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a two-letter country code of the phone number.\r\n\t * Returns `undefined` for \"non-geographic\" phone numbering plans.\r\n\t * Returns `undefined` if no phone number has been input yet.\r\n\t * @return {string} [country]\r\n\t */\r\n\tgetCountry() {\r\n\t\tconst { digits, country } = this.state\r\n\t\t// If no digits have been input yet,\r\n\t\t// then `this.country` is the `defaultCountry`.\r\n\t\t// Won't return the `defaultCountry` in such case.\r\n\t\tif (!digits) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet countryCode = country\r\n\t\t/* istanbul ignore if */\r\n\t\tif (USE_NON_GEOGRAPHIC_COUNTRY_CODE) {\r\n\t\t\t// `AsYouType.getCountry()` returns `undefined`\r\n\t\t\t// for \"non-geographic\" phone numbering plans.\r\n\t\t\tif (countryCode === '001') {\r\n\t\t\t\tcountryCode = undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn countryCode\r\n\t}\r\n\r\n\tdetermineTheCountryIfNeeded() {\r\n\t\t// Suppose a user enters a phone number in international format,\r\n\t\t// and there're several countries corresponding to that country calling code,\r\n\t\t// and a country has been derived from the number, and then\r\n\t\t// a user enters one more digit and the number is no longer\r\n\t\t// valid for the derived country, so the country should be re-derived\r\n\t\t// on every new digit in those cases.\r\n\t\t//\r\n\t\t// If the phone number is being input in national format,\r\n\t\t// then it could be a case when `defaultCountry` wasn't specified\r\n\t\t// when creating `AsYouType` instance, and just `defaultCallingCode` was specified,\r\n\t\t// and that \"calling code\" could correspond to a \"non-geographic entity\",\r\n\t\t// or there could be several countries corresponding to that country calling code.\r\n\t\t// In those cases, `this.country` is `undefined` and should be derived\r\n\t\t// from the number. Again, if country calling code is ambiguous, then\r\n\t\t// `this.country` should be re-derived with each new digit.\r\n\t\t//\r\n\t\tif (!this.state.country || this.isCountryCallingCodeAmbiguous()) {\r\n\t\t\tthis.determineTheCountry()\r\n\t\t}\r\n\t}\r\n\r\n\t// Prepends `+CountryCode ` in case of an international phone number\r\n\tgetFullNumber(formattedNationalNumber) {\r\n\t\tif (this.isInternational()) {\r\n\t\t\tconst prefix = (text) => this.formatter.getInternationalPrefixBeforeCountryCallingCode(this.state, {\r\n\t\t\t\tspacing: text ? true : false\r\n\t\t\t}) + text\r\n\t\t\tconst { callingCode } = this.state\r\n\t\t\tif (!callingCode) {\r\n\t\t\t\treturn prefix(`${this.state.getDigitsWithoutInternationalPrefix()}`)\r\n\t\t\t}\r\n\t\t\tif (!formattedNationalNumber) {\r\n\t\t\t\treturn prefix(callingCode)\r\n\t\t\t}\r\n\t\t\treturn prefix(`${callingCode} ${formattedNationalNumber}`)\r\n\t\t}\r\n\t\treturn formattedNationalNumber\r\n\t}\r\n\r\n\tgetNonFormattedNationalNumberWithPrefix() {\r\n\t\tconst {\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tcomplexPrefixBeforeNationalSignificantNumber,\r\n\t\t\tnationalPrefix\r\n\t\t} = this.state\r\n\t\tlet number = nationalSignificantNumber\r\n\t\tconst prefix = complexPrefixBeforeNationalSignificantNumber || nationalPrefix\r\n\t\tif (prefix) {\r\n\t\t\tnumber = prefix + number\r\n\t\t}\r\n\t\treturn number\r\n\t}\r\n\r\n\tgetNonFormattedNumber() {\r\n\t\tconst { nationalSignificantNumberMatchesInput } = this.state\r\n\t\treturn this.getFullNumber(\r\n\t\t\tnationalSignificantNumberMatchesInput\r\n\t\t\t\t? this.getNonFormattedNationalNumberWithPrefix()\r\n\t\t\t\t: this.state.getNationalDigits()\r\n\t\t)\r\n\t}\r\n\r\n\tgetNonFormattedTemplate() {\r\n\t\tconst number = this.getNonFormattedNumber()\r\n\t\tif (number) {\r\n\t\t\treturn number.replace(/[\\+\\d]/g, DIGIT_PLACEHOLDER)\r\n\t\t}\r\n\t}\r\n\r\n\tisCountryCallingCodeAmbiguous() {\r\n\t\tconst { callingCode } = this.state\r\n\t\tconst countryCodes = this.metadata.getCountryCodesForCallingCode(callingCode)\r\n\t\treturn countryCodes && countryCodes.length > 1\r\n\t}\r\n\r\n\t// Determines the country of the phone number\r\n\t// entered so far based on the country phone code\r\n\t// and the national phone number.\r\n\tdetermineTheCountry() {\r\n\t\tthis.state.setCountry(getCountryByCallingCode(\r\n\t\t\tthis.isInternational() ? this.state.callingCode : this.defaultCallingCode,\r\n\t\t\tthis.state.nationalSignificantNumber,\r\n\t\t\tthis.metadata\r\n\t\t))\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an instance of `PhoneNumber` class.\r\n\t * Will return `undefined` if no national (significant) number\r\n\t * digits have been entered so far, or if no `defaultCountry` has been\r\n\t * set and the user enters a phone number not in international format.\r\n\t */\r\n\tgetNumber() {\r\n\t\tlet {\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tcarrierCode\r\n\t\t} = this.state\r\n\t\tif (this.isInternational()) {\r\n\t\t\tif (!this.state.callingCode) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!this.state.country && !this.defaultCallingCode) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!nationalSignificantNumber) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst countryCode = this.getCountry()\r\n\t\tconst callingCode = this.getCountryCallingCode() || this.defaultCallingCode\r\n\t\tconst phoneNumber = new PhoneNumber(\r\n\t\t\tcountryCode || callingCode,\r\n\t\t\tnationalSignificantNumber,\r\n\t\t\tthis.metadata.metadata\r\n\t\t)\r\n\t\tif (carrierCode) {\r\n\t\t\tphoneNumber.carrierCode = carrierCode\r\n\t\t}\r\n\t\t// Phone number extensions are not supported by \"As You Type\" formatter.\r\n\t\treturn phoneNumber\r\n\t}\r\n\r\n\t/**\r\n\t * Returns `true` if the phone number is \"possible\".\r\n\t * Is just a shortcut for `PhoneNumber.isPossible()`.\r\n\t * @return {boolean}\r\n\t */\r\n\tisPossible() {\r\n\t\tconst phoneNumber = this.getNumber()\r\n\t\tif (!phoneNumber) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn phoneNumber.isPossible()\r\n\t}\r\n\r\n\t/**\r\n\t * Returns `true` if the phone number is \"valid\".\r\n\t * Is just a shortcut for `PhoneNumber.isValid()`.\r\n\t * @return {boolean}\r\n\t */\r\n\tisValid() {\r\n\t\tconst phoneNumber = this.getNumber()\r\n\t\tif (!phoneNumber) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn phoneNumber.isValid()\r\n\t}\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t * This method is used in `react-phone-number-input/source/input-control.js`\r\n\t * in versions before `3.0.16`.\r\n\t */\r\n\tgetNationalNumber() {\r\n\t\treturn this.state.nationalSignificantNumber\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the phone number characters entered by the user.\r\n\t * @return {string}\r\n\t */\r\n\tgetChars() {\r\n\t\treturn (this.state.international ? '+' : '') + this.state.digits\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the template for the formatted phone number.\r\n\t * @return {string}\r\n\t */\r\n\tgetTemplate() {\r\n\t\treturn this.formatter.getTemplate(this.state) || this.getNonFormattedTemplate() || ''\r\n\t}\r\n}","import { getCountryCallingCode } from 'libphonenumber-js/core'\r\n\r\nexport function getInputValuePrefix({\r\n\tcountry,\r\n\tinternational,\r\n\twithCountryCallingCode,\r\n\tmetadata\r\n}) {\r\n\treturn country && international && !withCountryCallingCode ?\r\n\t\t`+${getCountryCallingCode(country, metadata)}` :\r\n\t\t''\r\n}\r\n\r\nexport function removeInputValuePrefix(value, prefix) {\r\n\tif (prefix) {\r\n\t\tvalue = value.slice(prefix.length)\r\n\t\tif (value[0] === ' ') {\r\n\t\t\tvalue = value.slice(1)\r\n\t\t}\r\n\t}\r\n\treturn value\r\n}","import React, { useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Input from 'input-format/react'\r\nimport { AsYouType, parsePhoneNumberCharacter } from 'libphonenumber-js/core'\r\n\r\nimport { getInputValuePrefix, removeInputValuePrefix } from './helpers/inputValuePrefix'\r\n\r\nexport function createInput(defaultMetadata)\r\n{\r\n\t/**\r\n\t * `InputSmart` is a \"smarter\" implementation of a `Component`\r\n\t * that can be passed to `<PhoneInput/>`. It parses and formats\r\n\t * the user's and maintains the caret's position in the process.\r\n\t * The caret positioning is maintained using `input-format` library.\r\n\t * Relies on being run in a DOM environment for calling caret positioning functions.\r\n\t */\r\n\tfunction InputSmart({\r\n\t\tcountry,\r\n\t\tinternational,\r\n\t\twithCountryCallingCode,\r\n\t\tmetadata,\r\n\t\t...rest\r\n\t}, ref) {\r\n\t\tconst format = useCallback((value) => {\r\n\t\t\t// \"As you type\" formatter.\r\n\t\t\tconst formatter = new AsYouType(country, metadata)\r\n\t\t\tconst prefix = getInputValuePrefix({\r\n\t\t\t\tcountry,\r\n\t\t\t\tinternational,\r\n\t\t\t\twithCountryCallingCode,\r\n\t\t\t\tmetadata\r\n\t\t\t})\r\n\t\t\t// Format the number.\r\n\t\t\tlet text = formatter.input(prefix + value)\r\n\t\t\tlet template = formatter.getTemplate()\r\n\t\t\tif (prefix) {\r\n\t\t\t\ttext = removeInputValuePrefix(text, prefix)\r\n\t\t\t\t// `AsYouType.getTemplate()` can be `undefined`.\r\n\t\t\t\tif (template) {\r\n\t\t\t\t\ttemplate = removeInputValuePrefix(template, prefix)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttext,\r\n\t\t\t\ttemplate\r\n\t\t\t}\r\n\t\t}, [country, metadata])\r\n\t\treturn (\r\n\t\t\t<Input\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ref}\r\n\t\t\t\tparse={parsePhoneNumberCharacter}\r\n\t\t\t\tformat={format}/>\r\n\t\t)\r\n\t}\r\n\r\n\tInputSmart = React.forwardRef(InputSmart)\r\n\r\n\tInputSmart.propTypes = {\r\n\t\t/**\r\n\t\t * The parsed phone number.\r\n\t\t * \"Parsed\" not in a sense of \"E.164\"\r\n\t\t * but rather in a sense of \"having only\r\n\t\t * digits and possibly a leading plus character\".\r\n\t\t * Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n\t\t */\r\n\t\tvalue: PropTypes.string.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A function of `value: string`.\r\n\t\t * Updates the `value` property.\r\n\t\t */\r\n\t\tonChange: PropTypes.func.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A two-letter country code for formatting `value`\r\n\t\t * as a national phone number (e.g. `(800) 555 35 35`).\r\n\t\t * E.g. \"US\", \"RU\", etc.\r\n\t\t * If no `country` is passed then `value`\r\n\t\t * is formatted as an international phone number.\r\n\t\t * (e.g. `+7 800 555 35 35`)\r\n\t\t * Perhaps the `country` property should have been called `defaultCountry`\r\n\t\t * because if `value` is an international number then `country` is ignored.\r\n\t\t */\r\n\t\tcountry: PropTypes.string,\r\n\r\n\t\t/**\r\n\t\t * If `country` property is passed along with `international={true}` property\r\n\t\t * then the phone number will be input in \"international\" format for that `country`\r\n\t\t * (without \"country calling code\").\r\n\t\t * For example, if `country=\"US\"` property is passed to \"without country select\" input\r\n\t\t * then the phone number will be input in the \"national\" format for `US` (`(213) 373-4253`).\r\n\t\t * But if both `country=\"US\"` and `international={true}` properties are passed then\r\n\t\t * the phone number will be input in the \"international\" format for `US` (`213 373 4253`)\r\n\t\t * (without \"country calling code\" `+1`).\r\n\t\t */\r\n\t\tinternational: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * If `country` and `international` properties are set,\r\n\t\t * then by default it won't include \"country calling code\" in the input field.\r\n\t\t * To change that, pass `withCountryCallingCode` property,\r\n\t\t * and it will include \"country calling code\" in the input field.\r\n\t\t */\r\n\t\twithCountryCallingCode: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * `libphonenumber-js` metadata.\r\n\t\t */\r\n\t\tmetadata: PropTypes.object.isRequired\r\n\t}\r\n\r\n\tInputSmart.defaultProps = {\r\n\t\tmetadata: defaultMetadata\r\n\t}\r\n\r\n\treturn InputSmart\r\n}\r\n\r\nexport default createInput()","import React, { useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { parseIncompletePhoneNumber, formatIncompletePhoneNumber } from 'libphonenumber-js/core'\r\n\r\nimport { getInputValuePrefix, removeInputValuePrefix } from './helpers/inputValuePrefix'\r\n\r\nexport function createInput(defaultMetadata) {\r\n\t/**\r\n\t * `InputBasic` is the most basic implementation of a `Component`\r\n\t * that can be passed to `<PhoneInput/>`. It parses and formats\r\n\t * the user's input but doesn't control the caret in the process:\r\n\t * when erasing or inserting digits in the middle of a phone number\r\n\t * the caret usually jumps to the end (this is the expected behavior).\r\n\t * Why does `InputBasic` exist when there's `InputSmart`?\r\n\t * One reason is working around the [Samsung Galaxy smart caret positioning bug]\r\n\t * (https://github.com/catamphetamine/react-phone-number-input/issues/75).\r\n\t * Another reason is that, unlike `InputSmart`, it doesn't require DOM environment.\r\n\t */\r\n\tfunction InputBasic({\r\n\t\tvalue,\r\n\t\tonChange,\r\n\t\tcountry,\r\n\t\tinternational,\r\n\t\twithCountryCallingCode,\r\n\t\tmetadata,\r\n\t\tinputComponent: Input,\r\n\t\t...rest\r\n\t}, ref) {\r\n\t\tconst prefix = getInputValuePrefix({\r\n\t\t\tcountry,\r\n\t\t\tinternational,\r\n\t\t\twithCountryCallingCode,\r\n\t\t\tmetadata\r\n\t\t})\r\n\r\n\t\tconst _onChange = useCallback((event) => {\r\n\t\t\tlet newValue = parseIncompletePhoneNumber(event.target.value)\r\n\t\t\t// By default, if a value is something like `\"(123)\"`\r\n\t\t\t// then Backspace would only erase the rightmost brace\r\n\t\t\t// becoming something like `\"(123\"`\r\n\t\t\t// which would give the same `\"123\"` value\r\n\t\t\t// which would then be formatted back to `\"(123)\"`\r\n\t\t\t// and so a user wouldn't be able to erase the phone number.\r\n\t\t\t// Working around this issue with this simple hack.\r\n\t\t\tif (newValue === value) {\r\n\t\t\t\tconst newValueFormatted = format(prefix, newValue, country, metadata)\r\n\t\t\t\tif (newValueFormatted.indexOf(event.target.value) === 0) {\r\n\t\t\t\t\t// Trim the last digit (or plus sign).\r\n\t\t\t\t\tnewValue = newValue.slice(0, -1)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tonChange(newValue)\r\n\t\t}, [\r\n\t\t\tprefix,\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tcountry,\r\n\t\t\tmetadata\r\n\t\t])\r\n\r\n\t\treturn (\r\n\t\t\t<Input\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ref}\r\n\t\t\t\tvalue={format(prefix, value, country, metadata)}\r\n\t\t\t\tonChange={_onChange}/>\r\n\t\t)\r\n\t}\r\n\r\n\tInputBasic = React.forwardRef(InputBasic)\r\n\r\n\tInputBasic.propTypes = {\r\n\t\t/**\r\n\t\t * The parsed phone number.\r\n\t\t * \"Parsed\" not in a sense of \"E.164\"\r\n\t\t * but rather in a sense of \"having only\r\n\t\t * digits and possibly a leading plus character\".\r\n\t\t * Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n\t\t */\r\n\t\tvalue: PropTypes.string.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A function of `value: string`.\r\n\t\t * Updates the `value` property.\r\n\t\t */\r\n\t\tonChange: PropTypes.func.isRequired,\r\n\r\n\t\t/**\r\n\t\t * A two-letter country code for formatting `value`\r\n\t\t * as a national phone number (e.g. `(800) 555 35 35`).\r\n\t\t * E.g. \"US\", \"RU\", etc.\r\n\t\t * If no `country` is passed then `value`\r\n\t\t * is formatted as an international phone number.\r\n\t\t * (e.g. `+7 800 555 35 35`)\r\n\t\t * Perhaps the `country` property should have been called `defaultCountry`\r\n\t\t * because if `value` is an international number then `country` is ignored.\r\n\t\t */\r\n\t\tcountry : PropTypes.string,\r\n\r\n\t\t/**\r\n\t\t * If `country` property is passed along with `international={true}` property\r\n\t\t * then the phone number will be input in \"international\" format for that `country`\r\n\t\t * (without \"country calling code\").\r\n\t\t * For example, if `country=\"US\"` property is passed to \"without country select\" input\r\n\t\t * then the phone number will be input in the \"national\" format for `US` (`(213) 373-4253`).\r\n\t\t * But if both `country=\"US\"` and `international={true}` properties are passed then\r\n\t\t * the phone number will be input in the \"international\" format for `US` (`213 373 4253`)\r\n\t\t * (without \"country calling code\" `+1`).\r\n\t\t */\r\n\t\tinternational: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * If `country` and `international` properties are set,\r\n\t\t * then by default it won't include \"country calling code\" in the input field.\r\n\t\t * To change that, pass `withCountryCallingCode` property,\r\n\t\t * and it will include \"country calling code\" in the input field.\r\n\t\t */\r\n\t\twithCountryCallingCode: PropTypes.bool,\r\n\r\n\t\t/**\r\n\t\t * `libphonenumber-js` metadata.\r\n\t\t */\r\n\t\tmetadata: PropTypes.object.isRequired,\r\n\r\n\t\t/**\r\n\t\t * The `<input/>` component.\r\n\t\t */\r\n\t\tinputComponent: PropTypes.elementType.isRequired\r\n\t}\r\n\r\n\tInputBasic.defaultProps = {\r\n\t\tmetadata: defaultMetadata,\r\n\t\tinputComponent: 'input'\r\n\t}\r\n\r\n\treturn InputBasic\r\n}\r\n\r\nexport default createInput()\r\n\r\nfunction format(prefix, value, country, metadata) {\r\n\treturn removeInputValuePrefix(\r\n\t\tformatIncompletePhoneNumber(\r\n\t\t\tprefix + value,\r\n\t\t\tcountry,\r\n\t\t\tmetadata\r\n\t\t),\r\n\t\tprefix\r\n\t)\r\n}","import AsYouType from './AsYouType'\r\n\r\n/**\r\n * Formats a (possibly incomplete) phone number.\r\n * The phone number can be either in E.164 format\r\n * or in a form of national number digits.\r\n * @param {string} value - A possibly incomplete phone number. Either in E.164 format or in a form of national number digits.\r\n * @param {string?} country - Two-letter (\"ISO 3166-1 alpha-2\") country code.\r\n * @return {string} Formatted (possibly incomplete) phone number.\r\n */\r\nexport default function formatIncompletePhoneNumber(value, country, metadata) {\r\n\tif (!metadata) {\r\n\t\tmetadata = country\r\n\t\tcountry = undefined\r\n\t}\r\n\treturn new AsYouType(country, metadata).input(value)\r\n}","/**\r\n * Creates Unicode flag from a two-letter ISO country code.\r\n * https://stackoverflow.com/questions/24050671/how-to-put-japan-flag-character-in-a-string\r\n * @param  {string} country  A two-letter ISO country code (case-insensitive).\r\n * @return {string}\r\n */\r\nexport default function getCountryFlag(country) {\r\n\treturn getRegionalIndicatorSymbol(country[0]) + getRegionalIndicatorSymbol(country[1])\r\n}\r\n\r\n/**\r\n * Converts a letter to a Regional Indicator Symbol.\r\n * @param  {string} letter\r\n * @return {string}\r\n */\r\nfunction getRegionalIndicatorSymbol(letter) {\r\n\treturn String.fromCodePoint(0x1F1E6 - 65 + letter.toUpperCase().charCodeAt(0))\r\n}","import React, { useCallback, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport getUnicodeFlagIcon from 'country-flag-icons/unicode'\r\n\r\nexport default function CountrySelect({\r\n\tvalue,\r\n\tonChange,\r\n\toptions,\r\n\t...rest\r\n}) {\r\n\tconst onChange_ = useCallback((event) => {\r\n\t\tconst value = event.target.value\r\n\t\tonChange(value === 'ZZ' ? undefined : value)\r\n\t}, [onChange])\r\n\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\t// \"ZZ\" means \"International\".\r\n\t// (HTML requires each `<option/>` have some string `value`).\r\n\treturn (\r\n\t\t<select\r\n\t\t\t{...rest}\r\n\t\t\tvalue={value || 'ZZ'}\r\n\t\t\tonChange={onChange_}>\r\n\t\t\t{options.map(({ value, label, divider }) => (\r\n\t\t\t\t<option\r\n\t\t\t\t\tkey={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tvalue={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tdisabled={divider ? true : false}\r\n\t\t\t\t\tstyle={divider ? DIVIDER_STYLE : undefined}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</option>\r\n\t\t\t))}\r\n\t\t</select>\r\n\t)\r\n}\r\n\r\nCountrySelect.propTypes = {\r\n\t/**\r\n\t * A two-letter country code.\r\n\t * Example: \"US\", \"RU\", etc.\r\n\t */\r\n\tvalue: PropTypes.string,\r\n\r\n\t/**\r\n\t * A function of `value: string`.\r\n\t * Updates the `value` property.\r\n\t */\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t// `<select/>` options.\r\n\toptions: PropTypes.arrayOf(PropTypes.shape({\r\n\t\tvalue: PropTypes.string,\r\n\t\tlabel: PropTypes.string,\r\n\t\tdivider: PropTypes.bool\r\n\t})).isRequired\r\n}\r\n\r\nconst DIVIDER_STYLE = {\r\n\tfontSize: '1px',\r\n\tbackgroundColor: 'currentColor',\r\n\tcolor: 'inherit'\r\n}\r\n\r\nexport function CountrySelectWithIcon({\r\n\tvalue,\r\n\toptions,\r\n\tclassName,\r\n\ticonComponent: Icon,\r\n\tgetIconAspectRatio,\r\n\tarrowComponent: Arrow,\r\n\tunicodeFlags,\r\n\t...rest\r\n}) {\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\treturn (\r\n\t\t<div className=\"PhoneInputCountry\">\r\n\t\t\t<CountrySelect\r\n\t\t\t\t{...rest}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tclassName={classNames('PhoneInputCountrySelect', className)}/>\r\n\r\n\t\t\t{/* Either a Unicode flag icon. */}\r\n\t\t\t{(unicodeFlags && value) &&\r\n\t\t\t\t<div className=\"PhoneInputCountryIconUnicode\">\r\n\t\t\t\t\t{getUnicodeFlagIcon(value)}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{/* Or an SVG flag icon. */}\r\n\t\t\t{!(unicodeFlags && value) &&\r\n\t\t\t\t<Icon\r\n\t\t\t\t\tcountry={value}\r\n\t\t\t\t\tlabel={selectedOption && selectedOption.label}\r\n\t\t\t\t\taspectRatio={unicodeFlags ? 1 : undefined}/>\r\n\t\t\t}\r\n\r\n\t\t\t<Arrow/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCountrySelectWithIcon.propTypes = {\r\n\t// Country flag component.\r\n\ticonComponent: PropTypes.elementType,\r\n\r\n\t// Select arrow component.\r\n\tarrowComponent: PropTypes.elementType.isRequired,\r\n\r\n\t// Set to `true` to render Unicode flag icons instead of SVG images.\r\n\tunicodeFlags: PropTypes.bool\r\n}\r\n\r\nCountrySelectWithIcon.defaultProps = {\r\n\t// Is \"International\" icon square?\r\n\tarrowComponent: () => <div className=\"PhoneInputCountrySelectArrow\"/>\r\n}\r\n\r\nfunction getSelectedOption(options, value) {\r\n\tfor (const option of options) {\r\n\t\tif (!option.divider && option.value === value) {\r\n\t\t\treturn option\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// Default country flag icon.\r\n// `<img/>` is wrapped in a `<div/>` to prevent SVGs from exploding in size in IE 11.\r\n// https://github.com/catamphetamine/react-phone-number-input/issues/111\r\nexport default function FlagComponent({\r\n\tcountry,\r\n\tcountryName,\r\n\tflags,\r\n\tflagUrl,\r\n\t...rest\r\n}) {\r\n\tif (flags && flags[country]) {\r\n\t\treturn flags[country]({ title: countryName })\r\n\t}\r\n\treturn (\r\n\t\t<img\r\n\t\t\t{...rest}\r\n\t\t\talt={countryName}\r\n\t\t\trole={countryName ? undefined : \"presentation\"}\r\n\t\t\tsrc={flagUrl.replace('{XX}', country).replace('{xx}', country.toLowerCase())}/>\r\n\t)\r\n}\r\n\r\nFlagComponent.propTypes = {\r\n\t// The country to be selected by default.\r\n\t// Two-letter country code (\"ISO 3166-1 alpha-2\").\r\n\tcountry: PropTypes.string.isRequired,\r\n\r\n\t// Will be HTML `title` attribute of the `<img/>`.\r\n\tcountryName: PropTypes.string.isRequired,\r\n\r\n\t// Country flag icon components.\r\n\t// By default flag icons are inserted as `<img/>`s\r\n\t// with their `src` pointed to `country-flag-icons` gitlab pages website.\r\n\t// There might be cases (e.g. an offline application)\r\n\t// where having a large (3 megabyte) `<svg/>` flags\r\n\t// bundle is more appropriate.\r\n\t// `import flags from 'react-phone-number-input/flags'`.\r\n\tflags: PropTypes.objectOf(PropTypes.elementType),\r\n\r\n\t// A URL for a country flag icon.\r\n\t// By default it points to `country-flag-icons` gitlab pages website.\r\n\tflagUrl: PropTypes.string.isRequired\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default function InternationalIcon({ aspectRatio, ...rest }) {\r\n\tif (aspectRatio === 1) {\r\n\t\treturn <InternationalIcon1x1 {...rest}/>\r\n\t} else {\r\n\t\treturn <InternationalIcon3x2 {...rest}/>\r\n\t}\r\n}\r\n\r\nInternationalIcon.propTypes = {\r\n\ttitle: PropTypes.string.isRequired,\r\n\taspectRatio: PropTypes.number\r\n}\r\n\r\n// 3x2.\r\n// Using `<title/>` in `<svg/>`s:\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title\r\nfunction InternationalIcon3x2({ title, ...rest }) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\t{...rest}\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\tviewBox=\"0 0 75 50\">\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<g\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconGlobe\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\tstrokeMiterlimit=\"10\">\r\n\t\t\t\t<path strokeLinecap=\"round\" d=\"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3\"/>\r\n\t\t\t\t<path d=\"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3\"/>\r\n\t\t\t\t<line x1=\"26\" y1=\"25\" x2=\"74\" y2=\"25\"/>\r\n\t\t\t\t<line x1=\"50\" y1=\"1\" x2=\"50\" y2=\"49\"/>\r\n\t\t\t\t<path strokeLinecap=\"round\" d=\"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8\"/>\r\n\t\t\t\t<path strokeLinecap=\"round\" d=\"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2\"/>\r\n\t\t\t</g>\r\n\t\t\t<path\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconPhone\"\r\n\t\t\t\tstroke=\"none\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\td=\"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z\"/>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nInternationalIcon3x2.propTypes = {\r\n\ttitle: PropTypes.string.isRequired\r\n}\r\n\r\n// 1x1.\r\n// Using `<title/>` in `<svg/>`s:\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title\r\nfunction InternationalIcon1x1({ title, ...rest }) {\r\n\treturn (\r\n\t\t<svg\r\n\t\t\t{...rest}\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\tviewBox=\"0 0 50 50\">\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<g\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconGlobe\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tstrokeWidth=\"2\"\r\n\t\t\t\tstrokeLinecap=\"round\">\r\n\t\t\t\t<path d=\"M8.45,13A21.44,21.44,0,1,1,37.08,41.56\"/>\r\n\t\t\t\t<path d=\"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21\"/>\r\n\t\t\t\t<path d=\"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86\"/>\r\n\t\t\t\t<path d=\"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54\"/>\r\n\t\t\t\t<line x1=\"27.8\" y1=\"0.85\" x2=\"27.8\" y2=\"34.61\"/>\r\n\t\t\t\t<line x1=\"15.2\" y1=\"22.23\" x2=\"49.15\" y2=\"22.23\"/>\r\n\t\t\t</g>\r\n\t\t\t<path\r\n\t\t\t\tclassName=\"PhoneInputInternationalIconPhone\"\r\n\t\t\t\tstroke=\"transparent\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\td=\"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z\"/>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nInternationalIcon1x1.propTypes = {\r\n\ttitle: PropTypes.string.isRequired\r\n}\r\n","import { isSupportedCountry } from 'libphonenumber-js/core'\r\nexport { getCountries } from 'libphonenumber-js/core'\r\n\r\n/**\r\n * Sorts country `<select/>` options.\r\n * Can move some country `<select/>` options\r\n * to the top of the list, for example.\r\n * @param  {object[]} countryOptions  Country `<select/>` options.\r\n * @param  {string[]} [countryOptionsOrder]  Country `<select/>` options order. Example: `[\"US\", \"CA\", \"AU\", \"|\", \"...\"]`.\r\n * @return {object[]}\r\n */\r\nexport function sortCountryOptions(options, order) {\r\n\tif (!order) {\r\n\t\treturn options\r\n\t}\r\n\tconst optionsOnTop = []\r\n\tconst optionsOnBottom = []\r\n\tlet appendTo = optionsOnTop\r\n\tfor (const element of order) {\r\n\t\tif (element === '|') {\r\n\t\t\tappendTo.push({ divider: true })\r\n\t\t} else if (element === '...' || element === '') {\r\n\t\t\tappendTo = optionsOnBottom\r\n\t\t} else {\r\n\t\t\tlet countryCode\r\n\t\t\tif (element === '') {\r\n\t\t\t\tcountryCode = undefined\r\n\t\t\t} else {\r\n\t\t\t\tcountryCode = element\r\n\t\t\t}\r\n\t\t\t// Find the position of the option.\r\n\t\t\tconst index = options.indexOf(options.filter(option => option.value === countryCode)[0])\r\n\t\t\t// Get the option.\r\n\t\t\tconst option = options[index]\r\n\t\t\t// Remove the option from its default position.\r\n\t\t\toptions.splice(index, 1)\r\n\t\t\t// Add the option on top.\r\n\t\t\tappendTo.push(option)\r\n\t\t}\r\n\t}\r\n\treturn optionsOnTop.concat(options).concat(optionsOnBottom)\r\n}\r\n\r\nexport function getSupportedCountryOptions(countryOptions, metadata) {\r\n\tif (countryOptions) {\r\n\t\tcountryOptions = countryOptions.filter((option) => {\r\n\t\t\tswitch (option) {\r\n\t\t\t\tcase '':\r\n\t\t\t\tcase '|':\r\n\t\t\t\tcase '...':\r\n\t\t\t\tcase '':\r\n\t\t\t\t\treturn true\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn isCountrySupportedWithError(option, metadata)\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (countryOptions.length > 0) {\r\n\t\t\treturn countryOptions\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isCountrySupportedWithError(country, metadata) {\r\n\tif (isSupportedCountry(country, metadata)) {\r\n\t\treturn true\r\n\t} else {\r\n\t\tconsole.error(`Country not found: ${country}`)\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport function getSupportedCountries(countries, metadata) {\r\n\tif (countries) {\r\n\t\tcountries = countries.filter(country => isCountrySupportedWithError(country, metadata))\r\n\t\tif (countries.length === 0) {\r\n\t\t\tcountries = undefined\r\n\t\t}\r\n\t}\r\n\treturn countries\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport DefaultInternationalIcon from './InternationalIcon'\r\nimport Flag from './Flag'\r\n\r\nexport function createCountryIconComponent({\r\n\tflags,\r\n\tflagUrl,\r\n\tflagComponent: FlagComponent,\r\n\tinternationalIcon: InternationalIcon\r\n}) {\r\n\tfunction CountryIcon({\r\n\t\tcountry,\r\n\t\tlabel,\r\n\t\taspectRatio\r\n\t}) {\r\n\t\t// `aspectRatio` is currently a hack for the default \"International\" icon\r\n\t\t// to render it as a square when Unicode flag icons are used.\r\n\t\t// So `aspectRatio` property is only used with the default \"International\" icon.\r\n\t\tconst _aspectRatio = InternationalIcon === DefaultInternationalIcon ? aspectRatio : undefined\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classNames('PhoneInputCountryIcon', {\r\n\t\t\t\t\t'PhoneInputCountryIcon--square': _aspectRatio === 1,\r\n\t\t\t\t\t'PhoneInputCountryIcon--border': country\r\n\t\t\t\t})}>\r\n\t\t\t\t{\r\n\t\t\t\t\tcountry\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<FlagComponent\r\n\t\t\t\t\t\tcountry={country}\r\n\t\t\t\t\t\tcountryName={label}\r\n\t\t\t\t\t\tflags={flags}\r\n\t\t\t\t\t\tflagUrl={flagUrl}\r\n\t\t\t\t\t\tclassName=\"PhoneInputCountryIconImg\"/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<InternationalIcon\r\n\t\t\t\t\t\ttitle={label}\r\n\t\t\t\t\t\taspectRatio={_aspectRatio}\r\n\t\t\t\t\t\tclassName=\"PhoneInputCountryIconImg\"/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tCountryIcon.propTypes = {\r\n\t\tcountry: PropTypes.string,\r\n\t\tlabel: PropTypes.string.isRequired,\r\n\t\taspectRatio: PropTypes.number\r\n\t}\r\n\r\n\treturn CountryIcon\r\n}\r\n\r\nexport default createCountryIconComponent({\r\n\t// Must be equal to `defaultProps.flagUrl` in `./PhoneInputWithCountry.js`.\r\n\tflagUrl: 'https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg',\r\n\tflagComponent: Flag,\r\n\tinternationalIcon: DefaultInternationalIcon\r\n})","import {\r\n\tgetCountryCallingCode,\r\n\tMetadata\r\n} from 'libphonenumber-js/core'\r\n\r\nconst ONLY_DIGITS_REGEXP = /^\\d+$/\r\nexport default function getInternationalPhoneNumberPrefix(country, metadata) {\r\n\t// Standard international phone number prefix: \"+\" and \"country calling code\".\r\n\tlet prefix = '+' + getCountryCallingCode(country, metadata)\r\n\t// Get \"leading digits\" for a phone number of the country.\r\n\t// If there're \"leading digits\" then they can be part of the prefix too.\r\n\tmetadata = new Metadata(metadata)\r\n\tmetadata.selectNumberingPlan(country)\r\n\tif (metadata.numberingPlan.leadingDigits() && ONLY_DIGITS_REGEXP.test(metadata.numberingPlan.leadingDigits())) {\r\n\t\tprefix += metadata.numberingPlan.leadingDigits()\r\n\t}\r\n\treturn prefix\r\n}","import parsePhoneNumber_, {\r\n\tgetCountryCallingCode,\r\n\tAsYouType,\r\n\tMetadata\r\n} from 'libphonenumber-js/core'\r\n\r\nimport getInternationalPhoneNumberPrefix from './getInternationalPhoneNumberPrefix'\r\n\r\n/**\r\n * Decides which country should be pre-selected\r\n * when the phone number input component is first mounted.\r\n * @param  {object?} phoneNumber - An instance of `PhoneNumber` class.\r\n * @param  {string?} country - Pre-defined country (two-letter code).\r\n * @param  {string[]?} countries - A list of countries available.\r\n * @param  {object} metadata - `libphonenumber-js` metadata\r\n * @return {string?}\r\n */\r\nexport function getPreSelectedCountry({\r\n\tvalue,\r\n\tphoneNumber,\r\n\tdefaultCountry,\r\n\tgetAnyCountry,\r\n\tcountries,\r\n\trequired,\r\n\tmetadata\r\n}) {\r\n\tlet country\r\n\r\n\t// If can get country from E.164 phone number\r\n\t// then it overrides the `country` passed (or not passed).\r\n\tif (phoneNumber && phoneNumber.country) {\r\n\t\t// `country` will be left `undefined` in case of non-detection.\r\n\t\tcountry = phoneNumber.country\r\n\t} else if (defaultCountry) {\r\n\t\tif (!value || couldNumberBelongToCountry(value, defaultCountry, metadata)) {\r\n\t\t\tcountry = defaultCountry\r\n\t\t}\r\n\t}\r\n\r\n\t// Only pre-select a country if it's in the available `countries` list.\r\n\tif (countries && countries.indexOf(country) < 0) {\r\n\t\tcountry = undefined\r\n\t}\r\n\r\n\t// If there will be no \"International\" option\r\n\t// then some `country` must be selected.\r\n\t// It will still be the wrong country though.\r\n\t// But still country `<select/>` can't be left in a broken state.\r\n\tif (!country && required && countries && countries.length > 0) {\r\n\t\tcountry = getAnyCountry()\r\n\t\t// noCountryMatchesTheNumber = true\r\n\t}\r\n\r\n\treturn country\r\n}\r\n\r\n/**\r\n * Generates a sorted list of country `<select/>` options.\r\n * @param  {string[]} countries - A list of two-letter (\"ISO 3166-1 alpha-2\") country codes.\r\n * @param  {object} labels - Custom country labels. E.g. `{ RU: '', US: '', ... }`.\r\n * @param  {boolean} addInternationalOption - Whether should include \"International\" option at the top of the list.\r\n * @return {object[]} A list of objects having shape `{ value : string, label : string }`.\r\n */\r\nexport function getCountrySelectOptions({\r\n\tcountries,\r\n\tcountryNames,\r\n\taddInternationalOption,\r\n\t// `locales` are only used in country name comparator:\r\n\t// depending on locale, string sorting order could be different.\r\n\tcompareStringsLocales,\r\n\tcompareStrings: _compareStrings\r\n}) {\r\n\t// Default country name comparator uses `String.localeCompare()`.\r\n\tif (!_compareStrings) {\r\n\t\t_compareStrings = compareStrings\r\n\t}\r\n\r\n\t// Generates a `<Select/>` option for each country.\r\n\tconst countrySelectOptions = countries.map((country) => ({\r\n\t\tvalue: country,\r\n\t\t// All `locale` country names included in this library\r\n\t\t// include all countries (this is checked at build time).\r\n\t\t// The only case when a country name might be missing\r\n\t\t// is when a developer supplies their own `labels` property.\r\n\t\t// To guard against such cases, a missing country name\r\n\t\t// is substituted by country code.\r\n\t\tlabel: countryNames[country] || country\r\n\t}))\r\n\r\n\t// Sort the list of countries alphabetically.\r\n\tcountrySelectOptions.sort((a, b) => _compareStrings(a.label, b.label, compareStringsLocales))\r\n\r\n\t// Add the \"International\" option to the country list (if suitable)\r\n\tif (addInternationalOption) {\r\n\t\tcountrySelectOptions.unshift({\r\n\t\t\tlabel: countryNames.ZZ\r\n\t\t})\r\n\t}\r\n\r\n\treturn countrySelectOptions\r\n}\r\n\r\n/**\r\n * Parses a E.164 phone number to an instance of `PhoneNumber` class.\r\n * @param {string?} value = E.164 phone number.\r\n * @param  {object} metadata - `libphonenumber-js` metadata\r\n * @return {object} Object having shape `{ country: string?, countryCallingCode: string, number: string }`. `PhoneNumber`: https://gitlab.com/catamphetamine/libphonenumber-js#phonenumber.\r\n * @example\r\n * parsePhoneNumber('+78005553535')\r\n */\r\nexport function parsePhoneNumber(value, metadata) {\r\n\treturn parsePhoneNumber_(value || '', metadata)\r\n}\r\n\r\n/**\r\n * Generates national number digits for a parsed phone.\r\n * May prepend national prefix.\r\n * The phone number must be a complete and valid phone number.\r\n * @param  {object} phoneNumber - An instance of `PhoneNumber` class.\r\n * @param  {object} metadata - `libphonenumber-js` metadata\r\n * @return {string}\r\n * @example\r\n * getNationalNumberDigits({ country: 'RU', phone: '8005553535' })\r\n * // returns '88005553535'\r\n */\r\nexport function generateNationalNumberDigits(phoneNumber) {\r\n\treturn phoneNumber.formatNational().replace(/\\D/g, '')\r\n}\r\n\r\n/**\r\n * Migrates parsed `<input/>` `value` for the newly selected `country`.\r\n * @param {string?} phoneDigits - Phone number digits (and `+`) parsed from phone number `<input/>` (it's not the same as the `value` property).\r\n * @param {string?} prevCountry - Previously selected country.\r\n * @param {string?} newCountry - Newly selected country. Can't be same as previously selected country.\r\n * @param {object} metadata - `libphonenumber-js` metadata.\r\n * @param {boolean} useNationalFormat - whether should attempt to convert from international to national number for the new country.\r\n * @return {string?}\r\n */\r\nexport function getPhoneDigitsForNewCountry(phoneDigits, {\r\n\tprevCountry,\r\n\tnewCountry,\r\n\tmetadata,\r\n\tuseNationalFormat\r\n}) {\r\n\t// If `parsed_input` is empty\r\n\t// then no need to migrate anything.\r\n\tif (!phoneDigits) {\r\n\t\tif (useNationalFormat) {\r\n\t\t\treturn ''\r\n\t\t} else {\r\n\t\t\t// If `phoneDigits` is empty then set `phoneDigits` to\r\n\t\t\t// `+{getCountryCallingCode(newCountry)}`.\r\n\t\t\treturn getInternationalPhoneNumberPrefix(newCountry, metadata)\r\n\t\t}\r\n\t}\r\n\r\n\t// If switching to some country.\r\n\t// (from \"International\" or another country)\r\n\t// If switching from \"International\" then `phoneDigits` starts with a `+`.\r\n\t// Otherwise it may or may not start with a `+`.\r\n\tif (newCountry) {\r\n\t\t// If the phone number was entered in international format\r\n\t\t// then migrate it to the newly selected country.\r\n\t\t// The phone number may be incomplete.\r\n\t\t// The phone number entered not necessarily starts with\r\n\t\t// the previously selected country phone prefix.\r\n\t\tif (phoneDigits[0] === '+') {\r\n\t\t\t// If the international phone number is for the new country\r\n\t\t\t// then convert it to local if required.\r\n\t\t\tif (useNationalFormat) {\r\n\t\t\t\t// // If a phone number is being input in international form\r\n\t\t\t\t// // and the country can already be derived from it,\r\n\t\t\t\t// // and if it is the new country, then format as a national number.\r\n\t\t\t\t// const derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(phoneDigits, metadata)\r\n\t\t\t\t// if (derived_country === newCountry) {\r\n\t\t\t\t// \treturn stripCountryCallingCode(phoneDigits, derived_country, metadata)\r\n\t\t\t\t// }\r\n\r\n\t\t\t\t// Actually, the two countries don't necessarily need to match:\r\n\t\t\t\t// the condition could be looser here, because several countries\r\n\t\t\t\t// might share the same international phone number format\r\n\t\t\t\t// (for example, \"NANPA\" countries like US, Canada, etc).\r\n\t\t\t\t// The looser condition would be just \"same nternational phone number format\"\r\n\t\t\t\t// which would mean \"same country calling code\" in the context of `libphonenumber-js`.\r\n\t\t\t\tif (phoneDigits.indexOf('+' + getCountryCallingCode(newCountry, metadata)) === 0) {\r\n\t\t\t\t\treturn stripCountryCallingCode(phoneDigits, newCountry, metadata)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Simply discard the previously entered international phone number,\r\n\t\t\t\t// because otherwise any \"smart\" transformation like getting the\r\n\t\t\t\t// \"national (significant) number\" part and then prepending the\r\n\t\t\t\t// newly selected country's \"country calling code\" to it\r\n\t\t\t\t// would just be confusing for a user without being actually useful.\r\n\t\t\t\treturn ''\r\n\r\n\t\t\t\t// // Simply strip the leading `+` character\r\n\t\t\t\t// // therefore simply converting all digits into a \"local\" phone number.\r\n\t\t\t\t// // https://github.com/catamphetamine/react-phone-number-input/issues/287\r\n\t\t\t\t// return phoneDigits.slice(1)\r\n\t\t\t}\r\n\r\n\t\t\tif (prevCountry) {\r\n\t\t\t\tconst newCountryPrefix = getInternationalPhoneNumberPrefix(newCountry, metadata)\r\n\t\t\t\tif (phoneDigits.indexOf(newCountryPrefix) === 0) {\r\n\t\t\t\t\treturn phoneDigits\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn newCountryPrefix\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst defaultValue = getInternationalPhoneNumberPrefix(newCountry, metadata)\r\n\t\t\t\t// If `phoneDigits`'s country calling code part is the same\r\n\t\t\t\t// as for the new `country`, then leave `phoneDigits` as is.\r\n\t\t\t\tif (phoneDigits.indexOf(defaultValue) === 0) {\r\n\t\t\t\t\treturn phoneDigits\r\n\t\t\t\t}\r\n\t\t\t\t// If `phoneDigits`'s country calling code part is not the same\r\n\t\t\t\t// as for the new `country`, then set `phoneDigits` to\r\n\t\t\t\t// `+{getCountryCallingCode(newCountry)}`.\r\n\t\t\t\treturn defaultValue\r\n\t\t\t}\r\n\r\n\t\t\t// // If the international phone number already contains\r\n\t\t\t// // any country calling code then trim the country calling code part.\r\n\t\t\t// // (that could also be the newly selected country phone code prefix as well)\r\n\t\t\t// // `phoneDigits` doesn't neccessarily belong to `prevCountry`.\r\n\t\t\t// // (e.g. if a user enters an international number\r\n\t\t\t// //  not belonging to any of the reduced `countries` list).\r\n\t\t\t// phoneDigits = stripCountryCallingCode(phoneDigits, prevCountry, metadata)\r\n\r\n\t\t\t// // Prepend country calling code prefix\r\n\t\t\t// // for the newly selected country.\r\n\t\t\t// return e164(phoneDigits, newCountry, metadata) || `+${getCountryCallingCode(newCountry, metadata)}`\r\n\t\t}\r\n\t}\r\n\t// If switching to \"International\" from a country.\r\n\telse {\r\n\t\t// If the phone number was entered in national format.\r\n\t\tif (phoneDigits[0] !== '+') {\r\n\t\t\t// Format the national phone number as an international one.\r\n\t\t\t// The phone number entered not necessarily even starts with\r\n\t\t\t// the previously selected country phone prefix.\r\n\t\t\t// Even if the phone number belongs to whole another country\r\n\t\t\t// it will still be parsed into some national phone number.\r\n\t\t\treturn e164(phoneDigits, prevCountry, metadata) || ''\r\n\t\t}\r\n\t}\r\n\r\n\treturn phoneDigits\r\n}\r\n\r\n/**\r\n * Converts phone number digits to a (possibly incomplete) E.164 phone number.\r\n * @param  {string?} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.\r\n * @param  {string?} country\r\n * @param  {[object} metadata - `libphonenumber-js` metadata.\r\n * @return {string?}\r\n */\r\nexport function e164(number, country, metadata) {\r\n\tif (!number) {\r\n\t\treturn\r\n\t}\r\n\t// If the phone number is being input in international format.\r\n\tif (number[0] === '+') {\r\n\t\t// If it's just the `+` sign then return nothing.\r\n\t\tif (number === '+') {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// If there are any digits then the `value` is returned as is.\r\n\t\treturn number\r\n\t}\r\n\t// For non-international phone numbers\r\n\t// an accompanying country code is required.\r\n\tif (!country) {\r\n\t\treturn\r\n\t}\r\n\tconst partial_national_significant_number = getNationalSignificantNumberDigits(number, country, metadata)\r\n\tif (partial_national_significant_number) {\r\n\t\treturn `+${getCountryCallingCode(country, metadata)}${partial_national_significant_number}`\r\n\t}\r\n}\r\n\r\n/**\r\n * Trims phone number digits if they exceed the maximum possible length\r\n * for a national (significant) number for the country.\r\n * @param  {string} number - A possibly incomplete phone number digits string. Can be a possibly incomplete E.164 phone number.\r\n * @param  {string} country\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string} Can be empty.\r\n */\r\nexport function trimNumber(number, country, metadata) {\r\n\tconst nationalSignificantNumberPart = getNationalSignificantNumberDigits(number, country, metadata)\r\n\tif (nationalSignificantNumberPart) {\r\n\t\tconst overflowDigitsCount = nationalSignificantNumberPart.length - getMaxNumberLength(country, metadata)\r\n\t\tif (overflowDigitsCount > 0) {\r\n\t\t\treturn number.slice(0, number.length - overflowDigitsCount)\r\n\t\t}\r\n\t}\r\n\treturn number\r\n}\r\n\r\nfunction getMaxNumberLength(country, metadata) {\r\n\t// Get \"possible lengths\" for a phone number of the country.\r\n\tmetadata = new Metadata(metadata)\r\n\tmetadata.selectNumberingPlan(country)\r\n\t// Return the last \"possible length\".\r\n\treturn metadata.numberingPlan.possibleLengths()[metadata.numberingPlan.possibleLengths().length - 1]\r\n}\r\n\r\n// If the phone number being input is an international one\r\n// then tries to derive the country from the phone number.\r\n// (regardless of whether there's any country currently selected)\r\n/**\r\n * @param {string} partialE164Number - A possibly incomplete E.164 phone number.\r\n * @param {string?} country - Currently selected country.\r\n * @param {string[]?} countries - A list of available countries. If not passed then \"all countries\" are assumed.\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string?}\r\n */\r\nexport function getCountryForPartialE164Number(partialE164Number, {\r\n\tcountry,\r\n\tcountries,\r\n\trequired,\r\n\tmetadata\r\n}) {\r\n\tif (partialE164Number === '+') {\r\n\t\t// Don't change the currently selected country yet.\r\n\t\treturn country\r\n\t}\r\n\r\n\tconst derived_country = getCountryFromPossiblyIncompleteInternationalPhoneNumber(partialE164Number, metadata)\r\n\r\n\t// If a phone number is being input in international form\r\n\t// and the country can already be derived from it,\r\n\t// then select that country.\r\n\tif (derived_country && (!countries || (countries.indexOf(derived_country) >= 0))) {\r\n\t\treturn derived_country\r\n\t}\r\n\t// If \"International\" country option has not been disabled\r\n\t// and the international phone number entered doesn't correspond\r\n\t// to the currently selected country then reset the currently selected country.\r\n\telse if (country &&\r\n\t\t!required &&\r\n\t\t!couldNumberBelongToCountry(partialE164Number, country, metadata)) {\r\n\t\treturn undefined\r\n\t}\r\n\r\n\t// Don't change the currently selected country.\r\n\treturn country\r\n}\r\n\r\n/**\r\n * Parses `<input/>` value. Derives `country` from `input`. Derives an E.164 `value`.\r\n * @param  {string?} phoneDigits  Parsed `<input/>` value. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n * @param  {string?} prevPhoneDigits  Previous parsed `<input/>` value. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n * @param  {string?} country - Currently selected country.\r\n * @param  {boolean} countryRequired - Is selecting some country required.\r\n * @param  {function} getAnyCountry - Can be used to get any country when selecting some country required.\r\n * @param  {string[]?} countries - A list of available countries. If not passed then \"all countries\" are assumed.\r\n * @param  {boolean} international - Set to `true` to force international phone number format (leading `+`). Set to `false` to force \"national\" phone number format. Is `undefined` by default.\r\n * @param  {boolean} limitMaxLength  Whether to enable limiting phone number max length.\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {object} An object of shape `{ input, country, value }`.\r\n */\r\nexport function onPhoneDigitsChange(phoneDigits, {\r\n\tprevPhoneDigits,\r\n\tcountry,\r\n\tdefaultCountry,\r\n\tcountryRequired,\r\n\tgetAnyCountry,\r\n\tcountries,\r\n\tinternational,\r\n\tlimitMaxLength,\r\n\tcountryCallingCodeEditable,\r\n\tmetadata\r\n}) {\r\n\tif (international && countryCallingCodeEditable === false) {\r\n\t\tconst prefix = getInternationalPhoneNumberPrefix(country, metadata)\r\n\t\t// The `<input/>` value must start with the country calling code.\r\n\t\tif (phoneDigits.indexOf(prefix) !== 0) {\r\n\t\t\tlet value\r\n\t\t\t// If a phone number input is declared as\r\n\t\t\t// `international` and `withCountryCallingCode`,\r\n\t\t\t// then it's gonna be non-empty even before the user\r\n\t\t\t// has input anything in it.\r\n\t\t\t// This will result in its contents (the country calling code part)\r\n\t\t\t// being selected when the user tabs into such field.\r\n\t\t\t// If the user then starts inputting the national part digits,\r\n\t\t\t// then `<input/>` value changes from `+xxx` to `y`\r\n\t\t\t// because inputting anything while having the `<input/>` value\r\n\t\t\t// selected results in erasing the `<input/>` value\r\n\t\t\t// So, the component handles such case by restoring\r\n\t\t\t// the intended `<input/>`` value: `+xxxy`.\r\n\t\t\t// https://gitlab.com/catamphetamine/react-phone-number-input/-/issues/43\r\n\t\t\tif (phoneDigits && phoneDigits[0] !== '+') {\r\n\t\t\t\tphoneDigits = prefix + phoneDigits\r\n\t\t\t\tvalue = phoneDigits\r\n\t\t\t} else {\r\n\t\t\t\tphoneDigits = prefix\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tphoneDigits,\r\n\t\t\t\tvalue,\r\n\t\t\t\tcountry\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// If `international` property is `false`, then it means\r\n\t// \"enforce national-only format during input\",\r\n\t// so, if that's the case, then remove all `+` characters,\r\n\t// but only if some country is currently selected.\r\n\t// (not if \"International\" country is selected).\r\n\tif (international === false && country && phoneDigits && phoneDigits[0] === '+') {\r\n\t\tphoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata)\r\n\t}\r\n\r\n\t// Trim the input to not exceed the maximum possible number length.\r\n\tif (phoneDigits && country && limitMaxLength) {\r\n\t\tphoneDigits = trimNumber(phoneDigits, country, metadata)\r\n\t}\r\n\r\n\t// If this `onChange()` event was triggered\r\n\t// as a result of selecting \"International\" country,\r\n\t// then force-prepend a `+` sign if the phone number\r\n\t// `<input/>` value isn't in international format.\r\n\t// Also, force-prepend a `+` sign if international\r\n\t// phone number input format is set.\r\n\tif (phoneDigits && phoneDigits[0] !== '+' && (!country || international)) {\r\n\t\tphoneDigits = '+' + phoneDigits\r\n\t}\r\n\r\n\t// If the previously entered phone number\r\n\t// has been entered in international format\r\n\t// and the user decides to erase it,\r\n\t// then also reset the `country`\r\n\t// because it was most likely automatically selected\r\n\t// while the user was typing in the phone number\r\n\t// in international format.\r\n\t// This fixes the issue when a user is presented\r\n\t// with a phone number input with no country selected\r\n\t// and then types in their local phone number\r\n\t// then discovers that the input's messed up\r\n\t// (a `+` has been prepended at the start of their input\r\n\t//  and a random country has been selected),\r\n\t// decides to undo it all by erasing everything\r\n\t// and then types in their local phone number again\r\n\t// resulting in a seemingly correct phone number\r\n\t// but in reality that phone number has incorrect country.\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/273\r\n\tif (!phoneDigits && prevPhoneDigits && prevPhoneDigits[0] === '+') {\r\n\t\tif (international) {\r\n\t\t\tcountry = undefined\r\n\t\t} else {\r\n\t\t\tcountry = defaultCountry\r\n\t\t}\r\n\t}\r\n\t// Also resets such \"randomly\" selected country\r\n\t// as soon as the user erases the number\r\n\t// digit-by-digit up to the leading `+` sign.\r\n\tif (phoneDigits === '+' && prevPhoneDigits && prevPhoneDigits[0] === '+' && prevPhoneDigits.length > '+'.length) {\r\n\t\tcountry = undefined\r\n\t}\r\n\r\n\t// Generate the new `value` property.\r\n\tlet value\r\n\tif (phoneDigits) {\r\n\t\tif (phoneDigits[0] === '+') {\r\n\t\t\tif (phoneDigits === '+') {\r\n\t\t\t\tvalue = undefined\r\n\t\t\t} else if (country && getInternationalPhoneNumberPrefix(country, metadata).indexOf(phoneDigits) === 0) {\r\n\t\t\t\tvalue = undefined\r\n\t\t\t} else {\r\n\t\t\t\tvalue = phoneDigits\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvalue = e164(phoneDigits, country, metadata)\r\n\t\t}\r\n\t}\r\n\r\n\t// Derive the country from the phone number.\r\n\t// (regardless of whether there's any country currently selected,\r\n\t//  because there could be several countries corresponding to one country calling code)\r\n\tif (value) {\r\n\t\tcountry = getCountryForPartialE164Number(value, {\r\n\t\t\tcountry,\r\n\t\t\tcountries,\r\n\t\t\tmetadata\r\n\t\t})\r\n\t\t// If `international` property is `false`, then it means\r\n\t\t// \"enforce national-only format during input\",\r\n\t\t// so, if that's the case, then remove all `+` characters,\r\n\t\t// but only if some country is currently selected.\r\n\t\t// (not if \"International\" country is selected).\r\n\t\tif (international === false && country && phoneDigits && phoneDigits[0] === '+') {\r\n\t\t\tphoneDigits = convertInternationalPhoneDigitsToNational(phoneDigits, country, metadata)\r\n\t\t\t// Re-calculate `value` because `phoneDigits` has changed.\r\n\t\t\tvalue = e164(phoneDigits, country, metadata)\r\n\t\t}\r\n\t}\r\n\r\n\tif (!country && countryRequired) {\r\n\t\tcountry = defaultCountry || getAnyCountry()\r\n\t}\r\n\r\n\treturn {\r\n\t\tphoneDigits,\r\n\t\tcountry,\r\n\t\tvalue\r\n\t}\r\n}\r\n\r\nfunction convertInternationalPhoneDigitsToNational(input, country, metadata) {\r\n\t// Handle the case when a user might have pasted\r\n\t// a phone number in international format.\r\n\tif (input.indexOf(getInternationalPhoneNumberPrefix(country, metadata)) === 0) {\r\n\t\t// Create \"as you type\" formatter.\r\n\t\tconst formatter = new AsYouType(country, metadata)\r\n\t\t// Input partial national phone number.\r\n\t\tformatter.input(input)\r\n\t\t// Return the parsed partial national phone number.\r\n\t\tconst phoneNumber = formatter.getNumber()\r\n\t\tif (phoneNumber) {\r\n\t\t\t// Transform the number to a national one,\r\n\t\t\t// and remove all non-digits.\r\n\t\t\treturn phoneNumber.formatNational().replace(/\\D/g, '')\r\n\t\t} else {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t} else {\r\n\t\t// Just remove the `+` sign.\r\n\t\treturn input.replace(/\\D/g, '')\r\n\t}\r\n}\r\n\r\n/**\r\n * Determines the country for a given (possibly incomplete) E.164 phone number.\r\n * @param  {string} number - A possibly incomplete E.164 phone number.\r\n * @param  {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string?}\r\n */\r\nexport function getCountryFromPossiblyIncompleteInternationalPhoneNumber(number, metadata) {\r\n\tconst formatter = new AsYouType(null, metadata)\r\n\tformatter.input(number)\r\n\t// // `001` is a special \"non-geograpical entity\" code\r\n\t// // in Google's `libphonenumber` library.\r\n\t// if (formatter.getCountry() === '001') {\r\n\t// \treturn\r\n\t// }\r\n\treturn formatter.getCountry()\r\n}\r\n\r\n/**\r\n * Compares two strings.\r\n * A helper for `Array.sort()`.\r\n * @param {string} a  First string.\r\n * @param {string} b  Second string.\r\n * @param {(string[]|string)} [locales]  The `locales` argument of `String.localeCompare`.\r\n */\r\nexport function compareStrings(a, b, locales) {\r\n  // Use `String.localeCompare` if it's available.\r\n  // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\r\n  // Which means everyone except IE <= 10 and Safari <= 10.\r\n  // `localeCompare()` is available in latest Node.js versions.\r\n  /* istanbul ignore else */\r\n  if (String.prototype.localeCompare) {\r\n    return a.localeCompare(b, locales);\r\n  }\r\n  /* istanbul ignore next */\r\n  return a < b ? -1 : (a > b ? 1 : 0);\r\n}\r\n\r\n/**\r\n * Strips `+${countryCallingCode}` prefix from an E.164 phone number.\r\n * @param {string} number - (possibly incomplete) E.164 phone number.\r\n * @param {string?} country - A possible country for this phone number.\r\n * @param {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string}\r\n */\r\nexport function stripCountryCallingCode(number, country, metadata) {\r\n\t// Just an optimization, so that it\r\n\t// doesn't have to iterate through all country calling codes.\r\n\tif (country) {\r\n\t\tconst countryCallingCodePrefix = '+' + getCountryCallingCode(country, metadata)\r\n\r\n\t\t// If `country` fits the actual `number`.\r\n\t\tif (number.length < countryCallingCodePrefix.length) {\r\n\t\t\tif (countryCallingCodePrefix.indexOf(number) === 0) {\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (number.indexOf(countryCallingCodePrefix) === 0) {\r\n\t\t\t\treturn number.slice(countryCallingCodePrefix.length)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// If `country` doesn't fit the actual `number`.\r\n\t// Try all available country calling codes.\r\n\tfor (const country_calling_code of Object.keys(metadata.country_calling_codes)) {\r\n\t\tif (number.indexOf(country_calling_code) === '+'.length) {\r\n\t\t\treturn number.slice('+'.length + country_calling_code.length)\r\n\t\t}\r\n\t}\r\n\r\n\treturn ''\r\n}\r\n\r\n/**\r\n * Parses a partially entered national phone number digits\r\n * (or a partially entered E.164 international phone number)\r\n * and returns the national significant number part.\r\n * National significant number returned doesn't come with a national prefix.\r\n * @param {string} number - National number digits. Or possibly incomplete E.164 phone number.\r\n * @param {string?} country\r\n * @param {object} metadata - `libphonenumber-js` metadata.\r\n * @return {string} [result]\r\n */\r\nexport function getNationalSignificantNumberDigits(number, country, metadata) {\r\n\t// Create \"as you type\" formatter.\r\n\tconst formatter = new AsYouType(country, metadata)\r\n\t// Input partial national phone number.\r\n\tformatter.input(number)\r\n\t// Return the parsed partial national phone number.\r\n\tconst phoneNumber = formatter.getNumber()\r\n\treturn phoneNumber && phoneNumber.nationalNumber\r\n}\r\n\r\n/**\r\n * Checks if a partially entered E.164 phone number could belong to a country.\r\n * @param  {string} number\r\n * @param  {string} country\r\n * @return {boolean}\r\n */\r\nexport function couldNumberBelongToCountry(number, country, metadata) {\r\n\tconst intlPhoneNumberPrefix = getInternationalPhoneNumberPrefix(country, metadata)\r\n\tlet i = 0\r\n\twhile (i < number.length && i < intlPhoneNumberPrefix.length) {\r\n\t\tif (number[i] !== intlPhoneNumberPrefix[i]) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\treturn true\r\n}\r\n\r\n/**\r\n * Gets initial \"phone digits\" (including `+`, if using international format).\r\n * @return {string} [phoneDigits] Returns `undefined` if there should be no initial \"phone digits\".\r\n */\r\nexport function getInitialPhoneDigits({\r\n\tvalue,\r\n\tphoneNumber,\r\n\tdefaultCountry,\r\n\tinternational,\r\n\tuseNationalFormat,\r\n\tmetadata\r\n}) {\r\n\t// If the `value` (E.164 phone number)\r\n\t// belongs to the currently selected country\r\n\t// and `useNationalFormat` is `true`\r\n\t// then convert `value` (E.164 phone number)\r\n\t// to a local phone number digits.\r\n\t// E.g. '+78005553535' -> '88005553535'.\r\n\tif ((international === false || useNationalFormat) && phoneNumber && phoneNumber.country) {\r\n\t\treturn generateNationalNumberDigits(phoneNumber)\r\n\t}\r\n\t// If `international` property is `true`,\r\n\t// meaning \"enforce international phone number format\",\r\n\t// then always show country calling code in the input field.\r\n\tif (!value && international && defaultCountry) {\r\n\t\treturn getInternationalPhoneNumberPrefix(defaultCountry, metadata)\r\n\t}\r\n\treturn value\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport InputSmart from './InputSmart'\r\nimport InputBasic from './InputBasic'\r\n\r\nimport { CountrySelectWithIcon as CountrySelect } from './CountrySelect'\r\n\r\nimport Flag from './Flag'\r\nimport InternationalIcon from './InternationalIcon'\r\n\r\nimport {\r\n\tsortCountryOptions,\r\n\tisCountrySupportedWithError,\r\n\tgetSupportedCountries,\r\n\tgetSupportedCountryOptions,\r\n\tgetCountries\r\n} from './helpers/countries'\r\n\r\nimport { createCountryIconComponent } from './CountryIcon'\r\n\r\nimport {\r\n\tmetadata as metadataPropType,\r\n\tlabels as labelsPropType\r\n} from './PropTypes'\r\n\r\nimport {\r\n\tgetPreSelectedCountry,\r\n\tgetCountrySelectOptions,\r\n\tparsePhoneNumber,\r\n\tgenerateNationalNumberDigits,\r\n\tgetPhoneDigitsForNewCountry,\r\n\tgetInitialPhoneDigits,\r\n\tonPhoneDigitsChange,\r\n\te164\r\n} from './helpers/phoneInputHelpers'\r\n\r\nimport getPhoneInputWithCountryStateUpdateFromNewProps from './helpers/getPhoneInputWithCountryStateUpdateFromNewProps'\r\n\r\nclass PhoneNumberInput_ extends React.PureComponent {\r\n\tinputRef = React.createRef()\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\tlabels,\r\n\t\t\tinternational,\r\n\t\t\taddInternationalOption,\r\n\t\t\t// `displayInitialValueAsLocalNumber` property has been\r\n\t\t\t// superceded by `initialValueFormat` property.\r\n\t\t\tdisplayInitialValueAsLocalNumber,\r\n\t\t\tinitialValueFormat,\r\n\t\t\tmetadata\r\n\t\t} = this.props\r\n\r\n\t\tlet {\r\n\t\t\tdefaultCountry,\r\n\t\t\tcountries\r\n\t\t} = this.props\r\n\r\n\t\t// Validate `defaultCountry`.\r\n\t\tif (defaultCountry) {\r\n\t\t\tif (!this.isCountrySupportedWithError(defaultCountry)) {\r\n\t\t\t\tdefaultCountry = undefined\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Validate `countries`.\r\n\t\tcountries = getSupportedCountries(countries, metadata)\r\n\r\n\t\tconst phoneNumber = parsePhoneNumber(value, metadata)\r\n\r\n\t\tthis.CountryIcon = createCountryIconComponent(this.props)\r\n\r\n\t\tconst preSelectedCountry = getPreSelectedCountry({\r\n\t\t\tvalue,\r\n\t\t\tphoneNumber,\r\n\t\t\tdefaultCountry,\r\n\t\t\trequired: !addInternationalOption,\r\n\t\t\tcountries: countries || getCountries(metadata),\r\n\t\t\tgetAnyCountry: () => this.getFirstSupportedCountry({ countries }),\r\n\t\t\tmetadata\r\n\t\t})\r\n\r\n\t\tthis.state = {\r\n\t\t\t// Workaround for `this.props` inside `getDerivedStateFromProps()`.\r\n\t\t\tprops: this.props,\r\n\r\n\t\t\t// The country selected.\r\n\t\t\tcountry: preSelectedCountry,\r\n\r\n\t\t\t// `countries` are stored in `this.state` because they're filtered.\r\n\t\t\t// For example, a developer might theoretically pass some unsupported\r\n\t\t\t// countries as part of the `countries` property, and because of that\r\n\t\t\t// the component uses `this.state.countries` (which are filtered)\r\n\t\t\t// instead of `this.props.countries`\r\n\t\t\t// (which could potentially contain unsupported countries).\r\n\t\t\tcountries,\r\n\r\n\t\t\t// `phoneDigits` state property holds non-formatted user's input.\r\n\t\t\t// The reason is that there's no way of finding out\r\n\t\t\t// in which form should `value` be displayed: international or national.\r\n\t\t\t// E.g. if `value` is `+78005553535` then it could be input\r\n\t\t\t// by a user both as `8 (800) 555-35-35` and `+7 800 555 35 35`.\r\n\t\t\t// Hence storing just `value` is not sufficient for correct formatting.\r\n\t\t\t// E.g. if a user entered `8 (800) 555-35-35`\r\n\t\t\t// then value is `+78005553535` and `phoneDigits` are `88005553535`\r\n\t\t\t// and if a user entered `+7 800 555 35 35`\r\n\t\t\t// then value is `+78005553535` and `phoneDigits` are `+78005553535`.\r\n\t\t\tphoneDigits: getInitialPhoneDigits({\r\n\t\t\t\tvalue,\r\n\t\t\t\tphoneNumber,\r\n\t\t\t\tdefaultCountry,\r\n\t\t\t\tinternational,\r\n\t\t\t\tuseNationalFormat: displayInitialValueAsLocalNumber || initialValueFormat === 'national',\r\n\t\t\t\tmetadata\r\n\t\t\t}),\r\n\r\n\t\t\t// `value` property is duplicated in state.\r\n\t\t\t// The reason is that `getDerivedStateFromProps()`\r\n\t\t\t// needs this `value` to compare to the new `value` property\r\n\t\t\t// to find out if `phoneDigits` needs updating:\r\n\t\t\t// If the `value` property was changed externally\r\n\t\t\t// then it won't be equal to `state.value`\r\n\t\t\t// in which case `phoneDigits` and `country` should be updated.\r\n\t\t\tvalue\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { onCountryChange } = this.props\r\n\t\tlet { defaultCountry } = this.props\r\n\t\tconst { country: selectedCountry } = this.state\r\n\t\tif (onCountryChange) {\r\n\t\t\tif (defaultCountry) {\r\n\t\t\t\tif (!this.isCountrySupportedWithError(defaultCountry)) {\r\n\t\t\t\t\tdefaultCountry = undefined\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (selectedCountry !== defaultCountry) {\r\n\t\t\t\tonCountryChange(selectedCountry)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tconst { onCountryChange } = this.props\r\n\t\tconst { country } = this.state\r\n\t\t// Call `onCountryChange` when user selects another country.\r\n\t\tif (onCountryChange && country !== prevState.country) {\r\n\t\t\tonCountryChange(country)\r\n\t\t}\r\n\t}\r\n\r\n\tsetInputRef = (instance) => {\r\n\t\tthis.inputRef.current = instance\r\n\t\tconst { inputRef: ref } = this.props\r\n\t\tif (ref) {\r\n\t\t\tif (typeof ref === 'function') {\r\n\t\t\t\tref(instance)\r\n\t\t\t} else {\r\n\t\t\t\tref.current = instance\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetCountrySelectOptions({ countries }) {\r\n\t\tconst {\r\n\t\t\tinternational,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tcountryOptionsOrder,\r\n\t\t\taddInternationalOption,\r\n\t\t\tlabels,\r\n\t\t\tlocales,\r\n\t\t\tmetadata\r\n\t\t} = this.props\r\n\t\treturn useMemoCountrySelectOptions(() => {\r\n\t\t\treturn sortCountryOptions(\r\n\t\t\t\tgetCountrySelectOptions({\r\n\t\t\t\t\tcountries: countries || getCountries(metadata),\r\n\t\t\t\t\tcountryNames: labels,\r\n\t\t\t\t\taddInternationalOption: (international && countryCallingCodeEditable === false) ? false : addInternationalOption,\r\n\t\t\t\t\tcompareStringsLocales: locales,\r\n\t\t\t\t\t// compareStrings\r\n\t\t\t\t}),\r\n\t\t\t\tgetSupportedCountryOptions(countryOptionsOrder, metadata)\r\n\t\t\t)\r\n\t\t}, [\r\n\t\t\tcountries,\r\n\t\t\tcountryOptionsOrder,\r\n\t\t\taddInternationalOption,\r\n\t\t\tlabels,\r\n\t\t\tmetadata\r\n\t\t])\r\n\t}\r\n\r\n\tgetFirstSupportedCountry({ countries }) {\r\n\t\tconst countryOptions = this.getCountrySelectOptions({ countries })\r\n\t\treturn countryOptions[0].value\r\n\t}\r\n\r\n\t// A shorthand for not passing `metadata` as a second argument.\r\n\tisCountrySupportedWithError = (country) => {\r\n\t\tconst { metadata } = this.props\r\n\t\treturn isCountrySupportedWithError(country, metadata)\r\n\t}\r\n\r\n\t// Country `<select/>` `onChange` handler.\r\n\tonCountryChange = (newCountry) => {\r\n\t\tconst {\r\n\t\t\tinternational,\r\n\t\t\tmetadata,\r\n\t\t\tonChange,\r\n\t\t\tfocusInputOnCountrySelection\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tphoneDigits: prevPhoneDigits,\r\n\t\t\tcountry: prevCountry\r\n\t\t} = this.state\r\n\r\n\t\t// After the new `country` has been selected,\r\n\t\t// if the phone number `<input/>` holds any digits\r\n\t\t// then migrate those digits for the new `country`.\r\n\t\tconst newPhoneDigits = getPhoneDigitsForNewCountry(prevPhoneDigits, {\r\n\t\t\tprevCountry,\r\n\t\t\tnewCountry,\r\n\t\t\tmetadata,\r\n\t\t\t// Convert the phone number to \"national\" format\r\n\t\t\t// when the user changes the selected country by hand.\r\n\t\t\tuseNationalFormat: !international\r\n\t\t})\r\n\r\n\t\tconst newValue = e164(newPhoneDigits, newCountry, metadata)\r\n\r\n\t\t// Focus phone number `<input/>` upon country selection.\r\n\t\tif (focusInputOnCountrySelection) {\r\n\t\t\tthis.inputRef.current.focus()\r\n\t\t}\r\n\r\n\t\t// If the user has already manually selected a country\r\n\t\t// then don't override that already selected country\r\n\t\t// if the `defaultCountry` property changes.\r\n\t\t// That's what `hasUserSelectedACountry` flag is for.\r\n\r\n\t\tthis.setState({\r\n\t\t\tcountry: newCountry,\r\n\t\t\thasUserSelectedACountry: true,\r\n\t\t\tphoneDigits: newPhoneDigits,\r\n\t\t\tvalue: newValue\r\n\t\t},\r\n\t\t() => {\r\n\t\t\t// Update the new `value` property.\r\n\t\t\t// Doing it after the `state` has been updated\r\n\t\t\t// because `onChange()` will trigger `getDerivedStateFromProps()`\r\n\t\t\t// with the new `value` which will be compared to `state.value` there.\r\n\t\t\tonChange(newValue)\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * `<input/>` `onChange()` handler.\r\n\t * Updates `value` property accordingly (so that they are kept in sync).\r\n\t * @param {string?} input  Either a parsed phone number or an empty string. Examples: `\"\"`, `\"+\"`, `\"+123\"`, `\"123\"`.\r\n\t */\r\n\tonChange = (_phoneDigits) => {\r\n\t\tconst {\r\n\t\t\tdefaultCountry,\r\n\t\t\tonChange,\r\n\t\t\taddInternationalOption,\r\n\t\t\tinternational,\r\n\t\t\tlimitMaxLength,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tmetadata\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tcountries,\r\n\t\t\tphoneDigits: prevPhoneDigits,\r\n\t\t\tcountry: currentlySelectedCountry\r\n\t\t} = this.state\r\n\r\n\t\tconst {\r\n\t\t\tphoneDigits,\r\n\t\t\tcountry,\r\n\t\t\tvalue\r\n\t\t} = onPhoneDigitsChange(_phoneDigits, {\r\n\t\t\tprevPhoneDigits,\r\n\t\t\tcountry: currentlySelectedCountry,\r\n\t\t\tcountryRequired: !addInternationalOption,\r\n\t\t\tdefaultCountry,\r\n\t\t\tgetAnyCountry: () => this.getFirstSupportedCountry({ countries }),\r\n\t\t\tcountries,\r\n\t\t\tinternational,\r\n\t\t\tlimitMaxLength,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tmetadata\r\n\t\t})\r\n\r\n\t\tconst stateUpdate = {\r\n\t\t\tphoneDigits,\r\n\t\t\tvalue,\r\n\t\t\tcountry\r\n\t\t}\r\n\r\n\t\tif (countryCallingCodeEditable === false) {\r\n\t\t\t// If it simply did `setState({ phoneDigits: intlPrefix })` here,\r\n\t\t\t// then it would have no effect when erasing an inital international prefix\r\n\t\t\t// via Backspace, because `phoneDigits` in `state` wouldn't change\r\n\t\t\t// as a result, because it was `prefix` and it became `prefix`,\r\n\t\t\t// so the component wouldn't rerender, and the user would be able\r\n\t\t\t// to erase the country calling code part, and that part is\r\n\t\t\t// assumed to be non-eraseable. That's why the component is\r\n\t\t\t// forcefully rerendered here.\r\n\t\t\t// https://github.com/catamphetamine/react-phone-number-input/issues/367#issuecomment-721703501\r\n\t\t\tif (!value && phoneDigits === this.state.phoneDigits) {\r\n\t\t\t\t// Force a re-render of the `<input/>` in order to reset its value.\r\n\t\t\t\tstateUpdate.forceRerender = {}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState(\r\n\t\t\tstateUpdate,\r\n\t\t\t// Update the new `value` property.\r\n\t\t\t// Doing it after the `state` has been updated\r\n\t\t\t// because `onChange()` will trigger `getDerivedStateFromProps()`\r\n\t\t\t// with the new `value` which will be compared to `state.value` there.\r\n\t\t\t() => onChange(value)\r\n\t\t)\r\n\t}\r\n\r\n\t// Toggles the `--focus` CSS class.\r\n\t_onFocus = () => this.setState({ isFocused: true })\r\n\r\n\t// Toggles the `--focus` CSS class.\r\n\t_onBlur = () => this.setState({ isFocused: false })\r\n\r\n\tonFocus = (event) => {\r\n\t\tthis._onFocus()\r\n\t\tconst { onFocus } = this.props\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { onBlur } = this.props\r\n\t\tthis._onBlur()\r\n\t\tif (onBlur) {\r\n\t\t\tonBlur(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonCountryFocus = (event) => {\r\n\t\tthis._onFocus()\r\n\t\t// this.setState({ countrySelectFocused: true })\r\n\t\tconst { countrySelectProps } = this.props\r\n\t\tif (countrySelectProps) {\r\n\t\t\tconst { onFocus } = countrySelectProps\r\n\t\t\tif (onFocus) {\r\n\t\t\t\tonFocus(event)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonCountryBlur = (event) => {\r\n\t\tthis._onBlur()\r\n\t\t// this.setState({ countrySelectFocused: false })\r\n\t\tconst { countrySelectProps } = this.props\r\n\t\tif (countrySelectProps) {\r\n\t\t\tconst { onBlur } = countrySelectProps\r\n\t\t\tif (onBlur) {\r\n\t\t\t\tonBlur(event)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// `state` holds previous props as `props`, and also:\r\n\t// * `country`  The currently selected country, e.g. `\"RU\"`.\r\n\t// * `value`  The currently entered phone number (E.164), e.g. `+78005553535`.\r\n\t// * `phoneDigits`  The parsed `<input/>` value, e.g. `8005553535`.\r\n\t// (and a couple of other less significant properties)\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\treturn {\r\n\t\t\t// Emulate `prevProps` via `state.props`.\r\n\t\t\tprops,\r\n\t\t\t...getPhoneInputWithCountryStateUpdateFromNewProps(props, state.props, state)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\t// Generic HTML attributes.\r\n\t\t\tname,\r\n\t\t\tdisabled,\r\n\t\t\tautoComplete,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\r\n\t\t\t// Number `<input/>` properties.\r\n\t\t\tinputRef,\r\n\t\t\tinputComponent,\r\n\t\t\tnumberInputProps,\r\n\t\t\tsmartCaret,\r\n\r\n\t\t\t// Country `<select/>` properties.\r\n\t\t\tcountrySelectComponent: CountrySelectComponent,\r\n\t\t\tcountrySelectProps,\r\n\r\n\t\t\t// Container `<div/>` properties.\r\n\t\t\tcontainerComponent: ContainerComponent,\r\n\r\n\t\t\t// Get \"rest\" properties (passed through to number `<input/>`).\r\n\t\t\tdefaultCountry,\r\n\t\t\tcountries: countriesProperty,\r\n\t\t\tcountryOptionsOrder,\r\n\t\t\tlabels,\r\n\t\t\tflags,\r\n\t\t\tflagComponent,\r\n\t\t\tflagUrl,\r\n\t\t\taddInternationalOption,\r\n\t\t\tinternationalIcon,\r\n\t\t\t// `displayInitialValueAsLocalNumber` property has been\r\n\t\t\t// superceded by `initialValueFormat` property.\r\n\t\t\tdisplayInitialValueAsLocalNumber,\r\n\t\t\tinitialValueFormat,\r\n\t\t\tonCountryChange,\r\n\t\t\tlimitMaxLength,\r\n\t\t\tcountryCallingCodeEditable,\r\n\t\t\tfocusInputOnCountrySelection,\r\n\t\t\treset,\r\n\t\t\tmetadata,\r\n\t\t\tinternational,\r\n\t\t\tlocales,\r\n\t\t\t// compareStrings,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tcountry,\r\n\t\t\tcountries,\r\n\t\t\tphoneDigits,\r\n\t\t\tisFocused\r\n\t\t} = this.state\r\n\r\n\t\tconst InputComponent = smartCaret ? InputSmart : InputBasic\r\n\r\n\t\tconst countrySelectOptions = this.getCountrySelectOptions({ countries })\r\n\r\n\t\treturn (\r\n\t\t\t<ContainerComponent\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'PhoneInput', {\r\n\t\t\t\t\t'PhoneInput--focus': isFocused\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t{/* Country `<select/>` */}\r\n\t\t\t\t<CountrySelectComponent\r\n\t\t\t\t\tname={name ? `${name}Country` : undefined}\r\n\t\t\t\t\taria-label={labels.country}\r\n\t\t\t\t\t{...countrySelectProps}\r\n\t\t\t\t\tvalue={country}\r\n\t\t\t\t\toptions={countrySelectOptions}\r\n\t\t\t\t\tonChange={this.onCountryChange}\r\n\t\t\t\t\tonFocus={this.onCountryFocus}\r\n\t\t\t\t\tonBlur={this.onCountryBlur}\r\n\t\t\t\t\tdisabled={disabled || (countrySelectProps && countrySelectProps.disabled)}\r\n\t\t\t\t\ticonComponent={this.CountryIcon}/>\r\n\r\n\t\t\t\t{/* Phone number `<input/>` */}\r\n\t\t\t\t<InputComponent\r\n\t\t\t\t\tref={this.setInputRef}\r\n\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\tautoComplete={autoComplete}\r\n\t\t\t\t\t{...numberInputProps}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t\tmetadata={metadata}\r\n\t\t\t\t\tcountry={country}\r\n\t\t\t\t\tvalue={phoneDigits || ''}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\tonFocus={this.onFocus}\r\n\t\t\t\t\tonBlur={this.onBlur}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tinputComponent={inputComponent}\r\n\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t'PhoneInputInput',\r\n\t\t\t\t\t\tnumberInputProps && numberInputProps.className,\r\n\t\t\t\t\t\trest.className\r\n\t\t\t\t\t)}/>\r\n\t\t\t</ContainerComponent>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// This wrapper is only to `.forwardRef()` to the `<input/>`.\r\nconst PhoneNumberInput = React.forwardRef((props, ref) => (\r\n\t<PhoneNumberInput_ {...props} inputRef={ref}/>\r\n))\r\n\r\nPhoneNumberInput.propTypes = {\r\n\t/**\r\n\t * Phone number in `E.164` format.\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `\"+12223333333\"`\r\n\t */\r\n\tvalue: PropTypes.string,\r\n\r\n\t/**\r\n\t * A function of `value: string?`.\r\n\t *\r\n\t * Updates the `value` property as the user inputs a phone number.\r\n\t */\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t/**\r\n\t * Toggles the `--focus` CSS class.\r\n\t * @ignore\r\n\t */\r\n\tonFocus: PropTypes.func,\r\n\r\n\t/**\r\n\t * `onBlur` is usually passed by `redux-form`.\r\n\t * @ignore\r\n\t */\r\n\tonBlur: PropTypes.func,\r\n\r\n\t/**\r\n\t * Set to `true` to disable both the phone number `<input/>`\r\n\t * and the country `<select/>`.\r\n\t */\r\n\tdisabled: PropTypes.bool,\r\n\r\n\t/**\r\n\t * Sets `autoComplete` property for phone number `<input/>`.\r\n\t *\r\n\t * Web browser's \"autocomplete\" feature\r\n\t * remembers the phone number being input\r\n\t * and can also autofill the `<input/>`\r\n\t * with previously remembered phone numbers.\r\n\t *\r\n\t * https://developers.google.com\r\n\t * /web/updates/2015/06/checkout-faster-with-autofill\r\n\t *\r\n\t * For example, can be used to turn it off:\r\n\t *\r\n\t * \"So when should you use `autocomplete=\"off\"`?\r\n\t *  One example is when you've implemented your own version\r\n\t *  of autocomplete for search. Another example is any form field\r\n\t *  where users will input and submit different kinds of information\r\n\t *  where it would not be useful to have the browser remember\r\n\t *  what was submitted previously\".\r\n\t */\r\n\t// (is `\"tel\"` by default)\r\n\tautoComplete: PropTypes.string.isRequired,\r\n\r\n\t/**\r\n\t * Set to `\"national\"` to show the initial `value` in\r\n\t * \"national\" format rather than \"international\".\r\n\t *\r\n\t * For example, if `initialValueFormat` is `\"national\"`\r\n\t * and the initial `value=\"+12133734253\"` is passed\r\n\t * then the `<input/>` value will be `\"(213) 373-4253\"`.\r\n\t *\r\n\t * By default, `initialValueFormat` is `undefined`,\r\n\t * meaning that if the initial `value=\"+12133734253\"` is passed\r\n\t * then the `<input/>` value will be `\"+1 213 373 4253\"`.\r\n\t *\r\n\t * The reason for such default behaviour is that\r\n\t * the newer generation grows up when there are no stationary phones\r\n\t * and therefore everyone inputs phone numbers in international format\r\n\t * in their smartphones so people gradually get more accustomed to\r\n\t * writing phone numbers in international format rather than in local format.\r\n\t * Future people won't be using \"national\" format, only \"international\".\r\n\t */\r\n\t// (is `undefined` by default)\r\n\tinitialValueFormat: PropTypes.oneOf(['national']),\r\n\r\n\t// `displayInitialValueAsLocalNumber` property has been\r\n\t// superceded by `initialValueFormat` property.\r\n\tdisplayInitialValueAsLocalNumber: PropTypes.bool,\r\n\r\n\t/**\r\n\t * The country to be selected by default.\r\n\t * For example, can be set after a GeoIP lookup.\r\n\t *\r\n\t * Example: `\"US\"`.\r\n\t */\r\n\t// A two-letter country code (\"ISO 3166-1 alpha-2\").\r\n\tdefaultCountry: PropTypes.string,\r\n\r\n\t/**\r\n\t * If specified, only these countries will be available for selection.\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `[\"RU\", \"UA\", \"KZ\"]`\r\n\t */\r\n\tcountries: PropTypes.arrayOf(PropTypes.string),\r\n\r\n\t/**\r\n\t * Custom country `<select/>` option names.\r\n\t * Also some labels like \"ext\" and country `<select/>` `aria-label`.\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `{ \"ZZ\": \"\", RU: \"\", US: \"\", ... }`\r\n\t *\r\n\t * See the `locales` directory for examples.\r\n\t */\r\n\tlabels: labelsPropType.isRequired,\r\n\r\n\t/**\r\n\t * Country `<select/>` options are sorted by their labels.\r\n\t * The default sorting function uses `a.localeCompare(b, locales)`,\r\n\t * and, if that's not available, falls back to simple `a > b` / `a < b`.\r\n\t * Some languages, like Chinese, support multiple sorting variants\r\n\t * (called \"collations\"), and the user might prefer one or another.\r\n\t * Also, sometimes the Operating System language is not always\r\n\t * the preferred language for a person using a website or an application,\r\n\t * so there should be a way to specify custom locale.\r\n\t * This `locales` property mimicks the `locales` argument of `Intl` constructors,\r\n\t * and can be either a Unicode BCP 47 locale identifier or an array of such locale identifiers.\r\n\t * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#locales_argument\r\n\t */\r\n\tlocales: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.arrayOf(PropTypes.string)\r\n\t]),\r\n\r\n\t/*\r\n\t * Custom country `<select/>` options sorting function.\r\n\t * The default one uses `a.localeCompare(b)`, and,\r\n\t * if that's not available, falls back to simple `a > b`/`a < b`.\r\n\t * There have been requests to add custom sorter for cases\r\n\t * like Chinese language and \"pinyin\" (non-default) sorting order.\r\n\t * https://stackoverflow.com/questions/22907288/chinese-sorting-by-pinyin-in-javascript-with-localecompare\r\n\tcompareStrings: PropTypes.func,\r\n\t */\r\n\r\n\t/**\r\n\t * A URL template of a country flag, where\r\n\t * \"{XX}\" is a two-letter country code in upper case,\r\n\t * or where \"{xx}\" is a two-letter country code in lower case.\r\n\t * By default it points to `country-flag-icons` gitlab pages website.\r\n\t * I imagine someone might want to download those country flag icons\r\n\t * and host them on their own servers instead\r\n\t * (all flags are available in the `country-flag-icons` library).\r\n\t * There's a catch though: new countries may be added in future,\r\n\t * so when hosting country flag icons on your own server\r\n\t * one should check the `CHANGELOG.md` every time before updating this library,\r\n\t * otherwise there's a possibility that some new country flag would be missing.\r\n\t */\r\n\tflagUrl: PropTypes.string.isRequired,\r\n\r\n\t/**\r\n\t * Custom country flag icon components.\r\n\t * These flags will be used instead of the default ones.\r\n\t * The the \"Flags\" section of the readme for more info.\r\n\t *\r\n\t * The shape is an object where keys are country codes\r\n\t * and values are flag icon components.\r\n\t * Flag icon components receive the same properties\r\n\t * as `flagComponent` (see below).\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `{ \"RU\": (props) => <img src=\"...\"/> }`\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `import flags from 'country-flag-icons/react/3x2'`\r\n\t *\r\n\t * `import PhoneInput from 'react-phone-number-input'`\r\n\t *\r\n\t * `<PhoneInput flags={flags} .../>`\r\n\t */\r\n\tflags: PropTypes.objectOf(PropTypes.elementType),\r\n\r\n\t/**\r\n\t * Country flag icon component.\r\n\t *\r\n\t * Takes properties:\r\n\t *\r\n\t * * `country: string` The country code.\r\n\t * * `countryName: string` The country name.\r\n\t * * `flagUrl: string`  The `flagUrl` property (see above).\r\n\t * * `flags: object`  The `flags` property (see above).\r\n\t */\r\n\tflagComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Set to `false` to remove the \"International\" option from country `<select/>`.\r\n\t */\r\n\taddInternationalOption: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * \"International\" icon component.\r\n\t * Should have the same aspect ratio.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `title: string`  \"International\" country option label.\r\n\t */\r\n\tinternationalIcon: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Can be used to place some countries on top of the list of country `<select/>` options.\r\n\t *\r\n\t * * `\"XX\"`  inserts an option for \"XX\" country.\r\n\t * * `\"\"`  inserts \"International\" option.\r\n\t * * `\"|\"`  inserts a separator.\r\n\t * * `\"...\"`  inserts options for the rest of the countries (can be omitted, in which case it will be automatically added at the end).\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * `[\"US\", \"CA\", \"AU\", \"|\", \"...\"]`\r\n\t */\r\n\tcountryOptionsOrder: PropTypes.arrayOf(PropTypes.string),\r\n\r\n\t/**\r\n\t * `<Phone/>` component CSS style object.\r\n\t */\r\n\tstyle: PropTypes.object,\r\n\r\n\t/**\r\n\t * `<Phone/>` component CSS class.\r\n\t */\r\n\tclassName: PropTypes.string,\r\n\r\n\t/**\r\n\t * Country `<select/>` component.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `name: string?`  HTML `name` attribute.\r\n\t * * `value: string?`  The currently selected country code.\r\n\t * * `onChange(value: string?)`  Updates the `value`.\r\n\t * * `onFocus()`  Is used to toggle the `--focus` CSS class.\r\n\t * * `onBlur()`  Is used to toggle the `--focus` CSS class.\r\n\t * * `options: object[]`  The list of all selectable countries (including \"International\") each being an object of shape `{ value: string?, label: string }`.\r\n\t * * `iconComponent: PropTypes.elementType`  React component that renders a country icon: `<Icon country={value}/>`. If `country` is `undefined` then it renders an \"International\" icon.\r\n\t * * `disabled: boolean?`  HTML `disabled` attribute.\r\n\t * * `tabIndex: (number|string)?`  HTML `tabIndex` attribute.\r\n\t * * `className: string`  CSS class name.\r\n\t */\r\n\tcountrySelectComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Country `<select/>` component props.\r\n\t * Along with the usual DOM properties such as `aria-label` and `tabIndex`,\r\n\t * some custom properties are supported, such as `arrowComponent` and `unicodeFlags`.\r\n\t */\r\n\tcountrySelectProps: PropTypes.object,\r\n\r\n\t/**\r\n\t * Phone number `<input/>` component.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `value: string`  The formatted `value`.\r\n\t * * `onChange(event: Event)`  Updates the formatted `value` from `event.target.value`.\r\n\t * * `onFocus()`  Is used to toggle the `--focus` CSS class.\r\n\t * * `onBlur()`  Is used to toggle the `--focus` CSS class.\r\n\t * * Other properties like `type=\"tel\"` or `autoComplete=\"tel\"` that should be passed through to the DOM `<input/>`.\r\n\t *\r\n\t * Must also either use `React.forwardRef()` to \"forward\" `ref` to the `<input/>` or implement `.focus()` method.\r\n\t */\r\n\tinputComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Wrapping `<div/>` component.\r\n\t *\r\n\t * Receives properties:\r\n\t *\r\n\t * * `style: object`  A component CSS style object.\r\n\t * * `className: string`  Classes to attach to the component, typically changes when component focuses or blurs.\r\n\t */\r\n\tcontainerComponent: PropTypes.elementType.isRequired,\r\n\r\n\t/**\r\n\t * Phone number `<input/>` component props.\r\n\t */\r\n\tnumberInputProps: PropTypes.object,\r\n\r\n\t/**\r\n\t * By default, the caret position is being \"intelligently\" managed\r\n\t * while a user inputs a phone number.\r\n\t * This \"smart\" caret behavior can be turned off\r\n\t * by passing `smartCaret={false}` property.\r\n\t * This is just an \"escape hatch\" for any possible caret position issues.\r\n\t */\r\n\t// Is `true` by default.\r\n\tsmartCaret: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * Set to `true` to force \"international\" phone number format.\r\n\t * Set to `false` to force \"national\" phone number format.\r\n\t * By default it's `undefined` meaning that it doesn't enforce any phone number format.\r\n\t */\r\n\tinternational: PropTypes.bool,\r\n\r\n\t/**\r\n\t * If set to `true`, the phone number input will get trimmed\r\n\t * if it exceeds the maximum length for the country.\r\n\t */\r\n\tlimitMaxLength: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * If set to `false`, and `international` is `true`, then\r\n\t * users won't be able to erase the \"country calling part\"\r\n\t * of a phone number in the `<input/>`.\r\n\t */\r\n\tcountryCallingCodeEditable: PropTypes.bool.isRequired,\r\n\r\n\t/**\r\n\t * `libphonenumber-js` metadata.\r\n\t *\r\n\t * Can be used to pass custom `libphonenumber-js` metadata\r\n\t * to reduce the overall bundle size for those who compile \"custom\" metadata.\r\n\t */\r\n\tmetadata: metadataPropType.isRequired,\r\n\r\n\t/**\r\n\t * Is called every time the selected country changes:\r\n\t * either programmatically or when user selects it manually from the list.\r\n\t */\r\n\t// People have been asking for a way to get the selected country.\r\n\t// @see  https://github.com/catamphetamine/react-phone-number-input/issues/128\r\n\t// For some it's just a \"business requirement\".\r\n\t// I guess it's about gathering as much info on the user as a website can\r\n\t// without introducing any addional fields that would complicate the form\r\n\t// therefore reducing \"conversion\" (that's a marketing term).\r\n\t// Assuming that the phone number's country is the user's country\r\n\t// is not 100% correct but in most cases I guess it's valid.\r\n\tonCountryChange: PropTypes.func,\r\n\r\n\t/**\r\n\t * If set to `false`, will not focus the `<input/>` component\r\n\t * when the user selects a country from the list of countries.\r\n\t * This can be used to conform to the Web Content Accessibility Guidelines (WCAG).\r\n\t * Quote:\r\n\t * \"On input: Changing the setting of any user interface component\r\n\t *  does not automatically cause a change of context unless the user\r\n\t *  has been advised of the behaviour before using the component.\"\r\n\t */\r\n\tfocusInputOnCountrySelection: PropTypes.bool.isRequired\r\n}\r\n\r\nPhoneNumberInput.defaultProps = {\r\n\t/**\r\n\t * Remember (and autofill) the value as a phone number.\r\n\t */\r\n\tautoComplete: 'tel',\r\n\r\n\t/**\r\n\t * Country `<select/>` component.\r\n\t */\r\n\tcountrySelectComponent: CountrySelect,\r\n\r\n\t/**\r\n\t * Flag icon component.\r\n\t */\r\n\tflagComponent: Flag,\r\n\r\n\t/**\r\n\t * By default, uses icons from `country-flag-icons` gitlab pages website.\r\n\t */\r\n\t// Must be equal to `flagUrl` in `./CountryIcon.js`.\r\n\tflagUrl: 'https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg',\r\n\r\n\t/**\r\n\t * Default \"International\" country `<select/>` option icon.\r\n\t */\r\n\tinternationalIcon: InternationalIcon,\r\n\r\n\t/**\r\n\t * Phone number `<input/>` component.\r\n\t */\r\n\tinputComponent: 'input',\r\n\r\n\t/**\r\n\t * Wrapping `<div/>` component.\r\n\t */\r\n\tcontainerComponent: 'div',\r\n\r\n\t/**\r\n\t * Some users requested a way to reset the component:\r\n\t * both number `<input/>` and country `<select/>`.\r\n\t * Whenever `reset` property changes both number `<input/>`\r\n\t * and country `<select/>` are reset.\r\n\t * It's not implemented as some instance `.reset()` method\r\n\t * because `ref` is forwarded to `<input/>`.\r\n\t * It's also not replaced with just resetting `country` on\r\n\t * external `value` reset, because a user could select a country\r\n\t * and then not input any `value`, and so the selected country\r\n\t * would be \"stuck\", if not using this `reset` property.\r\n\t */\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/300\r\n\treset: PropTypes.any,\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\r\n\t/**\r\n\t * Set to `false` to use \"basic\" caret instead of the \"smart\" one.\r\n\t */\r\n\tsmartCaret: true,\r\n\r\n\t/**\r\n\t * Whether to add the \"International\" option\r\n\t * to the list of countries.\r\n\t */\r\n\taddInternationalOption: true,\r\n\r\n\t/**\r\n\t * If set to `true` the phone number input will get trimmed\r\n\t * if it exceeds the maximum length for the country.\r\n\t */\r\n\tlimitMaxLength: false,\r\n\r\n\t/**\r\n\t * If set to `false`, and `international` is `true`, then\r\n\t * users won't be able to erase the \"country calling part\"\r\n\t * of a phone number in the `<input/>`.\r\n\t */\r\n\tcountryCallingCodeEditable: true,\r\n\r\n\t/**\r\n\t * If set to `false`, will not focus the `<input/>` component\r\n\t * when the user selects a country from the list of countries.\r\n\t * This can be used to conform to the Web Content Accessibility Guidelines (WCAG).\r\n\t * Quote:\r\n\t * \"On input: Changing the setting of any user interface component\r\n\t *  does not automatically cause a change of context unless the user\r\n\t *  has been advised of the behaviour before using the component.\"\r\n\t */\r\n\tfocusInputOnCountrySelection: true\r\n}\r\n\r\nexport default PhoneNumberInput\r\n\r\nlet countrySelectOptionsMemo\r\nlet countrySelectOptionsMemoDependencies\r\nfunction useMemoCountrySelectOptions(generator, dependencies) {\r\n\tif (!countrySelectOptionsMemoDependencies ||\r\n\t\t!areEqualArrays(dependencies, countrySelectOptionsMemoDependencies)) {\r\n\t\tcountrySelectOptionsMemo = generator()\r\n\t\tcountrySelectOptionsMemoDependencies = dependencies\r\n\t}\r\n\treturn countrySelectOptionsMemo\r\n}\r\n\r\nfunction areEqualArrays(a, b) {\r\n\tif (a.length !== b.length) {\r\n\t\treturn false\r\n\t}\r\n\tlet i = 0\r\n\twhile (i < a.length) {\r\n\t\tif (a[i] !== b[i]) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\treturn true\r\n}","import {\r\n\tgetInitialPhoneDigits,\r\n\tgetCountryForPartialE164Number,\r\n\tparsePhoneNumber\r\n} from './phoneInputHelpers'\r\n\r\nimport {\r\n\tisCountrySupportedWithError,\r\n\tgetSupportedCountries\r\n} from './countries'\r\n\r\nexport default function getPhoneInputWithCountryStateUpdateFromNewProps(props, prevProps, state) {\r\n\tconst {\r\n\t\tmetadata,\r\n\t\tcountries,\r\n\t\tdefaultCountry: newDefaultCountry,\r\n\t\tvalue: newValue,\r\n\t\treset: newReset,\r\n\t\tinternational,\r\n\t\t// `displayInitialValueAsLocalNumber` property has been\r\n\t\t// superceded by `initialValueFormat` property.\r\n\t\tdisplayInitialValueAsLocalNumber,\r\n\t\tinitialValueFormat\r\n\t} = props\r\n\r\n\tconst {\r\n\t\tdefaultCountry: prevDefaultCountry,\r\n\t\tvalue: prevValue,\r\n\t\treset: prevReset\r\n\t} = prevProps\r\n\r\n\tconst {\r\n\t\tcountry,\r\n\t\tvalue,\r\n\t\t// If the user has already manually selected a country\r\n\t\t// then don't override that already selected country\r\n\t\t// if the `defaultCountry` property changes.\r\n\t\t// That's what `hasUserSelectedACountry` flag is for.\r\n\t\thasUserSelectedACountry\r\n\t} = state\r\n\r\n\tconst _getInitialPhoneDigits = (parameters) => getInitialPhoneDigits({\r\n\t\t...parameters,\r\n\t\tinternational,\r\n\t\tuseNationalFormat: displayInitialValueAsLocalNumber || initialValueFormat === 'national',\r\n\t\tmetadata\r\n\t})\r\n\r\n\t// Some users requested a way to reset the component\r\n\t// (both number `<input/>` and country `<select/>`).\r\n\t// Whenever `reset` property changes both number `<input/>`\r\n\t// and country `<select/>` are reset.\r\n\t// It's not implemented as some instance `.reset()` method\r\n\t// because `ref` is forwarded to `<input/>`.\r\n\t// It's also not replaced with just resetting `country` on\r\n\t// external `value` reset, because a user could select a country\r\n\t// and then not input any `value`, and so the selected country\r\n\t// would be \"stuck\", if not using this `reset` property.\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/300\r\n\tif (newReset !== prevReset) {\r\n\t\treturn {\r\n\t\t\tphoneDigits: _getInitialPhoneDigits({\r\n\t\t\t\tvalue: undefined,\r\n\t\t\t\tdefaultCountry: newDefaultCountry\r\n\t\t\t}),\r\n\t\t\tvalue: undefined,\r\n\t\t\tcountry: newDefaultCountry,\r\n\t\t\thasUserSelectedACountry: undefined\r\n\t\t}\r\n\t}\r\n\r\n\t// `value` is the value currently shown in the component:\r\n\t// it's stored in the component's `state`, and it's not the `value` property.\r\n\t// `prevValue` is \"previous `value` property\".\r\n\t// `newValue` is \"new `value` property\".\r\n\r\n\t// If the default country changed\r\n\t// (e.g. in case of ajax GeoIP detection after page loaded)\r\n\t// then select it, but only if the user hasn't already manually\r\n\t// selected a country, and no phone number has been manually entered so far.\r\n\t// Because if the user has already started inputting a phone number\r\n\t// then they're okay with no country being selected at all (\"International\")\r\n\t// and they don't want to be disturbed, don't want their input to be screwed, etc.\r\n\tif (newDefaultCountry !== prevDefaultCountry) {\r\n\t\tconst isNewDefaultCountrySupported = !newDefaultCountry || isCountrySupportedWithError(newDefaultCountry, metadata)\r\n\t\tconst noValueHasBeenEnteredByTheUser = (\r\n\t\t\t// By default, \"no value has been entered\" means `value` is `undefined`.\r\n\t\t\t!value ||\r\n\t\t\t// When `international` is `true`, and some country has been pre-selected,\r\n\t\t\t// then the `<input/>` contains a pre-filled value of `+${countryCallingCode}${leadingDigits}`,\r\n\t\t\t// so in case of `international` being `true`, \"the user hasn't entered anything\" situation\r\n\t\t\t// doesn't just mean `value` is `undefined`, but could also mean `value` is `+${countryCallingCode}`.\r\n\t\t\t(international && value === _getInitialPhoneDigits({\r\n\t\t\t\tvalue: undefined,\r\n\t\t\t\tdefaultCountry: prevDefaultCountry\r\n\t\t\t}))\r\n\t\t)\r\n\t\t// Only update the `defaultCountry` property if no phone number\r\n\t\t// has been entered by the user or pre-set by the application.\r\n\t\tconst noValueHasBeenEntered = !newValue && noValueHasBeenEnteredByTheUser\r\n\t\tif (!hasUserSelectedACountry && isNewDefaultCountrySupported && noValueHasBeenEntered) {\r\n\t\t\treturn {\r\n\t\t\t\tcountry: newDefaultCountry,\r\n\t\t\t\t// If `phoneDigits` is empty, then automatically select the new `country`\r\n\t\t\t\t// and set `phoneDigits` to `+{getCountryCallingCode(newCountry)}`.\r\n\t\t\t\t// The code assumes that \"no phone number has been entered by the user\",\r\n\t\t\t\t// and no `value` property has been passed, so the `phoneNumber` parameter\r\n\t\t\t\t// of `_getInitialPhoneDigits({ value, phoneNumber, ... })` is `undefined`.\r\n\t\t\t\tphoneDigits: _getInitialPhoneDigits({\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tdefaultCountry: newDefaultCountry\r\n\t\t\t\t}),\r\n\t\t\t\t// `value` is `undefined` and it stays so.\r\n\t\t\t\tvalue: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// If a new `value` is set externally.\r\n\t// (e.g. as a result of an ajax API request\r\n\t//  to get user's phone after page loaded)\r\n\t// The first part  `newValue !== prevValue` \r\n\t// is basically `props.value !== prevProps.value`\r\n\t// so it means \"if value property was changed externally\".\r\n\t// The second part  `newValue !== value` \r\n\t// is for ignoring the `getDerivedStateFromProps()` call\r\n\t// which happens in `this.onChange()` right after `this.setState()`.\r\n\t// If this `getDerivedStateFromProps()` call isn't ignored\r\n\t// then the country flag would reset on each input.\r\n\tif (newValue !== prevValue && newValue !== value) {\r\n\t\tlet phoneNumber\r\n\t\tlet parsedCountry\r\n\t\tif (newValue) {\r\n\t\t\tphoneNumber = parsePhoneNumber(newValue, metadata)\r\n\t\t\tconst supportedCountries = getSupportedCountries(countries, metadata)\r\n\t\t\tif (phoneNumber && phoneNumber.country) {\r\n\t\t\t\t// Ignore `else` because all countries are supported in metadata.\r\n\t\t\t\t/* istanbul ignore next */\r\n\t\t\t\tif (!supportedCountries || supportedCountries.indexOf(phoneNumber.country) >= 0) {\r\n\t\t\t\t\tparsedCountry = phoneNumber.country\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tparsedCountry = getCountryForPartialE164Number(newValue, {\r\n\t\t\t\t\tcountry: undefined,\r\n\t\t\t\t\tcountries: supportedCountries,\r\n\t\t\t\t\tmetadata\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet hasUserSelectedACountryUpdate\r\n\t\tif (!newValue) {\r\n\t\t\t// Reset `hasUserSelectedACountry` flag in `state`.\r\n\t\t\thasUserSelectedACountryUpdate = {\r\n\t\t\t\thasUserSelectedACountry: undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t...hasUserSelectedACountryUpdate,\r\n\t\t\tphoneDigits: _getInitialPhoneDigits({\r\n\t\t\t\tphoneNumber,\r\n\t\t\t\tvalue: newValue,\r\n\t\t\t\tdefaultCountry: newDefaultCountry\r\n\t\t\t}),\r\n\t\t\tvalue: newValue,\r\n\t\t\tcountry: newValue ? parsedCountry : newDefaultCountry\r\n\t\t}\r\n\t}\r\n\r\n\t// `defaultCountry` didn't change.\r\n\t// `value` didn't change.\r\n\t// `phoneDigits` didn't change, because `value` didn't change.\r\n\t//\r\n\t// So no need to update state.\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport labels from '../locale/en.json'\r\n\r\nimport {\r\n\tmetadata as metadataPropType,\r\n\tlabels as labelsPropType\r\n} from './PropTypes'\r\n\r\nimport PhoneInput from './PhoneInputWithCountry'\r\n\r\nexport function createPhoneInput(defaultMetadata) {\r\n\tconst PhoneInputDefault = React.forwardRef((props, ref) => (\r\n\t\t<PhoneInput ref={ref} {...props}/>\r\n\t))\r\n\r\n\tPhoneInputDefault.propTypes = {\r\n\t\tmetadata: metadataPropType.isRequired,\r\n\t\tlabels: labelsPropType.isRequired\r\n\t}\r\n\r\n\tPhoneInputDefault.defaultProps = {\r\n\t\tmetadata: defaultMetadata,\r\n\t\tlabels\r\n\t}\r\n\r\n\treturn PhoneInputDefault\r\n}\r\n\r\nexport default createPhoneInput()","import metadata from 'libphonenumber-js/metadata.min.json'\r\n\r\nimport {\r\n\tparsePhoneNumber as _parsePhoneNumber,\r\n\tformatPhoneNumber as _formatPhoneNumber,\r\n\tformatPhoneNumberIntl as _formatPhoneNumberIntl,\r\n\tisValidPhoneNumber as _isValidPhoneNumber,\r\n\tisPossiblePhoneNumber as _isPossiblePhoneNumber,\r\n\tgetCountries as _getCountries,\r\n\tgetCountryCallingCode as _getCountryCallingCode,\r\n\tisSupportedCountry as _isSupportedCountry\r\n} from '../core/index'\r\n\r\nimport { createPhoneInput } from '../modules/PhoneInputWithCountryDefault'\r\n\r\nfunction call(func, _arguments) {\r\n\tvar args = Array.prototype.slice.call(_arguments)\r\n\targs.push(metadata)\r\n\treturn func.apply(this, args)\r\n}\r\n\r\nexport default createPhoneInput(metadata)\r\n\r\nexport function parsePhoneNumber() {\r\n\treturn call(_parsePhoneNumber, arguments)\r\n}\r\n\r\nexport function formatPhoneNumber() {\r\n\treturn call(_formatPhoneNumber, arguments)\r\n}\r\n\r\nexport function formatPhoneNumberIntl() {\r\n\treturn call(_formatPhoneNumberIntl, arguments)\r\n}\r\n\r\nexport function isValidPhoneNumber() {\r\n\treturn call(_isValidPhoneNumber, arguments)\r\n}\r\n\r\nexport function isPossiblePhoneNumber() {\r\n\treturn call(_isPossiblePhoneNumber, arguments)\r\n}\r\n\r\nexport function getCountries() {\r\n\treturn call(_getCountries, arguments)\r\n}\r\n\r\nexport function getCountryCallingCode() {\r\n\treturn call(_getCountryCallingCode, arguments)\r\n}\r\n\r\nexport function isSupportedCountry() {\r\n\treturn call(_isSupportedCountry, arguments)\r\n}","export default function mergeClassNames() {\n  return Array.prototype.slice.call(arguments).reduce(function (classList, arg) {\n    return classList.concat(arg);\n  }, []).filter(function (arg) {\n    return typeof arg === 'string';\n  }).join(' ');\n}","import once from 'lodash.once';\n\nfunction filterDuplicates(arr) {\n  return arr.filter(function (el, index, self) {\n    return self.indexOf(el) === index;\n  });\n}\n\nfunction fixLowercaseProperties(arr) {\n  return arr.map(function (el) {\n    if (!el || el.indexOf('-') === -1 || el.toLowerCase() !== el) {\n      return el;\n    }\n\n    var splitEl = el.split('-');\n    return \"\".concat(splitEl[0], \"-\").concat(splitEl[1].toUpperCase());\n  });\n}\n\nfunction getUserLocalesInternal() {\n  var languageList = [];\n\n  if (typeof window !== 'undefined') {\n    if (window.navigator.languages) {\n      languageList = languageList.concat(window.navigator.languages);\n    }\n\n    if (window.navigator.language) {\n      languageList.push(window.navigator.language);\n    }\n\n    if (window.navigator.userLanguage) {\n      languageList.push(window.navigator.userLanguage);\n    }\n\n    if (window.navigator.browserLanguage) {\n      languageList.push(window.navigator.browserLanguage);\n    }\n\n    if (window.navigator.systemLanguage) {\n      languageList.push(window.navigator.systemLanguage);\n    }\n  }\n\n  languageList.push('en-US'); // Fallback\n\n  return fixLowercaseProperties(filterDuplicates(languageList));\n}\n\nexport var getUserLocales = once(getUserLocalesInternal);\n\nfunction getUserLocaleInternal() {\n  return getUserLocales()[0];\n}\n\nexport var getUserLocale = once(getUserLocaleInternal);\nexport default getUserLocale;","/**\n * Utils\n */\nfunction makeGetEdgeOfNeighbor(getPeriod, getEdgeOfPeriod, defaultOffset) {\n  return function makeGetEdgeOfNeighborInternal(date) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOffset;\n    var previousPeriod = getPeriod(date) + offset;\n    return getEdgeOfPeriod(previousPeriod);\n  };\n}\n\nfunction makeGetEnd(getBeginOfNextPeriod) {\n  return function makeGetEndInternal(date) {\n    return new Date(getBeginOfNextPeriod(date).getTime() - 1);\n  };\n}\n\nfunction makeGetRange(functions) {\n  return function makeGetRangeInternal(date) {\n    return functions.map(function (fn) {\n      return fn(date);\n    });\n  };\n}\n/**\n * Simple getters - getting a property of a given point in time\n */\n\n/**\n * Gets year from date.\n *\n * @param {Date|number|string} date Date to get year from.\n */\n\n\nexport function getYear(date) {\n  if (date instanceof Date) {\n    return date.getFullYear();\n  }\n\n  if (typeof date === 'number') {\n    return date;\n  }\n\n  var year = parseInt(date, 10);\n\n  if (typeof date === 'string' && !isNaN(year)) {\n    return year;\n  }\n\n  throw new Error(\"Failed to get year from date: \".concat(date, \".\"));\n}\n/**\n * Gets month from date.\n *\n * @param {Date} date Date to get month from.\n */\n\nexport function getMonth(date) {\n  if (date instanceof Date) {\n    return date.getMonth();\n  }\n\n  throw new Error(\"Failed to get month from date: \".concat(date, \".\"));\n}\n/**\n * Gets human-readable month from date.\n *\n * @param {Date} date Date to get human-readable month from.\n */\n\nexport function getMonthHuman(date) {\n  if (date instanceof Date) {\n    return date.getMonth() + 1;\n  }\n\n  throw new Error(\"Failed to get human-readable month from date: \".concat(date, \".\"));\n}\n/**\n * Gets human-readable day of the month from date.\n *\n * @param {Date} date Date to get day of the month from.\n */\n\nexport function getDate(date) {\n  if (date instanceof Date) {\n    return date.getDate();\n  }\n\n  throw new Error(\"Failed to get year from date: \".concat(date, \".\"));\n}\n/**\n * Gets hours from date.\n *\n * @param {Date|string} date Date to get hours from.\n */\n\nexport function getHours(date) {\n  if (date instanceof Date) {\n    return date.getHours();\n  }\n\n  if (typeof date === 'string') {\n    var datePieces = date.split(':');\n\n    if (datePieces.length >= 2) {\n      var hoursString = datePieces[0];\n      var hours = parseInt(hoursString, 10);\n\n      if (!isNaN(hours)) {\n        return hours;\n      }\n    }\n  }\n\n  throw new Error(\"Failed to get hours from date: \".concat(date, \".\"));\n}\n/**\n * Gets minutes from date.\n *\n * @param {Date|string} date Date to get minutes from.\n */\n\nexport function getMinutes(date) {\n  if (date instanceof Date) {\n    return date.getMinutes();\n  }\n\n  if (typeof date === 'string') {\n    var datePieces = date.split(':');\n\n    if (datePieces.length >= 2) {\n      var minutesString = datePieces[1] || 0;\n      var minutes = parseInt(minutesString, 10);\n\n      if (!isNaN(minutes)) {\n        return minutes;\n      }\n    }\n  }\n\n  throw new Error(\"Failed to get minutes from date: \".concat(date, \".\"));\n}\n/**\n * Gets seconds from date.\n *\n * @param {Date|string} date Date to get seconds from.\n */\n\nexport function getSeconds(date) {\n  if (date instanceof Date) {\n    return date.getSeconds();\n  }\n\n  if (typeof date === 'string') {\n    var datePieces = date.split(':');\n\n    if (datePieces.length >= 2) {\n      var secondsString = datePieces[2] || 0;\n      var seconds = parseInt(secondsString, 10);\n\n      if (!isNaN(seconds)) {\n        return seconds;\n      }\n    }\n  }\n\n  throw new Error(\"Failed to get seconds from date: \".concat(date, \".\"));\n}\n/**\n * Century\n */\n\nexport function getCenturyStart(date) {\n  var year = getYear(date);\n  var centuryStartYear = year + (-year + 1) % 100;\n  var centuryStartDate = new Date();\n  centuryStartDate.setFullYear(centuryStartYear, 0, 1);\n  centuryStartDate.setHours(0, 0, 0, 0);\n  return centuryStartDate;\n}\nexport var getPreviousCenturyStart = makeGetEdgeOfNeighbor(getYear, getCenturyStart, -100);\nexport var getNextCenturyStart = makeGetEdgeOfNeighbor(getYear, getCenturyStart, 100);\nexport var getCenturyEnd = makeGetEnd(getNextCenturyStart);\nexport var getPreviousCenturyEnd = makeGetEdgeOfNeighbor(getYear, getCenturyEnd, -100);\nexport var getNextCenturyEnd = makeGetEdgeOfNeighbor(getYear, getCenturyEnd, 100);\nexport var getCenturyRange = makeGetRange([getCenturyStart, getCenturyEnd]);\n/**\n * Decade\n */\n\nexport function getDecadeStart(date) {\n  var year = getYear(date);\n  var decadeStartYear = year + (-year + 1) % 10;\n  var decadeStartDate = new Date();\n  decadeStartDate.setFullYear(decadeStartYear, 0, 1);\n  decadeStartDate.setHours(0, 0, 0, 0);\n  return decadeStartDate;\n}\nexport var getPreviousDecadeStart = makeGetEdgeOfNeighbor(getYear, getDecadeStart, -10);\nexport var getNextDecadeStart = makeGetEdgeOfNeighbor(getYear, getDecadeStart, 10);\nexport var getDecadeEnd = makeGetEnd(getNextDecadeStart);\nexport var getPreviousDecadeEnd = makeGetEdgeOfNeighbor(getYear, getDecadeEnd, -10);\nexport var getNextDecadeEnd = makeGetEdgeOfNeighbor(getYear, getDecadeEnd, 10);\nexport var getDecadeRange = makeGetRange([getDecadeStart, getDecadeEnd]);\n/**\n * Year\n */\n\nexport function getYearStart(date) {\n  var year = getYear(date);\n  var yearStartDate = new Date();\n  yearStartDate.setFullYear(year, 0, 1);\n  yearStartDate.setHours(0, 0, 0, 0);\n  return yearStartDate;\n}\nexport var getPreviousYearStart = makeGetEdgeOfNeighbor(getYear, getYearStart, -1);\nexport var getNextYearStart = makeGetEdgeOfNeighbor(getYear, getYearStart, 1);\nexport var getYearEnd = makeGetEnd(getNextYearStart);\nexport var getPreviousYearEnd = makeGetEdgeOfNeighbor(getYear, getYearEnd, -1);\nexport var getNextYearEnd = makeGetEdgeOfNeighbor(getYear, getYearEnd, 1);\nexport var getYearRange = makeGetRange([getYearStart, getYearEnd]);\n/**\n * Month\n */\n\nfunction makeGetEdgeOfNeighborMonth(getEdgeOfPeriod, defaultOffset) {\n  return function makeGetEdgeOfNeighborMonthInternal(date) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOffset;\n    var year = getYear(date);\n    var month = getMonth(date) + offset;\n    var previousPeriod = new Date();\n    previousPeriod.setFullYear(year, month, 1);\n    previousPeriod.setHours(0, 0, 0, 0);\n    return getEdgeOfPeriod(previousPeriod);\n  };\n}\n\nexport function getMonthStart(date) {\n  var year = getYear(date);\n  var month = getMonth(date);\n  var monthStartDate = new Date();\n  monthStartDate.setFullYear(year, month, 1);\n  monthStartDate.setHours(0, 0, 0, 0);\n  return monthStartDate;\n}\nexport var getPreviousMonthStart = makeGetEdgeOfNeighborMonth(getMonthStart, -1);\nexport var getNextMonthStart = makeGetEdgeOfNeighborMonth(getMonthStart, 1);\nexport var getMonthEnd = makeGetEnd(getNextMonthStart);\nexport var getPreviousMonthEnd = makeGetEdgeOfNeighborMonth(getMonthEnd, -1);\nexport var getNextMonthEnd = makeGetEdgeOfNeighborMonth(getMonthEnd, 1);\nexport var getMonthRange = makeGetRange([getMonthStart, getMonthEnd]);\n/**\n * Day\n */\n\nfunction makeGetEdgeOfNeighborDay(getEdgeOfPeriod, defaultOffset) {\n  return function makeGetEdgeOfNeighborDayInternal(date) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOffset;\n    var year = getYear(date);\n    var month = getMonth(date);\n    var day = getDate(date) + offset;\n    var previousPeriod = new Date();\n    previousPeriod.setFullYear(year, month, day);\n    previousPeriod.setHours(0, 0, 0, 0);\n    return getEdgeOfPeriod(previousPeriod);\n  };\n}\n\nexport function getDayStart(date) {\n  var year = getYear(date);\n  var month = getMonth(date);\n  var day = getDate(date);\n  var dayStartDate = new Date();\n  dayStartDate.setFullYear(year, month, day);\n  dayStartDate.setHours(0, 0, 0, 0);\n  return dayStartDate;\n}\nexport var getPreviousDayStart = makeGetEdgeOfNeighborDay(getDayStart, -1);\nexport var getNextDayStart = makeGetEdgeOfNeighborDay(getDayStart, 1);\nexport var getDayEnd = makeGetEnd(getNextDayStart);\nexport var getPreviousDayEnd = makeGetEdgeOfNeighborDay(getDayEnd, -1);\nexport var getNextDayEnd = makeGetEdgeOfNeighborDay(getDayEnd, 1);\nexport var getDayRange = makeGetRange([getDayStart, getDayEnd]);\n/**\n * Other\n */\n\n/**\n * Returns a number of days in a month of a given date.\n *\n * @param {Date} date Date.\n */\n\nexport function getDaysInMonth(date) {\n  return getDate(getMonthEnd(date));\n}\n\nfunction padStart(num) {\n  var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var numStr = \"\".concat(num);\n\n  if (numStr.length >= val) {\n    return num;\n  }\n\n  return \"0000\".concat(numStr).slice(-val);\n}\n/**\n * Returns local hours and minutes (hh:mm).\n */\n\n\nexport function getHoursMinutes(date) {\n  var hours = padStart(getHours(date));\n  var minutes = padStart(getMinutes(date));\n  return \"\".concat(hours, \":\").concat(minutes);\n}\n/**\n * Returns local hours, minutes and seconds (hh:mm:ss).\n */\n\nexport function getHoursMinutesSeconds(date) {\n  var hours = padStart(getHours(date));\n  var minutes = padStart(getMinutes(date));\n  var seconds = padStart(getSeconds(date));\n  return \"\".concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n}\n/**\n * Returns local month in ISO-like format (YYYY-MM).\n */\n\nexport function getISOLocalMonth(date) {\n  var year = padStart(getYear(date), 4);\n  var month = padStart(getMonthHuman(date));\n  return \"\".concat(year, \"-\").concat(month);\n}\n/**\n * Returns local date in ISO-like format (YYYY-MM-DD).\n */\n\nexport function getISOLocalDate(date) {\n  var year = padStart(getYear(date), 4);\n  var month = padStart(getMonthHuman(date));\n  var day = padStart(getDate(date));\n  return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n}\n/**\n * Returns local date & time in ISO-like format (YYYY-MM-DDThh:mm:ss).\n */\n\nexport function getISOLocalDateTime(date) {\n  return \"\".concat(getISOLocalDate(date), \"T\").concat(getHoursMinutesSeconds(date));\n}","var _CALENDAR_TYPE_LOCALE;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var CALENDAR_TYPES = {\n  ARABIC: 'Arabic',\n  HEBREW: 'Hebrew',\n  ISO_8601: 'ISO 8601',\n  US: 'US'\n};\nexport var CALENDAR_TYPE_LOCALES = (_CALENDAR_TYPE_LOCALE = {}, _defineProperty(_CALENDAR_TYPE_LOCALE, CALENDAR_TYPES.US, ['en-CA', 'en-US', 'es-AR', 'es-BO', 'es-CL', 'es-CO', 'es-CR', 'es-DO', 'es-EC', 'es-GT', 'es-HN', 'es-MX', 'es-NI', 'es-PA', 'es-PE', 'es-PR', 'es-SV', 'es-VE', 'pt-BR']), _defineProperty(_CALENDAR_TYPE_LOCALE, CALENDAR_TYPES.ARABIC, [// ar-LB, ar-MA intentionally missing\n'ar', 'ar-AE', 'ar-BH', 'ar-DZ', 'ar-EG', 'ar-IQ', 'ar-JO', 'ar-KW', 'ar-LY', 'ar-OM', 'ar-QA', 'ar-SA', 'ar-SD', 'ar-SY', 'ar-YE', 'dv', 'dv-MV', 'ps', 'ps-AR']), _defineProperty(_CALENDAR_TYPE_LOCALE, CALENDAR_TYPES.HEBREW, ['he', 'he-IL']), _CALENDAR_TYPE_LOCALE);\nexport var WEEKDAYS = _toConsumableArray(Array(7)).map(function (el, index) {\n  return index;\n});","import getUserLocale from 'get-user-locale';\n\nfunction getFormatter(options) {\n  return function (locale, date) {\n    return date.toLocaleString(locale || getUserLocale(), options);\n  };\n}\n/**\n * Changes the hour in a Date to ensure right date formatting even if DST is messed up.\n * Workaround for bug in WebKit and Firefox with historical dates.\n * For more details, see:\n * https://bugs.chromium.org/p/chromium/issues/detail?id=750465\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1385643\n *\n * @param {Date} date Date.\n */\n\n\nfunction toSafeHour(date) {\n  var safeDate = new Date(date);\n  return new Date(safeDate.setHours(12));\n}\n\nfunction getSafeFormatter(options) {\n  return function (locale, date) {\n    return getFormatter(options)(locale, toSafeHour(date));\n  };\n}\n\nvar formatDateOptions = {\n  day: 'numeric',\n  month: 'numeric',\n  year: 'numeric'\n};\nvar formatDayOptions = {\n  day: 'numeric'\n};\nvar formatLongDateOptions = {\n  day: 'numeric',\n  month: 'long',\n  year: 'numeric'\n};\nvar formatMonthOptions = {\n  month: 'long'\n};\nvar formatMonthYearOptions = {\n  month: 'long',\n  year: 'numeric'\n};\nvar formatShortWeekdayOptions = {\n  weekday: 'short'\n};\nvar formatWeekdayOptions = {\n  weekday: 'long'\n};\nvar formatYearOptions = {\n  year: 'numeric'\n};\nexport var formatDate = getSafeFormatter(formatDateOptions);\nexport var formatDay = getSafeFormatter(formatDayOptions);\nexport var formatLongDate = getSafeFormatter(formatLongDateOptions);\nexport var formatMonth = getSafeFormatter(formatMonthOptions);\nexport var formatMonthYear = getSafeFormatter(formatMonthYearOptions);\nexport var formatShortWeekday = getSafeFormatter(formatShortWeekdayOptions);\nexport var formatWeekday = getSafeFormatter(formatWeekdayOptions);\nexport var formatYear = getSafeFormatter(formatYearOptions);","import { getYear, getMonth as getMonthIndex, getCenturyStart, getPreviousCenturyStart, getNextCenturyStart, getCenturyEnd, getPreviousCenturyEnd, getCenturyRange, getDecadeStart, getPreviousDecadeStart, getNextDecadeStart, getDecadeEnd, getPreviousDecadeEnd, getDecadeRange, getYearStart, getPreviousYearStart, getNextYearStart, getYearEnd, getPreviousYearEnd, getYearRange, getMonthStart, getPreviousMonthStart, getNextMonthStart, getMonthEnd, getPreviousMonthEnd, getMonthRange, getDayStart, getDayEnd, getDayRange } from '@wojtekmaj/date-utils';\nimport { CALENDAR_TYPES, WEEKDAYS } from './const';\nimport { formatYear as defaultFormatYear } from './dateFormatter';\nvar SUNDAY = WEEKDAYS[0];\nvar FRIDAY = WEEKDAYS[5];\nvar SATURDAY = WEEKDAYS[6];\n/* Simple getters - getting a property of a given point in time */\n\nexport function getDayOfWeek(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var weekday = date.getDay();\n\n  switch (calendarType) {\n    case CALENDAR_TYPES.ISO_8601:\n      // Shifts days of the week so that Monday is 0, Sunday is 6\n      return (weekday + 6) % 7;\n\n    case CALENDAR_TYPES.ARABIC:\n      return (weekday + 1) % 7;\n\n    case CALENDAR_TYPES.HEBREW:\n    case CALENDAR_TYPES.US:\n      return weekday;\n\n    default:\n      throw new Error('Unsupported calendar type.');\n  }\n}\n/**\n * Century\n */\n\nexport function getBeginOfCenturyYear(date) {\n  var beginOfCentury = getCenturyStart(date);\n  return getYear(beginOfCentury);\n}\n/**\n * Decade\n */\n\nexport function getBeginOfDecadeYear(date) {\n  var beginOfDecade = getDecadeStart(date);\n  return getYear(beginOfDecade);\n}\n/**\n * Week\n */\n\n/**\n * Returns the beginning of a given week.\n *\n * @param {Date} date Date.\n * @param {string} calendarType Calendar type. Can be ISO 8601 or US.\n */\n\nexport function getBeginOfWeek(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var year = getYear(date);\n  var monthIndex = getMonthIndex(date);\n  var day = date.getDate() - getDayOfWeek(date, calendarType);\n  return new Date(year, monthIndex, day);\n}\n/**\n * Gets week number according to ISO 8601 or US standard.\n * In ISO 8601, Arabic and Hebrew week 1 is the one with January 4.\n * In US calendar week 1 is the one with January 1.\n *\n * @param {Date} date Date.\n * @param {string} calendarType Calendar type. Can be ISO 8601 or US.\n */\n\nexport function getWeekNumber(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var calendarTypeForWeekNumber = calendarType === CALENDAR_TYPES.US ? CALENDAR_TYPES.US : CALENDAR_TYPES.ISO_8601;\n  var beginOfWeek = getBeginOfWeek(date, calendarTypeForWeekNumber);\n  var year = getYear(date) + 1;\n  var dayInWeekOne;\n  var beginOfFirstWeek; // Look for the first week one that does not come after a given date\n\n  do {\n    dayInWeekOne = new Date(year, 0, calendarTypeForWeekNumber === CALENDAR_TYPES.ISO_8601 ? 4 : 1);\n    beginOfFirstWeek = getBeginOfWeek(dayInWeekOne, calendarTypeForWeekNumber);\n    year -= 1;\n  } while (date - beginOfFirstWeek < 0);\n\n  return Math.round((beginOfWeek - beginOfFirstWeek) / (8.64e7 * 7)) + 1;\n}\n/**\n * Others\n */\n\n/**\n * Returns the beginning of a given range.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date Date.\n */\n\nexport function getBegin(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getCenturyStart(date);\n\n    case 'decade':\n      return getDecadeStart(date);\n\n    case 'year':\n      return getYearStart(date);\n\n    case 'month':\n      return getMonthStart(date);\n\n    case 'day':\n      return getDayStart(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport function getBeginPrevious(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getPreviousCenturyStart(date);\n\n    case 'decade':\n      return getPreviousDecadeStart(date);\n\n    case 'year':\n      return getPreviousYearStart(date);\n\n    case 'month':\n      return getPreviousMonthStart(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport function getBeginNext(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getNextCenturyStart(date);\n\n    case 'decade':\n      return getNextDecadeStart(date);\n\n    case 'year':\n      return getNextYearStart(date);\n\n    case 'month':\n      return getNextMonthStart(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport var getBeginPrevious2 = function getBeginPrevious2(rangeType, date) {\n  switch (rangeType) {\n    case 'decade':\n      return getPreviousDecadeStart(date, -100);\n\n    case 'year':\n      return getPreviousYearStart(date, -10);\n\n    case 'month':\n      return getPreviousMonthStart(date, -12);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n};\nexport var getBeginNext2 = function getBeginNext2(rangeType, date) {\n  switch (rangeType) {\n    case 'decade':\n      return getNextDecadeStart(date, 100);\n\n    case 'year':\n      return getNextYearStart(date, 10);\n\n    case 'month':\n      return getNextMonthStart(date, 12);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n};\n/**\n * Returns the end of a given range.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date Date.\n */\n\nexport function getEnd(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getCenturyEnd(date);\n\n    case 'decade':\n      return getDecadeEnd(date);\n\n    case 'year':\n      return getYearEnd(date);\n\n    case 'month':\n      return getMonthEnd(date);\n\n    case 'day':\n      return getDayEnd(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport function getEndPrevious(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getPreviousCenturyEnd(date);\n\n    case 'decade':\n      return getPreviousDecadeEnd(date);\n\n    case 'year':\n      return getPreviousYearEnd(date);\n\n    case 'month':\n      return getPreviousMonthEnd(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\nexport var getEndPrevious2 = function getEndPrevious2(rangeType, date) {\n  switch (rangeType) {\n    case 'decade':\n      return getPreviousDecadeEnd(date, -100);\n\n    case 'year':\n      return getPreviousYearEnd(date, -10);\n\n    case 'month':\n      return getPreviousMonthEnd(date, -12);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n};\n/**\n * Returns an array with the beginning and the end of a given range.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date Date.\n */\n\nexport function getRange(rangeType, date) {\n  switch (rangeType) {\n    case 'century':\n      return getCenturyRange(date);\n\n    case 'decade':\n      return getDecadeRange(date);\n\n    case 'year':\n      return getYearRange(date);\n\n    case 'month':\n      return getMonthRange(date);\n\n    case 'day':\n      return getDayRange(date);\n\n    default:\n      throw new Error(\"Invalid rangeType: \".concat(rangeType));\n  }\n}\n/**\n * Creates a range out of two values, ensuring they are in order and covering entire period ranges.\n *\n * @param {string} rangeType Range type (e.g. 'day')\n * @param {Date} date1 First date.\n * @param {Date} date2 Second date.\n */\n\nexport function getValueRange(rangeType, date1, date2) {\n  var rawNextValue = [date1, date2].sort(function (a, b) {\n    return a - b;\n  });\n  return [getBegin(rangeType, rawNextValue[0]), getEnd(rangeType, rawNextValue[1])];\n}\n\nfunction toYearLabel(locale) {\n  var formatYear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultFormatYear;\n  var dates = arguments.length > 2 ? arguments[2] : undefined;\n  return dates.map(function (date) {\n    return formatYear(locale, date);\n  }).join('  ');\n}\n/**\n * Returns a string labelling a century of a given date.\n * For example, for 2017 it will return 2001-2100.\n *\n * @param {Date|String|Number} date Date or a year as a string or as a number.\n */\n\n\nexport function getCenturyLabel(locale, formatYear, date) {\n  return toYearLabel(locale, formatYear, getCenturyRange(date));\n}\n/**\n * Returns a string labelling a century of a given date.\n * For example, for 2017 it will return 2011-2020.\n *\n * @param {Date|String|Number} date Date or a year as a string or as a number.\n */\n\nexport function getDecadeLabel(locale, formatYear, date) {\n  return toYearLabel(locale, formatYear, getDecadeRange(date));\n}\n/**\n * Returns a boolean determining whether a given date is on Saturday or Sunday.\n *\n * @param {Date} date Date.\n */\n\nexport function isWeekend(date) {\n  var calendarType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CALENDAR_TYPES.ISO_8601;\n  var weekday = date.getDay();\n\n  switch (calendarType) {\n    case CALENDAR_TYPES.ARABIC:\n    case CALENDAR_TYPES.HEBREW:\n      return weekday === FRIDAY || weekday === SATURDAY;\n\n    case CALENDAR_TYPES.ISO_8601:\n    case CALENDAR_TYPES.US:\n      return weekday === SATURDAY || weekday === SUNDAY;\n\n    default:\n      throw new Error('Unsupported calendar type.');\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport PropTypes from 'prop-types';\nimport { CALENDAR_TYPES } from './const';\nvar calendarTypes = Object.values(CALENDAR_TYPES);\nvar allViews = ['century', 'decade', 'year', 'month'];\nexport var isCalendarType = PropTypes.oneOf(calendarTypes);\nexport var isClassName = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]);\nexport var isMinDate = function isMinDate(props, propName, componentName) {\n  var minDate = props[propName];\n\n  if (!minDate) {\n    return null;\n  }\n\n  if (!(minDate instanceof Date)) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(minDate), \"` supplied to `\").concat(componentName, \"`, expected instance of `Date`.\"));\n  }\n\n  var maxDate = props.maxDate;\n\n  if (maxDate && minDate > maxDate) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(minDate), \"` supplied to `\").concat(componentName, \"`, minDate cannot be larger than maxDate.\"));\n  }\n\n  return null;\n};\nexport var isMaxDate = function isMaxDate(props, propName, componentName) {\n  var maxDate = props[propName];\n\n  if (!maxDate) {\n    return null;\n  }\n\n  if (!(maxDate instanceof Date)) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(maxDate), \"` supplied to `\").concat(componentName, \"`, expected instance of `Date`.\"));\n  }\n\n  var minDate = props.minDate;\n\n  if (minDate && maxDate < minDate) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of type `\").concat(_typeof(maxDate), \"` supplied to `\").concat(componentName, \"`, maxDate cannot be smaller than minDate.\"));\n  }\n\n  return null;\n};\nexport var isRef = PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n  // eslint-disable-next-line react/forbid-prop-types\n  current: PropTypes.any\n})]);\nexport var isValue = PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.arrayOf(PropTypes.instanceOf(Date))]);\nexport var isViews = PropTypes.arrayOf(PropTypes.oneOf(allViews));\nexport var isView = function isView(props, propName, componentName) {\n  var view = props[propName];\n  var views = props.views;\n  var allowedViews = views || allViews;\n\n  if (view !== undefined && allowedViews.indexOf(view) === -1) {\n    return new Error(\"Invalid prop `\".concat(propName, \"` of value `\").concat(view, \"` supplied to `\").concat(componentName, \"`, expected one of [\").concat(allowedViews.map(function (a) {\n      return \"\\\"\".concat(a, \"\\\"\");\n    }).join(', '), \"].\"));\n  } // Everything is fine\n\n\n  return null;\n};\n\nisView.isRequired = function (props, propName, componentName) {\n  var view = props[propName];\n\n  if (!view) {\n    return new Error(\"The prop `\".concat(propName, \"` is marked as required in `\").concat(componentName, \"`, but its value is `\").concat(view, \"`.\"));\n  }\n\n  return isView(props, propName, componentName);\n};\n\nexport var tileGroupProps = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  hover: PropTypes.instanceOf(Date),\n  locale: PropTypes.string,\n  maxDate: isMaxDate,\n  minDate: isMinDate,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  tileClassName: PropTypes.oneOfType([PropTypes.func, isClassName]),\n  tileContent: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  value: isValue,\n  valueType: PropTypes.string\n};\nexport var tileProps = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  classes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  date: PropTypes.instanceOf(Date).isRequired,\n  locale: PropTypes.string,\n  maxDate: isMaxDate,\n  minDate: isMinDate,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  style: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  tileClassName: PropTypes.oneOfType([PropTypes.func, isClassName]),\n  tileContent: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  tileDisabled: PropTypes.func\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getUserLocale } from 'get-user-locale';\nimport { getCenturyLabel, getDecadeLabel, getBeginNext, getBeginNext2, getBeginPrevious, getBeginPrevious2, getEndPrevious, getEndPrevious2 } from '../shared/dates';\nimport { formatMonthYear as defaultFormatMonthYear, formatYear as defaultFormatYear } from '../shared/dateFormatter';\nimport { isView, isViews } from '../shared/propTypes';\nvar className = 'react-calendar__navigation';\nexport default function Navigation(_ref) {\n  var activeStartDate = _ref.activeStartDate,\n      drillUp = _ref.drillUp,\n      _ref$formatMonthYear = _ref.formatMonthYear,\n      formatMonthYear = _ref$formatMonthYear === void 0 ? defaultFormatMonthYear : _ref$formatMonthYear,\n      _ref$formatYear = _ref.formatYear,\n      formatYear = _ref$formatYear === void 0 ? defaultFormatYear : _ref$formatYear,\n      locale = _ref.locale,\n      maxDate = _ref.maxDate,\n      minDate = _ref.minDate,\n      _ref$navigationAriaLa = _ref.navigationAriaLabel,\n      navigationAriaLabel = _ref$navigationAriaLa === void 0 ? '' : _ref$navigationAriaLa,\n      navigationLabel = _ref.navigationLabel,\n      _ref$next2AriaLabel = _ref.next2AriaLabel,\n      next2AriaLabel = _ref$next2AriaLabel === void 0 ? '' : _ref$next2AriaLabel,\n      _ref$next2Label = _ref.next2Label,\n      next2Label = _ref$next2Label === void 0 ? '' : _ref$next2Label,\n      _ref$nextAriaLabel = _ref.nextAriaLabel,\n      nextAriaLabel = _ref$nextAriaLabel === void 0 ? '' : _ref$nextAriaLabel,\n      _ref$nextLabel = _ref.nextLabel,\n      nextLabel = _ref$nextLabel === void 0 ? '' : _ref$nextLabel,\n      _ref$prev2AriaLabel = _ref.prev2AriaLabel,\n      prev2AriaLabel = _ref$prev2AriaLabel === void 0 ? '' : _ref$prev2AriaLabel,\n      _ref$prev2Label = _ref.prev2Label,\n      prev2Label = _ref$prev2Label === void 0 ? '' : _ref$prev2Label,\n      _ref$prevAriaLabel = _ref.prevAriaLabel,\n      prevAriaLabel = _ref$prevAriaLabel === void 0 ? '' : _ref$prevAriaLabel,\n      _ref$prevLabel = _ref.prevLabel,\n      prevLabel = _ref$prevLabel === void 0 ? '' : _ref$prevLabel,\n      setActiveStartDate = _ref.setActiveStartDate,\n      showDoubleView = _ref.showDoubleView,\n      view = _ref.view,\n      views = _ref.views;\n  var drillUpAvailable = views.indexOf(view) > 0;\n  var shouldShowPrevNext2Buttons = view !== 'century';\n  var previousActiveStartDate = getBeginPrevious(view, activeStartDate);\n  var previousActiveStartDate2 = shouldShowPrevNext2Buttons && getBeginPrevious2(view, activeStartDate);\n  var nextActiveStartDate = getBeginNext(view, activeStartDate);\n  var nextActiveStartDate2 = shouldShowPrevNext2Buttons && getBeginNext2(view, activeStartDate);\n\n  var prevButtonDisabled = function () {\n    if (previousActiveStartDate.getFullYear() < 0) {\n      return true;\n    }\n\n    var previousActiveEndDate = getEndPrevious(view, activeStartDate);\n    return minDate && minDate >= previousActiveEndDate;\n  }();\n\n  var prev2ButtonDisabled = shouldShowPrevNext2Buttons && function () {\n    if (previousActiveStartDate2.getFullYear() < 0) {\n      return true;\n    }\n\n    var previousActiveEndDate = getEndPrevious2(view, activeStartDate);\n    return minDate && minDate >= previousActiveEndDate;\n  }();\n\n  var nextButtonDisabled = maxDate && maxDate <= nextActiveStartDate;\n  var next2ButtonDisabled = shouldShowPrevNext2Buttons && maxDate && maxDate <= nextActiveStartDate2;\n\n  function onClickPrevious() {\n    setActiveStartDate(previousActiveStartDate);\n  }\n\n  function onClickPrevious2() {\n    setActiveStartDate(previousActiveStartDate2);\n  }\n\n  function onClickNext() {\n    setActiveStartDate(nextActiveStartDate);\n  }\n\n  function onClickNext2() {\n    setActiveStartDate(nextActiveStartDate2);\n  }\n\n  function renderLabel(date) {\n    var label = function () {\n      switch (view) {\n        case 'century':\n          return getCenturyLabel(locale, formatYear, date);\n\n        case 'decade':\n          return getDecadeLabel(locale, formatYear, date);\n\n        case 'year':\n          return formatYear(locale, date);\n\n        case 'month':\n          return formatMonthYear(locale, date);\n\n        default:\n          throw new Error(\"Invalid view: \".concat(view, \".\"));\n      }\n    }();\n\n    return navigationLabel ? navigationLabel({\n      date: date,\n      label: label,\n      locale: locale || getUserLocale(),\n      view: view\n    }) : label;\n  }\n\n  function renderButton() {\n    var labelClassName = \"\".concat(className, \"__label\");\n    return /*#__PURE__*/React.createElement(\"button\", {\n      \"aria-label\": navigationAriaLabel,\n      className: labelClassName,\n      disabled: !drillUpAvailable,\n      onClick: drillUp,\n      style: {\n        flexGrow: 1\n      },\n      type: \"button\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(labelClassName, \"__labelText \").concat(labelClassName, \"__labelText--from\")\n    }, renderLabel(activeStartDate)), showDoubleView && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(labelClassName, \"__divider\")\n    }, ' ', \"\\u2013\", ' '), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(labelClassName, \"__labelText \").concat(labelClassName, \"__labelText--to\")\n    }, renderLabel(nextActiveStartDate))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: {\n      display: 'flex'\n    }\n  }, prev2Label !== null && shouldShowPrevNext2Buttons && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": prev2AriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__prev2-button\"),\n    disabled: prev2ButtonDisabled,\n    onClick: onClickPrevious2,\n    type: \"button\"\n  }, prev2Label), prevLabel !== null && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": prevAriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__prev-button\"),\n    disabled: prevButtonDisabled,\n    onClick: onClickPrevious,\n    type: \"button\"\n  }, prevLabel), renderButton(), nextLabel !== null && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": nextAriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__next-button\"),\n    disabled: nextButtonDisabled,\n    onClick: onClickNext,\n    type: \"button\"\n  }, nextLabel), next2Label !== null && shouldShowPrevNext2Buttons && /*#__PURE__*/React.createElement(\"button\", {\n    \"aria-label\": next2AriaLabel,\n    className: \"\".concat(className, \"__arrow \").concat(className, \"__next2-button\"),\n    disabled: next2ButtonDisabled,\n    onClick: onClickNext2,\n    type: \"button\"\n  }, next2Label));\n}\nNavigation.propTypes = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  drillUp: PropTypes.func.isRequired,\n  formatMonthYear: PropTypes.func,\n  formatYear: PropTypes.func,\n  locale: PropTypes.string,\n  maxDate: PropTypes.instanceOf(Date),\n  minDate: PropTypes.instanceOf(Date),\n  navigationAriaLabel: PropTypes.string,\n  navigationLabel: PropTypes.func,\n  next2AriaLabel: PropTypes.string,\n  next2Label: PropTypes.node,\n  nextAriaLabel: PropTypes.string,\n  nextLabel: PropTypes.node,\n  prev2AriaLabel: PropTypes.string,\n  prev2Label: PropTypes.node,\n  prevAriaLabel: PropTypes.string,\n  prevLabel: PropTypes.node,\n  setActiveStartDate: PropTypes.func.isRequired,\n  showDoubleView: PropTypes.bool,\n  view: isView.isRequired,\n  views: isViews.isRequired\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction toPercent(num) {\n  return \"\".concat(num, \"%\");\n}\n\nexport default function Flex(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      direction = _ref.direction,\n      count = _ref.count,\n      offset = _ref.offset,\n      style = _ref.style,\n      wrap = _ref.wrap,\n      otherProps = _objectWithoutProperties(_ref, [\"children\", \"className\", \"direction\", \"count\", \"offset\", \"style\", \"wrap\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: className,\n    style: _objectSpread({\n      display: 'flex',\n      flexDirection: direction,\n      flexWrap: wrap ? 'wrap' : 'no-wrap'\n    }, style)\n  }, otherProps), React.Children.map(children, function (child, index) {\n    return /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread({}, child.props), {}, {\n      style: {\n        flexBasis: toPercent(100 / count),\n        maxWidth: toPercent(100 / count),\n        overflow: 'hidden',\n        marginLeft: offset && index === 0 ? toPercent(100 * offset / count) : null\n      }\n    }));\n  }));\n}\nFlex.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  count: PropTypes.number.isRequired,\n  direction: PropTypes.string,\n  offset: PropTypes.number,\n  style: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  wrap: PropTypes.bool\n};","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { getRange } from './dates';\n/**\n * Returns a value no smaller than min and no larger than max.\n *\n * @param {*} value Value to return.\n * @param {*} min Minimum return value.\n * @param {*} max Maximum return value.\n */\n\nexport function between(value, min, max) {\n  if (min && min > value) {\n    return min;\n  }\n\n  if (max && max < value) {\n    return max;\n  }\n\n  return value;\n}\nexport function isValueWithinRange(value, range) {\n  return range[0] <= value && range[1] >= value;\n}\nexport function isRangeWithinRange(greaterRange, smallerRange) {\n  return greaterRange[0] <= smallerRange[0] && greaterRange[1] >= smallerRange[1];\n}\nexport function doRangesOverlap(range1, range2) {\n  return isValueWithinRange(range1[0], range2) || isValueWithinRange(range1[1], range2);\n}\n\nfunction getRangeClassNames(valueRange, dateRange, baseClassName) {\n  var isRange = doRangesOverlap(dateRange, valueRange);\n  var classes = [];\n\n  if (isRange) {\n    classes.push(baseClassName);\n    var isRangeStart = isValueWithinRange(valueRange[0], dateRange);\n    var isRangeEnd = isValueWithinRange(valueRange[1], dateRange);\n\n    if (isRangeStart) {\n      classes.push(\"\".concat(baseClassName, \"Start\"));\n    }\n\n    if (isRangeEnd) {\n      classes.push(\"\".concat(baseClassName, \"End\"));\n    }\n\n    if (isRangeStart && isRangeEnd) {\n      classes.push(\"\".concat(baseClassName, \"BothEnds\"));\n    }\n  }\n\n  return classes;\n}\n\nexport function getTileClasses() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      valueType = _ref.valueType,\n      date = _ref.date,\n      dateType = _ref.dateType,\n      hover = _ref.hover;\n\n  var className = 'react-calendar__tile';\n  var classes = [className];\n\n  if (!date) {\n    return classes;\n  }\n\n  if (!Array.isArray(date) && !dateType) {\n    throw new Error('getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.');\n  }\n\n  var now = new Date();\n  var dateRange = Array.isArray(date) ? date : getRange(dateType, date);\n\n  if (isValueWithinRange(now, dateRange)) {\n    classes.push(\"\".concat(className, \"--now\"));\n  }\n\n  if (!value) {\n    return classes;\n  }\n\n  if (!Array.isArray(value) && !valueType) {\n    throw new Error('getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.');\n  }\n\n  var valueRange = Array.isArray(value) ? value : getRange(valueType, value);\n\n  if (isRangeWithinRange(valueRange, dateRange)) {\n    classes.push(\"\".concat(className, \"--active\"));\n  } else if (doRangesOverlap(valueRange, dateRange)) {\n    classes.push(\"\".concat(className, \"--hasActive\"));\n  }\n\n  var valueRangeClassNames = getRangeClassNames(valueRange, dateRange, \"\".concat(className, \"--range\"));\n  classes.push.apply(classes, _toConsumableArray(valueRangeClassNames));\n\n  if (hover) {\n    var hoverRange = hover > valueRange[1] ? [valueRange[1], hover] : [hover, valueRange[0]];\n    var hoverRangeClassNames = getRangeClassNames(hoverRange, dateRange, \"\".concat(className, \"--hover\"));\n    classes.push.apply(classes, _toConsumableArray(hoverRangeClassNames));\n  }\n\n  return classes;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Flex from './Flex';\nimport { getTileClasses } from './shared/utils';\nimport { tileGroupProps } from './shared/propTypes';\nexport default function TileGroup(_ref) {\n  var className = _ref.className,\n      _ref$count = _ref.count,\n      count = _ref$count === void 0 ? 3 : _ref$count,\n      dateTransform = _ref.dateTransform,\n      dateType = _ref.dateType,\n      end = _ref.end,\n      hover = _ref.hover,\n      offset = _ref.offset,\n      start = _ref.start,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step,\n      Tile = _ref.tile,\n      value = _ref.value,\n      valueType = _ref.valueType,\n      tileProps = _objectWithoutProperties(_ref, [\"className\", \"count\", \"dateTransform\", \"dateType\", \"end\", \"hover\", \"offset\", \"start\", \"step\", \"tile\", \"value\", \"valueType\"]);\n\n  var tiles = [];\n\n  for (var point = start; point <= end; point += step) {\n    var date = dateTransform(point);\n    tiles.push( /*#__PURE__*/React.createElement(Tile, _extends({\n      key: date.getTime(),\n      classes: getTileClasses({\n        value: value,\n        valueType: valueType,\n        date: date,\n        dateType: dateType,\n        hover: hover\n      }),\n      date: date,\n      point: point\n    }, tileProps)));\n  }\n\n  return /*#__PURE__*/React.createElement(Flex, {\n    className: className,\n    count: count,\n    offset: offset,\n    wrap: true\n  }, tiles);\n}\nTileGroup.propTypes = _objectSpread(_objectSpread({}, tileGroupProps), {}, {\n  activeStartDate: PropTypes.instanceOf(Date),\n  count: PropTypes.number,\n  dateTransform: PropTypes.func.isRequired,\n  dateType: PropTypes.string,\n  offset: PropTypes.number,\n  step: PropTypes.number,\n  tile: PropTypes.func.isRequired\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport mergeClassNames from 'merge-class-names';\nimport { tileProps } from './shared/propTypes';\n\nfunction getValue(nextProps, prop) {\n  var activeStartDate = nextProps.activeStartDate,\n      date = nextProps.date,\n      view = nextProps.view;\n  return typeof prop === 'function' ? prop({\n    activeStartDate: activeStartDate,\n    date: date,\n    view: view\n  }) : prop;\n}\n\nvar Tile = /*#__PURE__*/function (_Component) {\n  _inherits(Tile, _Component);\n\n  var _super = _createSuper(Tile);\n\n  function Tile() {\n    var _this;\n\n    _classCallCheck(this, Tile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    return _this;\n  }\n\n  _createClass(Tile, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          activeStartDate = _this$props.activeStartDate,\n          children = _this$props.children,\n          classes = _this$props.classes,\n          date = _this$props.date,\n          formatAbbr = _this$props.formatAbbr,\n          locale = _this$props.locale,\n          maxDate = _this$props.maxDate,\n          maxDateTransform = _this$props.maxDateTransform,\n          minDate = _this$props.minDate,\n          minDateTransform = _this$props.minDateTransform,\n          onClick = _this$props.onClick,\n          onMouseOver = _this$props.onMouseOver,\n          style = _this$props.style,\n          tileDisabled = _this$props.tileDisabled,\n          view = _this$props.view;\n      var _this$state = this.state,\n          tileClassName = _this$state.tileClassName,\n          tileContent = _this$state.tileContent;\n      return /*#__PURE__*/React.createElement(\"button\", {\n        className: mergeClassNames(classes, tileClassName),\n        disabled: minDate && minDateTransform(minDate) > date || maxDate && maxDateTransform(maxDate) < date || tileDisabled && tileDisabled({\n          activeStartDate: activeStartDate,\n          date: date,\n          view: view\n        }),\n        onClick: onClick && function (event) {\n          return onClick(date, event);\n        },\n        onFocus: onMouseOver && function () {\n          return onMouseOver(date);\n        },\n        onMouseOver: onMouseOver && function () {\n          return onMouseOver(date);\n        },\n        style: style,\n        type: \"button\"\n      }, formatAbbr ? /*#__PURE__*/React.createElement(\"abbr\", {\n        \"aria-label\": formatAbbr(locale, date)\n      }, children) : children, tileContent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var tileClassName = nextProps.tileClassName,\n          tileContent = nextProps.tileContent;\n      var nextState = {};\n\n      if (tileClassName !== prevState.tileClassNameProps) {\n        nextState.tileClassName = getValue(nextProps, tileClassName);\n        nextState.tileClassNameProps = tileClassName;\n      }\n\n      if (tileContent !== prevState.tileContentProps) {\n        nextState.tileContent = getValue(nextProps, tileContent);\n        nextState.tileContentProps = tileContent;\n      }\n\n      return nextState;\n    }\n  }]);\n\n  return Tile;\n}(Component);\n\nexport { Tile as default };\nTile.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  children: PropTypes.node.isRequired,\n  formatAbbr: PropTypes.func,\n  maxDateTransform: PropTypes.func.isRequired,\n  minDateTransform: PropTypes.func.isRequired\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getDecadeStart, getDecadeEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { getDecadeLabel } from '../shared/dates';\nimport { formatYear as defaultFormatYear } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__century-view__decades__decade';\nexport default function Decade(_ref) {\n  var classes = _ref.classes,\n      _ref$formatYear = _ref.formatYear,\n      formatYear = _ref$formatYear === void 0 ? defaultFormatYear : _ref$formatYear,\n      otherProps = _objectWithoutProperties(_ref, [\"classes\", \"formatYear\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className),\n    maxDateTransform: getDecadeEnd,\n    minDateTransform: getDecadeStart,\n    view: \"century\"\n  }), getDecadeLabel(locale, formatYear, date));\n}\nDecade.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  formatYear: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { getDecadeStart } from '@wojtekmaj/date-utils';\nimport TileGroup from '../TileGroup';\nimport Decade from './Decade';\nimport { getBeginOfCenturyYear } from '../shared/dates';\nimport { tileGroupProps } from '../shared/propTypes';\nexport default function Decades(props) {\n  var activeStartDate = props.activeStartDate;\n  var start = getBeginOfCenturyYear(activeStartDate);\n  var end = start + 99;\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, props, {\n    className: \"react-calendar__century-view__decades\",\n    dateTransform: getDecadeStart,\n    dateType: \"decade\",\n    end: end,\n    start: start,\n    step: 10,\n    tile: Decade\n  }));\n}\nDecades.propTypes = _objectSpread({}, tileGroupProps);","import React from 'react';\nimport Decades from './CenturyView/Decades';\nexport default function CenturyView(props) {\n  function renderDecades() {\n    return /*#__PURE__*/React.createElement(Decades, props);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-calendar__century-view\"\n  }, renderDecades());\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYearStart, getYearEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { formatYear as defaultFormatYear } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__decade-view__years__year';\nexport default function Year(_ref) {\n  var classes = _ref.classes,\n      _ref$formatYear = _ref.formatYear,\n      formatYear = _ref$formatYear === void 0 ? defaultFormatYear : _ref$formatYear,\n      otherProps = _objectWithoutProperties(_ref, [\"classes\", \"formatYear\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className),\n    maxDateTransform: getYearEnd,\n    minDateTransform: getYearStart,\n    view: \"decade\"\n  }), formatYear(locale, date));\n}\nYear.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  formatYear: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport TileGroup from '../TileGroup';\nimport Year from './Year';\nimport { getBeginOfDecadeYear } from '../shared/dates';\nimport { tileGroupProps } from '../shared/propTypes';\nexport default function Years(props) {\n  var activeStartDate = props.activeStartDate;\n  var start = getBeginOfDecadeYear(activeStartDate);\n  var end = start + 9;\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, props, {\n    className: \"react-calendar__decade-view__years\",\n    dateTransform: function dateTransform(year) {\n      var date = new Date();\n      date.setFullYear(year, 0, 1);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    },\n    dateType: \"year\",\n    end: end,\n    start: start,\n    tile: Year\n  }));\n}\nYears.propTypes = _objectSpread({}, tileGroupProps);","import React from 'react';\nimport Years from './DecadeView/Years';\nexport default function DecadeView(props) {\n  function renderYears() {\n    return /*#__PURE__*/React.createElement(Years, props);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-calendar__decade-view\"\n  }, renderYears());\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getMonthStart, getMonthEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { formatMonth as defaultFormatMonth, formatMonthYear as defaultFormatMonthYear } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__year-view__months__month';\nexport default function Month(_ref) {\n  var classes = _ref.classes,\n      _ref$formatMonth = _ref.formatMonth,\n      formatMonth = _ref$formatMonth === void 0 ? defaultFormatMonth : _ref$formatMonth,\n      _ref$formatMonthYear = _ref.formatMonthYear,\n      formatMonthYear = _ref$formatMonthYear === void 0 ? defaultFormatMonthYear : _ref$formatMonthYear,\n      otherProps = _objectWithoutProperties(_ref, [\"classes\", \"formatMonth\", \"formatMonthYear\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className),\n    formatAbbr: formatMonthYear,\n    maxDateTransform: getMonthEnd,\n    minDateTransform: getMonthStart,\n    view: \"year\"\n  }), formatMonth(locale, date));\n}\nMonth.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  formatMonth: PropTypes.func,\n  formatMonthYear: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear } from '@wojtekmaj/date-utils';\nimport TileGroup from '../TileGroup';\nimport Month from './Month';\nimport { tileGroupProps } from '../shared/propTypes';\nexport default function Months(props) {\n  var activeStartDate = props.activeStartDate;\n  var start = 0;\n  var end = 11;\n  var year = getYear(activeStartDate);\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, props, {\n    className: \"react-calendar__year-view__months\",\n    dateTransform: function dateTransform(monthIndex) {\n      var date = new Date();\n      date.setFullYear(year, monthIndex, 1);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    },\n    dateType: \"month\",\n    end: end,\n    start: start,\n    tile: Month\n  }));\n}\nMonths.propTypes = _objectSpread(_objectSpread({}, tileGroupProps), {}, {\n  locale: PropTypes.string\n});","import React from 'react';\nimport Months from './YearView/Months';\nexport default function YearView(props) {\n  function renderMonths() {\n    return /*#__PURE__*/React.createElement(Months, props);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-calendar__year-view\"\n  }, renderMonths());\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getDayStart, getDayEnd } from '@wojtekmaj/date-utils';\nimport Tile from '../Tile';\nimport { isWeekend } from '../shared/dates';\nimport { formatDay as defaultFormatDay, formatLongDate as defaultFormatLongDate } from '../shared/dateFormatter';\nimport { tileProps } from '../shared/propTypes';\nvar className = 'react-calendar__month-view__days__day';\nexport default function Day(_ref) {\n  var _ref$formatDay = _ref.formatDay,\n      formatDay = _ref$formatDay === void 0 ? defaultFormatDay : _ref$formatDay,\n      _ref$formatLongDate = _ref.formatLongDate,\n      formatLongDate = _ref$formatLongDate === void 0 ? defaultFormatLongDate : _ref$formatLongDate,\n      calendarType = _ref.calendarType,\n      classes = _ref.classes,\n      currentMonthIndex = _ref.currentMonthIndex,\n      otherProps = _objectWithoutProperties(_ref, [\"formatDay\", \"formatLongDate\", \"calendarType\", \"classes\", \"currentMonthIndex\"]);\n\n  var date = otherProps.date,\n      locale = otherProps.locale;\n  return /*#__PURE__*/React.createElement(Tile, _extends({}, otherProps, {\n    classes: [].concat(classes, className, isWeekend(date, calendarType) ? \"\".concat(className, \"--weekend\") : null, date.getMonth() !== currentMonthIndex ? \"\".concat(className, \"--neighboringMonth\") : null),\n    formatAbbr: formatLongDate,\n    maxDateTransform: getDayEnd,\n    minDateTransform: getDayStart,\n    view: \"month\"\n  }), formatDay(locale, date));\n}\nDay.propTypes = _objectSpread(_objectSpread({}, tileProps), {}, {\n  currentMonthIndex: PropTypes.number.isRequired,\n  formatDay: PropTypes.func,\n  formatLongDate: PropTypes.func\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear, getMonth, getDaysInMonth } from '@wojtekmaj/date-utils';\nimport TileGroup from '../TileGroup';\nimport Day from './Day';\nimport { getDayOfWeek } from '../shared/dates';\nimport { isCalendarType, tileGroupProps } from '../shared/propTypes';\nexport default function Days(props) {\n  var activeStartDate = props.activeStartDate,\n      calendarType = props.calendarType;\n\n  var showFixedNumberOfWeeks = props.showFixedNumberOfWeeks,\n      showNeighboringMonth = props.showNeighboringMonth,\n      otherProps = _objectWithoutProperties(props, [\"showFixedNumberOfWeeks\", \"showNeighboringMonth\"]);\n\n  var year = getYear(activeStartDate);\n  var monthIndex = getMonth(activeStartDate);\n  var hasFixedNumberOfWeeks = showFixedNumberOfWeeks || showNeighboringMonth;\n  var dayOfWeek = getDayOfWeek(activeStartDate, calendarType);\n  var offset = hasFixedNumberOfWeeks ? 0 : dayOfWeek;\n  /**\n   * Defines on which day of the month the grid shall start. If we simply show current\n   * month, we obviously start on day one, but if showNeighboringMonth is set to\n   * true, we need to find the beginning of the week the first day of the month is in.\n   */\n\n  var start = (hasFixedNumberOfWeeks ? -dayOfWeek : 0) + 1;\n  /**\n   * Defines on which day of the month the grid shall end. If we simply show current\n   * month, we need to stop on the last day of the month, but if showNeighboringMonth\n   * is set to true, we need to find the end of the week the last day of the month is in.\n   */\n\n  var end = function () {\n    if (showFixedNumberOfWeeks) {\n      // Always show 6 weeks\n      return start + 6 * 7 - 1;\n    }\n\n    var daysInMonth = getDaysInMonth(activeStartDate);\n\n    if (showNeighboringMonth) {\n      var activeEndDate = new Date();\n      activeEndDate.setFullYear(year, monthIndex, daysInMonth);\n      activeEndDate.setHours(0, 0, 0, 0);\n      var daysUntilEndOfTheWeek = 7 - getDayOfWeek(activeEndDate, calendarType) - 1;\n      return daysInMonth + daysUntilEndOfTheWeek;\n    }\n\n    return daysInMonth;\n  }();\n\n  return /*#__PURE__*/React.createElement(TileGroup, _extends({}, otherProps, {\n    className: \"react-calendar__month-view__days\",\n    count: 7,\n    currentMonthIndex: monthIndex,\n    dateTransform: function dateTransform(day) {\n      var date = new Date();\n      date.setFullYear(year, monthIndex, day);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    },\n    dateType: \"day\",\n    end: end,\n    offset: offset,\n    start: start,\n    tile: Day\n  }));\n}\nDays.propTypes = _objectSpread({\n  calendarType: isCalendarType.isRequired,\n  showFixedNumberOfWeeks: PropTypes.bool,\n  showNeighboringMonth: PropTypes.bool\n}, tileGroupProps);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear, getMonth, getMonthStart } from '@wojtekmaj/date-utils';\nimport Flex from '../Flex';\nimport { getDayOfWeek } from '../shared/dates';\nimport { formatWeekday, formatShortWeekday as defaultFormatShortWeekday } from '../shared/dateFormatter';\nimport { isCalendarType } from '../shared/propTypes';\nvar className = 'react-calendar__month-view__weekdays';\nexport default function Weekdays(props) {\n  var calendarType = props.calendarType,\n      _props$formatShortWee = props.formatShortWeekday,\n      formatShortWeekday = _props$formatShortWee === void 0 ? defaultFormatShortWeekday : _props$formatShortWee,\n      locale = props.locale,\n      onMouseLeave = props.onMouseLeave;\n  var anyDate = new Date();\n  var beginOfMonth = getMonthStart(anyDate);\n  var year = getYear(beginOfMonth);\n  var monthIndex = getMonth(beginOfMonth);\n  var weekdays = [];\n\n  for (var weekday = 1; weekday <= 7; weekday += 1) {\n    var weekdayDate = new Date(year, monthIndex, weekday - getDayOfWeek(beginOfMonth, calendarType));\n    var abbr = formatWeekday(locale, weekdayDate);\n    weekdays.push( /*#__PURE__*/React.createElement(\"div\", {\n      key: weekday,\n      className: \"\".concat(className, \"__weekday\")\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      \"aria-label\": abbr,\n      title: abbr\n    }, formatShortWeekday(locale, weekdayDate).replace('.', ''))));\n  }\n\n  return /*#__PURE__*/React.createElement(Flex, {\n    className: className,\n    count: 7,\n    onFocus: onMouseLeave,\n    onMouseOver: onMouseLeave\n  }, weekdays);\n}\nWeekdays.propTypes = {\n  calendarType: isCalendarType.isRequired,\n  formatShortWeekday: PropTypes.func,\n  locale: PropTypes.string,\n  onMouseLeave: PropTypes.func\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport default function WeekNumber(_ref) {\n  var date = _ref.date,\n      onClickWeekNumber = _ref.onClickWeekNumber,\n      weekNumber = _ref.weekNumber;\n  var props = {\n    className: 'react-calendar__tile',\n    style: {\n      flexGrow: 1\n    }\n  };\n  var children = /*#__PURE__*/React.createElement(\"span\", null, weekNumber);\n  return onClickWeekNumber ? /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    onClick: function onClick(event) {\n      return onClickWeekNumber(weekNumber, date, event);\n    },\n    type: \"button\"\n  }), children) : /*#__PURE__*/React.createElement(\"div\", props, children);\n}\nWeekNumber.propTypes = {\n  date: PropTypes.instanceOf(Date).isRequired,\n  onClickWeekNumber: PropTypes.func,\n  weekNumber: PropTypes.node.isRequired\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getYear, getMonth, getDate, getDaysInMonth } from '@wojtekmaj/date-utils';\nimport WeekNumber from './WeekNumber';\nimport Flex from '../Flex';\nimport { getBeginOfWeek, getDayOfWeek, getWeekNumber } from '../shared/dates';\nimport { isCalendarType } from '../shared/propTypes';\nexport default function WeekNumbers(props) {\n  var activeStartDate = props.activeStartDate,\n      calendarType = props.calendarType,\n      onClickWeekNumber = props.onClickWeekNumber,\n      onMouseLeave = props.onMouseLeave,\n      showFixedNumberOfWeeks = props.showFixedNumberOfWeeks;\n\n  var numberOfWeeks = function () {\n    if (showFixedNumberOfWeeks) {\n      return 6;\n    }\n\n    var numberOfDays = getDaysInMonth(activeStartDate);\n    var startWeekday = getDayOfWeek(activeStartDate, calendarType);\n    var days = numberOfDays - (7 - startWeekday);\n    return 1 + Math.ceil(days / 7);\n  }();\n\n  var dates = function () {\n    var year = getYear(activeStartDate);\n    var monthIndex = getMonth(activeStartDate);\n    var day = getDate(activeStartDate);\n    var result = [];\n\n    for (var index = 0; index < numberOfWeeks; index += 1) {\n      result.push(getBeginOfWeek(new Date(year, monthIndex, day + index * 7), calendarType));\n    }\n\n    return result;\n  }();\n\n  var weekNumbers = dates.map(function (date) {\n    return getWeekNumber(date, calendarType);\n  });\n  return /*#__PURE__*/React.createElement(Flex, {\n    className: \"react-calendar__month-view__weekNumbers\",\n    count: numberOfWeeks,\n    direction: \"column\",\n    onFocus: onMouseLeave,\n    onMouseOver: onMouseLeave,\n    style: {\n      flexBasis: 'calc(100% * (1 / 8)',\n      flexShrink: 0\n    }\n  }, weekNumbers.map(function (weekNumber, weekIndex) {\n    return /*#__PURE__*/React.createElement(WeekNumber, {\n      key: weekNumber,\n      date: dates[weekIndex],\n      onClickWeekNumber: onClickWeekNumber,\n      weekNumber: weekNumber\n    });\n  }));\n}\nWeekNumbers.propTypes = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  calendarType: isCalendarType.isRequired,\n  onClickWeekNumber: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  showFixedNumberOfWeeks: PropTypes.bool\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport mergeClassNames from 'merge-class-names';\nimport Days from './MonthView/Days';\nimport Weekdays from './MonthView/Weekdays';\nimport WeekNumbers from './MonthView/WeekNumbers';\nimport { CALENDAR_TYPES, CALENDAR_TYPE_LOCALES } from './shared/const';\nimport { isCalendarType } from './shared/propTypes';\n\nfunction getCalendarTypeFromLocale(locale) {\n  return Object.keys(CALENDAR_TYPE_LOCALES).find(function (calendarType) {\n    return CALENDAR_TYPE_LOCALES[calendarType].includes(locale);\n  }) || CALENDAR_TYPES.ISO_8601;\n}\n\nexport default function MonthView(props) {\n  var activeStartDate = props.activeStartDate,\n      locale = props.locale,\n      onMouseLeave = props.onMouseLeave,\n      showFixedNumberOfWeeks = props.showFixedNumberOfWeeks;\n\n  var _props$calendarType = props.calendarType,\n      calendarType = _props$calendarType === void 0 ? getCalendarTypeFromLocale(locale) : _props$calendarType,\n      formatShortWeekday = props.formatShortWeekday,\n      onClickWeekNumber = props.onClickWeekNumber,\n      showWeekNumbers = props.showWeekNumbers,\n      childProps = _objectWithoutProperties(props, [\"calendarType\", \"formatShortWeekday\", \"onClickWeekNumber\", \"showWeekNumbers\"]);\n\n  function renderWeekdays() {\n    return /*#__PURE__*/React.createElement(Weekdays, {\n      calendarType: calendarType,\n      formatShortWeekday: formatShortWeekday,\n      locale: locale,\n      onMouseLeave: onMouseLeave\n    });\n  }\n\n  function renderWeekNumbers() {\n    if (!showWeekNumbers) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(WeekNumbers, {\n      activeStartDate: activeStartDate,\n      calendarType: calendarType,\n      onClickWeekNumber: onClickWeekNumber,\n      onMouseLeave: onMouseLeave,\n      showFixedNumberOfWeeks: showFixedNumberOfWeeks\n    });\n  }\n\n  function renderDays() {\n    return /*#__PURE__*/React.createElement(Days, _extends({\n      calendarType: calendarType\n    }, childProps));\n  }\n\n  var className = 'react-calendar__month-view';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: mergeClassNames(className, showWeekNumbers ? \"\".concat(className, \"--weekNumbers\") : '')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'flex-end'\n    }\n  }, renderWeekNumbers(), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexGrow: 1,\n      width: '100%'\n    }\n  }, renderWeekdays(), renderDays())));\n}\nMonthView.propTypes = {\n  activeStartDate: PropTypes.instanceOf(Date).isRequired,\n  calendarType: isCalendarType,\n  formatShortWeekday: PropTypes.func,\n  locale: PropTypes.string,\n  onClickWeekNumber: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  showFixedNumberOfWeeks: PropTypes.bool,\n  showWeekNumbers: PropTypes.bool\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport mergeClassNames from 'merge-class-names';\nimport Navigation from './Calendar/Navigation';\nimport CenturyView from './CenturyView';\nimport DecadeView from './DecadeView';\nimport YearView from './YearView';\nimport MonthView from './MonthView';\nimport { getBegin, getBeginNext, getEnd, getValueRange } from './shared/dates';\nimport { isCalendarType, isClassName, isMaxDate, isMinDate, isRef, isValue, isView } from './shared/propTypes';\nimport { between } from './shared/utils';\nvar defaultMinDate = new Date();\ndefaultMinDate.setFullYear(1, 0, 1);\ndefaultMinDate.setHours(0, 0, 0, 0);\nvar defaultMaxDate = new Date(8.64e15);\nvar baseClassName = 'react-calendar';\nvar allViews = ['century', 'decade', 'year', 'month'];\nvar allValueTypes = [].concat(_toConsumableArray(allViews.slice(1)), ['day']);\n\nfunction toDate(value) {\n  if (value instanceof Date) {\n    return value;\n  }\n\n  return new Date(value);\n}\n/**\n * Returns views array with disallowed values cut off.\n */\n\n\nfunction getLimitedViews(minDetail, maxDetail) {\n  return allViews.slice(allViews.indexOf(minDetail), allViews.indexOf(maxDetail) + 1);\n}\n/**\n * Determines whether a given view is allowed with currently applied settings.\n */\n\n\nfunction isViewAllowed(view, minDetail, maxDetail) {\n  var views = getLimitedViews(minDetail, maxDetail);\n  return views.indexOf(view) !== -1;\n}\n/**\n * Gets either provided view if allowed by minDetail and maxDetail, or gets\n * the default view if not allowed.\n */\n\n\nfunction getView(view, minDetail, maxDetail) {\n  if (isViewAllowed(view, minDetail, maxDetail)) {\n    return view;\n  }\n\n  return maxDetail;\n}\n/**\n * Returns value type that can be returned with currently applied settings.\n */\n\n\nfunction getValueType(maxDetail) {\n  return allValueTypes[allViews.indexOf(maxDetail)];\n}\n\nfunction getValue(value, index) {\n  if (!value) {\n    return null;\n  }\n\n  var rawValue = Array.isArray(value) && value.length === 2 ? value[index] : value;\n\n  if (!rawValue) {\n    return null;\n  }\n\n  var valueDate = toDate(rawValue);\n\n  if (isNaN(valueDate.getTime())) {\n    throw new Error(\"Invalid date: \".concat(value));\n  }\n\n  return valueDate;\n}\n\nfunction getDetailValue(_ref, index) {\n  var value = _ref.value,\n      minDate = _ref.minDate,\n      maxDate = _ref.maxDate,\n      maxDetail = _ref.maxDetail;\n  var valuePiece = getValue(value, index);\n\n  if (!valuePiece) {\n    return null;\n  }\n\n  var valueType = getValueType(maxDetail);\n  var detailValueFrom = [getBegin, getEnd][index](valueType, valuePiece);\n  return between(detailValueFrom, minDate, maxDate);\n}\n\nvar getDetailValueFrom = function getDetailValueFrom(args) {\n  return getDetailValue(args, 0);\n};\n\nvar getDetailValueTo = function getDetailValueTo(args) {\n  return getDetailValue(args, 1);\n};\n\nvar getDetailValueArray = function getDetailValueArray(args) {\n  var value = args.value;\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return [getDetailValueFrom, getDetailValueTo].map(function (fn) {\n    return fn(args);\n  });\n};\n\nfunction getActiveStartDate(props) {\n  var maxDate = props.maxDate,\n      maxDetail = props.maxDetail,\n      minDate = props.minDate,\n      minDetail = props.minDetail,\n      value = props.value,\n      view = props.view;\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = getDetailValueFrom({\n    value: value,\n    minDate: minDate,\n    maxDate: maxDate,\n    maxDetail: maxDetail\n  }) || new Date();\n  return getBegin(rangeType, valueFrom);\n}\n\nfunction getInitialActiveStartDate(props) {\n  var activeStartDate = props.activeStartDate,\n      defaultActiveStartDate = props.defaultActiveStartDate,\n      defaultValue = props.defaultValue,\n      defaultView = props.defaultView,\n      maxDetail = props.maxDetail,\n      minDetail = props.minDetail,\n      value = props.value,\n      view = props.view,\n      otherProps = _objectWithoutProperties(props, [\"activeStartDate\", \"defaultActiveStartDate\", \"defaultValue\", \"defaultView\", \"maxDetail\", \"minDetail\", \"value\", \"view\"]);\n\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = activeStartDate || defaultActiveStartDate;\n\n  if (valueFrom) {\n    return getBegin(rangeType, valueFrom);\n  }\n\n  return getActiveStartDate(_objectSpread({\n    maxDetail: maxDetail,\n    minDetail: minDetail,\n    value: value || defaultValue,\n    view: view || defaultView\n  }, otherProps));\n}\n\nvar getIsSingleValue = function getIsSingleValue(value) {\n  return value && [].concat(value).length === 1;\n};\n\nvar Calendar = /*#__PURE__*/function (_Component) {\n  _inherits(Calendar, _Component);\n\n  var _super = _createSuper(Calendar);\n\n  function Calendar() {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      /* eslint-disable react/destructuring-assignment */\n      activeStartDate: _this.props.defaultActiveStartDate,\n      value: _this.props.defaultValue,\n      view: _this.props.defaultView\n      /* eslint-enable react/destructuring-assignment */\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setStateAndCallCallbacks\", function (nextState, event, callback) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          previousActiveStartDate = _assertThisInitialize.activeStartDate,\n          previousView = _assertThisInitialize.view;\n\n      var _this$props = _this.props,\n          allowPartialRange = _this$props.allowPartialRange,\n          onActiveStartDateChange = _this$props.onActiveStartDateChange,\n          onChange = _this$props.onChange,\n          onViewChange = _this$props.onViewChange,\n          selectRange = _this$props.selectRange;\n      var prevArgs = {\n        activeStartDate: previousActiveStartDate,\n        view: previousView\n      };\n\n      _this.setState(nextState, function () {\n        var args = {\n          activeStartDate: nextState.activeStartDate || _this.activeStartDate,\n          value: nextState.value || _this.value,\n          view: nextState.view || _this.view\n        };\n\n        function shouldUpdate(key) {\n          return (// Key must exist, and\n            key in nextState && ( // key changed from undefined to defined or the other way around, or\n            _typeof(nextState[key]) !== _typeof(prevArgs[key]) // value changed.\n            || (nextState[key] instanceof Date ? nextState[key].getTime() !== prevArgs[key].getTime() : nextState[key] !== prevArgs[key]))\n          );\n        }\n\n        if (shouldUpdate('activeStartDate')) {\n          if (onActiveStartDateChange) onActiveStartDateChange(args);\n        }\n\n        if (shouldUpdate('view')) {\n          if (onViewChange) onViewChange(args);\n        }\n\n        if (shouldUpdate('value')) {\n          if (onChange) {\n            if (selectRange) {\n              var isSingleValue = getIsSingleValue(nextState.value);\n\n              if (!isSingleValue) {\n                onChange(nextState.value, event);\n              } else if (allowPartialRange) {\n                onChange([nextState.value], event);\n              }\n            } else {\n              onChange(nextState.value, event);\n            }\n          }\n        }\n\n        if (callback) callback(args);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setActiveStartDate\", function (activeStartDate) {\n      _this.setStateAndCallCallbacks({\n        activeStartDate: activeStartDate\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drillDown\", function (nextActiveStartDate, event) {\n      if (!_this.drillDownAvailable) {\n        return;\n      }\n\n      _this.onClickTile(nextActiveStartDate, event);\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          view = _assertThisInitialize2.view,\n          views = _assertThisInitialize2.views;\n\n      var onDrillDown = _this.props.onDrillDown;\n      var nextView = views[views.indexOf(view) + 1];\n\n      _this.setStateAndCallCallbacks({\n        activeStartDate: nextActiveStartDate,\n        view: nextView\n      }, undefined, onDrillDown);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drillUp\", function () {\n      if (!_this.drillUpAvailable) {\n        return;\n      }\n\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          activeStartDate = _assertThisInitialize3.activeStartDate,\n          view = _assertThisInitialize3.view,\n          views = _assertThisInitialize3.views;\n\n      var onDrillUp = _this.props.onDrillUp;\n      var nextView = views[views.indexOf(view) - 1];\n      var nextActiveStartDate = getBegin(nextView, activeStartDate);\n\n      _this.setStateAndCallCallbacks({\n        activeStartDate: nextActiveStartDate,\n        view: nextView\n      }, undefined, onDrillUp);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (value, event) {\n      var selectRange = _this.props.selectRange;\n\n      _this.onClickTile(value, event);\n\n      var nextValue;\n\n      if (selectRange) {\n        // Range selection turned on\n        var _assertThisInitialize4 = _assertThisInitialized(_this),\n            previousValue = _assertThisInitialize4.value,\n            valueType = _assertThisInitialize4.valueType;\n\n        if (!getIsSingleValue(previousValue)) {\n          // Value has 0 or 2 elements - either way we're starting a new array\n          // First value\n          nextValue = getBegin(valueType, value);\n        } else {\n          // Second value\n          nextValue = getValueRange(valueType, previousValue, value);\n        }\n      } else {\n        // Range selection turned off\n        nextValue = _this.getProcessedValue(value);\n      }\n\n      var nextActiveStartDate = getActiveStartDate(_objectSpread(_objectSpread({}, _this.props), {}, {\n        value: nextValue\n      }));\n      event.persist();\n\n      _this.setStateAndCallCallbacks({\n        activeStartDate: nextActiveStartDate,\n        value: nextValue\n      }, event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickTile\", function (value, event) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this),\n          view = _assertThisInitialize5.view;\n\n      var _this$props2 = _this.props,\n          onClickDay = _this$props2.onClickDay,\n          onClickDecade = _this$props2.onClickDecade,\n          onClickMonth = _this$props2.onClickMonth,\n          onClickYear = _this$props2.onClickYear;\n\n      var callback = function () {\n        switch (view) {\n          case 'century':\n            return onClickDecade;\n\n          case 'decade':\n            return onClickYear;\n\n          case 'year':\n            return onClickMonth;\n\n          case 'month':\n            return onClickDay;\n\n          default:\n            throw new Error(\"Invalid view: \".concat(view, \".\"));\n        }\n      }();\n\n      if (callback) callback(value, event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function (value) {\n      _this.setState(function (prevState) {\n        if (prevState.hover && prevState.hover.getTime() === value.getTime()) {\n          return null;\n        }\n\n        return {\n          hover: value\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function () {\n      _this.setState({\n        hover: null\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"getProcessedValue\",\n\n    /**\n     * Gets current value in a desired format.\n     */\n    value: function getProcessedValue(value) {\n      var _this$props3 = this.props,\n          minDate = _this$props3.minDate,\n          maxDate = _this$props3.maxDate,\n          maxDetail = _this$props3.maxDetail,\n          returnValue = _this$props3.returnValue;\n\n      var processFunction = function () {\n        switch (returnValue) {\n          case 'start':\n            return getDetailValueFrom;\n\n          case 'end':\n            return getDetailValueTo;\n\n          case 'range':\n            return getDetailValueArray;\n\n          default:\n            throw new Error('Invalid returnValue.');\n        }\n      }();\n\n      return processFunction({\n        value: value,\n        minDate: minDate,\n        maxDate: maxDate,\n        maxDetail: maxDetail\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent(next) {\n      var currentActiveStartDate = this.activeStartDate,\n          onMouseOver = this.onMouseOver,\n          valueType = this.valueType,\n          value = this.value,\n          view = this.view;\n      var _this$props4 = this.props,\n          calendarType = _this$props4.calendarType,\n          locale = _this$props4.locale,\n          maxDate = _this$props4.maxDate,\n          minDate = _this$props4.minDate,\n          selectRange = _this$props4.selectRange,\n          tileClassName = _this$props4.tileClassName,\n          tileContent = _this$props4.tileContent,\n          tileDisabled = _this$props4.tileDisabled;\n      var hover = this.hover;\n      var activeStartDate = next ? getBeginNext(view, currentActiveStartDate) : getBegin(view, currentActiveStartDate);\n      var onClick = this.drillDownAvailable ? this.drillDown : this.onChange;\n      var commonProps = {\n        activeStartDate: activeStartDate,\n        hover: hover,\n        locale: locale,\n        maxDate: maxDate,\n        minDate: minDate,\n        onClick: onClick,\n        onMouseOver: selectRange ? onMouseOver : null,\n        tileClassName: tileClassName,\n        tileContent: tileContent,\n        tileDisabled: tileDisabled,\n        value: value,\n        valueType: valueType\n      };\n\n      switch (view) {\n        case 'century':\n          {\n            var formatYear = this.props.formatYear;\n            return /*#__PURE__*/React.createElement(CenturyView, _extends({\n              formatYear: formatYear\n            }, commonProps));\n          }\n\n        case 'decade':\n          {\n            var _formatYear = this.props.formatYear;\n            return /*#__PURE__*/React.createElement(DecadeView, _extends({\n              formatYear: _formatYear\n            }, commonProps));\n          }\n\n        case 'year':\n          {\n            var _this$props5 = this.props,\n                formatMonth = _this$props5.formatMonth,\n                formatMonthYear = _this$props5.formatMonthYear;\n            return /*#__PURE__*/React.createElement(YearView, _extends({\n              formatMonth: formatMonth,\n              formatMonthYear: formatMonthYear\n            }, commonProps));\n          }\n\n        case 'month':\n          {\n            var _this$props6 = this.props,\n                formatDay = _this$props6.formatDay,\n                formatLongDate = _this$props6.formatLongDate,\n                formatShortWeekday = _this$props6.formatShortWeekday,\n                onClickWeekNumber = _this$props6.onClickWeekNumber,\n                showDoubleView = _this$props6.showDoubleView,\n                showFixedNumberOfWeeks = _this$props6.showFixedNumberOfWeeks,\n                showNeighboringMonth = _this$props6.showNeighboringMonth,\n                showWeekNumbers = _this$props6.showWeekNumbers;\n            var onMouseLeave = this.onMouseLeave;\n            return /*#__PURE__*/React.createElement(MonthView, _extends({\n              calendarType: calendarType,\n              formatDay: formatDay,\n              formatLongDate: formatLongDate,\n              formatShortWeekday: formatShortWeekday,\n              onClickWeekNumber: onClickWeekNumber,\n              onMouseLeave: selectRange ? onMouseLeave : null,\n              showFixedNumberOfWeeks: showFixedNumberOfWeeks || showDoubleView,\n              showNeighboringMonth: showNeighboringMonth,\n              showWeekNumbers: showWeekNumbers\n            }, commonProps));\n          }\n\n        default:\n          throw new Error(\"Invalid view: \".concat(view, \".\"));\n      }\n    }\n  }, {\n    key: \"renderNavigation\",\n    value: function renderNavigation() {\n      var showNavigation = this.props.showNavigation;\n\n      if (!showNavigation) {\n        return null;\n      }\n\n      var activeStartDate = this.activeStartDate,\n          view = this.view,\n          views = this.views;\n      var _this$props7 = this.props,\n          formatMonthYear = _this$props7.formatMonthYear,\n          formatYear = _this$props7.formatYear,\n          locale = _this$props7.locale,\n          maxDate = _this$props7.maxDate,\n          minDate = _this$props7.minDate,\n          navigationAriaLabel = _this$props7.navigationAriaLabel,\n          navigationLabel = _this$props7.navigationLabel,\n          next2AriaLabel = _this$props7.next2AriaLabel,\n          next2Label = _this$props7.next2Label,\n          nextAriaLabel = _this$props7.nextAriaLabel,\n          nextLabel = _this$props7.nextLabel,\n          prev2AriaLabel = _this$props7.prev2AriaLabel,\n          prev2Label = _this$props7.prev2Label,\n          prevAriaLabel = _this$props7.prevAriaLabel,\n          prevLabel = _this$props7.prevLabel,\n          showDoubleView = _this$props7.showDoubleView;\n      return /*#__PURE__*/React.createElement(Navigation, {\n        activeStartDate: activeStartDate,\n        drillUp: this.drillUp,\n        formatMonthYear: formatMonthYear,\n        formatYear: formatYear,\n        locale: locale,\n        maxDate: maxDate,\n        minDate: minDate,\n        navigationAriaLabel: navigationAriaLabel,\n        navigationLabel: navigationLabel,\n        next2AriaLabel: next2AriaLabel,\n        next2Label: next2Label,\n        nextAriaLabel: nextAriaLabel,\n        nextLabel: nextLabel,\n        prev2AriaLabel: prev2AriaLabel,\n        prev2Label: prev2Label,\n        prevAriaLabel: prevAriaLabel,\n        prevLabel: prevLabel,\n        setActiveStartDate: this.setActiveStartDate,\n        showDoubleView: showDoubleView,\n        view: view,\n        views: views\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          className = _this$props8.className,\n          inputRef = _this$props8.inputRef,\n          selectRange = _this$props8.selectRange,\n          showDoubleView = _this$props8.showDoubleView;\n      var onMouseLeave = this.onMouseLeave,\n          value = this.value;\n      var valueArray = [].concat(value);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: mergeClassNames(baseClassName, selectRange && valueArray.length === 1 && \"\".concat(baseClassName, \"--selectRange\"), showDoubleView && \"\".concat(baseClassName, \"--doubleView\"), className),\n        ref: inputRef\n      }, this.renderNavigation(), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(baseClassName, \"__viewContainer\"),\n        onBlur: selectRange ? onMouseLeave : null,\n        onMouseLeave: selectRange ? onMouseLeave : null\n      }, this.renderContent(), showDoubleView && this.renderContent(true)));\n    }\n  }, {\n    key: \"activeStartDate\",\n    get: function get() {\n      var activeStartDateProps = this.props.activeStartDate;\n      var activeStartDateState = this.state.activeStartDate;\n      return activeStartDateProps || activeStartDateState || getInitialActiveStartDate(this.props);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      var _this$props9 = this.props,\n          selectRange = _this$props9.selectRange,\n          valueProps = _this$props9.value;\n      var valueState = this.state.value; // In the middle of range selection, use value from state\n\n      if (selectRange && getIsSingleValue(valueState)) {\n        return valueState;\n      }\n\n      return valueProps !== undefined ? valueProps : valueState;\n    }\n  }, {\n    key: \"valueType\",\n    get: function get() {\n      var maxDetail = this.props.maxDetail;\n      return getValueType(maxDetail);\n    }\n  }, {\n    key: \"view\",\n    get: function get() {\n      var _this$props10 = this.props,\n          minDetail = _this$props10.minDetail,\n          maxDetail = _this$props10.maxDetail,\n          viewProps = _this$props10.view;\n      var viewState = this.state.view;\n      return getView(viewProps || viewState, minDetail, maxDetail);\n    }\n  }, {\n    key: \"views\",\n    get: function get() {\n      var _this$props11 = this.props,\n          minDetail = _this$props11.minDetail,\n          maxDetail = _this$props11.maxDetail;\n      return getLimitedViews(minDetail, maxDetail);\n    }\n  }, {\n    key: \"hover\",\n    get: function get() {\n      var selectRange = this.props.selectRange;\n      var hover = this.state.hover;\n      return selectRange ? hover : null;\n    }\n  }, {\n    key: \"drillDownAvailable\",\n    get: function get() {\n      var view = this.view,\n          views = this.views;\n      return views.indexOf(view) < views.length - 1;\n    }\n  }, {\n    key: \"drillUpAvailable\",\n    get: function get() {\n      var view = this.view,\n          views = this.views;\n      return views.indexOf(view) > 0;\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nexport { Calendar as default };\nCalendar.defaultProps = {\n  maxDate: defaultMaxDate,\n  maxDetail: 'month',\n  minDate: defaultMinDate,\n  minDetail: 'century',\n  returnValue: 'start',\n  showNavigation: true,\n  showNeighboringMonth: true\n};\nvar isActiveStartDate = PropTypes.instanceOf(Date);\nvar isLooseValue = PropTypes.oneOfType([PropTypes.string, isValue]);\nCalendar.propTypes = {\n  activeStartDate: isActiveStartDate,\n  allowPartialRange: PropTypes.bool,\n  calendarType: isCalendarType,\n  className: isClassName,\n  defaultActiveStartDate: isActiveStartDate,\n  defaultValue: isLooseValue,\n  defaultView: isView,\n  formatDay: PropTypes.func,\n  formatLongDate: PropTypes.func,\n  formatMonth: PropTypes.func,\n  formatMonthYear: PropTypes.func,\n  formatShortWeekday: PropTypes.func,\n  formatYear: PropTypes.func,\n  inputRef: isRef,\n  locale: PropTypes.string,\n  maxDate: isMaxDate,\n  maxDetail: PropTypes.oneOf(allViews),\n  minDate: isMinDate,\n  minDetail: PropTypes.oneOf(allViews),\n  navigationAriaLabel: PropTypes.string,\n  navigationLabel: PropTypes.func,\n  next2AriaLabel: PropTypes.string,\n  next2Label: PropTypes.node,\n  nextAriaLabel: PropTypes.string,\n  nextLabel: PropTypes.node,\n  onActiveStartDateChange: PropTypes.func,\n  onChange: PropTypes.func,\n  onClickDay: PropTypes.func,\n  onClickDecade: PropTypes.func,\n  onClickMonth: PropTypes.func,\n  onClickWeekNumber: PropTypes.func,\n  onClickYear: PropTypes.func,\n  onDrillDown: PropTypes.func,\n  onDrillUp: PropTypes.func,\n  onViewChange: PropTypes.func,\n  prev2AriaLabel: PropTypes.string,\n  prev2Label: PropTypes.node,\n  prevAriaLabel: PropTypes.string,\n  prevLabel: PropTypes.node,\n  returnValue: PropTypes.oneOf(['start', 'end', 'range']),\n  selectRange: PropTypes.bool,\n  showDoubleView: PropTypes.bool,\n  showFixedNumberOfWeeks: PropTypes.bool,\n  showNavigation: PropTypes.bool,\n  showNeighboringMonth: PropTypes.bool,\n  showWeekNumbers: PropTypes.bool,\n  tileClassName: PropTypes.oneOfType([PropTypes.func, isClassName]),\n  tileContent: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  tileDisabled: PropTypes.func,\n  value: isLooseValue,\n  view: isView\n};","import Calendar from './Calendar';\nimport CenturyView from './CenturyView';\nimport DecadeView from './DecadeView';\nimport YearView from './YearView';\nimport MonthView from './MonthView';\nexport default Calendar;\nexport { Calendar, CenturyView, DecadeView, YearView, MonthView };","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createRef, createElement, Component, createContext } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport invariant from 'invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport PropTypes from 'prop-types';\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component$$1) {\n  var componentName = Component$$1.displayName || Component$$1.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, WithSortableHandle);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableHandle)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", createRef());\n\n      return _this;\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\nvar SortableContext = createContext({\n  manager: {}\n});\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? event.target : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function' && event.cancelable) {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      var manager = new Manager();\n      validateProps(props);\n      _this.manager = manager;\n      _this.wrappedInstance = createRef();\n      _this.sortableContextValue = {\n        manager: manager\n      };\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return createElement(SortableContext.Provider, {\n          value: this.sortableContextValue\n        }, createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps))));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, WithSortableElement);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableElement)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", createRef());\n\n      return _this;\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextType\", SortableContext), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexport { sortableContainer as SortableContainer, sortableContainer, sortableElement as SortableElement, sortableElement, sortableHandle as SortableHandle, sortableHandle, arrayMove };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSwitch from 'rc-switch';\nimport classNames from 'classnames';\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nvar Switch = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      loading = _a.loading,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      disabled = _a.disabled,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"loading\", \"className\", \"disabled\"]);\n\n  devWarning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?');\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('switch', customizePrefixCls);\n  var loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-handle\")\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: \"\".concat(prefixCls, \"-loading-icon\")\n  }));\n  var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-small\"), (customizeSize || size) === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(Wave, {\n    insertExtraNode: true\n  }, /*#__PURE__*/React.createElement(RcSwitch, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: disabled || loading,\n    ref: ref,\n    loadingIcon: loadingIcon\n  })));\n});\nSwitch.__ANT_SWITCH = true;\nSwitch.displayName = 'Switch';\nexport default Switch;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport SlickCarousel from '@ant-design/react-slick';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nvar Carousel = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var _a$dots = _a.dots,\n      dots = _a$dots === void 0 ? true : _a$dots,\n      _a$arrows = _a.arrows,\n      arrows = _a$arrows === void 0 ? false : _a$arrows,\n      _a$draggable = _a.draggable,\n      draggable = _a$draggable === void 0 ? false : _a$draggable,\n      _a$dotPosition = _a.dotPosition,\n      dotPosition = _a$dotPosition === void 0 ? 'bottom' : _a$dotPosition,\n      props = __rest(_a, [\"dots\", \"arrows\", \"draggable\", \"dotPosition\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var slickRef = React.useRef();\n\n  var goTo = function goTo(slide) {\n    var dontAnimate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    slickRef.current.slickGoTo(slide, dontAnimate);\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      goTo: goTo,\n      autoPlay: slickRef.current.innerSlider.autoPlay,\n      innerSlider: slickRef.current.innerSlider,\n      prev: slickRef.current.slickPrev,\n      next: slickRef.current.slickNext\n    };\n  }, [slickRef.current]);\n  var prevCount = React.useRef(React.Children.count(props.children));\n  React.useEffect(function () {\n    if (prevCount.current !== React.Children.count(props.children)) {\n      goTo(props.initialSlide || 0, false);\n      prevCount.current = React.Children.count(props.children);\n    }\n  }, [props.children]);\n\n  var newProps = _extends({}, props);\n\n  if (newProps.effect === 'fade') {\n    newProps.fade = true;\n  }\n\n  var prefixCls = getPrefixCls('carousel', newProps.prefixCls);\n  var dotsClass = 'slick-dots';\n  newProps.vertical = dotPosition === 'left' || dotPosition === 'right';\n  var enableDots = !!dots;\n  var dsClass = classNames(dotsClass, \"\".concat(dotsClass, \"-\").concat(dotPosition), typeof dots === 'boolean' ? false : dots === null || dots === void 0 ? void 0 : dots.className);\n  var className = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-vertical\"), newProps.vertical), _classNames));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(SlickCarousel, _extends({\n    ref: slickRef\n  }, newProps, {\n    dots: enableDots,\n    dotsClass: dsClass,\n    arrows: arrows,\n    draggable: draggable\n  })));\n});\nexport default Carousel;","// This icon file is generated automatically.\nvar DoubleLeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z\" } }] }, \"name\": \"double-left\", \"theme\": \"outlined\" };\nexport default DoubleLeftOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DoubleLeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/DoubleLeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DoubleLeftOutlined = function DoubleLeftOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DoubleLeftOutlinedSvg\n  }));\n};\n\nDoubleLeftOutlined.displayName = 'DoubleLeftOutlined';\nexport default /*#__PURE__*/React.forwardRef(DoubleLeftOutlined);","// This icon file is generated automatically.\nvar DoubleRightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z\" } }] }, \"name\": \"double-right\", \"theme\": \"outlined\" };\nexport default DoubleRightOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DoubleRightOutlinedSvg from \"@ant-design/icons-svg/es/asn/DoubleRightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DoubleRightOutlined = function DoubleRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DoubleRightOutlinedSvg\n  }));\n};\n\nDoubleRightOutlined.displayName = 'DoubleRightOutlined';\nexport default /*#__PURE__*/React.forwardRef(DoubleRightOutlined);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Select from '../select';\n\nvar MiniSelect = function MiniSelect(props) {\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    size: \"small\"\n  }, props));\n};\n\nMiniSelect.Option = Select.Option;\nexport default MiniSelect;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcPagination from 'rc-pagination';\nimport enUS from \"rc-pagination/es/locale/en_US\";\nimport classNames from 'classnames';\nimport LeftOutlined from \"@ant-design/icons/es/icons/LeftOutlined\";\nimport RightOutlined from \"@ant-design/icons/es/icons/RightOutlined\";\nimport DoubleLeftOutlined from \"@ant-design/icons/es/icons/DoubleLeftOutlined\";\nimport DoubleRightOutlined from \"@ant-design/icons/es/icons/DoubleRightOutlined\";\nimport MiniSelect from './MiniSelect';\nimport Select from '../select';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { ConfigContext } from '../config-provider';\nimport useBreakpoint from '../grid/hooks/useBreakpoint';\n\nvar Pagination = function Pagination(_a) {\n  var customizePrefixCls = _a.prefixCls,\n      customizeSelectPrefixCls = _a.selectPrefixCls,\n      className = _a.className,\n      size = _a.size,\n      customLocale = _a.locale,\n      restProps = __rest(_a, [\"prefixCls\", \"selectPrefixCls\", \"className\", \"size\", \"locale\"]);\n\n  var _useBreakpoint = useBreakpoint(),\n      xs = _useBreakpoint.xs;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('pagination', customizePrefixCls);\n\n  var getIconsProps = function getIconsProps() {\n    var ellipsis = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-item-ellipsis\")\n    }, \"\\u2022\\u2022\\u2022\");\n    var prevIcon = /*#__PURE__*/React.createElement(\"button\", {\n      className: \"\".concat(prefixCls, \"-item-link\"),\n      type: \"button\",\n      tabIndex: -1\n    }, /*#__PURE__*/React.createElement(LeftOutlined, null));\n    var nextIcon = /*#__PURE__*/React.createElement(\"button\", {\n      className: \"\".concat(prefixCls, \"-item-link\"),\n      type: \"button\",\n      tabIndex: -1\n    }, /*#__PURE__*/React.createElement(RightOutlined, null));\n    var jumpPrevIcon = /*#__PURE__*/React.createElement(\"a\", {\n      className: \"\".concat(prefixCls, \"-item-link\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-item-container\")\n    }, /*#__PURE__*/React.createElement(DoubleLeftOutlined, {\n      className: \"\".concat(prefixCls, \"-item-link-icon\")\n    }), ellipsis));\n    var jumpNextIcon = /*#__PURE__*/React.createElement(\"a\", {\n      className: \"\".concat(prefixCls, \"-item-link\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-item-container\")\n    }, /*#__PURE__*/React.createElement(DoubleRightOutlined, {\n      className: \"\".concat(prefixCls, \"-item-link-icon\")\n    }), ellipsis)); // change arrows direction in right-to-left direction\n\n    if (direction === 'rtl') {\n      var _ref = [nextIcon, prevIcon];\n      prevIcon = _ref[0];\n      nextIcon = _ref[1];\n      var _ref2 = [jumpNextIcon, jumpPrevIcon];\n      jumpPrevIcon = _ref2[0];\n      jumpNextIcon = _ref2[1];\n    }\n\n    return {\n      prevIcon: prevIcon,\n      nextIcon: nextIcon,\n      jumpPrevIcon: jumpPrevIcon,\n      jumpNextIcon: jumpNextIcon\n    };\n  };\n\n  var renderPagination = function renderPagination(contextLocale) {\n    var locale = _extends(_extends({}, contextLocale), customLocale);\n\n    var isSmall = size === 'small' || !!(xs && !size && restProps.responsive);\n    var selectPrefixCls = getPrefixCls('select', customizeSelectPrefixCls);\n    var extendedClassName = classNames(_defineProperty({\n      mini: isSmall\n    }, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n    return /*#__PURE__*/React.createElement(RcPagination, _extends({}, restProps, {\n      prefixCls: prefixCls,\n      selectPrefixCls: selectPrefixCls\n    }, getIconsProps(), {\n      className: extendedClassName,\n      selectComponentClass: isSmall ? MiniSelect : Select,\n      locale: locale\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Pagination\",\n    defaultLocale: enUS\n  }, renderPagination);\n};\n\nexport default Pagination;","import Pagination from './Pagination';\nexport default Pagination;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { useState } from 'react';\nexport var DEFAULT_PAGE_SIZE = 10;\nexport function getPaginationParam(pagination, mergedPagination) {\n  var param = {\n    current: mergedPagination.current,\n    pageSize: mergedPagination.pageSize\n  };\n  var paginationObj = pagination && _typeof(pagination) === 'object' ? pagination : {};\n  Object.keys(paginationObj).forEach(function (pageProp) {\n    var value = mergedPagination[pageProp];\n\n    if (typeof value !== 'function') {\n      param[pageProp] = value;\n    }\n  });\n  return param;\n}\n\nfunction extendsObject() {\n  var result = {};\n\n  for (var _len = arguments.length, list = new Array(_len), _key = 0; _key < _len; _key++) {\n    list[_key] = arguments[_key];\n  }\n\n  list.forEach(function (obj) {\n    if (obj) {\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n\n        if (val !== undefined) {\n          result[key] = val;\n        }\n      });\n    }\n  });\n  return result;\n}\n\nexport default function usePagination(total, pagination, onChange) {\n  var _a = pagination && _typeof(pagination) === 'object' ? pagination : {},\n      _a$total = _a.total,\n      paginationTotal = _a$total === void 0 ? 0 : _a$total,\n      paginationObj = __rest(_a, [\"total\"]);\n\n  var _useState = useState(function () {\n    return {\n      current: 'defaultCurrent' in paginationObj ? paginationObj.defaultCurrent : 1,\n      pageSize: 'defaultPageSize' in paginationObj ? paginationObj.defaultPageSize : DEFAULT_PAGE_SIZE\n    };\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerPagination = _useState2[0],\n      setInnerPagination = _useState2[1]; // ============ Basic Pagination Config ============\n\n\n  var mergedPagination = extendsObject(innerPagination, paginationObj, {\n    total: paginationTotal > 0 ? paginationTotal : total\n  }); // Reset `current` if data length or pageSize changed\n\n  var maxPage = Math.ceil((paginationTotal || total) / mergedPagination.pageSize);\n\n  if (mergedPagination.current > maxPage) {\n    // Prevent a maximum page count of 0\n    mergedPagination.current = maxPage || 1;\n  }\n\n  var refreshPagination = function refreshPagination() {\n    var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var pageSize = arguments.length > 1 ? arguments[1] : undefined;\n    setInnerPagination({\n      current: current,\n      pageSize: pageSize || mergedPagination.pageSize\n    });\n  };\n\n  var onInternalChange = function onInternalChange(current, pageSize) {\n    var _a;\n\n    if (pagination) {\n      (_a = pagination.onChange) === null || _a === void 0 ? void 0 : _a.call(pagination, current, pageSize);\n    }\n\n    refreshPagination(current, pageSize);\n    onChange(current, pageSize || (mergedPagination === null || mergedPagination === void 0 ? void 0 : mergedPagination.pageSize));\n  };\n\n  if (pagination === false) {\n    return [{}, function () {}];\n  }\n\n  return [_extends(_extends({}, mergedPagination), {\n    onChange: onInternalChange\n  }), refreshPagination];\n}","import * as React from 'react';\nvar RadioGroupContext = /*#__PURE__*/React.createContext(null);\nexport var RadioGroupContextProvider = RadioGroupContext.Provider;\nexport default RadioGroupContext;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcCheckbox from 'rc-checkbox';\nimport classNames from 'classnames';\nimport { composeRef } from \"rc-util/es/ref\";\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\nimport devWarning from '../_util/devWarning';\n\nvar InternalRadio = function InternalRadio(props, ref) {\n  var _classNames;\n\n  var context = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var innerRef = React.useRef();\n  var mergedRef = composeRef(ref, innerRef);\n  React.useEffect(function () {\n    devWarning(!('optionType' in props), 'Radio', '`optionType` is only support in Radio.Group.');\n  }, []);\n\n  var onChange = function onChange(e) {\n    var _a, _b;\n\n    (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    (_b = context === null || context === void 0 ? void 0 : context.onChange) === null || _b === void 0 ? void 0 : _b.call(context, e);\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      children = props.children,\n      style = props.style,\n      restProps = __rest(props, [\"prefixCls\", \"className\", \"children\", \"style\"]);\n\n  var prefixCls = getPrefixCls('radio', customizePrefixCls);\n\n  var radioProps = _extends({}, restProps);\n\n  if (context) {\n    radioProps.name = context.name;\n    radioProps.onChange = onChange;\n    radioProps.checked = props.value === context.value;\n    radioProps.disabled = props.disabled || context.disabled;\n  }\n\n  var wrapperClassString = classNames(\"\".concat(prefixCls, \"-wrapper\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-checked\"), radioProps.checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-disabled\"), radioProps.disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-rtl\"), direction === 'rtl'), _classNames), className);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-associated-control\n    React.createElement(\"label\", {\n      className: wrapperClassString,\n      style: style,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave\n    }, /*#__PURE__*/React.createElement(RcCheckbox, _extends({}, radioProps, {\n      prefixCls: prefixCls,\n      ref: mergedRef\n    })), children !== undefined ? /*#__PURE__*/React.createElement(\"span\", null, children) : null)\n  );\n};\n\nvar Radio = /*#__PURE__*/React.forwardRef(InternalRadio);\nRadio.displayName = 'Radio';\nRadio.defaultProps = {\n  type: 'radio'\n};\nexport default Radio;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport { RadioGroupContextProvider } from './context';\nimport getDataOrAriaProps from '../_util/getDataOrAriaProps';\nvar RadioGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var onRadioChange = function onRadioChange(ev) {\n    var lastValue = value;\n    var val = ev.target.value;\n\n    if (!('value' in props)) {\n      setValue(val);\n    }\n\n    var onChange = props.onChange;\n\n    if (onChange && val !== lastValue) {\n      onChange(ev);\n    }\n  };\n\n  var renderGroup = function renderGroup() {\n    var _classNames;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$className = props.className,\n        className = _props$className === void 0 ? '' : _props$className,\n        options = props.options,\n        optionType = props.optionType,\n        _props$buttonStyle = props.buttonStyle,\n        buttonStyle = _props$buttonStyle === void 0 ? 'outline' : _props$buttonStyle,\n        disabled = props.disabled,\n        children = props.children,\n        customizeSize = props.size,\n        style = props.style,\n        id = props.id,\n        onMouseEnter = props.onMouseEnter,\n        onMouseLeave = props.onMouseLeave;\n    var prefixCls = getPrefixCls('radio', customizePrefixCls);\n    var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n    var childrenToRender = children; //  options, \n\n    if (options && options.length > 0) {\n      var optionsPrefixCls = optionType === 'button' ? \"\".concat(prefixCls, \"-button\") : prefixCls;\n      childrenToRender = options.map(function (option) {\n        if (typeof option === 'string') {\n          //  string\n          return /*#__PURE__*/React.createElement(Radio, {\n            key: option,\n            prefixCls: optionsPrefixCls,\n            disabled: disabled,\n            value: option,\n            checked: value === option\n          }, option);\n        } //  { label: string value: string }\n\n\n        return /*#__PURE__*/React.createElement(Radio, {\n          key: \"radio-group-value-options-\".concat(option.value),\n          prefixCls: optionsPrefixCls,\n          disabled: option.disabled || disabled,\n          value: option.value,\n          checked: value === option.value,\n          style: option.style\n        }, option.label);\n      });\n    }\n\n    var mergedSize = customizeSize || size;\n    var classString = classNames(groupPrefixCls, \"\".concat(groupPrefixCls, \"-\").concat(buttonStyle), (_classNames = {}, _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, getDataOrAriaProps(props), {\n      className: classString,\n      style: style,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      id: id,\n      ref: ref\n    }), childrenToRender);\n  };\n\n  return /*#__PURE__*/React.createElement(RadioGroupContextProvider, {\n    value: {\n      onChange: onRadioChange,\n      value: value,\n      disabled: props.disabled,\n      name: props.name\n    }\n  }, renderGroup());\n});\nexport default /*#__PURE__*/React.memo(RadioGroup);","export default function getDataOrAriaProps(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') && key.substr(0, 7) !== 'data-__') {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\n\nvar RadioButton = function RadioButton(props, ref) {\n  var radioGroupContext = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      radioProps = __rest(props, [\"prefixCls\"]);\n\n  var prefixCls = getPrefixCls('radio-button', customizePrefixCls);\n\n  if (radioGroupContext) {\n    radioProps.checked = props.value === radioGroupContext.value;\n    radioProps.disabled = props.disabled || radioGroupContext.disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Radio, _extends({\n    prefixCls: prefixCls\n  }, radioProps, {\n    type: \"radio\",\n    ref: ref\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(RadioButton);","import InternalRadio from './radio';\nimport Group from './group';\nimport Button from './radioButton';\nvar Radio = InternalRadio;\nRadio.Button = Button;\nRadio.Group = Group;\nexport { Button, Group };\nexport default Radio;","import _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport { useState, useCallback, useMemo } from 'react';\nimport DownOutlined from \"@ant-design/icons/es/icons/DownOutlined\";\nimport { convertDataToEntities } from \"rc-tree/es/utils/treeUtil\";\nimport { conductCheck } from \"rc-tree/es/utils/conductUtil\";\nimport { arrAdd, arrDel } from \"rc-tree/es/util\";\nimport { INTERNAL_COL_DEFINE } from 'rc-table';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Checkbox from '../../checkbox';\nimport Dropdown from '../../dropdown';\nimport Menu from '../../menu';\nimport Radio from '../../radio';\nimport devWarning from '../../_util/devWarning'; // TODO: warning if use ajax!!!\n\nexport var SELECTION_ALL = 'SELECT_ALL';\nexport var SELECTION_INVERT = 'SELECT_INVERT';\nexport var SELECTION_NONE = 'SELECT_NONE';\n\nfunction getFixedType(column) {\n  return column && column.fixed;\n}\n\nfunction flattenData(data, childrenColumnName) {\n  var list = [];\n  (data || []).forEach(function (record) {\n    list.push(record);\n\n    if (record && _typeof(record) === 'object' && childrenColumnName in record) {\n      list = [].concat(_toConsumableArray(list), _toConsumableArray(flattenData(record[childrenColumnName], childrenColumnName)));\n    }\n  });\n  return list;\n}\n\nexport default function useSelection(rowSelection, config) {\n  var _ref = rowSelection || {},\n      preserveSelectedRowKeys = _ref.preserveSelectedRowKeys,\n      selectedRowKeys = _ref.selectedRowKeys,\n      defaultSelectedRowKeys = _ref.defaultSelectedRowKeys,\n      getCheckboxProps = _ref.getCheckboxProps,\n      onSelectionChange = _ref.onChange,\n      onSelect = _ref.onSelect,\n      onSelectAll = _ref.onSelectAll,\n      onSelectInvert = _ref.onSelectInvert,\n      onSelectNone = _ref.onSelectNone,\n      onSelectMultiple = _ref.onSelectMultiple,\n      selectionColWidth = _ref.columnWidth,\n      selectionType = _ref.type,\n      selections = _ref.selections,\n      fixed = _ref.fixed,\n      customizeRenderCell = _ref.renderCell,\n      hideSelectAll = _ref.hideSelectAll,\n      _ref$checkStrictly = _ref.checkStrictly,\n      checkStrictly = _ref$checkStrictly === void 0 ? true : _ref$checkStrictly;\n\n  var prefixCls = config.prefixCls,\n      data = config.data,\n      pageData = config.pageData,\n      getRecordByKey = config.getRecordByKey,\n      getRowKey = config.getRowKey,\n      expandType = config.expandType,\n      childrenColumnName = config.childrenColumnName,\n      tableLocale = config.locale,\n      expandIconColumnIndex = config.expandIconColumnIndex,\n      getPopupContainer = config.getPopupContainer; // ========================= Keys =========================\n\n  var _useMergedState = useMergedState(selectedRowKeys || defaultSelectedRowKeys || [], {\n    value: selectedRowKeys\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedSelectedKeys = _useMergedState2[0],\n      setMergedSelectedKeys = _useMergedState2[1]; // ======================== Caches ========================\n\n\n  var preserveRecordsRef = React.useRef(new Map());\n  var updatePreserveRecordsCache = useCallback(function (keys) {\n    if (preserveSelectedRowKeys) {\n      var newCache = new Map(); // Keep key if mark as preserveSelectedRowKeys\n\n      keys.forEach(function (key) {\n        var record = getRecordByKey(key);\n\n        if (!record && preserveRecordsRef.current.has(key)) {\n          record = preserveRecordsRef.current.get(key);\n        }\n\n        newCache.set(key, record);\n      }); // Refresh to new cache\n\n      preserveRecordsRef.current = newCache;\n    }\n  }, [getRecordByKey, preserveSelectedRowKeys]); // Update cache with selectedKeys\n\n  React.useEffect(function () {\n    updatePreserveRecordsCache(mergedSelectedKeys);\n  }, [mergedSelectedKeys]);\n\n  var _useMemo = useMemo(function () {\n    return checkStrictly ? {\n      keyEntities: null\n    } : convertDataToEntities(data, {\n      externalGetKey: getRowKey,\n      childrenPropName: childrenColumnName\n    });\n  }, [data, getRowKey, checkStrictly, childrenColumnName]),\n      keyEntities = _useMemo.keyEntities; // Get flatten data\n\n\n  var flattedData = useMemo(function () {\n    return flattenData(pageData, childrenColumnName);\n  }, [pageData, childrenColumnName]); // Get all checkbox props\n\n  var checkboxPropsMap = useMemo(function () {\n    var map = new Map();\n    flattedData.forEach(function (record, index) {\n      var key = getRowKey(record, index);\n      var checkboxProps = (getCheckboxProps ? getCheckboxProps(record) : null) || {};\n      map.set(key, checkboxProps);\n\n      if (process.env.NODE_ENV !== 'production' && ('checked' in checkboxProps || 'defaultChecked' in checkboxProps)) {\n        devWarning(false, 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n    });\n    return map;\n  }, [flattedData, getRowKey, getCheckboxProps]);\n  var isCheckboxDisabled = useCallback(function (r) {\n    var _a;\n\n    return !!((_a = checkboxPropsMap.get(getRowKey(r))) === null || _a === void 0 ? void 0 : _a.disabled);\n  }, [checkboxPropsMap, getRowKey]);\n\n  var _useMemo2 = useMemo(function () {\n    if (checkStrictly) {\n      return [mergedSelectedKeys || [], []];\n    }\n\n    var _conductCheck = conductCheck(mergedSelectedKeys, true, keyEntities, isCheckboxDisabled),\n        checkedKeys = _conductCheck.checkedKeys,\n        halfCheckedKeys = _conductCheck.halfCheckedKeys;\n\n    return [checkedKeys || [], halfCheckedKeys];\n  }, [mergedSelectedKeys, checkStrictly, keyEntities, isCheckboxDisabled]),\n      _useMemo3 = _slicedToArray(_useMemo2, 2),\n      derivedSelectedKeys = _useMemo3[0],\n      derivedHalfSelectedKeys = _useMemo3[1];\n\n  var derivedSelectedKeySet = useMemo(function () {\n    var keys = selectionType === 'radio' ? derivedSelectedKeys.slice(0, 1) : derivedSelectedKeys;\n    return new Set(keys);\n  }, [derivedSelectedKeys, selectionType]);\n  var derivedHalfSelectedKeySet = useMemo(function () {\n    return selectionType === 'radio' ? new Set() : new Set(derivedHalfSelectedKeys);\n  }, [derivedHalfSelectedKeys, selectionType]); // Save last selected key to enable range selection\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      lastSelectedKey = _useState2[0],\n      setLastSelectedKey = _useState2[1]; // Reset if rowSelection reset\n\n\n  React.useEffect(function () {\n    if (!rowSelection) {\n      setMergedSelectedKeys([]);\n    }\n  }, [!!rowSelection]);\n  var setSelectedKeys = useCallback(function (keys) {\n    var availableKeys;\n    var records;\n    updatePreserveRecordsCache(keys);\n\n    if (preserveSelectedRowKeys) {\n      availableKeys = keys;\n      records = keys.map(function (key) {\n        return preserveRecordsRef.current.get(key);\n      });\n    } else {\n      // Filter key which not exist in the `dataSource`\n      availableKeys = [];\n      records = [];\n      keys.forEach(function (key) {\n        var record = getRecordByKey(key);\n\n        if (record !== undefined) {\n          availableKeys.push(key);\n          records.push(record);\n        }\n      });\n    }\n\n    setMergedSelectedKeys(availableKeys);\n    onSelectionChange === null || onSelectionChange === void 0 ? void 0 : onSelectionChange(availableKeys, records);\n  }, [setMergedSelectedKeys, getRecordByKey, onSelectionChange, preserveSelectedRowKeys]); // ====================== Selections ======================\n  // Trigger single `onSelect` event\n\n  var triggerSingleSelection = useCallback(function (key, selected, keys, event) {\n    if (onSelect) {\n      var rows = keys.map(function (k) {\n        return getRecordByKey(k);\n      });\n      onSelect(getRecordByKey(key), selected, rows, event);\n    }\n\n    setSelectedKeys(keys);\n  }, [onSelect, getRecordByKey, setSelectedKeys]);\n  var mergedSelections = useMemo(function () {\n    if (!selections || hideSelectAll) {\n      return null;\n    }\n\n    var selectionList = selections === true ? [SELECTION_ALL, SELECTION_INVERT, SELECTION_NONE] : selections;\n    return selectionList.map(function (selection) {\n      if (selection === SELECTION_ALL) {\n        return {\n          key: 'all',\n          text: tableLocale.selectionAll,\n          onSelect: function onSelect() {\n            setSelectedKeys(data.map(function (record, index) {\n              return getRowKey(record, index);\n            }));\n          }\n        };\n      }\n\n      if (selection === SELECTION_INVERT) {\n        return {\n          key: 'invert',\n          text: tableLocale.selectInvert,\n          onSelect: function onSelect() {\n            var keySet = new Set(derivedSelectedKeySet);\n            pageData.forEach(function (record, index) {\n              var key = getRowKey(record, index);\n\n              if (keySet.has(key)) {\n                keySet[\"delete\"](key);\n              } else {\n                keySet.add(key);\n              }\n            });\n            var keys = Array.from(keySet);\n\n            if (onSelectInvert) {\n              devWarning(false, 'Table', '`onSelectInvert` will be removed in future. Please use `onChange` instead.');\n              onSelectInvert(keys);\n            }\n\n            setSelectedKeys(keys);\n          }\n        };\n      }\n\n      if (selection === SELECTION_NONE) {\n        return {\n          key: 'none',\n          text: tableLocale.selectNone,\n          onSelect: function onSelect() {\n            onSelectNone === null || onSelectNone === void 0 ? void 0 : onSelectNone();\n            setSelectedKeys([]);\n          }\n        };\n      }\n\n      return selection;\n    });\n  }, [selections, derivedSelectedKeySet, pageData, getRowKey, onSelectInvert, setSelectedKeys]); // ======================= Columns ========================\n\n  var transformColumns = useCallback(function (columns) {\n    if (!rowSelection) {\n      return columns;\n    } // Support selection\n\n\n    var keySet = new Set(derivedSelectedKeySet); // Record key only need check with enabled\n\n    var recordKeys = flattedData.map(getRowKey).filter(function (key) {\n      return !checkboxPropsMap.get(key).disabled;\n    });\n    var checkedCurrentAll = recordKeys.every(function (key) {\n      return keySet.has(key);\n    });\n    var checkedCurrentSome = recordKeys.some(function (key) {\n      return keySet.has(key);\n    });\n\n    var onSelectAllChange = function onSelectAllChange() {\n      var changeKeys = [];\n\n      if (checkedCurrentAll) {\n        recordKeys.forEach(function (key) {\n          keySet[\"delete\"](key);\n          changeKeys.push(key);\n        });\n      } else {\n        recordKeys.forEach(function (key) {\n          if (!keySet.has(key)) {\n            keySet.add(key);\n            changeKeys.push(key);\n          }\n        });\n      }\n\n      var keys = Array.from(keySet);\n      onSelectAll === null || onSelectAll === void 0 ? void 0 : onSelectAll(!checkedCurrentAll, keys.map(function (k) {\n        return getRecordByKey(k);\n      }), changeKeys.map(function (k) {\n        return getRecordByKey(k);\n      }));\n      setSelectedKeys(keys);\n    }; // ===================== Render =====================\n    // Title Cell\n\n\n    var title;\n\n    if (selectionType !== 'radio') {\n      var customizeSelections;\n\n      if (mergedSelections) {\n        var menu = /*#__PURE__*/React.createElement(Menu, {\n          getPopupContainer: getPopupContainer\n        }, mergedSelections.map(function (selection, index) {\n          var key = selection.key,\n              text = selection.text,\n              onSelectionClick = selection.onSelect;\n          return /*#__PURE__*/React.createElement(Menu.Item, {\n            key: key || index,\n            onClick: function onClick() {\n              onSelectionClick === null || onSelectionClick === void 0 ? void 0 : onSelectionClick(recordKeys);\n            }\n          }, text);\n        }));\n        customizeSelections = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-selection-extra\")\n        }, /*#__PURE__*/React.createElement(Dropdown, {\n          overlay: menu,\n          getPopupContainer: getPopupContainer\n        }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(DownOutlined, null))));\n      }\n\n      var allDisabledData = flattedData.map(function (record, index) {\n        var key = getRowKey(record, index);\n        var checkboxProps = checkboxPropsMap.get(key) || {};\n        return _extends({\n          checked: keySet.has(key)\n        }, checkboxProps);\n      }).filter(function (_ref2) {\n        var disabled = _ref2.disabled;\n        return disabled;\n      });\n      var allDisabled = !!allDisabledData.length && allDisabledData.length === flattedData.length;\n      var allDisabledAndChecked = allDisabled && allDisabledData.every(function (_ref3) {\n        var checked = _ref3.checked;\n        return checked;\n      });\n      var allDisabledSomeChecked = allDisabled && allDisabledData.some(function (_ref4) {\n        var checked = _ref4.checked;\n        return checked;\n      });\n      title = !hideSelectAll && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-selection\")\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        checked: !allDisabled ? !!flattedData.length && checkedCurrentAll : allDisabledAndChecked,\n        indeterminate: !allDisabled ? !checkedCurrentAll && checkedCurrentSome : !allDisabledAndChecked && allDisabledSomeChecked,\n        onChange: onSelectAllChange,\n        disabled: flattedData.length === 0 || allDisabled,\n        skipGroup: true\n      }), customizeSelections);\n    } // Body Cell\n\n\n    var renderCell;\n\n    if (selectionType === 'radio') {\n      renderCell = function renderCell(_, record, index) {\n        var key = getRowKey(record, index);\n        var checked = keySet.has(key);\n        return {\n          node: /*#__PURE__*/React.createElement(Radio, _extends({}, checkboxPropsMap.get(key), {\n            checked: checked,\n            onClick: function onClick(e) {\n              return e.stopPropagation();\n            },\n            onChange: function onChange(event) {\n              if (!keySet.has(key)) {\n                triggerSingleSelection(key, true, [key], event.nativeEvent);\n              }\n            }\n          })),\n          checked: checked\n        };\n      };\n    } else {\n      renderCell = function renderCell(_, record, index) {\n        var _a;\n\n        var key = getRowKey(record, index);\n        var checked = keySet.has(key);\n        var indeterminate = derivedHalfSelectedKeySet.has(key);\n        var checkboxProps = checkboxPropsMap.get(key);\n        var mergedIndeterminate;\n\n        if (expandType === 'nest') {\n          mergedIndeterminate = indeterminate;\n          devWarning(typeof (checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.indeterminate) !== 'boolean', 'Table', 'set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.');\n        } else {\n          mergedIndeterminate = (_a = checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.indeterminate) !== null && _a !== void 0 ? _a : indeterminate;\n        } // Record checked\n\n\n        return {\n          node: /*#__PURE__*/React.createElement(Checkbox, _extends({}, checkboxProps, {\n            indeterminate: mergedIndeterminate,\n            checked: checked,\n            skipGroup: true,\n            onClick: function onClick(e) {\n              return e.stopPropagation();\n            },\n            onChange: function onChange(_ref5) {\n              var nativeEvent = _ref5.nativeEvent;\n              var shiftKey = nativeEvent.shiftKey;\n              var startIndex = -1;\n              var endIndex = -1; // Get range of this\n\n              if (shiftKey && checkStrictly) {\n                var pointKeys = new Set([lastSelectedKey, key]);\n                recordKeys.some(function (recordKey, recordIndex) {\n                  if (pointKeys.has(recordKey)) {\n                    if (startIndex === -1) {\n                      startIndex = recordIndex;\n                    } else {\n                      endIndex = recordIndex;\n                      return true;\n                    }\n                  }\n\n                  return false;\n                });\n              }\n\n              if (endIndex !== -1 && startIndex !== endIndex && checkStrictly) {\n                // Batch update selections\n                var rangeKeys = recordKeys.slice(startIndex, endIndex + 1);\n                var changedKeys = [];\n\n                if (checked) {\n                  rangeKeys.forEach(function (recordKey) {\n                    if (keySet.has(recordKey)) {\n                      changedKeys.push(recordKey);\n                      keySet[\"delete\"](recordKey);\n                    }\n                  });\n                } else {\n                  rangeKeys.forEach(function (recordKey) {\n                    if (!keySet.has(recordKey)) {\n                      changedKeys.push(recordKey);\n                      keySet.add(recordKey);\n                    }\n                  });\n                }\n\n                var keys = Array.from(keySet);\n                onSelectMultiple === null || onSelectMultiple === void 0 ? void 0 : onSelectMultiple(!checked, keys.map(function (recordKey) {\n                  return getRecordByKey(recordKey);\n                }), changedKeys.map(function (recordKey) {\n                  return getRecordByKey(recordKey);\n                }));\n                setSelectedKeys(keys);\n              } else {\n                // Single record selected\n                var originCheckedKeys = derivedSelectedKeys;\n\n                if (checkStrictly) {\n                  var checkedKeys = checked ? arrDel(originCheckedKeys, key) : arrAdd(originCheckedKeys, key);\n                  triggerSingleSelection(key, !checked, checkedKeys, nativeEvent);\n                } else {\n                  // Always fill first\n                  var result = conductCheck([].concat(_toConsumableArray(originCheckedKeys), [key]), true, keyEntities, isCheckboxDisabled);\n                  var _checkedKeys = result.checkedKeys,\n                      halfCheckedKeys = result.halfCheckedKeys;\n                  var nextCheckedKeys = _checkedKeys; // If remove, we do it again to correction\n\n                  if (checked) {\n                    var tempKeySet = new Set(_checkedKeys);\n                    tempKeySet[\"delete\"](key);\n                    nextCheckedKeys = conductCheck(Array.from(tempKeySet), {\n                      checked: false,\n                      halfCheckedKeys: halfCheckedKeys\n                    }, keyEntities, isCheckboxDisabled).checkedKeys;\n                  }\n\n                  triggerSingleSelection(key, !checked, nextCheckedKeys, nativeEvent);\n                }\n              }\n\n              setLastSelectedKey(key);\n            }\n          })),\n          checked: checked\n        };\n      };\n    }\n\n    var renderSelectionCell = function renderSelectionCell(_, record, index) {\n      var _renderCell = renderCell(_, record, index),\n          node = _renderCell.node,\n          checked = _renderCell.checked;\n\n      if (customizeRenderCell) {\n        return customizeRenderCell(checked, record, index, node);\n      }\n\n      return node;\n    }; // Columns\n\n\n    var selectionColumn = _defineProperty({\n      width: selectionColWidth,\n      className: \"\".concat(prefixCls, \"-selection-column\"),\n      title: rowSelection.columnTitle || title,\n      render: renderSelectionCell\n    }, INTERNAL_COL_DEFINE, {\n      className: \"\".concat(prefixCls, \"-selection-col\")\n    });\n\n    if (expandType === 'row' && columns.length && !expandIconColumnIndex) {\n      var _columns = _toArray(columns),\n          expandColumn = _columns[0],\n          restColumns = _columns.slice(1);\n\n      var selectionFixed = fixed || getFixedType(restColumns[0]);\n\n      if (selectionFixed) {\n        expandColumn.fixed = selectionFixed;\n      }\n\n      return [expandColumn, _extends(_extends({}, selectionColumn), {\n        fixed: selectionFixed\n      })].concat(_toConsumableArray(restColumns));\n    }\n\n    return [_extends(_extends({}, selectionColumn), {\n      fixed: fixed || getFixedType(columns[0])\n    })].concat(_toConsumableArray(columns));\n  }, [getRowKey, flattedData, rowSelection, derivedSelectedKeys, derivedSelectedKeySet, derivedHalfSelectedKeySet, selectionColWidth, mergedSelections, expandType, lastSelectedKey, checkboxPropsMap, onSelectMultiple, triggerSingleSelection, isCheckboxDisabled]);\n  return [transformColumns, derivedSelectedKeySet];\n}","// This icon file is generated automatically.\nvar CaretDownOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z\" } }] }, \"name\": \"caret-down\", \"theme\": \"outlined\" };\nexport default CaretDownOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CaretDownOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretDownOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CaretDownOutlined = function CaretDownOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CaretDownOutlinedSvg\n  }));\n};\n\nCaretDownOutlined.displayName = 'CaretDownOutlined';\nexport default /*#__PURE__*/React.forwardRef(CaretDownOutlined);","// This icon file is generated automatically.\nvar CaretUpOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z\" } }] }, \"name\": \"caret-up\", \"theme\": \"outlined\" };\nexport default CaretUpOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CaretUpOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretUpOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CaretUpOutlined = function CaretUpOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CaretUpOutlinedSvg\n  }));\n};\n\nCaretUpOutlined.displayName = 'CaretUpOutlined';\nexport default /*#__PURE__*/React.forwardRef(CaretUpOutlined);","export function getColumnKey(column, defaultKey) {\n  if ('key' in column && column.key !== undefined && column.key !== null) {\n    return column.key;\n  }\n\n  if (column.dataIndex) {\n    return Array.isArray(column.dataIndex) ? column.dataIndex.join('.') : column.dataIndex;\n  }\n\n  return defaultKey;\n}\nexport function getColumnPos(index, pos) {\n  return pos ? \"\".concat(pos, \"-\").concat(index) : \"\".concat(index);\n}\nexport function renderColumnTitle(title, props) {\n  if (typeof title === 'function') {\n    return title(props);\n  }\n\n  return title;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CaretDownOutlined from \"@ant-design/icons/es/icons/CaretDownOutlined\";\nimport CaretUpOutlined from \"@ant-design/icons/es/icons/CaretUpOutlined\";\nimport Tooltip from '../../tooltip';\nimport { getColumnKey, getColumnPos, renderColumnTitle } from '../util';\nvar ASCEND = 'ascend';\nvar DESCEND = 'descend';\n\nfunction getMultiplePriority(column) {\n  if (_typeof(column.sorter) === 'object' && typeof column.sorter.multiple === 'number') {\n    return column.sorter.multiple;\n  }\n\n  return false;\n}\n\nfunction getSortFunction(sorter) {\n  if (typeof sorter === 'function') {\n    return sorter;\n  }\n\n  if (sorter && _typeof(sorter) === 'object' && sorter.compare) {\n    return sorter.compare;\n  }\n\n  return false;\n}\n\nfunction nextSortDirection(sortDirections, current) {\n  if (!current) {\n    return sortDirections[0];\n  }\n\n  return sortDirections[sortDirections.indexOf(current) + 1];\n}\n\nfunction collectSortStates(columns, init, pos) {\n  var sortStates = [];\n\n  function pushState(column, columnPos) {\n    sortStates.push({\n      column: column,\n      key: getColumnKey(column, columnPos),\n      multiplePriority: getMultiplePriority(column),\n      sortOrder: column.sortOrder\n    });\n  }\n\n  (columns || []).forEach(function (column, index) {\n    var columnPos = getColumnPos(index, pos);\n\n    if (column.children) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      }\n\n      sortStates = [].concat(_toConsumableArray(sortStates), _toConsumableArray(collectSortStates(column.children, init, columnPos)));\n    } else if (column.sorter) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      } else if (init && column.defaultSortOrder) {\n        // Default sorter\n        sortStates.push({\n          column: column,\n          key: getColumnKey(column, columnPos),\n          multiplePriority: getMultiplePriority(column),\n          sortOrder: column.defaultSortOrder\n        });\n      }\n    }\n  });\n  return sortStates;\n}\n\nfunction injectSorter(prefixCls, columns, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, pos) {\n  return (columns || []).map(function (column, index) {\n    var columnPos = getColumnPos(index, pos);\n    var newColumn = column;\n\n    if (newColumn.sorter) {\n      var sortDirections = newColumn.sortDirections || defaultSortDirections;\n      var showSorterTooltip = newColumn.showSorterTooltip === undefined ? tableShowSorterTooltip : newColumn.showSorterTooltip;\n      var columnKey = getColumnKey(newColumn, columnPos);\n      var sorterState = sorterSates.find(function (_ref) {\n        var key = _ref.key;\n        return key === columnKey;\n      });\n      var sorterOrder = sorterState ? sorterState.sortOrder : null;\n      var nextSortOrder = nextSortDirection(sortDirections, sorterOrder);\n      var upNode = sortDirections.includes(ASCEND) && /*#__PURE__*/React.createElement(CaretUpOutlined, {\n        className: classNames(\"\".concat(prefixCls, \"-column-sorter-up\"), {\n          active: sorterOrder === ASCEND\n        })\n      });\n      var downNode = sortDirections.includes(DESCEND) && /*#__PURE__*/React.createElement(CaretDownOutlined, {\n        className: classNames(\"\".concat(prefixCls, \"-column-sorter-down\"), {\n          active: sorterOrder === DESCEND\n        })\n      });\n\n      var _ref2 = tableLocale || {},\n          cancelSort = _ref2.cancelSort,\n          triggerAsc = _ref2.triggerAsc,\n          triggerDesc = _ref2.triggerDesc;\n\n      var sortTip = cancelSort;\n\n      if (nextSortOrder === DESCEND) {\n        sortTip = triggerDesc;\n      } else if (nextSortOrder === ASCEND) {\n        sortTip = triggerAsc;\n      }\n\n      var tooltipProps = _typeof(showSorterTooltip) === 'object' ? showSorterTooltip : {\n        title: sortTip\n      };\n      newColumn = _extends(_extends({}, newColumn), {\n        className: classNames(newColumn.className, _defineProperty({}, \"\".concat(prefixCls, \"-column-sort\"), sorterOrder)),\n        title: function title(renderProps) {\n          var renderSortTitle = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-column-sorters\")\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-title\")\n          }, renderColumnTitle(column.title, renderProps)), /*#__PURE__*/React.createElement(\"span\", {\n            className: classNames(\"\".concat(prefixCls, \"-column-sorter\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-sorter-full\"), !!(upNode && downNode)))\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter-inner\")\n          }, upNode, downNode)));\n          return showSorterTooltip ? /*#__PURE__*/React.createElement(Tooltip, tooltipProps, renderSortTitle) : renderSortTitle;\n        },\n        onHeaderCell: function onHeaderCell(col) {\n          var cell = column.onHeaderCell && column.onHeaderCell(col) || {};\n          var originOnClick = cell.onClick;\n\n          cell.onClick = function (event) {\n            triggerSorter({\n              column: column,\n              key: columnKey,\n              sortOrder: nextSortOrder,\n              multiplePriority: getMultiplePriority(column)\n            });\n\n            if (originOnClick) {\n              originOnClick(event);\n            }\n          };\n\n          cell.className = classNames(cell.className, \"\".concat(prefixCls, \"-column-has-sorters\"));\n          return cell;\n        }\n      });\n    }\n\n    if ('children' in newColumn) {\n      newColumn = _extends(_extends({}, newColumn), {\n        children: injectSorter(prefixCls, newColumn.children, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, columnPos)\n      });\n    }\n\n    return newColumn;\n  });\n}\n\nfunction stateToInfo(sorterStates) {\n  var column = sorterStates.column,\n      sortOrder = sorterStates.sortOrder;\n  return {\n    column: column,\n    order: sortOrder,\n    field: column.dataIndex,\n    columnKey: column.key\n  };\n}\n\nfunction generateSorterInfo(sorterStates) {\n  var list = sorterStates.filter(function (_ref3) {\n    var sortOrder = _ref3.sortOrder;\n    return sortOrder;\n  }).map(stateToInfo); // =========== Legacy compatible support ===========\n  // https://github.com/ant-design/ant-design/pull/19226\n\n  if (list.length === 0 && sorterStates.length) {\n    return _extends(_extends({}, stateToInfo(sorterStates[sorterStates.length - 1])), {\n      column: undefined\n    });\n  }\n\n  if (list.length <= 1) {\n    return list[0] || {};\n  }\n\n  return list;\n}\n\nexport function getSortData(data, sortStates, childrenColumnName) {\n  var innerSorterStates = sortStates.slice().sort(function (a, b) {\n    return b.multiplePriority - a.multiplePriority;\n  });\n  var cloneData = data.slice();\n  var runningSorters = innerSorterStates.filter(function (_ref4) {\n    var sorter = _ref4.column.sorter,\n        sortOrder = _ref4.sortOrder;\n    return getSortFunction(sorter) && sortOrder;\n  }); // Skip if no sorter needed\n\n  if (!runningSorters.length) {\n    return cloneData;\n  }\n\n  return cloneData.sort(function (record1, record2) {\n    for (var i = 0; i < runningSorters.length; i += 1) {\n      var sorterState = runningSorters[i];\n      var sorter = sorterState.column.sorter,\n          sortOrder = sorterState.sortOrder;\n      var compareFn = getSortFunction(sorter);\n\n      if (compareFn && sortOrder) {\n        var compareResult = compareFn(record1, record2, sortOrder);\n\n        if (compareResult !== 0) {\n          return sortOrder === ASCEND ? compareResult : -compareResult;\n        }\n      }\n    }\n\n    return 0;\n  }).map(function (record) {\n    var subRecords = record[childrenColumnName];\n\n    if (subRecords) {\n      return _extends(_extends({}, record), _defineProperty({}, childrenColumnName, getSortData(subRecords, sortStates, childrenColumnName)));\n    }\n\n    return record;\n  });\n}\nexport default function useFilterSorter(_ref5) {\n  var prefixCls = _ref5.prefixCls,\n      mergedColumns = _ref5.mergedColumns,\n      onSorterChange = _ref5.onSorterChange,\n      sortDirections = _ref5.sortDirections,\n      tableLocale = _ref5.tableLocale,\n      showSorterTooltip = _ref5.showSorterTooltip;\n\n  var _React$useState = React.useState(collectSortStates(mergedColumns, true)),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sortStates = _React$useState2[0],\n      setSortStates = _React$useState2[1];\n\n  var mergedSorterStates = React.useMemo(function () {\n    var validate = true;\n    var collectedStates = collectSortStates(mergedColumns, false); // Return if not controlled\n\n    if (!collectedStates.length) {\n      return sortStates;\n    }\n\n    var validateStates = [];\n\n    function patchStates(state) {\n      if (validate) {\n        validateStates.push(state);\n      } else {\n        validateStates.push(_extends(_extends({}, state), {\n          sortOrder: null\n        }));\n      }\n    }\n\n    var multipleMode = null;\n    collectedStates.forEach(function (state) {\n      if (multipleMode === null) {\n        patchStates(state);\n\n        if (state.sortOrder) {\n          if (state.multiplePriority === false) {\n            validate = false;\n          } else {\n            multipleMode = true;\n          }\n        }\n      } else if (multipleMode && state.multiplePriority !== false) {\n        patchStates(state);\n      } else {\n        validate = false;\n        patchStates(state);\n      }\n    });\n    return validateStates;\n  }, [mergedColumns, sortStates]); // Get render columns title required props\n\n  var columnTitleSorterProps = React.useMemo(function () {\n    var sortColumns = mergedSorterStates.map(function (_ref6) {\n      var column = _ref6.column,\n          sortOrder = _ref6.sortOrder;\n      return {\n        column: column,\n        order: sortOrder\n      };\n    });\n    return {\n      sortColumns: sortColumns,\n      // Legacy\n      sortColumn: sortColumns[0] && sortColumns[0].column,\n      sortOrder: sortColumns[0] && sortColumns[0].order\n    };\n  }, [mergedSorterStates]);\n\n  function triggerSorter(sortState) {\n    var newSorterStates;\n\n    if (sortState.multiplePriority === false || !mergedSorterStates.length || mergedSorterStates[0].multiplePriority === false) {\n      newSorterStates = [sortState];\n    } else {\n      newSorterStates = [].concat(_toConsumableArray(mergedSorterStates.filter(function (_ref7) {\n        var key = _ref7.key;\n        return key !== sortState.key;\n      })), [sortState]);\n    }\n\n    setSortStates(newSorterStates);\n    onSorterChange(generateSorterInfo(newSorterStates), newSorterStates);\n  }\n\n  var transformColumns = function transformColumns(innerColumns) {\n    return injectSorter(prefixCls, innerColumns, mergedSorterStates, triggerSorter, sortDirections, tableLocale, showSorterTooltip);\n  };\n\n  var getSorters = function getSorters() {\n    return generateSorterInfo(mergedSorterStates);\n  };\n\n  return [transformColumns, mergedSorterStates, columnTitleSorterProps, getSorters];\n}","// This icon file is generated automatically.\nvar FilterFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z\" } }] }, \"name\": \"filter\", \"theme\": \"filled\" };\nexport default FilterFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FilterFilledSvg from \"@ant-design/icons-svg/es/asn/FilterFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FilterFilled = function FilterFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: FilterFilledSvg\n  }));\n};\n\nFilterFilled.displayName = 'FilterFilled';\nexport default /*#__PURE__*/React.forwardRef(FilterFilled);","import * as React from 'react';\n\nvar FilterDropdownMenuWrapper = function FilterDropdownMenuWrapper(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.className,\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    }\n  }, props.children);\n};\n\nexport default FilterDropdownMenuWrapper;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport FilterFilled from \"@ant-design/icons/es/icons/FilterFilled\";\nimport Button from '../../../button';\nimport Menu from '../../../menu';\nimport Checkbox from '../../../checkbox';\nimport Radio from '../../../radio';\nimport Dropdown from '../../../dropdown';\nimport Empty from '../../../empty';\nimport FilterDropdownMenuWrapper from './FilterWrapper';\nimport useSyncState from '../../../_util/hooks/useSyncState';\nimport { ConfigContext } from '../../../config-provider/context';\nvar SubMenu = Menu.SubMenu,\n    MenuItem = Menu.Item;\n\nfunction hasSubMenu(filters) {\n  return filters.some(function (_ref) {\n    var children = _ref.children;\n    return children;\n  });\n}\n\nfunction renderFilterItems(_ref2) {\n  var filters = _ref2.filters,\n      prefixCls = _ref2.prefixCls,\n      filteredKeys = _ref2.filteredKeys,\n      filterMultiple = _ref2.filterMultiple,\n      locale = _ref2.locale;\n\n  if (filters.length === 0) {\n    // wrapped with <div /> to avoid react warning\n    // https://github.com/ant-design/ant-design/issues/25979\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"empty\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '16px 0'\n      }\n    }, /*#__PURE__*/React.createElement(Empty, {\n      image: Empty.PRESENTED_IMAGE_SIMPLE,\n      description: locale.filterEmptyText,\n      imageStyle: {\n        height: 24\n      }\n    })));\n  }\n\n  return filters.map(function (filter, index) {\n    var key = String(filter.value);\n\n    if (filter.children) {\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        key: key || index,\n        title: filter.text,\n        popupClassName: \"\".concat(prefixCls, \"-dropdown-submenu\")\n      }, renderFilterItems({\n        filters: filter.children,\n        prefixCls: prefixCls,\n        filteredKeys: filteredKeys,\n        filterMultiple: filterMultiple,\n        locale: locale\n      }));\n    }\n\n    var Component = filterMultiple ? Checkbox : Radio;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: filter.value !== undefined ? key : index\n    }, /*#__PURE__*/React.createElement(Component, {\n      checked: filteredKeys.includes(key)\n    }), /*#__PURE__*/React.createElement(\"span\", null, filter.text));\n  });\n}\n\nfunction FilterDropdown(props) {\n  var _a;\n\n  var tablePrefixCls = props.tablePrefixCls,\n      prefixCls = props.prefixCls,\n      column = props.column,\n      dropdownPrefixCls = props.dropdownPrefixCls,\n      columnKey = props.columnKey,\n      filterMultiple = props.filterMultiple,\n      filterState = props.filterState,\n      triggerFilter = props.triggerFilter,\n      locale = props.locale,\n      children = props.children,\n      getPopupContainer = props.getPopupContainer;\n  var filterDropdownVisible = column.filterDropdownVisible,\n      onFilterDropdownVisibleChange = column.onFilterDropdownVisibleChange;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var filtered = !!(filterState && (((_a = filterState.filteredKeys) === null || _a === void 0 ? void 0 : _a.length) || filterState.forceFiltered));\n\n  var triggerVisible = function triggerVisible(newVisible) {\n    setVisible(newVisible);\n    onFilterDropdownVisibleChange === null || onFilterDropdownVisibleChange === void 0 ? void 0 : onFilterDropdownVisibleChange(newVisible);\n  };\n\n  var mergedVisible = typeof filterDropdownVisible === 'boolean' ? filterDropdownVisible : visible; // ===================== Select Keys =====================\n\n  var propFilteredKeys = filterState === null || filterState === void 0 ? void 0 : filterState.filteredKeys;\n\n  var _useSyncState = useSyncState(propFilteredKeys || []),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      getFilteredKeysSync = _useSyncState2[0],\n      setFilteredKeysSync = _useSyncState2[1];\n\n  var onSelectKeys = function onSelectKeys(_ref3) {\n    var selectedKeys = _ref3.selectedKeys;\n    setFilteredKeysSync(selectedKeys);\n  };\n\n  React.useEffect(function () {\n    onSelectKeys({\n      selectedKeys: propFilteredKeys || []\n    });\n  }, [propFilteredKeys]); // ====================== Open Keys ======================\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      openKeys = _React$useState4[0],\n      setOpenKeys = _React$useState4[1];\n\n  var openRef = React.useRef();\n\n  var onOpenChange = function onOpenChange(keys) {\n    openRef.current = window.setTimeout(function () {\n      setOpenKeys(keys);\n    });\n  };\n\n  var onMenuClick = function onMenuClick() {\n    window.clearTimeout(openRef.current);\n  };\n\n  React.useEffect(function () {\n    return function () {\n      window.clearTimeout(openRef.current);\n    };\n  }, []); // ======================= Submit ========================\n\n  var internalTriggerFilter = function internalTriggerFilter(keys) {\n    var mergedKeys = keys && keys.length ? keys : null;\n\n    if (mergedKeys === null && (!filterState || !filterState.filteredKeys)) {\n      return null;\n    }\n\n    if (isEqual(mergedKeys, filterState === null || filterState === void 0 ? void 0 : filterState.filteredKeys)) {\n      return null;\n    }\n\n    triggerFilter({\n      column: column,\n      key: columnKey,\n      filteredKeys: mergedKeys\n    });\n  };\n\n  var onConfirm = function onConfirm() {\n    triggerVisible(false);\n    internalTriggerFilter(getFilteredKeysSync());\n  };\n\n  var onReset = function onReset() {\n    setFilteredKeysSync([]);\n    triggerVisible(false);\n    internalTriggerFilter([]);\n  };\n\n  var doFilter = function doFilter() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      closeDropdown: true\n    },\n        closeDropdown = _ref4.closeDropdown;\n\n    if (closeDropdown) {\n      triggerVisible(false);\n    }\n\n    internalTriggerFilter(getFilteredKeysSync());\n  };\n\n  var onVisibleChange = function onVisibleChange(newVisible) {\n    if (newVisible && propFilteredKeys !== undefined) {\n      // Sync filteredKeys on appear in controlled mode (propFilteredKeys !== undefiend)\n      setFilteredKeysSync(propFilteredKeys || []);\n    }\n\n    triggerVisible(newVisible); // Default will filter when closed\n\n    if (!newVisible && !column.filterDropdown) {\n      onConfirm();\n    }\n  }; // ======================== Style ========================\n\n\n  var dropdownMenuClass = classNames(_defineProperty({}, \"\".concat(dropdownPrefixCls, \"-menu-without-submenu\"), !hasSubMenu(column.filters || [])));\n  var dropdownContent;\n\n  if (typeof column.filterDropdown === 'function') {\n    dropdownContent = column.filterDropdown({\n      prefixCls: \"\".concat(dropdownPrefixCls, \"-custom\"),\n      setSelectedKeys: function setSelectedKeys(selectedKeys) {\n        return onSelectKeys({\n          selectedKeys: selectedKeys\n        });\n      },\n      selectedKeys: getFilteredKeysSync(),\n      confirm: doFilter,\n      clearFilters: onReset,\n      filters: column.filters,\n      visible: mergedVisible\n    });\n  } else if (column.filterDropdown) {\n    dropdownContent = column.filterDropdown;\n  } else {\n    var selectedKeys = getFilteredKeysSync() || [];\n    dropdownContent = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n      multiple: filterMultiple,\n      prefixCls: \"\".concat(dropdownPrefixCls, \"-menu\"),\n      className: dropdownMenuClass,\n      onClick: onMenuClick,\n      onSelect: onSelectKeys,\n      onDeselect: onSelectKeys,\n      selectedKeys: selectedKeys,\n      getPopupContainer: getPopupContainer,\n      openKeys: openKeys,\n      onOpenChange: onOpenChange\n    }, renderFilterItems({\n      filters: column.filters || [],\n      prefixCls: prefixCls,\n      filteredKeys: getFilteredKeysSync(),\n      filterMultiple: filterMultiple,\n      locale: locale\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-dropdown-btns\")\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"link\",\n      size: \"small\",\n      disabled: selectedKeys.length === 0,\n      onClick: onReset\n    }, locale.filterReset), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      size: \"small\",\n      onClick: onConfirm\n    }, locale.filterConfirm)));\n  }\n\n  var menu = /*#__PURE__*/React.createElement(FilterDropdownMenuWrapper, {\n    className: \"\".concat(prefixCls, \"-dropdown\")\n  }, dropdownContent);\n  var filterIcon;\n\n  if (typeof column.filterIcon === 'function') {\n    filterIcon = column.filterIcon(filtered);\n  } else if (column.filterIcon) {\n    filterIcon = column.filterIcon;\n  } else {\n    filterIcon = /*#__PURE__*/React.createElement(FilterFilled, null);\n  }\n\n  var _React$useContext = React.useContext(ConfigContext),\n      direction = _React$useContext.direction;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-column\")\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(tablePrefixCls, \"-column-title\")\n  }, children), /*#__PURE__*/React.createElement(Dropdown, {\n    overlay: menu,\n    trigger: ['click'],\n    visible: mergedVisible,\n    onVisibleChange: onVisibleChange,\n    getPopupContainer: getPopupContainer,\n    placement: direction === 'rtl' ? 'bottomLeft' : 'bottomRight'\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"button\",\n    tabIndex: -1,\n    className: classNames(\"\".concat(prefixCls, \"-trigger\"), {\n      active: filtered\n    }),\n    onClick: function onClick(e) {\n      e.stopPropagation();\n    }\n  }, filterIcon)));\n}\n\nexport default FilterDropdown;","import * as React from 'react';\nimport useForceUpdate from './useForceUpdate';\nexport default function useSyncState(initialValue) {\n  var ref = React.useRef(initialValue);\n  var forceUpdate = useForceUpdate();\n  return [function () {\n    return ref.current;\n  }, function (newValue) {\n    ref.current = newValue; // re-render\n\n    forceUpdate();\n  }];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport devWarning from '../../../_util/devWarning';\nimport { getColumnPos, renderColumnTitle, getColumnKey } from '../../util';\nimport FilterDropdown from './FilterDropdown';\n\nfunction collectFilterStates(columns, init, pos) {\n  var filterStates = [];\n  (columns || []).forEach(function (column, index) {\n    var _a;\n\n    var columnPos = getColumnPos(index, pos);\n\n    if (column.filters || 'filterDropdown' in column || 'onFilter' in column) {\n      if ('filteredValue' in column) {\n        // Controlled\n        var filteredValues = column.filteredValue;\n\n        if (!('filterDropdown' in column)) {\n          filteredValues = (_a = filteredValues === null || filteredValues === void 0 ? void 0 : filteredValues.map(String)) !== null && _a !== void 0 ? _a : filteredValues;\n        }\n\n        filterStates.push({\n          column: column,\n          key: getColumnKey(column, columnPos),\n          filteredKeys: filteredValues,\n          forceFiltered: column.filtered\n        });\n      } else {\n        // Uncontrolled\n        filterStates.push({\n          column: column,\n          key: getColumnKey(column, columnPos),\n          filteredKeys: init && column.defaultFilteredValue ? column.defaultFilteredValue : undefined,\n          forceFiltered: column.filtered\n        });\n      }\n    }\n\n    if ('children' in column) {\n      filterStates = [].concat(_toConsumableArray(filterStates), _toConsumableArray(collectFilterStates(column.children, init, columnPos)));\n    }\n  });\n  return filterStates;\n}\n\nfunction injectFilter(prefixCls, dropdownPrefixCls, columns, filterStates, triggerFilter, getPopupContainer, locale, pos) {\n  return columns.map(function (column, index) {\n    var columnPos = getColumnPos(index, pos);\n    var _column$filterMultipl = column.filterMultiple,\n        filterMultiple = _column$filterMultipl === void 0 ? true : _column$filterMultipl;\n    var newColumn = column;\n\n    if (newColumn.filters || newColumn.filterDropdown) {\n      var columnKey = getColumnKey(newColumn, columnPos);\n      var filterState = filterStates.find(function (_ref) {\n        var key = _ref.key;\n        return columnKey === key;\n      });\n      newColumn = _extends(_extends({}, newColumn), {\n        title: function title(renderProps) {\n          return /*#__PURE__*/React.createElement(FilterDropdown, {\n            tablePrefixCls: prefixCls,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls,\n            column: newColumn,\n            columnKey: columnKey,\n            filterState: filterState,\n            filterMultiple: filterMultiple,\n            triggerFilter: triggerFilter,\n            locale: locale,\n            getPopupContainer: getPopupContainer\n          }, renderColumnTitle(column.title, renderProps));\n        }\n      });\n    }\n\n    if ('children' in newColumn) {\n      newColumn = _extends(_extends({}, newColumn), {\n        children: injectFilter(prefixCls, dropdownPrefixCls, newColumn.children, filterStates, triggerFilter, getPopupContainer, locale, columnPos)\n      });\n    }\n\n    return newColumn;\n  });\n}\n\nfunction flattenKeys(filters) {\n  var keys = [];\n  (filters || []).forEach(function (_ref2) {\n    var value = _ref2.value,\n        children = _ref2.children;\n    keys.push(value);\n\n    if (children) {\n      keys = [].concat(_toConsumableArray(keys), _toConsumableArray(flattenKeys(children)));\n    }\n  });\n  return keys;\n}\n\nfunction generateFilterInfo(filterStates) {\n  var currentFilters = {};\n  filterStates.forEach(function (_ref3) {\n    var key = _ref3.key,\n        filteredKeys = _ref3.filteredKeys,\n        column = _ref3.column;\n    var filters = column.filters,\n        filterDropdown = column.filterDropdown;\n\n    if (filterDropdown) {\n      currentFilters[key] = filteredKeys || null;\n    } else if (Array.isArray(filteredKeys)) {\n      var keys = flattenKeys(filters);\n      currentFilters[key] = keys.filter(function (originKey) {\n        return filteredKeys.includes(String(originKey));\n      });\n    } else {\n      currentFilters[key] = null;\n    }\n  });\n  return currentFilters;\n}\n\nexport function getFilterData(data, filterStates) {\n  return filterStates.reduce(function (currentData, filterState) {\n    var _filterState$column = filterState.column,\n        onFilter = _filterState$column.onFilter,\n        filters = _filterState$column.filters,\n        filteredKeys = filterState.filteredKeys;\n\n    if (onFilter && filteredKeys && filteredKeys.length) {\n      return currentData.filter(function (record) {\n        return filteredKeys.some(function (key) {\n          var keys = flattenKeys(filters);\n          var keyIndex = keys.findIndex(function (k) {\n            return String(k) === String(key);\n          });\n          var realKey = keyIndex !== -1 ? keys[keyIndex] : key;\n          return onFilter(realKey, record);\n        });\n      });\n    }\n\n    return currentData;\n  }, data);\n}\n\nfunction useFilter(_ref4) {\n  var prefixCls = _ref4.prefixCls,\n      dropdownPrefixCls = _ref4.dropdownPrefixCls,\n      mergedColumns = _ref4.mergedColumns,\n      onFilterChange = _ref4.onFilterChange,\n      getPopupContainer = _ref4.getPopupContainer,\n      tableLocale = _ref4.locale;\n\n  var _React$useState = React.useState(collectFilterStates(mergedColumns, true)),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterStates = _React$useState2[0],\n      setFilterStates = _React$useState2[1];\n\n  var mergedFilterStates = React.useMemo(function () {\n    var collectedStates = collectFilterStates(mergedColumns, false);\n    var filteredKeysIsNotControlled = collectedStates.every(function (_ref5) {\n      var filteredKeys = _ref5.filteredKeys;\n      return filteredKeys === undefined;\n    }); // Return if not controlled\n\n    if (filteredKeysIsNotControlled) {\n      return filterStates;\n    }\n\n    var filteredKeysIsAllControlled = collectedStates.every(function (_ref6) {\n      var filteredKeys = _ref6.filteredKeys;\n      return filteredKeys !== undefined;\n    });\n    devWarning(filteredKeysIsNotControlled || filteredKeysIsAllControlled, 'Table', '`FilteredKeys` should all be controlled or not controlled.');\n    return collectedStates;\n  }, [mergedColumns, filterStates]);\n  var getFilters = React.useCallback(function () {\n    return generateFilterInfo(mergedFilterStates);\n  }, [mergedFilterStates]);\n\n  var triggerFilter = function triggerFilter(filterState) {\n    var newFilterStates = mergedFilterStates.filter(function (_ref7) {\n      var key = _ref7.key;\n      return key !== filterState.key;\n    });\n    newFilterStates.push(filterState);\n    setFilterStates(newFilterStates);\n    onFilterChange(generateFilterInfo(newFilterStates), newFilterStates);\n  };\n\n  var transformColumns = function transformColumns(innerColumns) {\n    return injectFilter(prefixCls, dropdownPrefixCls, innerColumns, mergedFilterStates, triggerFilter, getPopupContainer, tableLocale);\n  };\n\n  return [transformColumns, mergedFilterStates, getFilters];\n}\n\nexport default useFilter;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { renderColumnTitle } from '../util';\n\nfunction fillTitle(columns, columnTitleProps) {\n  return columns.map(function (column) {\n    var cloneColumn = _extends({}, column);\n\n    cloneColumn.title = renderColumnTitle(column.title, columnTitleProps);\n\n    if ('children' in cloneColumn) {\n      cloneColumn.children = fillTitle(cloneColumn.children, columnTitleProps);\n    }\n\n    return cloneColumn;\n  });\n}\n\nexport default function useTitleColumns(columnTitleProps) {\n  var filledColumns = React.useCallback(function (columns) {\n    return fillTitle(columns, columnTitleProps);\n  }, [columnTitleProps]);\n  return [filledColumns];\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\n\nfunction renderExpandIcon(locale) {\n  return function expandIcon(_ref) {\n    var _classNames;\n\n    var prefixCls = _ref.prefixCls,\n        onExpand = _ref.onExpand,\n        record = _ref.record,\n        expanded = _ref.expanded,\n        expandable = _ref.expandable;\n    var iconPrefix = \"\".concat(prefixCls, \"-row-expand-icon\");\n    return /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: function onClick(e) {\n        onExpand(record, e);\n        e.stopPropagation();\n      },\n      className: classNames(iconPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(iconPrefix, \"-spaced\"), !expandable), _defineProperty(_classNames, \"\".concat(iconPrefix, \"-expanded\"), expandable && expanded), _defineProperty(_classNames, \"\".concat(iconPrefix, \"-collapsed\"), expandable && !expanded), _classNames)),\n      \"aria-label\": expanded ? locale.collapse : locale.expand\n    });\n  };\n}\n\nexport default renderExpandIcon;","export function isWindow(obj) {\n  return obj !== null && obj !== undefined && obj === obj.window;\n}\nexport default function getScroll(target, top) {\n  var _a;\n\n  if (typeof window === 'undefined') {\n    return 0;\n  }\n\n  var method = top ? 'scrollTop' : 'scrollLeft';\n  var result = 0;\n\n  if (isWindow(target)) {\n    result = target[top ? 'pageYOffset' : 'pageXOffset'];\n  } else if (target instanceof Document) {\n    result = target.documentElement[method];\n  } else if (target) {\n    result = target[method];\n  }\n\n  if (target && !isWindow(target) && typeof result !== 'number') {\n    result = (_a = (target.ownerDocument || target).documentElement) === null || _a === void 0 ? void 0 : _a[method];\n  }\n\n  return result;\n}","// eslint-disable-next-line import/prefer-default-export\nexport function easeInOutCubic(t, b, c, d) {\n  var cc = c - b;\n  t /= d / 2;\n\n  if (t < 1) {\n    return cc / 2 * t * t * t + b;\n  } // eslint-disable-next-line no-return-assign\n\n\n  return cc / 2 * ((t -= 2) * t * t + 2) + b;\n}","import raf from \"rc-util/es/raf\";\nimport getScroll, { isWindow } from './getScroll';\nimport { easeInOutCubic } from './easings';\nexport default function scrollTo(y) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$getContainer = options.getContainer,\n      getContainer = _options$getContainer === void 0 ? function () {\n    return window;\n  } : _options$getContainer,\n      callback = options.callback,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 450 : _options$duration;\n  var container = getContainer();\n  var scrollTop = getScroll(container, true);\n  var startTime = Date.now();\n\n  var frameFunc = function frameFunc() {\n    var timestamp = Date.now();\n    var time = timestamp - startTime;\n    var nextScrollTop = easeInOutCubic(time > duration ? duration : time, scrollTop, y, duration);\n\n    if (isWindow(container)) {\n      container.scrollTo(window.pageXOffset, nextScrollTop);\n    } else if (container instanceof HTMLDocument || container.constructor.name === 'HTMLDocument') {\n      container.documentElement.scrollTop = nextScrollTop;\n    } else {\n      container.scrollTop = nextScrollTop;\n    }\n\n    if (time < duration) {\n      raf(frameFunc);\n    } else if (typeof callback === 'function') {\n      callback();\n    }\n  };\n\n  raf(frameFunc);\n}","import defaultLocale from './default';\nexport default defaultLocale;","/* istanbul ignore next */\n\n/** This is a syntactic sugar for `columns` prop. So HOC will not work on this. */\n// eslint-disable-next-line no-unused-vars\nfunction Column(_) {\n  return null;\n}\n\nexport default Column;","/* istanbul ignore next */\n\n/** This is a syntactic sugar for `columns` prop. So HOC will not work on this. */\n// eslint-disable-next-line no-unused-vars\nfunction ColumnGroup(_) {\n  return null;\n}\n\nexport default ColumnGroup;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport RcTable, { Summary } from 'rc-table';\nimport { INTERNAL_HOOKS } from \"rc-table/es/Table\";\nimport { convertChildrenToColumns } from \"rc-table/es/hooks/useColumns\";\nimport Spin from '../spin';\nimport Pagination from '../pagination';\nimport { ConfigContext } from '../config-provider/context';\nimport usePagination, { DEFAULT_PAGE_SIZE, getPaginationParam } from './hooks/usePagination';\nimport useLazyKVMap from './hooks/useLazyKVMap';\nimport useSelection, { SELECTION_ALL, SELECTION_INVERT, SELECTION_NONE } from './hooks/useSelection';\nimport useSorter, { getSortData } from './hooks/useSorter';\nimport useFilter, { getFilterData } from './hooks/useFilter';\nimport useTitleColumns from './hooks/useTitleColumns';\nimport renderExpandIcon from './ExpandIcon';\nimport scrollTo from '../_util/scrollTo';\nimport defaultLocale from '../locale/en_US';\nimport SizeContext from '../config-provider/SizeContext';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport devWarning from '../_util/devWarning';\nimport useBreakpoint from '../grid/hooks/useBreakpoint';\nvar EMPTY_LIST = [];\n\nfunction Table(props) {\n  var _classNames3;\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      style = props.style,\n      customizeSize = props.size,\n      bordered = props.bordered,\n      customizeDropdownPrefixCls = props.dropdownPrefixCls,\n      dataSource = props.dataSource,\n      pagination = props.pagination,\n      rowSelection = props.rowSelection,\n      rowKey = props.rowKey,\n      rowClassName = props.rowClassName,\n      columns = props.columns,\n      children = props.children,\n      legacyChildrenColumnName = props.childrenColumnName,\n      onChange = props.onChange,\n      getPopupContainer = props.getPopupContainer,\n      loading = props.loading,\n      expandIcon = props.expandIcon,\n      expandable = props.expandable,\n      expandedRowRender = props.expandedRowRender,\n      expandIconColumnIndex = props.expandIconColumnIndex,\n      indentSize = props.indentSize,\n      scroll = props.scroll,\n      sortDirections = props.sortDirections,\n      locale = props.locale,\n      _props$showSorterTool = props.showSorterTooltip,\n      showSorterTooltip = _props$showSorterTool === void 0 ? true : _props$showSorterTool;\n  devWarning(!(typeof rowKey === 'function' && rowKey.length > 1), 'Table', '`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.');\n  var screens = useBreakpoint();\n  var mergedColumns = React.useMemo(function () {\n    var matched = new Set(Object.keys(screens).filter(function (m) {\n      return screens[m];\n    }));\n    return (columns || convertChildrenToColumns(children)).filter(function (c) {\n      return !c.responsive || c.responsive.some(function (r) {\n        return matched.has(r);\n      });\n    });\n  }, [children, columns, screens]);\n  var tableProps = omit(props, ['className', 'style', 'columns']);\n  var size = React.useContext(SizeContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      _React$useContext$loc = _React$useContext.locale,\n      contextLocale = _React$useContext$loc === void 0 ? defaultLocale : _React$useContext$loc,\n      renderEmpty = _React$useContext.renderEmpty,\n      direction = _React$useContext.direction;\n\n  var mergedSize = customizeSize || size;\n\n  var tableLocale = _extends(_extends({}, contextLocale.Table), locale);\n\n  var rawData = dataSource || EMPTY_LIST;\n\n  var _React$useContext2 = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext2.getPrefixCls;\n\n  var prefixCls = getPrefixCls('table', customizePrefixCls);\n  var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n\n  var mergedExpandable = _extends({\n    childrenColumnName: legacyChildrenColumnName,\n    expandIconColumnIndex: expandIconColumnIndex\n  }, expandable);\n\n  var _mergedExpandable$chi = mergedExpandable.childrenColumnName,\n      childrenColumnName = _mergedExpandable$chi === void 0 ? 'children' : _mergedExpandable$chi;\n  var expandType = React.useMemo(function () {\n    if (rawData.some(function (item) {\n      var _a;\n\n      return (_a = item) === null || _a === void 0 ? void 0 : _a[childrenColumnName];\n    })) {\n      return 'nest';\n    }\n\n    if (expandedRowRender || expandable && expandable.expandedRowRender) {\n      return 'row';\n    }\n\n    return null;\n  }, [rawData]);\n  var internalRefs = {\n    body: React.useRef()\n  }; // ============================ RowKey ============================\n\n  var getRowKey = React.useMemo(function () {\n    if (typeof rowKey === 'function') {\n      return rowKey;\n    }\n\n    return function (record) {\n      var _a;\n\n      return (_a = record) === null || _a === void 0 ? void 0 : _a[rowKey];\n    };\n  }, [rowKey]);\n\n  var _useLazyKVMap = useLazyKVMap(rawData, childrenColumnName, getRowKey),\n      _useLazyKVMap2 = _slicedToArray(_useLazyKVMap, 1),\n      getRecordByKey = _useLazyKVMap2[0]; // ============================ Events =============================\n\n\n  var changeEventInfo = {};\n\n  var triggerOnChange = function triggerOnChange(info, action) {\n    var reset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var changeInfo = _extends(_extends({}, changeEventInfo), info);\n\n    if (reset) {\n      changeEventInfo.resetPagination(); // Reset event param\n\n      if (changeInfo.pagination.current) {\n        changeInfo.pagination.current = 1;\n      } // Trigger pagination events\n\n\n      if (pagination && pagination.onChange) {\n        pagination.onChange(1, changeInfo.pagination.pageSize);\n      }\n    }\n\n    if (scroll && scroll.scrollToFirstRowOnChange !== false && internalRefs.body.current) {\n      scrollTo(0, {\n        getContainer: function getContainer() {\n          return internalRefs.body.current;\n        }\n      });\n    }\n\n    onChange === null || onChange === void 0 ? void 0 : onChange(changeInfo.pagination, changeInfo.filters, changeInfo.sorter, {\n      currentDataSource: getFilterData(getSortData(rawData, changeInfo.sorterStates, childrenColumnName), changeInfo.filterStates),\n      action: action\n    });\n  };\n  /**\n   * Controlled state in `columns` is not a good idea that makes too many code (1000+ line?) to read\n   * state out and then put it back to title render. Move these code into `hooks` but still too\n   * complex. We should provides Table props like `sorter` & `filter` to handle control in next big version.\n   */\n  // ============================ Sorter =============================\n\n\n  var onSorterChange = function onSorterChange(sorter, sorterStates) {\n    triggerOnChange({\n      sorter: sorter,\n      sorterStates: sorterStates\n    }, 'sort', false);\n  };\n\n  var _useSorter = useSorter({\n    prefixCls: prefixCls,\n    mergedColumns: mergedColumns,\n    onSorterChange: onSorterChange,\n    sortDirections: sortDirections || ['ascend', 'descend'],\n    tableLocale: tableLocale,\n    showSorterTooltip: showSorterTooltip\n  }),\n      _useSorter2 = _slicedToArray(_useSorter, 4),\n      transformSorterColumns = _useSorter2[0],\n      sortStates = _useSorter2[1],\n      sorterTitleProps = _useSorter2[2],\n      getSorters = _useSorter2[3];\n\n  var sortedData = React.useMemo(function () {\n    return getSortData(rawData, sortStates, childrenColumnName);\n  }, [rawData, sortStates]);\n  changeEventInfo.sorter = getSorters();\n  changeEventInfo.sorterStates = sortStates; // ============================ Filter ============================\n\n  var onFilterChange = function onFilterChange(filters, filterStates) {\n    triggerOnChange({\n      filters: filters,\n      filterStates: filterStates\n    }, 'filter', true);\n  };\n\n  var _useFilter = useFilter({\n    prefixCls: prefixCls,\n    locale: tableLocale,\n    dropdownPrefixCls: dropdownPrefixCls,\n    mergedColumns: mergedColumns,\n    onFilterChange: onFilterChange,\n    getPopupContainer: getPopupContainer\n  }),\n      _useFilter2 = _slicedToArray(_useFilter, 3),\n      transformFilterColumns = _useFilter2[0],\n      filterStates = _useFilter2[1],\n      getFilters = _useFilter2[2];\n\n  var mergedData = getFilterData(sortedData, filterStates);\n  changeEventInfo.filters = getFilters();\n  changeEventInfo.filterStates = filterStates; // ============================ Column ============================\n\n  var columnTitleProps = React.useMemo(function () {\n    return _extends({}, sorterTitleProps);\n  }, [sorterTitleProps]);\n\n  var _useTitleColumns = useTitleColumns(columnTitleProps),\n      _useTitleColumns2 = _slicedToArray(_useTitleColumns, 1),\n      transformTitleColumns = _useTitleColumns2[0]; // ========================== Pagination ==========================\n\n\n  var onPaginationChange = function onPaginationChange(current, pageSize) {\n    triggerOnChange({\n      pagination: _extends(_extends({}, changeEventInfo.pagination), {\n        current: current,\n        pageSize: pageSize\n      })\n    }, 'paginate');\n  };\n\n  var _usePagination = usePagination(mergedData.length, pagination, onPaginationChange),\n      _usePagination2 = _slicedToArray(_usePagination, 2),\n      mergedPagination = _usePagination2[0],\n      resetPagination = _usePagination2[1];\n\n  changeEventInfo.pagination = pagination === false ? {} : getPaginationParam(pagination, mergedPagination);\n  changeEventInfo.resetPagination = resetPagination; // ============================= Data =============================\n\n  var pageData = React.useMemo(function () {\n    if (pagination === false || !mergedPagination.pageSize) {\n      return mergedData;\n    }\n\n    var _mergedPagination$cur = mergedPagination.current,\n        current = _mergedPagination$cur === void 0 ? 1 : _mergedPagination$cur,\n        total = mergedPagination.total,\n        _mergedPagination$pag = mergedPagination.pageSize,\n        pageSize = _mergedPagination$pag === void 0 ? DEFAULT_PAGE_SIZE : _mergedPagination$pag;\n    devWarning(current > 0, 'Table', '`current` should be positive number.'); // Dynamic table data\n\n    if (mergedData.length < total) {\n      if (mergedData.length > pageSize) {\n        devWarning(false, 'Table', '`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.');\n        return mergedData.slice((current - 1) * pageSize, current * pageSize);\n      }\n\n      return mergedData;\n    }\n\n    return mergedData.slice((current - 1) * pageSize, current * pageSize);\n  }, [!!pagination, mergedData, mergedPagination && mergedPagination.current, mergedPagination && mergedPagination.pageSize, mergedPagination && mergedPagination.total]); // ========================== Selections ==========================\n\n  var _useSelection = useSelection(rowSelection, {\n    prefixCls: prefixCls,\n    data: mergedData,\n    pageData: pageData,\n    getRowKey: getRowKey,\n    getRecordByKey: getRecordByKey,\n    expandType: expandType,\n    childrenColumnName: childrenColumnName,\n    locale: tableLocale,\n    expandIconColumnIndex: mergedExpandable.expandIconColumnIndex,\n    getPopupContainer: getPopupContainer\n  }),\n      _useSelection2 = _slicedToArray(_useSelection, 2),\n      transformSelectionColumns = _useSelection2[0],\n      selectedKeySet = _useSelection2[1];\n\n  var internalRowClassName = function internalRowClassName(record, index, indent) {\n    var mergedRowClassName;\n\n    if (typeof rowClassName === 'function') {\n      mergedRowClassName = classNames(rowClassName(record, index, indent));\n    } else {\n      mergedRowClassName = classNames(rowClassName);\n    }\n\n    return classNames(_defineProperty({}, \"\".concat(prefixCls, \"-row-selected\"), selectedKeySet.has(getRowKey(record, index))), mergedRowClassName);\n  }; // ========================== Expandable ==========================\n  // Pass origin render status into `rc-table`, this can be removed when refactor with `rc-table`\n\n\n  mergedExpandable.__PARENT_RENDER_ICON__ = mergedExpandable.expandIcon; // Customize expandable icon\n\n  mergedExpandable.expandIcon = mergedExpandable.expandIcon || expandIcon || renderExpandIcon(tableLocale); // Adjust expand icon index, no overwrite expandIconColumnIndex if set.\n\n  if (expandType === 'nest' && mergedExpandable.expandIconColumnIndex === undefined) {\n    mergedExpandable.expandIconColumnIndex = rowSelection ? 1 : 0;\n  } else if (mergedExpandable.expandIconColumnIndex > 0 && rowSelection) {\n    mergedExpandable.expandIconColumnIndex -= 1;\n  } // Indent size\n\n\n  if (typeof mergedExpandable.indentSize !== 'number') {\n    mergedExpandable.indentSize = typeof indentSize === 'number' ? indentSize : 15;\n  } // ============================ Render ============================\n\n\n  var transformColumns = React.useCallback(function (innerColumns) {\n    return transformTitleColumns(transformSelectionColumns(transformFilterColumns(transformSorterColumns(innerColumns))));\n  }, [transformSorterColumns, transformFilterColumns, transformSelectionColumns]);\n  var topPaginationNode;\n  var bottomPaginationNode;\n\n  if (pagination !== false && (mergedPagination === null || mergedPagination === void 0 ? void 0 : mergedPagination.total)) {\n    var paginationSize;\n\n    if (mergedPagination.size) {\n      paginationSize = mergedPagination.size;\n    } else {\n      paginationSize = mergedSize === 'small' || mergedSize === 'middle' ? 'small' : undefined;\n    }\n\n    var renderPagination = function renderPagination(position) {\n      return /*#__PURE__*/React.createElement(Pagination, _extends({\n        className: \"\".concat(prefixCls, \"-pagination \").concat(prefixCls, \"-pagination-\").concat(position)\n      }, mergedPagination, {\n        size: paginationSize\n      }));\n    };\n\n    var defaultPosition = direction === 'rtl' ? 'left' : 'right';\n    var position = mergedPagination.position;\n\n    if (position !== null && Array.isArray(position)) {\n      var topPos = position.find(function (p) {\n        return p.indexOf('top') !== -1;\n      });\n      var bottomPos = position.find(function (p) {\n        return p.indexOf('bottom') !== -1;\n      });\n      var isDisable = position.every(function (p) {\n        return \"\".concat(p) === 'none';\n      });\n\n      if (!topPos && !bottomPos && !isDisable) {\n        bottomPaginationNode = renderPagination(defaultPosition);\n      }\n\n      if (topPos) {\n        topPaginationNode = renderPagination(topPos.toLowerCase().replace('top', ''));\n      }\n\n      if (bottomPos) {\n        bottomPaginationNode = renderPagination(bottomPos.toLowerCase().replace('bottom', ''));\n      }\n    } else {\n      bottomPaginationNode = renderPagination(defaultPosition);\n    }\n  } // >>>>>>>>> Spinning\n\n\n  var spinProps;\n\n  if (typeof loading === 'boolean') {\n    spinProps = {\n      spinning: loading\n    };\n  } else if (_typeof(loading) === 'object') {\n    spinProps = _extends({\n      spinning: true\n    }, loading);\n  }\n\n  var wrapperClassNames = classNames(\"\".concat(prefixCls, \"-wrapper\"), _defineProperty({}, \"\".concat(prefixCls, \"-wrapper-rtl\"), direction === 'rtl'), className);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassNames,\n    style: style\n  }, /*#__PURE__*/React.createElement(Spin, _extends({\n    spinning: false\n  }, spinProps), topPaginationNode, /*#__PURE__*/React.createElement(RcTable, _extends({}, tableProps, {\n    columns: mergedColumns,\n    direction: direction,\n    expandable: mergedExpandable,\n    prefixCls: prefixCls,\n    className: classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-middle\"), mergedSize === 'middle'), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-small\"), mergedSize === 'small'), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-empty\"), rawData.length === 0), _classNames3)),\n    data: pageData,\n    rowKey: getRowKey,\n    rowClassName: internalRowClassName,\n    emptyText: locale && locale.emptyText || renderEmpty('Table') // Internal\n    ,\n    internalHooks: INTERNAL_HOOKS,\n    internalRefs: internalRefs,\n    transformColumns: transformColumns\n  })), bottomPaginationNode));\n}\n\nTable.defaultProps = {\n  rowKey: 'key'\n};\nTable.SELECTION_ALL = SELECTION_ALL;\nTable.SELECTION_INVERT = SELECTION_INVERT;\nTable.SELECTION_NONE = SELECTION_NONE;\nTable.Column = Column;\nTable.ColumnGroup = ColumnGroup;\nTable.Summary = Summary;\nexport default Table;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nexport default function useLazyKVMap(data, childrenColumnName, getRowKey) {\n  var mapCacheRef = React.useRef({});\n\n  function getRecordByKey(key) {\n    if (!mapCacheRef.current || mapCacheRef.current.data !== data || mapCacheRef.current.childrenColumnName !== childrenColumnName || mapCacheRef.current.getRowKey !== getRowKey) {\n      var kvMap = new Map();\n      /* eslint-disable no-inner-declarations */\n\n      function dig(records) {\n        records.forEach(function (record, index) {\n          var rowKey = getRowKey(record, index);\n          kvMap.set(rowKey, record);\n\n          if (record && _typeof(record) === 'object' && childrenColumnName in record) {\n            dig(record[childrenColumnName] || []);\n          }\n        });\n      }\n      /* eslint-enable */\n\n\n      dig(data);\n      mapCacheRef.current = {\n        data: data,\n        childrenColumnName: childrenColumnName,\n        kvMap: kvMap,\n        getRowKey: getRowKey\n      };\n    }\n\n    return mapCacheRef.current.kvMap.get(key);\n  }\n\n  return [getRecordByKey];\n}","import Table from './Table';\nexport default Table;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Grid = function Grid(_a) {\n  var prefixCls = _a.prefixCls,\n      className = _a.className,\n      _a$hoverable = _a.hoverable,\n      hoverable = _a$hoverable === void 0 ? true : _a$hoverable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"hoverable\"]);\n\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n    var prefix = getPrefixCls('card', prefixCls);\n    var classString = classNames(\"\".concat(prefix, \"-grid\"), className, _defineProperty({}, \"\".concat(prefix, \"-grid-hoverable\"), hoverable));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n      className: classString\n    }));\n  });\n};\n\nexport default Grid;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Meta = function Meta(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        avatar = props.avatar,\n        title = props.title,\n        description = props.description,\n        others = __rest(props, [\"prefixCls\", \"className\", \"avatar\", \"title\", \"description\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-meta\"), className);\n    var avatarDom = avatar ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-avatar\")\n    }, avatar) : null;\n    var titleDom = title ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-title\")\n    }, title) : null;\n    var descriptionDom = description ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-description\")\n    }, description) : null;\n    var MetaDetail = titleDom || descriptionDom ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-detail\")\n    }, titleDom, descriptionDom) : null;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }), avatarDom, MetaDetail);\n  });\n};\n\nexport default Meta;","// This icon file is generated automatically.\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexport default PlusOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\n\nPlusOutlined.displayName = 'PlusOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlusOutlined);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcTabs, { TabPane } from 'rc-tabs';\nimport classNames from 'classnames';\nimport EllipsisOutlined from \"@ant-design/icons/es/icons/EllipsisOutlined\";\nimport PlusOutlined from \"@ant-design/icons/es/icons/PlusOutlined\";\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport devWarning from '../_util/devWarning';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction Tabs(_a) {\n  var type = _a.type,\n      className = _a.className,\n      propSize = _a.size,\n      _onEdit = _a.onEdit,\n      hideAdd = _a.hideAdd,\n      centered = _a.centered,\n      addIcon = _a.addIcon,\n      props = __rest(_a, [\"type\", \"className\", \"size\", \"onEdit\", \"hideAdd\", \"centered\", \"addIcon\"]);\n\n  var customizePrefixCls = props.prefixCls,\n      _props$moreIcon = props.moreIcon,\n      moreIcon = _props$moreIcon === void 0 ? /*#__PURE__*/React.createElement(EllipsisOutlined, null) : _props$moreIcon;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('tabs', customizePrefixCls);\n  var editable;\n\n  if (type === 'editable-card') {\n    editable = {\n      onEdit: function onEdit(editType, _ref) {\n        var key = _ref.key,\n            event = _ref.event;\n        _onEdit === null || _onEdit === void 0 ? void 0 : _onEdit(editType === 'add' ? event : key, editType);\n      },\n      removeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null),\n      addIcon: addIcon || /*#__PURE__*/React.createElement(PlusOutlined, null),\n      showAdd: hideAdd !== true\n    };\n  }\n\n  var rootPrefixCls = getPrefixCls();\n  devWarning(!('onPrevClick' in props) && !('onNextClick' in props), 'Tabs', '`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead.');\n  return /*#__PURE__*/React.createElement(SizeContext.Consumer, null, function (contextSize) {\n    var _classNames;\n\n    var size = propSize !== undefined ? propSize : contextSize;\n    return /*#__PURE__*/React.createElement(RcTabs, _extends({\n      direction: direction,\n      moreTransitionName: \"\".concat(rootPrefixCls, \"-slide-up\")\n    }, props, {\n      className: classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size), _defineProperty(_classNames, \"\".concat(prefixCls, \"-card\"), ['card', 'editable-card'].includes(type)), _defineProperty(_classNames, \"\".concat(prefixCls, \"-editable-card\"), type === 'editable-card'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-centered\"), centered), _classNames), className),\n      editable: editable,\n      moreIcon: moreIcon,\n      prefixCls: prefixCls\n    }));\n  });\n}\n\nTabs.TabPane = TabPane;\nexport default Tabs;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport Grid from './Grid';\nimport Meta from './Meta';\nimport Tabs from '../tabs';\nimport Row from '../row';\nimport Col from '../col';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction getAction(actions) {\n  var actionList = actions.map(function (action, index) {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"li\", {\n        style: {\n          width: \"\".concat(100 / actions.length, \"%\")\n        },\n        key: \"action-\".concat(index)\n      }, /*#__PURE__*/React.createElement(\"span\", null, action))\n    );\n  });\n  return actionList;\n}\n\nvar Card = function Card(props) {\n  var _extends2, _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var onTabChange = function onTabChange(key) {\n    var _a;\n\n    (_a = props.onTabChange) === null || _a === void 0 ? void 0 : _a.call(props, key);\n  };\n\n  var isContainGrid = function isContainGrid() {\n    var containGrid;\n    React.Children.forEach(props.children, function (element) {\n      if (element && element.type && element.type === Grid) {\n        containGrid = true;\n      }\n    });\n    return containGrid;\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      extra = props.extra,\n      _props$headStyle = props.headStyle,\n      headStyle = _props$headStyle === void 0 ? {} : _props$headStyle,\n      _props$bodyStyle = props.bodyStyle,\n      bodyStyle = _props$bodyStyle === void 0 ? {} : _props$bodyStyle,\n      title = props.title,\n      loading = props.loading,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      customizeSize = props.size,\n      type = props.type,\n      cover = props.cover,\n      actions = props.actions,\n      tabList = props.tabList,\n      children = props.children,\n      activeTabKey = props.activeTabKey,\n      defaultActiveTabKey = props.defaultActiveTabKey,\n      tabBarExtraContent = props.tabBarExtraContent,\n      hoverable = props.hoverable,\n      _props$tabProps = props.tabProps,\n      tabProps = _props$tabProps === void 0 ? {} : _props$tabProps,\n      others = __rest(props, [\"prefixCls\", \"className\", \"extra\", \"headStyle\", \"bodyStyle\", \"title\", \"loading\", \"bordered\", \"size\", \"type\", \"cover\", \"actions\", \"tabList\", \"children\", \"activeTabKey\", \"defaultActiveTabKey\", \"tabBarExtraContent\", \"hoverable\", \"tabProps\"]);\n\n  var prefixCls = getPrefixCls('card', customizePrefixCls);\n  var loadingBlockStyle = bodyStyle.padding === 0 || bodyStyle.padding === '0px' ? {\n    padding: 24\n  } : undefined;\n  var block = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-block\")\n  });\n  var loadingBlock = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-content\"),\n    style: loadingBlockStyle\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 22\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 15\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 6\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 18\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 13\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 9\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 4\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 3\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 16\n  }, block)));\n  var hasActiveTabKey = activeTabKey !== undefined;\n\n  var extraProps = _extends(_extends({}, tabProps), (_extends2 = {}, _defineProperty(_extends2, hasActiveTabKey ? 'activeKey' : 'defaultActiveKey', hasActiveTabKey ? activeTabKey : defaultActiveTabKey), _defineProperty(_extends2, \"tabBarExtraContent\", tabBarExtraContent), _extends2));\n\n  var head;\n  var tabs = tabList && tabList.length ? /*#__PURE__*/React.createElement(Tabs, _extends({\n    size: \"large\"\n  }, extraProps, {\n    className: \"\".concat(prefixCls, \"-head-tabs\"),\n    onChange: onTabChange\n  }), tabList.map(function (item) {\n    return /*#__PURE__*/React.createElement(Tabs.TabPane, {\n      tab: item.tab,\n      disabled: item.disabled,\n      key: item.key\n    });\n  })) : null;\n\n  if (title || extra || tabs) {\n    head = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head\"),\n      style: headStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-wrapper\")\n    }, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-title\")\n    }, title), extra && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-extra\")\n    }, extra)), tabs);\n  }\n\n  var coverDom = cover ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-cover\")\n  }, cover) : null;\n  var body = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\"),\n    style: bodyStyle\n  }, loading ? loadingBlock : children);\n  var actionDom = actions && actions.length ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-actions\")\n  }, getAction(actions)) : null;\n  var divProps = omit(others, ['onTabChange']);\n  var mergedSize = customizeSize || size;\n  var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hoverable\"), hoverable), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-grid\"), isContainGrid()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-tabs\"), tabList && tabList.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(prefixCls, \"-type-\").concat(type), !!type), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n    className: classString\n  }), head, coverDom, body, actionDom);\n};\n\nCard.Grid = Grid;\nCard.Meta = Meta;\nexport default Card;","// This icon file is generated automatically.\nvar EyeTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\", \"fill\": primaryColor } }] }; }, \"name\": \"eye\", \"theme\": \"twotone\" };\nexport default EyeTwoTone;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeTwoToneSvg from \"@ant-design/icons-svg/es/asn/EyeTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeTwoTone = function EyeTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EyeTwoToneSvg\n  }));\n};\n\nEyeTwoTone.displayName = 'EyeTwoTone';\nexport default /*#__PURE__*/React.forwardRef(EyeTwoTone);","// This icon file is generated automatically.\nvar EyeInvisibleTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M254.89 758.85l125.57-125.57a176 176 0 01248.82-248.82L757 256.72Q651.69 186.07 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q69.27 145.91 173.09 221.05zM942.2 486.2Q889.46 375.11 816.7 305L672.48 449.27a176.09 176.09 0 01-227.22 227.21L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zM878.63 165.56L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z\", \"fill\": primaryColor } }] }; }, \"name\": \"eye-invisible\", \"theme\": \"twotone\" };\nexport default EyeInvisibleTwoTone;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeInvisibleTwoToneSvg from \"@ant-design/icons-svg/es/asn/EyeInvisibleTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeInvisibleTwoTone = function EyeInvisibleTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EyeInvisibleTwoToneSvg\n  }));\n};\n\nEyeInvisibleTwoTone.displayName = 'EyeInvisibleTwoTone';\nexport default /*#__PURE__*/React.forwardRef(EyeInvisibleTwoTone);","// This icon file is generated automatically.\nvar CheckCircleTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\", \"fill\": primaryColor } }] }; }, \"name\": \"check-circle\", \"theme\": \"twotone\" };\nexport default CheckCircleTwoTone;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckCircleTwoToneSvg from \"@ant-design/icons-svg/es/asn/CheckCircleTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CheckCircleTwoTone = function CheckCircleTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CheckCircleTwoToneSvg\n  }));\n};\n\nCheckCircleTwoTone.displayName = 'CheckCircleTwoTone';\nexport default /*#__PURE__*/React.forwardRef(CheckCircleTwoTone);","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport { isValidElement, cloneElement } from '../_util/reactNode';\nvar SpinSizes = tuple('small', 'default', 'large'); // Render indicator\n\nvar defaultIndicator = null;\n\nfunction renderIndicator(prefixCls, props) {\n  var indicator = props.indicator;\n  var dotClassName = \"\".concat(prefixCls, \"-dot\"); // should not be render default indicator when indicator value is null\n\n  if (indicator === null) {\n    return null;\n  }\n\n  if (isValidElement(indicator)) {\n    return cloneElement(indicator, {\n      className: classNames(indicator.props.className, dotClassName)\n    });\n  }\n\n  if (isValidElement(defaultIndicator)) {\n    return cloneElement(defaultIndicator, {\n      className: classNames(defaultIndicator.props.className, dotClassName)\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, \"\".concat(prefixCls, \"-dot-spin\"))\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }));\n}\n\nfunction shouldDelay(spinning, delay) {\n  return !!spinning && !!delay && !isNaN(Number(delay));\n}\n\nvar Spin = /*#__PURE__*/function (_React$Component) {\n  _inherits(Spin, _React$Component);\n\n  var _super = _createSuper(Spin);\n\n  function Spin(props) {\n    var _this;\n\n    _classCallCheck(this, Spin);\n\n    _this = _super.call(this, props);\n\n    _this.debouncifyUpdateSpinning = function (props) {\n      var _ref = props || _this.props,\n          delay = _ref.delay;\n\n      if (delay) {\n        _this.cancelExistingSpin();\n\n        _this.updateSpinning = debounce(_this.originalUpdateSpinning, delay);\n      }\n    };\n\n    _this.updateSpinning = function () {\n      var spinning = _this.props.spinning;\n      var currentSpinning = _this.state.spinning;\n\n      if (currentSpinning !== spinning) {\n        _this.setState({\n          spinning: spinning\n        });\n      }\n    };\n\n    _this.renderSpin = function (_ref2) {\n      var _classNames;\n\n      var getPrefixCls = _ref2.getPrefixCls,\n          direction = _ref2.direction;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          size = _a.size,\n          tip = _a.tip,\n          wrapperClassName = _a.wrapperClassName,\n          style = _a.style,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"tip\", \"wrapperClassName\", \"style\"]);\n\n      var spinning = _this.state.spinning;\n      var prefixCls = getPrefixCls('spin', customizePrefixCls);\n      var spinClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-spinning\"), spinning), _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-text\"), !!tip), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className); // fix https://fb.me/react-unknown-prop\n\n      var divProps = omit(restProps, ['spinning', 'delay', 'indicator']);\n      var spinElement = /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n        style: style,\n        className: spinClassName\n      }), renderIndicator(prefixCls, _this.props), tip ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-text\")\n      }, tip) : null);\n\n      if (_this.isNestedPattern()) {\n        var containerClassName = classNames(\"\".concat(prefixCls, \"-container\"), _defineProperty({}, \"\".concat(prefixCls, \"-blur\"), spinning));\n        return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n          className: classNames(\"\".concat(prefixCls, \"-nested-loading\"), wrapperClassName)\n        }), spinning && /*#__PURE__*/React.createElement(\"div\", {\n          key: \"loading\"\n        }, spinElement), /*#__PURE__*/React.createElement(\"div\", {\n          className: containerClassName,\n          key: \"container\"\n        }, _this.props.children));\n      }\n\n      return spinElement;\n    };\n\n    var spinning = props.spinning,\n        delay = props.delay;\n    var shouldBeDelayed = shouldDelay(spinning, delay);\n    _this.state = {\n      spinning: spinning && !shouldBeDelayed\n    };\n    _this.originalUpdateSpinning = _this.updateSpinning;\n\n    _this.debouncifyUpdateSpinning(props);\n\n    return _this;\n  }\n\n  _createClass(Spin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.debouncifyUpdateSpinning();\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelExistingSpin();\n    }\n  }, {\n    key: \"cancelExistingSpin\",\n    value: function cancelExistingSpin() {\n      var updateSpinning = this.updateSpinning;\n\n      if (updateSpinning && updateSpinning.cancel) {\n        updateSpinning.cancel();\n      }\n    }\n  }, {\n    key: \"isNestedPattern\",\n    value: function isNestedPattern() {\n      return !!(this.props && typeof this.props.children !== 'undefined');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderSpin);\n    }\n  }], [{\n    key: \"setDefaultIndicator\",\n    value: function setDefaultIndicator(indicator) {\n      defaultIndicator = indicator;\n    }\n  }]);\n\n  return Spin;\n}(React.Component);\n\nSpin.defaultProps = {\n  spinning: true,\n  size: 'default',\n  wrapperClassName: ''\n};\nexport default Spin;","/**\n * Determine if we are in a browser\n * or a server environment\n * @type {Boolean}\n * @private\n */\nexport const IS_BROWSER =\n  (typeof window === 'undefined' ? 'undefined' : typeof window) === 'object'\n\n/**\n * Default element to listen for events on\n * @type {Object}\n * @private\n */\nexport const DEFAULT_ELEMENT = IS_BROWSER ? document : {}\n\n/**\n * The default events to determine activity\n * @type {Array}\n * @private\n */\nexport const DEFAULT_EVENTS = [\n  'mousemove',\n  'keydown',\n  'wheel',\n  'DOMMouseScroll',\n  'mousewheel',\n  'mousedown',\n  'touchstart',\n  'touchmove',\n  'MSPointerDown',\n  'MSPointerMove',\n  'visibilitychange'\n]\n\n/**\n * Creates a debounced function that delays invoking func until\n * after delay milliseconds has elapsed since the last time the\n * debounced function was invoked.\n * @name debounced\n * @param  {Function} fn   Function to debounce\n * @param  {Number} delay  How long to wait\n * @return {Function}      Executed Function\n * @private\n **/\nexport function debounced (fn, delay) {\n  let timerId\n  function result (...args) {\n    if (timerId) {\n      clearTimeout(timerId)\n    }\n    timerId = setTimeout(() => {\n      fn(...args)\n      timerId = null\n    }, delay)\n  }\n\n  result.cancel = function () {\n    clearTimeout(timerId)\n  }\n\n  return result\n}\n\n/**\n * Creates a throttled function that only invokes func at most\n * once per every wait milliseconds.\n * @name throttled\n * @param  {Function} fn   Function to debounce\n * @param  {Number} delay  How long to wait\n * @return {Function}      Executed Function\n * @private\n **/\nexport function throttled (fn, delay) {\n  let lastCall = 0\n  return function (...args) {\n    const now = new Date().getTime()\n    if (now - lastCall < delay) {\n      return\n    }\n    lastCall = now\n    return fn(...args)\n  }\n}\n\nlet lastMs = 0\nlet additional = 0\n\n/**\n * Returns current time in microseconds.\n *\n * @returns {Number} current time in microseconds\n * @private\n */\nexport function microSeconds () {\n  const ms = new Date().getTime()\n  if (ms === lastMs) {\n    additional++\n    return ms * 1000 + additional\n  } else {\n    lastMs = ms\n    additional = 0\n    return ms * 1000\n  }\n}\n\n/**\n * Generate and return a random token.\n *\n * @returns {String} Random token.\n * @private\n */\nexport function randomToken () {\n  return Math.random().toString(36).substring(2)\n}\n\n/**\n * Checks if a js object is a promise.\n *\n * @param {*} obj  Any javascript object.\n * @returns {Boolean} Wether or not this object is a promise.\n */\nexport function isPromise (obj) {\n  if (obj && typeof obj.then === 'function') {\n    /* istanbul ignore next */\n    return true\n  } else {\n    return false\n  }\n}\n\n/**\n * Sleeps for x amount of milliseconds.\n *\n * @param {Number} time   Amount of time in milliseconds.\n * @returns {Promise}\n * @private\n */\nexport function sleep (time = 0) {\n  return new Promise(resolve => setTimeout(resolve, time))\n}\n\n/**\n * Get the current timestamp.\n *\n * @returns {Number}\n * @private\n */\nexport function now () {\n  return new Date().getTime()\n}\n\n/**\n * Waits until the given function returns true\n * @param  {function}  fn\n * @return {Promise}\n */\nexport function waitUntil (fn, timeout = 0, interval = 20) {\n  let timedOut = false\n  let ok = false\n\n  /* istanbul ignore next */\n  if (timeout !== 0) {\n    sleep(timeout).then(() => {\n      timedOut = true\n    })\n  }\n\n  return new Promise((resolve, reject) => {\n    const runLoop = () => {\n      if (ok) {\n        resolve()\n        return\n      }\n      /* istanbul ignore next */\n      if (timedOut) {\n        reject(new Error(` waitUntil reached timeout of ${timeout}ms`))\n        return\n      }\n      sleep(interval).then(() => {\n        ok = fn()\n        runLoop()\n      })\n    }\n    runLoop()\n  })\n}\n","/* eslint-env browser */\nimport { microSeconds } from '../../utils'\n\nexport const type = 'broadcastChannel'\n\nexport function create (channelName) {\n  const state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName)\n  }\n\n  state.bc.onmessage = msg => {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data)\n    }\n  }\n\n  return state\n}\n\nexport function close (channelState) {\n  channelState.bc.close()\n}\n\nexport function postMessage (channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false)\n    return Promise.resolve()\n  } catch (err) {\n    /* istanbul ignore next */\n    return Promise.reject(err)\n  }\n}\n\nexport function onMessage (channelState, fn) {\n  channelState.messagesCallback = fn\n}\n\nexport function canBeUsed () {\n  if (typeof BroadcastChannel === 'function') {\n    return true\n  } else {\n    /* istanbul ignore next */\n    return false\n  }\n}\n\nexport function averageResponseTime () {\n  return 150\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import { now } from '../utils'\n\nexport default class ObliviousSet {\n  constructor (ttl = 1000 * 60) {\n    this.ttl = ttl\n    this.set = new Set()\n    this.timeMap = new Map()\n  }\n\n  has (value) {\n    return this.set.has(value)\n  }\n\n  add (value) {\n    this.timeMap.set(value, now())\n    this.set.add(value)\n    this._removeTooOldValues()\n  }\n\n  clear () {\n    this.set.clear()\n    this.timeMap.clear()\n  }\n\n  _removeTooOldValues () {\n    const olderThen = now() - this.ttl\n    const iterator = this.set[Symbol.iterator]()\n\n    while (true) {\n      const value = iterator.next().value\n      if (!value) return // no more elements\n      const time = this.timeMap.get(value)\n      if (time < olderThen) {\n        this.timeMap.delete(value)\n        this.set.delete(value)\n      } else {\n        // We reached a value that is not old enough\n        return\n      }\n    }\n  }\n}\n","import ObliviousSet from '../ObliviousSet'\n\nimport {\n  randomToken,\n  microSeconds\n} from '../../utils'\n\nexport const type = 'localStorage'\n\n/**\n * Returns local storage instance\n */\nexport function getLocalStorage () {\n  let localStorage\n  if (typeof window === 'undefined') return null\n  try {\n    localStorage = window.localStorage\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage\n  } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n  return localStorage\n}\n\nexport function storageKey (channelName) {\n  return channelName\n}\n\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\nexport function postMessage (channelState, messageJson) {\n  return new Promise(resolve => {\n    const key = storageKey(channelState.channelName)\n    const writeObj = {\n      token: randomToken(),\n      time: new Date().getTime(),\n      data: messageJson,\n      uuid: channelState.uuid\n    }\n    const value = JSON.stringify(writeObj)\n    getLocalStorage().setItem(key, value)\n\n    /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n    const ev = document.createEvent('Event')\n    ev.initEvent('storage', true, true)\n    ev.key = key\n    ev.newValue = value\n    window.dispatchEvent(ev)\n\n    resolve()\n  })\n}\n\nexport function addStorageEventListener (channelName, fn) {\n  const key = storageKey(channelName)\n  const listener = ev => {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue))\n    }\n  }\n  window.addEventListener('storage', listener)\n  return listener\n}\nexport function removeStorageEventListener (listener) {\n  window.removeEventListener('storage', listener)\n}\n\nexport function create (channelName, options = {}) {\n  if (!canBeUsed()) {\n    /* istanbul ignore next */\n    throw new Error(' localStorage cannot be used.')\n  }\n\n  const uuid = randomToken()\n\n  /**\n     * eMIs\n     * contains all messages that have been emitted before\n     * @type {ObliviousSet}\n     */\n  const eMIs = new ObliviousSet(options.removeTimeout)\n\n  const state = {\n    channelName,\n    uuid,\n    eMIs // emittedMessagesIds\n  }\n\n  state.listener = addStorageEventListener(\n    channelName,\n    (msgObj) => {\n      if (!state.messagesCallback) return // no listener\n      if (msgObj.uuid === uuid) return // own message\n      if (!msgObj.token || eMIs.has(msgObj.token)) return // already emitted\n      if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return // too old\n\n      eMIs.add(msgObj.token)\n      state.messagesCallback(msgObj.data)\n    }\n  )\n\n  return state\n}\n\nexport function close (channelState) {\n  removeStorageEventListener(channelState.listener)\n}\n\nexport function onMessage (channelState, fn, time) {\n  channelState.messagesCallbackTime = time\n  channelState.messagesCallback = fn\n}\n\nexport function canBeUsed () {\n  const ls = getLocalStorage()\n\n  if (!ls) return false\n\n  try {\n    const key = '__check'\n    ls.setItem(key, 'works')\n    ls.removeItem(key)\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n\n    /* istanbul ignore next */\n    return false\n  }\n\n  return true\n}\n\n/* istanbul ignore next */\nexport function averageResponseTime () {\n  const defaultTime = 120\n  const userAgent = navigator.userAgent.toLowerCase()\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2\n  }\n  return defaultTime\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import { microSeconds } from '../../utils'\n\nexport const type = 'simulate'\n\nconst SIMULATE_CHANNELS = new Set()\n\nexport function create (channelName) {\n  const state = {\n    name: channelName,\n    messagesCallback: null\n  }\n  SIMULATE_CHANNELS.add(state)\n\n  return state\n}\n\nexport function close (channelState) {\n  SIMULATE_CHANNELS.delete(channelState)\n}\n\nexport function postMessage (channelState, messageJson) {\n  return new Promise(resolve => setTimeout(() => {\n    const channelArray = Array.from(SIMULATE_CHANNELS)\n    channelArray\n      .filter(channel => channel.name === channelState.name)\n      .filter(channel => channel !== channelState)\n      .filter(channel => !!channel.messagesCallback)\n      .forEach(channel => channel.messagesCallback(messageJson))\n    resolve()\n  }, 5))\n}\n\nexport function onMessage (channelState, fn) {\n  channelState.messagesCallback = fn\n}\n\n/* istanbul ignore next */\nexport function canBeUsed () {\n  return true\n}\n\n/* istanbul ignore next */\nexport function averageResponseTime () {\n  return 5\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import BroadcastChannelMethod from './methods/broadcastChannel'\nimport LocalStorageMethod from './methods/localStorage'\nimport SimulateMethod from './methods/simulate'\n\n// Order is important\nconst METHODS = [\n  BroadcastChannelMethod,\n  LocalStorageMethod\n]\n\nexport function chooseMethod (options = {}) {\n  if (options.type) {\n    // For testing\n    if (options.type === 'simulate') {\n      return SimulateMethod\n    }\n\n    // Chosen type\n    const method = METHODS.find(m => m.type === options.type)\n    if (!method) throw new Error(` Method ${options.type} is not supported.`)\n    else return method\n  }\n\n  const useMethod = METHODS.find(method => method.canBeUsed())\n\n  /* istanbul ignore next */\n  if (!useMethod) {\n    throw new Error(` No method found ${JSON.stringify(METHODS.map(m => m.type))}`)\n  }\n  return useMethod\n}\n","import { chooseMethod } from './methodChooser'\nimport { isPromise } from '../utils'\n\nexport class MessageChannel {\n  constructor (name, options = {}) {\n    this.name = name\n    this.options = options\n    this.method = chooseMethod(this.options)\n    this.closed = false\n\n    // isListening\n    this._isListening = false\n\n    /**\n     * _onMessageListener\n     * setting onmessage twice,\n     * will overwrite the first listener\n     */\n    this._onMessageListener = null\n\n    /**\n     * _addEventListeners\n     */\n    this._addEventListeners = {\n      message: [],\n      internal: []\n    }\n\n    /**\n     * Un send message promises\n     * where the sending is still in progress\n     * @type {Set<Promise>}\n     */\n    this._unSendMessagePromises = new Set()\n\n    /**\n     * _beforeClose\n     * array of promises that will be awaited\n     * before the channel is closed\n     */\n    this._beforeClose = []\n\n    /**\n     * _preparePromise\n     */\n    this._preparePromises = null\n    _prepareChannel(this)\n  }\n\n  postMessage (msg) {\n    if (this.closed) {\n      throw new Error(\n        ' Cannot post message after channel has closed'\n      )\n    }\n    return _post(this, 'message', msg)\n  }\n\n  postInternal (msg) {\n    return _post(this, 'internal', msg)\n  }\n\n  set onmessage (fn) {\n    const time = this.method.microSeconds()\n    const listenObj = {\n      time,\n      fn\n    }\n    _removeListenerObject(this, 'message', this._onMessageListener)\n    if (fn && typeof fn === 'function') {\n      this._onMessageListener = listenObj\n      _addListenerObject(this, 'message', listenObj)\n    } else {\n      /* istanbul ignore next */\n      this._onMessageListener = null\n    }\n  }\n\n  /* istanbul ignore next */\n  get onmessage () {\n    return this._onMessageListener\n  }\n\n  addEventListener (type, fn) {\n    const time = this.method.microSeconds()\n    const listenObj = {\n      time,\n      fn\n    }\n    _addListenerObject(this, type, listenObj)\n  }\n\n  removeEventListener (type, fn) {\n    const obj = this._addEventListeners[type].find(obj => obj.fn === fn)\n    _removeListenerObject(this, type, obj)\n  }\n\n  close () {\n    if (this.closed) {\n      return\n    }\n    this.closed = true\n    const awaitPrepare = this._preparePromises ? this._preparePromises : Promise.resolve()\n\n    this._onMessageListener = null\n    this._addEventListeners.message = []\n\n    return awaitPrepare\n      // Wait until all current sending are processed\n      .then(() => Promise.all(Array.from(this._unSendMessagePromises)))\n      // Run before-close hooks\n      .then(() => Promise.all(this._beforeClose.map(fn => fn())))\n      // Close the channel\n      .then(() => this.method.close(this._state))\n  }\n\n  get type () {\n    return this.method.type\n  }\n\n  isClosed () {\n    return this.closed\n  }\n}\n\nfunction _post (messageChannel, type, msg) {\n  const time = messageChannel.method.microSeconds()\n  const msgObj = {\n    time,\n    type,\n    data: msg\n  }\n\n  const awaitPrepare = messageChannel._preparePromises ? messageChannel._preparePromises : Promise.resolve()\n  return awaitPrepare.then(() => {\n    const sendPromise = messageChannel.method.postMessage(\n      messageChannel._state,\n      msgObj\n    )\n\n    // add/remove to un-send messages list\n    messageChannel._unSendMessagePromises.add(sendPromise)\n    sendPromise\n      .catch()\n      .then(() => messageChannel._unSendMessagePromises.delete(sendPromise))\n\n    return sendPromise\n  })\n}\n\nfunction _prepareChannel (channel) {\n  const maybePromise = channel.method.create(channel.name, channel.options)\n  /* istanbul ignore next */\n  if (isPromise(maybePromise)) {\n    channel._preparePromises = maybePromise\n    maybePromise.then(s => {\n      channel._state = s\n    })\n  } else {\n    channel._state = maybePromise\n  }\n}\n\nfunction _hasMessageListeners (channel) {\n  if (channel._addEventListeners.message.length > 0) return true\n  if (channel._addEventListeners.internal.length > 0) return true\n  return false\n}\n\nfunction _addListenerObject (channel, type, obj) {\n  channel._addEventListeners[type].push(obj)\n  _startListening(channel)\n}\n\nfunction _removeListenerObject (channel, type, obj) {\n  channel._addEventListeners[type] = channel._addEventListeners[type].filter(o => o !== obj)\n  _stopListening(channel)\n}\n\nfunction _startListening (channel) {\n  if (!channel._isListening && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n\n    const listenerFn = msgObj => {\n      channel._addEventListeners[msgObj.type].forEach(obj => {\n        if (msgObj.time >= obj.time) {\n          obj.fn(msgObj.data)\n        }\n      })\n    }\n\n    const time = channel.method.microSeconds()\n    if (channel._preparePromises) {\n      /* istanbul ignore next */\n      channel._preparePromises.then(() => {\n        channel._isListening = true\n        channel.method.onMessage(\n          channel._state,\n          listenerFn,\n          time\n        )\n      })\n    } else {\n      channel._isListening = true\n      channel.method.onMessage(\n        channel._state,\n        listenerFn,\n        time\n      )\n    }\n  }\n}\n\nfunction _stopListening (channel) {\n  if (channel._isListening && !_hasMessageListeners(channel)) {\n    // no one is listening, stop subscribing\n    channel._isListening = false\n    const time = channel.method.microSeconds()\n    channel.method.onMessage(\n      channel._state,\n      null,\n      time\n    )\n  }\n}\n","import { IS_BROWSER, sleep, randomToken } from '../utils'\n\nclass LeaderElection {\n  constructor (channel, options) {\n    this._channel = channel\n    this._options = options\n\n    this.isLeader = false\n    this.isDead = false\n    this.token = randomToken()\n\n    this._isApplying = false\n    this._reApply = false\n\n    // things to clean up\n    this._unloadFns = []\n    this._listeners = []\n    this._intervals = []\n    this._duplicateListeners = () => { }\n    this._duplicateCalled = false\n    this._onBeforeDie = async () => {}\n\n    const unloadFn = async () => this.die()\n\n    if (IS_BROWSER) {\n      window.addEventListener('beforeUnload', unloadFn)\n      window.addEventListener('unload', unloadFn)\n\n      this._unloadFns.push(['beforeUnload', unloadFn])\n      this._unloadFns.push(['unload', unloadFn])\n    }\n  }\n\n  applyOnce () {\n    if (this.isLeader) return Promise.resolve(false)\n    if (this.isDead) return Promise.resolve(false)\n\n    // do nothing if already running\n    if (this._isApplying) {\n      this._reApply = true\n      return Promise.resolve(false)\n    }\n    this._isApplying = true\n\n    let stopCriteria = false\n    const received = []\n\n    const handleMessage = (msg) => {\n      if (msg.context === 'leader' && msg.token !== this.token) {\n        received.push(msg)\n\n        if (msg.action === 'apply') {\n          // Other is applying\n          if (msg.token > this.token) {\n            // Other has higher token, stop applying\n            stopCriteria = true\n          }\n        }\n\n        if (msg.action === 'tell') {\n          // Other is already leader\n          stopCriteria = true\n        }\n      }\n    }\n    this._channel.addEventListener('internal', handleMessage)\n\n    return _sendMessage(this, 'apply') // send out that this one is applying\n      .then(() => sleep(this._options.responseTime)) // let others time to respond\n      .then(() => {\n        if (stopCriteria) return Promise.reject(new Error())\n        else return _sendMessage(this, 'apply')\n      })\n      .then(() => sleep(this._options.responseTime)) // let others time to respond\n      .then(() => {\n        if (stopCriteria) return Promise.reject(new Error())\n        else return _sendMessage(this)\n      })\n      .then(() => beLeader(this)) // no one disagreed -> this one is now leader\n      .then(() => true)\n      .catch(() => false) // apply not successful\n      .then(success => {\n        this._channel.removeEventListener('internal', handleMessage)\n        this._isApplying = false\n        if (!success && this._reApply) {\n          this._reApply = false\n          return this.applyOnce()\n        } else return success\n      })\n  }\n\n  awaitLeadership () {\n    if (\n      !this._awaitLeadershipPromise\n    ) {\n      this._awaitLeadershipPromise = _awaitLeadershipOnce(this)\n    }\n    return this._awaitLeadershipPromise\n  }\n\n  set onDuplicate (fn) {\n    this._duplicateListeners = fn\n  }\n\n  /* istanbul ignore next */\n  get onDuplicate () {\n    return this._duplicateListeners\n  }\n\n  set onBeforeDie (fn) {\n    this._onBeforeDie = fn\n  }\n\n  /* istanbul ignore next */\n  get onBeforeDie () {\n    return this._onBeforeDie\n  }\n\n  async die () {\n    if (this.isDead) return\n    this.isDead = true\n\n    await this.onBeforeDie()\n    this._listeners.forEach(listener => this._channel.removeEventListener('internal', listener))\n    this._intervals.forEach(interval => clearInterval(interval))\n    this._unloadFns.forEach(uFn => {\n      if (IS_BROWSER) {\n        window.removeEventListener(uFn[0], uFn[1])\n      }\n    })\n    return _sendMessage(this, 'death')\n  }\n}\n\nfunction _awaitLeadershipOnce (leaderElector) {\n  if (leaderElector.isLeader) return Promise.resolve()\n\n  return new Promise(resolve => {\n    let resolved = false\n\n    function finish () {\n      /* istanbul ignore next */\n      if (resolved) {\n        return\n      }\n      resolved = true\n      clearInterval(interval)\n      leaderElector._channel.removeEventListener('internal', whenDeathListener)\n      resolve(true)\n    }\n\n    // try once now\n    leaderElector.applyOnce().then(() => {\n      if (leaderElector.isLeader) {\n        finish()\n      }\n    })\n\n    // try on fallbackInterval\n    const interval = setInterval(() => {\n      /* istanbul ignore next */\n      leaderElector.applyOnce().then(() => {\n        if (leaderElector.isLeader) {\n          finish()\n        }\n      })\n    }, leaderElector._options.fallbackInterval)\n    leaderElector._intervals.push(interval)\n\n    // try when other leader dies\n    const whenDeathListener = msg => {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector.applyOnce().then(() => {\n          if (leaderElector.isLeader) finish()\n        })\n      }\n    }\n    leaderElector._channel.addEventListener('internal', whenDeathListener)\n    leaderElector._listeners.push(whenDeathListener)\n  })\n}\n\n/**\n * Sends and internal message over the broadcast-channel\n */\nfunction _sendMessage (leaderElector, action) {\n  const msgJson = {\n    context: 'leader',\n    action,\n    token: leaderElector.token\n  }\n  return leaderElector._channel.postInternal(msgJson)\n}\n\nexport function beLeader (leaderElector) {\n  leaderElector.isLeader = true\n\n  const isLeaderListener = msg => {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      _sendMessage(leaderElector, 'tell')\n    }\n\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._duplicateCalled) {\n      /**\n       * Another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       */\n      leaderElector._duplicateCalled = true\n      leaderElector._duplicateListeners() // message the lib user so the app can handle the problem\n      _sendMessage(leaderElector, 'tell') // ensure other leader also knows the problem\n    }\n  }\n  leaderElector._channel.addEventListener('internal', isLeaderListener)\n  leaderElector._listeners.push(isLeaderListener)\n  return _sendMessage(leaderElector, 'tell')\n}\n\nexport function createLeaderElection (channel, options) {\n  if (channel._leaderElector) {\n    throw new Error(' MessageChannel already has a leader-elector')\n  }\n\n  const elector = new LeaderElection(channel, options)\n  channel._beforeClose.push(async () => elector.die())\n\n  channel._leaderElector = elector\n  return elector\n}\n","import { MessageChannel, createLeaderElection } from './MessageChannel'\nexport const TabManager = ({\n  type,\n  channelName,\n  fallbackInterval,\n  responseTime,\n  emitOnAllTabs,\n  callbacks,\n  start,\n  reset,\n  pause,\n  resume\n}) => {\n  const channel = new MessageChannel(channelName, { type })\n  const elector = createLeaderElection(channel, { fallbackInterval, responseTime })\n  const registry = {}\n\n  // Register self\n  registry[elector.token] = false\n\n  let leader = false\n  let allIdle = true\n\n  const isLeader = () => leader\n\n  elector.awaitLeadership().then(() => {\n    leader = true\n  })\n\n  channel.addEventListener('message', ([type, id]) => {\n    switch (type) {\n      case 'register':\n        registry[id] = false\n        break\n      case 'deregister':\n        delete registry[id]\n        break\n      case 'idle':\n        idle(id)\n        break\n      case 'active':\n        active(id)\n        break\n      case 'emitIdle':\n        callbacks.onIdle()\n        break\n      case 'emitActive':\n        callbacks.onActive()\n        break\n      case 'start':\n        start(true)\n        break\n      case 'reset':\n        reset(true)\n        break\n      case 'pause':\n        pause(true)\n        break\n      case 'resume':\n        resume(true)\n        break\n      default:\n        // no op\n    }\n  })\n\n  const setAllIdle = bool => {\n    allIdle = bool\n  }\n\n  const isAllIdle = () => allIdle\n\n  const idle = (id = elector.token) => {\n    registry[id] = true\n    const isIdle = Object.values(registry).every(v => v)\n    if (!allIdle && isIdle) {\n      allIdle = true\n      if (isLeader()) {\n        callbacks.onIdle()\n        if (emitOnAllTabs) send('emitIdle')\n      } else {\n        send('idle')\n      }\n    }\n  }\n\n  const active = (id = elector.token) => {\n    registry[id] = false\n    const isActive = Object.values(registry).some(v => !v)\n    if (allIdle && isActive) {\n      allIdle = false\n      if (isLeader()) {\n        callbacks.onActive()\n        if (emitOnAllTabs) send('emitActive')\n      } else {\n        send('active')\n      }\n    }\n  }\n\n  /* istanbul ignore next */\n  elector.onDuplicate = async () => await elector.die()\n  elector.onBeforeDie = async () => await send('deregister')\n\n  const send = async message => channel.postMessage([message, elector.token])\n\n  const close = async () => {\n    await elector.die()\n    await channel.close()\n  }\n\n  // Register self with remote tabs\n  send('register')\n\n  return { close, send, isLeader, idle, active, isAllIdle, setAllIdle }\n}\n","/**\n *  ___    _ _     _____ _\n * |_ _|__| | | __|_   _(_)_ __ ___   ___ _ __\n *  | |/ _` | |/ _ \\| | | | '_ ` _ \\ / _ \\ '__|\n *  | | (_| | |  __/| | | | | | | | |  __/ |\n * |___\\__,_|_|\\___||_| |_|_| |_| |_|\\___|_|\n *\n * @name IdleTimer\n * @author Randy Lebeau\n * @private\n */\n\nimport { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { TabManager } from './TabManager'\nimport { IS_BROWSER, DEFAULT_ELEMENT, DEFAULT_EVENTS, debounced, throttled } from './utils'\n\n/**\n * Detects when your user is idle\n * @class IdleTimer\n * @private\n */\nclass IdleTimer extends Component {\n  /**\n   * Creates an instance of IdleTimer\n   * bind all of our internal events here\n   * for best performance\n   * @param {Object} props\n   * @return {IdleTimer}\n   * @private\n   */\n  constructor (props) {\n    super(props)\n\n    /**\n     * Sets initial component state\n     * @type {Object}\n     * @private\n     */\n    this.state = {\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      lastIdle: null,\n      idleTime: 0,\n      remaining: null,\n      pageX: null,\n      pageY: null\n    }\n\n    /**\n     * The timer instance\n     * @type {Timeout}\n     * @private\n     */\n    this.tId = null\n\n    /**\n     * Wether or not events are bound\n     * @type {boolean}\n     * @private\n     */\n    this.eventsBound = false\n\n    this.callbackRefs = {}\n\n    // Debounce and throttle can't both be set\n    if (props.debounce > 0 && props.throttle > 0) {\n      throw new Error('onAction can either be throttled or debounced (not both)')\n    }\n\n    // Create debounced action if applicable\n    if (props.debounce > 0) {\n      this._onAction = debounced(props.onAction, props.debounce)\n\n    // Create throttled action if applicable\n    } else if (props.throttle > 0) {\n      this._onAction = throttled(props.onAction, props.throttle)\n\n    // Set custom onAction\n    } else {\n      this._onAction = props.onAction\n    }\n\n    // Create a throttle event handler if applicable\n    if (props.eventsThrottle > 0) {\n      this.handleEvent = throttled(this._handleEvent.bind(this), props.eventsThrottle)\n    } else {\n      this.handleEvent = this._handleEvent.bind(this)\n    }\n\n    // If startOnMount is set, idle state defaults to true\n    if (!props.startOnMount || props.startManually) {\n      this.state.idle = true\n    }\n\n    // Bind all events to component scope, built for speed \n    this._toggleIdleState = this._toggleIdleState.bind(this)\n    this.start = this.start.bind(this)\n    this.reset = this.reset.bind(this)\n    this.pause = this.pause.bind(this)\n    this.resume = this.resume.bind(this)\n    this.isIdle = this.isIdle.bind(this)\n    this.getRemainingTime = this.getRemainingTime.bind(this)\n    this.getElapsedTime = this.getElapsedTime.bind(this)\n    this.getLastActiveTime = this.getLastActiveTime.bind(this)\n    this.getLastIdleTime = this.getLastIdleTime.bind(this)\n    this.getTotalIdleTime = this.getTotalIdleTime.bind(this)\n    this.getTotalActiveTime = this.getTotalActiveTime.bind(this)\n  }\n\n  /**\n   * Runs once the component has mounted\n   * here we handle automatically starting\n   * the idletimer\n   * @private\n   */\n  componentDidMount () {\n    const { startOnMount, startManually } = this.props\n\n    // Set up cross tab\n    this._setupTabManager()\n\n    if (startManually) return\n    if (startOnMount) {\n      this.start()\n    } else {\n      this._bindEvents()\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    // Update debounce function\n    if ((prevProps.debounce !== this.props.debounce) && this.props.debounce > 0) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = debounced(this.props.onAction, this.props.debounce)\n    } else\n    // Update throttle function\n    if ((prevProps.throttle !== this.props.throttle) && this.props.throttle > 0) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = throttled(this.props.onAction, this.props.throttle)\n    } else\n    // Remove throttle or debounce\n    if (\n      (prevProps.throttle && this.props.throttle === 0) ||\n      (prevProps.debounce && this.props.debounce === 0)\n    ) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = this.props.onAction\n    }\n\n    // Update event throttle function\n    if (prevProps.eventsThrottle !== this.props.eventsThrottle) {\n      this._unbindEvents()\n      this.handleEvent = throttled(this._handleEvent.bind(this), this.props.eventsThrottle)\n      this._bindEvents()\n    }\n    // Update timeout value\n    if (prevProps.timeout !== this.props.timeout) {\n      if (this.state.idle) this.reset()\n    }\n\n    // Update callback refs\n    if (prevProps.onActive !== this.props.onActive) this.callbackRefs.onActive = this.props.onActive\n    if (prevProps.onIdle !== this.props.onIdle) this.callbackRefs.onIdle = this.props.onIdle\n  }\n\n  /**\n   * Called before the component un-mounts\n   * here we clear the timer and remove\n   * all the event listeners\n   * @private\n   */\n  componentWillUnmount () {\n    // Clear timeout to prevent delayed state changes\n    clearTimeout(this.tId)\n    this._unbindEvents(true)\n    // Cancel any debounced onAction handlers\n    if (this._onAction.cancel) this._onAction.cancel()\n    /* istanbul ignore next */\n    if (this.manager) {\n      this.manager.close().catch(console.error)\n    }\n  }\n\n  /**\n   * Render children if IdleTimer is used as a wrapper\n   * @return {Component} children\n   * @private\n   */\n  render () {\n    const { children } = this.props\n    return children || null\n  }\n\n  /**\n   * Setup the Tab Manager.\n   * @private\n   */\n  _setupTabManager () {\n    const { crossTab, onIdle, onActive } = this.props\n    this.callbackRefs = { onIdle, onActive }\n\n    /* istanbul ignore next */\n    if (crossTab) {\n      const {\n        type,\n        channelName,\n        fallbackInterval,\n        responseTime,\n        emitOnAllTabs\n      } = Object.assign({\n        channelName: 'idle-timer',\n        fallbackInterval: 2000,\n        responseTime: 100,\n        removeTimeout: 1000 * 60,\n        emitOnAllTabs: false\n      }, crossTab === true ? {} : crossTab)\n\n      this.manager = TabManager({\n        type,\n        channelName,\n        fallbackInterval,\n        responseTime,\n        emitOnAllTabs,\n        callbacks: this.callbackRefs,\n        start: this.start,\n        reset: this.reset,\n        pause: this.pause,\n        resume: this.resume\n      })\n    }\n  }\n\n  /**\n   * Binds the specified events\n   * @private\n   */\n  _bindEvents () {\n    // Don't bind events if\n    // we are not in a browser\n    if (!IS_BROWSER) return\n    // Otherwise we bind all the events\n    // to the supplied element\n    const { element, events, passive, capture } = this.props\n    if (!this.eventsBound) {\n      events.forEach(e => {\n        element.addEventListener(e, this.handleEvent, {\n          capture,\n          passive\n        })\n      })\n      this.eventsBound = true\n    }\n  }\n\n  /**\n   * Unbinds all the bound events\n   * @private\n   */\n  _unbindEvents (force = false) {\n    // If we are not in a browser\n    // we don't need to unbind events\n    if (!IS_BROWSER) return\n    // Unbind all events\n    const { element, events, passive, capture } = this.props\n    if (this.eventsBound || force) {\n      events.forEach(e => {\n        element.removeEventListener(e, this.handleEvent, {\n          capture,\n          passive\n        })\n      })\n      this.eventsBound = false\n    }\n  }\n\n  /**\n   * Toggles the idle state and calls\n   * the correct action function\n   * @private\n   */\n  _toggleIdleState (e) {\n    // Fire the appropriate action\n    // and pass the event through\n    // Toggle the idle state\n    this.setState((prevState) => ({\n      idle: !prevState.idle,\n      lastIdle: !prevState.idle ? (+new Date()) - this.props.timeout : prevState.lastIdle,\n      idleTime: prevState.idle ? prevState.idleTime + (+new Date()) - prevState.lastIdle : prevState.idleTime\n    }), () => {\n      const { onActive, onIdle, stopOnIdle } = this.props\n      const { idle } = this.state\n      if (idle) {\n        if (stopOnIdle) {\n          // Clear any existing timeout\n          clearTimeout(this.tId)\n          this.tId = null\n          // Unbind events\n          this._unbindEvents()\n        }\n\n        if (this.manager) {\n          /* istanbul ignore next */\n          this.manager.idle()\n        } else {\n          onIdle(e)\n        }\n      } else {\n        this._bindEvents()\n        if (this.manager) {\n          /* istanbul ignore next */\n          this.manager.active()\n        } else {\n          onActive(e)\n        }\n      }\n    })\n  }\n\n  /**\n   * Event handler for supported event types\n   * @param  {Object} e event object\n   * @private\n   */\n  _handleEvent (e) {\n    const { remaining, pageX, pageY, idle } = this.state\n    const { timeout, stopOnIdle } = this.props\n\n    // Fire onAction event\n    this._onAction(e)\n\n    // Already active, ignore events\n    if (remaining) return\n\n    // Mousemove event\n    if (e.type === 'mousemove') {\n      // If coords are same, it didn't move\n      /* istanbul ignore next */\n      if (e.pageX === pageX && e.pageY === pageY) {\n        return\n      }\n      // If coords don't exist how could it move\n      if (typeof e.pageX === 'undefined' && typeof e.pageY === 'undefined') {\n        return\n      }\n      // Under 200 ms is hard to do\n      // continuous activity will bypass this\n      /* istanbul ignore next */\n      const elapsed = this.getElapsedTime()\n      /* istanbul ignore next */\n      if (elapsed < 200) {\n        return\n      }\n    }\n\n    // Clear any existing timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Determine last time User was active, as can't rely on setTimeout ticking at the correct interval\n    const elapsedTimeSinceLastActive = +new Date() - this.getLastActiveTime()\n\n    // If the user is idle or last active time is more than timeout, flip the idle state\n    if ((idle && !stopOnIdle) || (!idle && elapsedTimeSinceLastActive > timeout)) {\n      this._toggleIdleState(e)\n    }\n\n    // Store when the user was last active\n    // and update the mouse coordinates\n    this.setState({\n      lastActive: +new Date(),\n      pageX: e.pageX,\n      pageY: e.pageY\n    })\n\n    // If the user is idle and stopOnIdle flag is not set\n    // set a new timeout\n    if (idle) {\n      if (!stopOnIdle) {\n        this.tId = setTimeout(this._toggleIdleState, timeout)\n      }\n    } else {\n      this.tId = setTimeout(this._toggleIdleState, timeout)\n    }\n  }\n\n  /**\n   * Set initial state and start timer\n   * @name start\n   */\n  start (remote = true) {\n    // Clear timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Bind the events\n    this._bindEvents()\n\n    // Reset state\n    this.setState({\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      remaining: null\n    })\n\n    if (this.manager) {\n      /* istanbul ignore next */\n      this.manager.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('start')\n      }\n    }\n\n    // Set new timeout\n    const { timeout } = this.props\n    this.tId = setTimeout(this._toggleIdleState, timeout)\n  }\n\n  /**\n   * Restore initial state and restart timer, calling onActive\n   * @name reset\n   */\n  reset (remote = false) {\n    // Clear timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Bind the events\n    this._bindEvents()\n\n    if (this.state.idle) {\n      if (this.manager) {\n        /* istanbul ignore next */\n        this.manager.active()\n      } else {\n        this.props.onActive()\n      }\n    }\n\n    if (this.manager) {\n      /* istanbul ignore next */\n      this.manager.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('reset')\n      }\n    }\n\n    // Reset state\n    this.setState({\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      remaining: null\n    })\n\n    // Set new timeout\n    const { timeout } = this.props\n    this.tId = setTimeout(this._toggleIdleState, timeout)\n  }\n\n  /**\n   * Store remaining time and stop timer\n   * @name pause\n   */\n  pause (remote = false) {\n    // Timer is already paused\n    const { remaining } = this.state\n    if (remaining !== null) return\n\n    // Unbind events\n    this._unbindEvents()\n\n    // Clear existing timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Send event to other tabs\n    if (this.manager) {\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('pause')\n      }\n    }\n\n    // Define how much is left on the timer\n    this.setState({\n      remaining: this.getRemainingTime()\n    })\n  }\n\n  /**\n   * Resumes a paused timer\n   * @name resume\n   */\n  resume (remote = false) {\n    // Timer is not paused\n    const { remaining, idle } = this.state\n    if (remaining === null) return\n\n    // Bind events\n    this._bindEvents()\n\n    // Send event to other tabs\n    if (this.manager) {\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('resume')\n      }\n    }\n\n    // Start timer and clear remaining\n    // if we are in the active state\n    if (!idle) {\n      // Set a new timeout\n      this.tId = setTimeout(this._toggleIdleState, remaining)\n      // Set new state\n      this.setState({ remaining: null, lastActive: +new Date() })\n    }\n  }\n\n  /**\n   * Time remaining before idle\n   * @name getRemainingTime\n   * @return {number} Milliseconds remaining\n   */\n  getRemainingTime () {\n    const { remaining, lastActive } = this.state\n    const { timeout } = this.props\n\n    // If idle there is no time remaining\n    if (remaining !== null) {\n      return remaining < 0 ? 0 : remaining\n    }\n\n    // Determine remaining, if negative idle didn't finish flipping, just return 0\n    const timeLeft = timeout - ((+new Date()) - lastActive)\n    return timeLeft < 0 ? 0 : timeLeft\n  }\n\n  /**\n   * How much time has elapsed\n   * @name getElapsedTime\n   * @return {Timestamp}\n   */\n  getElapsedTime () {\n    const { oldDate } = this.state\n    return (+new Date()) - oldDate\n  }\n\n  /**\n   * Last time the user was idle\n   * @name getLastIdleTime\n   * @return {Timestamp}\n   */\n  getLastIdleTime () {\n    const { lastIdle } = this.state\n    return lastIdle\n  }\n\n  /**\n   * Total time the user was idle\n   * @name getTotalIdleTime\n   * @return {number}\n   */\n  getTotalIdleTime () {\n    const { idle, lastIdle, idleTime } = this.state\n    if (idle) {\n      return ((+new Date()) - lastIdle) + idleTime\n    } else {\n      return idleTime\n    }\n  }\n\n  /**\n   * Last time the user was active\n   * @name getLastActiveTime\n   * @return {Timestamp}\n   */\n  getLastActiveTime () {\n    const { lastActive } = this.state\n    return lastActive\n  }\n\n  /**\n   * Total time the user was active\n   * @name getTotalActiveTime\n   * @return {number}\n   */\n  getTotalActiveTime () {\n    return this.getElapsedTime() - this.getTotalIdleTime()\n  }\n\n  /**\n   * Returns wether or not the user is idle\n   * @name isIdle\n   * @return {boolean}\n   */\n  isIdle () {\n    const { idle } = this.state\n    return idle\n  }\n\n  /**\n   * Returns wether or not this is the leader tab\n   * @name isLeader\n   * @return {boolean}\n   */\n  isLeader () {\n    return this.manager ? this.manager.isLeader() : true\n  }\n}\n\n/**\n * Type checks for every property\n * @type {Object}\n * @private\n */\nIdleTimer.propTypes = {\n  /**\n   * Activity Timeout in milliseconds\n   * default: 1200000\n   * @type {Number}\n   */\n  timeout: PropTypes.number,\n  /**\n   * DOM events to listen to\n   * default: see [default events](https://github.com/SupremeTechnopriest/react-idle-timer#default-events)\n   * @type {Array}\n   */\n  events: PropTypes.arrayOf(PropTypes.string),\n  /**\n   * Function to call when user is idle\n   * default: () => {}\n   * @type {Function}\n   */\n  onIdle: PropTypes.func,\n  /**\n   * Function to call when user becomes active\n   * default: () => {}\n   * @type {Function}\n   */\n  onActive: PropTypes.func,\n  /**\n   * Function to call on user actions\n   * default: () => {}\n   * @type {Function}\n   */\n  onAction: PropTypes.func,\n  /**\n   * Debounce the onAction function by setting delay in milliseconds\n   * default: 0\n   * @type {Number}\n   */\n  debounce: PropTypes.number,\n  /**\n   * Throttle the onAction function by setting delay in milliseconds\n   * default: 0\n   * @type {Number}\n   */\n  throttle: PropTypes.number,\n  /**\n   * Throttle the event handler function by setting delay in milliseconds\n   * default: 200\n   * @type {Number}\n   */\n  eventsThrottle: PropTypes.number,\n  /**\n   * Element reference to bind activity listeners to\n   * default: document\n   * @type {Object}\n   */\n  element: PropTypes.oneOfType([PropTypes.object, PropTypes.element]),\n  /**\n   * Start the timer on mount\n   * default: true\n   * @type {Boolean}\n   */\n  startOnMount: PropTypes.bool,\n  /**\n   * Require the timer to be started manually.\n   * default: false\n   * @type {Boolean}\n   */\n  startManually: PropTypes.bool,\n  /**\n   * Once the user goes idle the IdleTimer will not\n   * reset on user input instead, reset() must be\n   * called manually to restart the timer\n   * default: false\n   * @type {Boolean}\n   */\n  stopOnIdle: PropTypes.bool,\n  /**\n   * Bind events passively\n   * default: true\n   * @type {Boolean}\n   */\n  passive: PropTypes.bool,\n  /**\n   * Capture events\n   * default: true\n   * @type {Boolean}\n   */\n  capture: PropTypes.bool,\n  /**\n   * Cross Tab functionality.\n   * default: false\n   * @type {Boolean|Object}\n   */\n  crossTab: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.shape({\n      type: PropTypes.oneOf(['broadcastChannel', 'localStorage', 'simulate']),\n      channelName: PropTypes.string,\n      fallbackInterval: PropTypes.number,\n      responseTime: PropTypes.number,\n      removeTimeout: PropTypes.number,\n      emitOnAllTabs: PropTypes.bool\n    })\n  ])\n}\n\n/**\n * Sets default property values\n * @type {Object}\n * @private\n */\nIdleTimer.defaultProps = {\n  timeout: 1000 * 60 * 20,\n  element: DEFAULT_ELEMENT,\n  events: DEFAULT_EVENTS,\n  onIdle: () => { },\n  onActive: () => { },\n  onAction: () => { },\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: true,\n  startManually: false,\n  stopOnIdle: false,\n  capture: true,\n  passive: true,\n  crossTab: false\n}\n\nexport default IdleTimer\n","/**\n *  ___    _ _     _____ _\n * |_ _|__| | | __|_   _(_)_ __ ___   ___ _ __\n *  | |/ _` | |/ _ \\| | | | '_ ` _ \\ / _ \\ '__|\n *  | | (_| | |  __/| | | | | | | | |  __/ |\n * |___\\__,_|_|\\___||_| |_|_| |_| |_|\\___|_|\n *\n * @name useIdleTimer\n * @author Randy Lebeau\n * @private\n */\n\nimport { useEffect, useRef, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { TabManager } from './TabManager'\nimport { IS_BROWSER, DEFAULT_ELEMENT, DEFAULT_EVENTS, debounced, throttled } from './utils'\n\n/**\n * Detects when your user is idle\n * @function useIdleTimer\n * @private\n */\nfunction useIdleTimer ({\n  timeout = 1000 * 60 * 20,\n  element = DEFAULT_ELEMENT,\n  events = DEFAULT_EVENTS,\n  onIdle = () => { },\n  onActive = () => { },\n  onAction = () => { },\n  debounce = 0,\n  throttle = 0,\n  eventsThrottle = 200,\n  startOnMount = true,\n  startManually = false,\n  stopOnIdle = false,\n  capture = true,\n  passive = true,\n  crossTab = false\n} = {}) {\n  const eventsBound = useRef(false)\n  const idle = useRef(true)\n  const oldDate = useRef(+new Date())\n  const remaining = useRef(null)\n  const pageX = useRef(null)\n  const pageY = useRef(null)\n  const tId = useRef(null)\n  const lastActive = useRef(null)\n  const lastIdle = useRef(null)\n  const idleTime = useRef(0)\n  const firstLoad = useRef(true)\n  const _timeout = useRef(timeout)\n  const manager = useRef(null)\n\n  /* istanbul ignore next */\n  if (crossTab) {\n    if (crossTab === true) crossTab = {}\n    crossTab = Object.assign({\n      channelName: 'idle-timer',\n      fallbackInterval: 2000,\n      responseTime: 100,\n      removeTimeout: 1000 * 60,\n      emitOnAllTabs: false\n    }, crossTab)\n  }\n\n  // Event emitters\n  const emitOnIdle = useRef(onIdle)\n  const emitOnActive = useRef(onActive)\n  const emitOnAction = useRef(onAction)\n\n  useEffect(() => {\n    emitOnIdle.current = onIdle\n  }, [onIdle])\n\n  useEffect(() => {\n    emitOnActive.current = onActive\n  }, [onActive])\n\n  useEffect(() => {\n    emitOnAction.current = onAction\n  }, [onAction])\n\n  const intermediateOnAction = useMemo(() => {\n    function callOnAction (e) {\n      emitOnAction.current(e)\n    }\n\n    // Cancel any existing debounce timeouts\n    if (callOnAction.cancel) callOnAction.cancel()\n\n    // Create debounced action if applicable\n    if (debounce > 0) {\n      return debounced(callOnAction, debounce)\n\n      // Create throttled action if applicable\n    } else if (throttle > 0) {\n      return throttled(callOnAction, throttle)\n\n      // No throttle or debounce\n    } else {\n      return callOnAction\n    }\n  }, [throttle, debounce])\n\n  /**\n   * Toggles the idle state and calls\n   * the correct action function\n   * @private\n   */\n  const _toggleIdleState = e => {\n    const nextIdle = !idle.current\n    idle.current = nextIdle\n    if (nextIdle) {\n      if (stopOnIdle) {\n        // Clear any existing timeout\n        clearTimeout(tId.current)\n        tId.current = null\n        // Unbind events\n        _unbindEvents()\n      }\n      lastIdle.current = (+new Date()) - _timeout.current\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.idle()\n      } else {\n        emitOnIdle.current(e)\n      }\n    } else {\n      idleTime.current += (+new Date()) - lastIdle.current\n      _bindEvents()\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.active()\n      } else {\n        emitOnActive.current(e)\n      }\n    }\n  }\n\n  /**\n   * Event handler\n   * @param {Event} e\n   */\n  const _handleEvent = e => {\n    // Fire onAction event\n    intermediateOnAction(e)\n\n    // Already active, ignore events\n    if (remaining.current) return\n\n    // Mousemove event\n    /* istanbul ignore next */\n    if (e.type === 'mousemove') {\n      // If coords are same, it didn't move\n      if (e.pageX === pageX && e.pageY === pageY) {\n        return\n      }\n      // If coords don't exist how could it move\n      if (typeof e.pageX === 'undefined' && typeof e.pageY === 'undefined') {\n        return\n      }\n      // Under 200 ms is hard to do\n      // continuous activity will bypass this\n      const elapsed = getElapsedTime()\n      if (elapsed < 200) {\n        return\n      }\n    }\n\n    // Clear any existing timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Determine last time User was active, as can't rely on setTimeout ticking at the correct interval\n    const elapsedTimeSinceLastActive = +new Date() - getLastActiveTime()\n\n    // If the user is idle or last active time is more than timeout, flip the idle state\n    if (\n      (idle.current && !stopOnIdle) ||\n      (!idle.current && elapsedTimeSinceLastActive > _timeout.current)\n    ) {\n      _toggleIdleState(e)\n    }\n\n    // Store when the user was last active\n    // and update the mouse coordinates\n    lastActive.current = +new Date()\n    pageX.current = e.pageX\n    pageY.current = e.pageY\n\n    // If the user is active, set a new timeout\n    if (!idle.current) {\n      tId.current = setTimeout(_toggleIdleState, _timeout.current)\n    }\n  }\n\n  /**\n   * Reference to current handleEvent function.\n   * @private\n   */\n  const handleEvent = useRef(_handleEvent)\n\n  /**\n   * Binds the specified events\n   * @private\n   */\n  const _bindEvents = () => {\n    // Don't bind events if\n    // we are not in a browser\n    if (!IS_BROWSER) return\n    // Otherwise we bind all the events\n    // to the supplied element\n    if (!eventsBound.current) {\n      events.forEach(e => {\n        element.addEventListener(e, handleEvent.current, {\n          capture,\n          passive\n        })\n      })\n      eventsBound.current = true\n    }\n  }\n\n  /**\n   * Unbinds all the bound events\n   * @private\n   */\n  const _unbindEvents = (force = false) => {\n    // If we are not in a browser\n    // we don't need to unbind events\n    if (!IS_BROWSER) return\n    // Unbind all events\n    if (eventsBound.current || force) {\n      events.forEach(e => {\n        element.removeEventListener(e, handleEvent.current, {\n          capture,\n          passive\n        })\n      })\n      eventsBound.current = false\n    }\n  }\n\n  /**\n   * Time remaining before idle\n   * @name getRemainingTime\n   * @return {number} Milliseconds remaining\n   */\n  const getRemainingTime = () => {\n    // If idle there is no time remaining\n    if (remaining.current !== null) {\n      return remaining.current < 0 ? 0 : remaining.current\n    }\n\n    // Determine remaining, if negative idle didn't finish flipping, just return 0\n    const timeLeft = _timeout.current - ((+new Date()) - lastActive.current)\n    return timeLeft < 0 ? 0 : timeLeft\n  }\n\n  /**\n   * How much time has elapsed\n   * @name getElapsedTime\n   * @return {Timestamp}\n   */\n  const getElapsedTime = () => (+new Date()) - oldDate.current\n\n  /**\n   * Last time the user was idle\n   * @name getLastIdleTime\n   * @return {Timestamp}\n   */\n  const getLastIdleTime = () => lastIdle.current\n\n  /**\n   * Get the total time user is idle\n   * @name getTotalIdleTime\n   * @return {number} Milliseconds idle\n   */\n  const getTotalIdleTime = () => {\n    if (idle.current) {\n      return ((+new Date()) - lastIdle.current) + idleTime.current\n    } else {\n      return idleTime.current\n    }\n  }\n\n  /**\n   * Last time the user was active\n   * @name getLastActiveTime\n   * @return {Timestamp}\n   */\n  const getLastActiveTime = () => lastActive.current\n\n  /**\n   * Get the total time user is active\n   * @name getTotalActiveTime\n   * @return {number} Milliseconds active\n   */\n  const getTotalActiveTime = () => getElapsedTime() - getTotalIdleTime()\n\n  /**\n   * Returns wether or not the user is idle\n   * @name isIdle\n   * @return {Boolean}\n   */\n  const isIdle = () => idle.current\n\n  /**\n   * Returns wether or not this is the leader tab\n   * @returns {Boolean}\n   */\n  const isLeader = () => manager.current ? manager.current.isLeader() : true\n\n  /**\n  * Set initial state and start timer\n  * @name reset\n  */\n  const start = (remote = false) => {\n    // Clear timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Bind the events\n    _bindEvents()\n\n    // Set state\n    idle.current = false\n    oldDate.current = +new Date()\n    lastActive.current = +new Date()\n    remaining.current = null\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      manager.current.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('start')\n      }\n    }\n\n    // Set new timeout\n    tId.current = setTimeout(_toggleIdleState, _timeout.current)\n  }\n\n  /**\n  * Restore initial state and restart timer, calling onActive\n  * @name reset\n  */\n  const reset = (remote = false) => {\n    // Clear timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Bind the events\n    _bindEvents()\n\n    // Emit active\n    if (idle.current) {\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.active()\n      } else {\n        emitOnActive.current()\n      }\n    }\n\n    // Reset state\n    idle.current = false\n    oldDate.current = +new Date()\n    lastActive.current = +new Date()\n    remaining.current = null\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      manager.current.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('reset')\n      }\n    }\n\n    // Set new timeout\n    tId.current = setTimeout(_toggleIdleState, _timeout.current)\n  }\n\n  /**\n   * Store remaining time and stop timer\n   * @name pause\n   */\n  const pause = (remote = false) => {\n    // Timer is already paused\n    if (remaining.current !== null) return\n\n    // Unbind events\n    _unbindEvents()\n\n    // Clear existing timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Define how much is left on the timer\n    remaining.current = getRemainingTime()\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('pause')\n      }\n    }\n  }\n\n  /**\n   * Resumes a paused timer\n   * @name resume\n   */\n  const resume = (remote = false) => {\n    // Timer is not paused\n    if (remaining.current === null) return\n\n    // Bind events\n    _bindEvents()\n\n    // Start timer and clear remaining\n    // if we are in the idle state\n    if (!idle.current) {\n      // Set a new timeout\n      tId.current = setTimeout(_toggleIdleState, remaining.current)\n      // Set states\n      remaining.current = null\n      lastActive.current = +new Date()\n    }\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('resume')\n      }\n    }\n  }\n\n  /**\n   * Hook lifecycle\n   */\n  useEffect(() => {\n    // Debounce and throttle can't both be set\n    if (debounce > 0 && throttle > 0) {\n      throw new Error('onAction can either be throttled or debounced (not both)')\n    }\n\n    // Set up cross tab\n    /* istanbul ignore next */\n    if (crossTab) {\n      manager.current = TabManager({\n        type: crossTab.type,\n        channelName: crossTab.channelName,\n        fallbackInterval: crossTab.fallbackInterval,\n        responseTime: crossTab.responseTime,\n        emitOnAllTabs: crossTab.emitOnAllTabs,\n        callbacks: {\n          onIdle: emitOnIdle.current,\n          onActive: emitOnActive.current\n        },\n        start,\n        reset,\n        pause,\n        resume\n      })\n    }\n\n    // If startOnMount is enabled, start the timer\n    if (startManually) {\n      return async () => {\n        clearTimeout(tId.current)\n        _unbindEvents(true)\n        if (crossTab) await manager.current.close()\n      }\n    }\n\n    if (startOnMount) {\n      start()\n    } else {\n      _bindEvents()\n    }\n\n    // Clear and unbind on unmount\n    return async () => {\n      clearTimeout(tId.current)\n      _unbindEvents(true)\n      if (intermediateOnAction.cancel) intermediateOnAction.cancel()\n      if (crossTab) await manager.current.close()\n    }\n  }, [])\n\n  useEffect(() => {\n    const eventsWereBound = eventsBound.current\n    if (eventsWereBound) _unbindEvents()\n    if (eventsThrottle > 0) {\n      handleEvent.current = throttled(_handleEvent, eventsThrottle)\n    } else {\n      handleEvent.current = _handleEvent\n    }\n    if (eventsWereBound) _bindEvents()\n  }, [eventsThrottle])\n\n  useEffect(() => {\n    _timeout.current = timeout\n    if (!firstLoad.current && idle.current) {\n      reset()\n    }\n    firstLoad.current = false\n  }, [timeout])\n\n  return {\n    isIdle,\n    isLeader,\n    start,\n    pause,\n    reset,\n    resume,\n    getLastIdleTime,\n    getTotalIdleTime,\n    getLastActiveTime,\n    getTotalActiveTime,\n    getElapsedTime,\n    getRemainingTime\n  }\n}\n\n/**\n * Type checks for every property\n * @type {Object}\n * @private\n */\nuseIdleTimer.propTypes = {\n  /**\n   * Activity Timeout in milliseconds\n   * default: 1200000\n   * @type {number}\n   */\n  timeout: PropTypes.number,\n  /**\n   * DOM events to listen to\n   * default: see [default events](https://github.com/SupremeTechnopriest/react-idle-timer#default-events)\n   * @type {Array}\n   */\n  events: PropTypes.arrayOf(PropTypes.string),\n  /**\n   * Function to call when user is idle.\n   * default: () => {}\n   * @type {Function}\n   */\n  onIdle: PropTypes.func,\n  /**\n   * Function to call when user becomes active.\n   * default: () => {}\n   * @type {Function}\n   */\n  onActive: PropTypes.func,\n  /**\n   * Function to call on user actions.\n   * default: () => {}\n   * @type {Function}\n   */\n  onAction: PropTypes.func,\n  /**\n   * Debounce the onAction function by setting delay in milliseconds.\n   * default: 0\n   * @type {number}\n   */\n  debounce: PropTypes.number,\n  /**\n   * Throttle the onAction function by setting delay in milliseconds.\n   * default: 0\n   * @type {number}\n   */\n  throttle: PropTypes.number,\n  /**\n   * Throttle the event handler function by setting delay in milliseconds.\n   * default: 200\n   * @type {number}\n   */\n  eventsThrottle: PropTypes.number,\n  /**\n   * Element reference to bind activity listeners to.\n   * default: document\n   * @type {Object}\n   */\n  element: PropTypes.oneOfType([PropTypes.object, PropTypes.element]),\n  /**\n   * Start the timer on mount.\n   * default: true\n   * @type {Boolean}\n   */\n  startOnMount: PropTypes.bool,\n  /**\n   * Require the timer to be started manually.\n   * default: false\n   * @type {Boolean}\n   */\n  startManually: PropTypes.bool,\n  /**\n   * Once the user goes idle the IdleTimer will not\n   * reset on user input instead, start() or reset() must be\n   * called manually to restart the timer.\n   * default: false\n   * @type {Boolean}\n   */\n  stopOnIdle: PropTypes.bool,\n  /**\n   * Bind events passively.\n   * default: true\n   * @type {Boolean}\n   */\n  passive: PropTypes.bool,\n  /**\n   * Capture events.\n   * default: true\n   * @type {Boolean}\n   */\n  capture: PropTypes.bool,\n  /**\n   * Cross Tab functionality.\n   * default: false\n   * @type {Boolean|Object}\n   */\n  crossTab: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.shape({\n      type: PropTypes.oneOf(['broadcastChannel', 'localStorage', 'simulate']),\n      channelName: PropTypes.string,\n      fallbackInterval: PropTypes.number,\n      responseTime: PropTypes.number,\n      removeTimeout: PropTypes.number,\n      emitOnAllTabs: PropTypes.bool\n    })\n  ])\n}\n\n/**\n * Sets default property values\n * @type {Object}\n * @private\n */\nuseIdleTimer.defaultProps = {\n  timeout: 1000 * 60 * 20,\n  element: DEFAULT_ELEMENT,\n  events: DEFAULT_EVENTS,\n  onIdle: () => { },\n  onActive: () => { },\n  onAction: () => { },\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: true,\n  startManually: false,\n  stopOnIdle: false,\n  capture: true,\n  passive: true,\n  crossTab: false\n}\n\nexport default useIdleTimer\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n"],"sourceRoot":""}